<div class="container p-0">
  <mat-card class="my-3">
    <mat-card-content>
      <div class="row">

        <div class="d-flex align-items-center col-sm-6">
          <p class="h5 m-0">{{ analysis.viewValue }}</p>
        </div>

        <div class="col-sm-6">
          <div class="row">
            <ng-container *ngIf="!error; else noResults;">
              <div class="col-sm-6 d-flex flex-column">
                <ng-container *ngIf="!!analysis else fetchingProgress">
                  <div
                       class="my-4 d-flex justify-content-center align-items-center flex-grow-1">
                    <mat-progress-bar color="primary"
                                      mode="buffer"
                                      [bufferValue]="100"
                                      [value]="analysis.count * 100 / videoCount">
                    </mat-progress-bar>
                  </div>
                </ng-container>
                <ng-template #fetchingProgress>
                  <div class="d-flex justify-content-center align-items-center">
                    <mat-spinner mode="indeterminate"
                                 diameter="50"
                                 strokeWidth="4"
                                 color="primary"
                                 class="mr-1"></mat-spinner>
                    <p class="ml-1">Fetching Data</p>
                  </div>
                </ng-template>
              </div>

              <div class="col-sm-6">
                <ng-container *ngIf="!!analysis else fetchingDuplicates">
                  <div class="d-flex justify-content-center align-items-center">
                    <p class="">Duplicates Found</p>
                  </div>
                  <div class="d-flex justify-content-center align-items-center">
                    <p class="h5 m-0">{{ analysis.count }}</p>
                    <!-- <button mat-icon-button
                            color="primary"
                            class="ml-2"
                            (click)="gotoDetails(analysis)">
                      <mat-icon>launch</mat-icon>
                    </button> -->
                    <app-button-container *ngIf="!!assets.buttons.launch"
                                          [disabled]="assets.buttons.launch.disabled"
                                          [assets]="assets.buttons.launch"
                                          (triggerButton$)="gotoDetails(analysis)">
                    </app-button-container>
                  </div>
                </ng-container>

                <ng-template #fetchingDuplicates>
                  <div class="d-flex justify-content-center align-items-center">
                    <mat-spinner mode="indeterminate"
                                 diameter="50"
                                 strokeWidth="4"
                                 color="primary"
                                 class="mr-1"></mat-spinner>
                    <p class="ml-1">Fetching Data</p>
                  </div>
                </ng-template>
              </div>
            </ng-container>

            <ng-template #noResults>
              <div class="col-12 my-4 d-flex justify-content-center align-items-center">
                <p class="m-0">{{ analysis.viewValue }} data unavailable</p>
              </div>
            </ng-template>

          </div>
        </div>
      </div>
    </mat-card-content>
  </mat-card>
</div>
