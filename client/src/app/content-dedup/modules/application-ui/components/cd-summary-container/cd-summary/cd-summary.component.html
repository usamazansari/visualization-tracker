<div class="container h-100">

  <ng-container *ngIf="!!summary; else noBucketSelected">
    <div class="d-flex justify-content-center align-items-center h-100">
      <ng-container>
        <div class="d-flex justify-content-center align-items-center cd-card-holder">
          <mat-card class="w-100 m-4 mat-elevation-z4 cd-summary-card">
            <mat-card-header>
              <mat-card-title>
                <p class="d-flex align-items-center m-0">
                  <!-- <button mat-icon-button
                          (click)="triggerNavigate('results')"
                          matTooltip="Back to Results"
                          #tooltip="matTooltip">
                    <mat-icon>chevron_left</mat-icon>
                  </button>  -->
                  <app-button-container *ngIf="!!assets.buttons.chevronLeft"
                                        [disabled]="assets.buttons.chevronLeft.disabled"
                                        [assets]="assets.buttons.chevronLeft"
                                        (triggerButton$)="triggerNavigate('results')">
                  </app-button-container>
                  Deduplication Summary
                </p>
              </mat-card-title>
            </mat-card-header>
            <mat-card-content>
              <div class="container">
                <div class="d-flex">
                  <p class="h5 m-0">Analysis of Data
                  </p>
                  <!-- <p class="h5 m-0">Analysis of Data provided by {{ summary.client_details }}
                  </p> -->
                </div>
                <div class="d-flex justify-content-center align-items-center">
                  <app-cd-summary-graph *ngIf="!!summary"
                                        [chartData]="chartData"></app-cd-summary-graph>
                </div>
              </div>
              <div class="d-flex flex-column">
                <p class="m-0"><span class="font-weight-bold">{{ summary.sample_size }}</span>
                  videos
                  processed in {{ summary.total_analysis_time.split('.')[0] }}</p>
                <p class="m-0"><span class="font-weight-bold">{{ summary.duplicates_found
                    }}</span>
                  Duplicates found</p>
                <p class="m-0">You can save upto <span class="font-weight-bold">{{
                    summary.proposed_space_savings }}</span> out
                  of {{ summary.total_size }} of bucket size</p>
              </div>
            </mat-card-content>
          </mat-card>
        </div>
      </ng-container>
    </div>
  </ng-container>

  <ng-template #noBucketSelected>
    <div class="row h-100 justify-content-center align-items-center">
      <div class="col-lg-6 col-sm-12">
        <mat-card class="my-4">
          <mat-card-content>
            <p class="h4">No Storage Bucket selected</p>
            <p class="m-0">
              Try selecting another bucket from <a mat-button
                 color="primary"
                 (click)="triggerNavigate('bucket')">here</a>
            </p>
          </mat-card-content>
        </mat-card>
      </div>
    </div>
  </ng-template>

</div>
