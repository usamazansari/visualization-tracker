/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: video.js
 (Apache 2.0 - Copyright Brightcove, Inc.), Bluebird (MIT -
 Copyright (c) 2013-2015 Petka Antonov), long.js (Apache 2.0),
 nodejs-langs (MIT - Copyright Andrew Lawson)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)

 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2020.3.1 (2.74.0)
 Created: 2020-08-21T11:33:37.284Z
 */

!function (t) { !function (n, i) { "object" == typeof exports && "undefined" != typeof module ? i(exports) : "function" == typeof define && define.amd ? define(["exports"], i) : i((n = n || t).THEOplayer = {}) }(this, function (n) { "use strict"; var i, e, r = t.window, s = t.document, u = t.location, o = t.navigator, a = t.setTimeout, h = t.clearTimeout, c = t.setInterval, f = t.clearInterval, v = t.Error, l = t.TypeError, d = t.SyntaxError, g = t.Object, _ = t.Math, w = t.parseInt, y = t.parseFloat, p = t.isNaN, m = t.Uint8Array, k = t.Worker, b = (t.WorkerGlobalScope, t.XMLHttpRequest); function A(t, n) { for (var i = 0; i < n.length; i++) { var e = n[i]; e.enumerable = e.enumerable || !1, e.configurable = !0, "value" in e && (e.writable = !0), g.defineProperty(t, e.key, e) } } function T(t, n, i) { return n && A(t.prototype, n), i && A(t, i), t } var S = o ? o.userAgent : "", E = /chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i, I = S.match(/Android ([0-9\.]+)/i), R = S.match(/Windows NT ([0-9\.]+)/i), C = S.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/), N = S.match(/Firefox\/([0-9\.]+)/i), D = S.match(/OPR\/(\d+\.\d+)/i), x = function () { var n = function () { function n() { this.nt = Boolean("ontouchstart" in t || t.DocumentTouch && s instanceof t.DocumentTouch || o && o.msMaxTouchPoints), this.ut = Boolean(S.match(/(mac\sos\sx)\s?([\w\s\.]+\w)*/i) || S.match(/(macintosh|mac(?=_powerpc)\s)/i)), this.ot = Boolean(S.match(/Windows NT/i)), this.at = R ? y(R[1]) : 0, this.ct = Boolean(S.match(/Android/i)), this.ft = I ? y(I[1]) : 0, this.vt = Boolean(S.match(/windows phone (8|8\.1)/i)), this.dt = Boolean(S.match(/iPhone/i)), this._t = Boolean(S.match(/iPad/i)), this.wt = this.ut && this.nt && !this._t, this.yt = Boolean(S.match(/iPod/i)), this.kt = !!S.match(/Mobile Safari/i), this.bt = (this.dt || this._t || this.wt || this.yt) && !this.vt, this.At = this.vt || this.bt || this.ct || this.kt, this.Tt = Boolean(S.match(/CriOS/i)), this.St = Boolean(t.chrome && /google/i.test(o.vendor)) || this.Tt, this.Et = E.exec(o && o.userAgent) || [], this.It = Boolean(S.match(/Edge\/\d+/i)), this.Rt = !!S.match(/Trident/i), this.Nt = this.Rt && !t.ActiveXObject && "ActiveXObject" in t, this.Ct = Boolean(S.match(/Vivaldi/i)), this.Dt = Boolean(S.match(/Firefox/i) && !S.match(/Seamonkey/i)), this.xt = N ? y(N[1]) : 0, this.Ot = Boolean(S.match(/Safari/i)) && !S.match(/Chrome/i) && !this.vt, this.Bt = C ? y(C[2]) : 0, this.Pt = Boolean(D), this.Mt = D ? y(D[1]) : 0, this.Lt = !1, this.jt = !1, this.Ft = this.jt || this.Lt, this.Ut = !1, this.Vt = !1, this.Ht = !1 } return T(n, [{ key: "Gt", get: function () { return this.nt } }, { key: "zt", get: function () { return this.ut } }, { key: "qt", get: function () { return this.ot } }, { key: "Wt", get: function () { return this.at } }, { key: "Xt", get: function () { return this.ct } }, { key: "$t", get: function () { return this.ft } }, { key: "Qt", get: function () { return this.vt } }, { key: "Yt", get: function () { return this.dt } }, { key: "Zt", get: function () { return this._t } }, { key: "Kt", get: function () { return this.wt } }, { key: "Jt", get: function () { return this.yt } }, { key: "in", get: function () { return this.bt } }, { key: "un", get: function () { return this.kt } }, { key: "hn", get: function () { return this.At } }, { key: "cn", get: function () { return this.Tt } }, { key: "fn", get: function () { return this.St } }, { key: "vn", get: function () { return this.Et } }, { key: "dn", get: function () { return this.It } }, { key: "_n", get: function () { return this.Rt } }, { key: "wn", get: function () { return this.Nt } }, { key: "yn", get: function () { return this.Ct } }, { key: "pn", get: function () { return this.Dt } }, { key: "An", get: function () { return this.xt } }, { key: "Tn", get: function () { return this.Ot } }, { key: "Sn", get: function () { return this.Bt } }, { key: "En", get: function () { return this.Pt } }, { key: "In", get: function () { return this.Mt } }, { key: "Rn", get: function () { return this.Lt } }, { key: "Nn", get: function () { return this.jt } }, { key: "Cn", get: function () { return this.Ft } }, { key: "Dn", get: function () { return this.Ut } }, { key: "xn", get: function () { return this.Vt } }, { key: "On", get: function () { return this.Ht } }]), n }(); return n.q = new n, n }().q, B = {}.hasOwnProperty, O = {}.toString; function P(t) { return null != t } var M = Array.isArray || function (t) { return "[object Array]" === O.call(t) }; function L(t) { return j(t) && B.call(t, "length") && z(t.length) } function j(t) { return "object" == typeof t && null !== t } function F(t) { return j(t) && t.constructor && t.constructor === g } function U(t) { return "string" == typeof t } function V(t) { return "boolean" == typeof t } function H(t) { return t && "function" == typeof t.then } function z(t) { return "number" == typeof t } var q = function () { }, G = function (t) { return t }, W = !(x._n && !x.wn), X = t.console; function $(t) { if (j(t)) try { return JSON.stringify(t) } catch (t) { } return t } function Q(t) { return t.map($).join(" ") } function Y(t) { var n = X && X[t]; return n ? n.bind && W ? n.bind(X) : function () { for (var n = arguments.length, i = new Array(n), e = 0; e < n; e++)i[e] = arguments[e]; X[t](Q(i)) } : void 0 } var Z, K = Y("log") || q, J = Y("warn") || K.bind(void 0, "WARNING:"), tt = Y("error") || K.bind(void 0, "ERROR:"), nt = (Z = X && X.assert) ? Z.bind && W ? Z.bind(X) : function (t) { for (var n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), e = 1; e < n; e++)i[e - 1] = arguments[e]; X.assert(t, Q(i)) } : function (t) { if (!t) { for (var n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), e = 1; e < n; e++)i[e - 1] = arguments[e]; tt.apply(void 0, ["Assertion failed:"].concat(i)) } }; function it() { return Date.now() || (new Date).getTime() } function et(t) { return t / 1e3 } function rt(t, n) { t.prototype = g.create(n.prototype), t.prototype.constructor = t, t.__proto__ = n } function st(t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } var ut = function () { for (var t = arguments.length, n = new Array(t), i = 0; i < t; i++)n[i] = arguments[i]; v.apply(this, n) }; (ut.prototype = g.create(v.prototype)).constructor = ut; var ot = function (t) { function n(n, i) { var e; return (e = t.call(this) || this).message = n || "Unknown error", e.Bn = i, v.captureStackTrace && v.captureStackTrace(st(e), e.constructor), e } return rt(n, t), T(n, [{ key: "name", get: function () { return "Pn" } }, { key: "cause", get: function () { return this.Bn } }]), n }(ut), at = function (t) { function n(n) { return t.call(this, "Invalid XML", n) || this } return rt(n, t), n }(ot), ht = function () { function t() { } return t.prototype.Mn = function (t) { var n, i = new DOMParser; try { n = i.parseFromString(t, "text/xml") } catch (t) { throw new at(t) } if (!n || n.getElementsByTagName("parsererror").length > 0) throw new at; return new _t(n) }, t }(), ct = function () { function t(t) { this.Ln = t } return T(t, [{ key: "jn", get: function () { var t; return null !== (t = this.Ln.localName) && void 0 !== t ? t : pt(this.Ln.nodeName) } }, { key: "Fn", get: function () { return this.Ln.nodeName } }, { key: "Un", get: function () { var t; return null !== (t = this.Ln.namespaceURI) && void 0 !== t ? t : void 0 } }, { key: "Vn", get: function () { var t; return null !== (t = this.Ln.prefix) && void 0 !== t ? t : void 0 } }, { key: "Hn", get: function () { return this.Ln.nodeValue } }]), t }(), ft = function () { function t(t) { this.Gn = void 0, this.zn = t } var n = t.prototype; return n.qn = function (t) { return this.Wn.filter(function (n) { return wt(n) && n.Xn === t }) }, n.$n = function (t, n) { return this.Wn.filter(function (i) { return wt(i) && i.jn === n && i.Un === t }) }, T(t, [{ key: "Wn", get: function () { return void 0 === this.Gn && (this.Gn = function (t) { for (var n = [], i = 0; i < t.length; i++) { var e = yt(t.item(i)); e && n.push(e) } return n }(this.zn.childNodes)), this.Gn } }, { key: "Qn", get: function () { return this.Wn.filter(wt) } }]), t }(), vt = function (t) { function n(n) { return t.call(this, n) || this } rt(n, t); var i = n.prototype; return i.Yn = function (t) { var n; return null !== (n = this.zn.getAttribute(t)) && void 0 !== n ? n : void 0 }, i.Zn = function (t, n) { var i; return null !== (i = this.zn.getAttributeNS(t, n)) && void 0 !== i ? i : void 0 }, T(n, [{ key: "Kn", get: function () { return 1 } }, { key: "jn", get: function () { var t; return null !== (t = this.zn.localName) && void 0 !== t ? t : pt(this.zn.nodeName) } }, { key: "Un", get: function () { var t; return null !== (t = this.zn.namespaceURI) && void 0 !== t ? t : void 0 } }, { key: "Vn", get: function () { var t; return null !== (t = this.zn.prefix) && void 0 !== t ? t : void 0 } }, { key: "Xn", get: function () { return this.zn.nodeName } }, { key: "Jn", get: function () { return function (t) { for (var n = [], i = 0; i < t.length; i++)n.push(new ct(t.item(i))); return n }(this.zn.attributes) } }, { key: "ni", get: function () { return this.zn.textContent } }]), n }(ft), lt = function () { function t(t) { this.zn = t } return T(t, [{ key: "ei", get: function () { return this.zn.nodeValue } }]), t }(), dt = function (t) { function n(n) { return t.call(this, n) || this } return rt(n, t), T(n, [{ key: "Kn", get: function () { return 3 } }]), n }(lt), gt = function (t) { function n(n) { return t.call(this, n) || this } return rt(n, t), T(n, [{ key: "Kn", get: function () { return 4 } }]), n }(lt), _t = function (t) { function n(n) { return t.call(this, n) || this } return rt(n, t), T(n, [{ key: "Kn", get: function () { return 9 } }, { key: "ri", get: function () { return new vt(this.zn.documentElement) } }]), n }(ft); function wt(t) { return function (t) { return 1 === t.Kn }(t) } function yt(t) { switch (t.nodeType) { case 1: return new vt(t); case 3: return new dt(t); case 4: return new gt(t) } } function pt(t) { var n = t.indexOf(":"); return n < 0 ? t : t.substr(n + 1) } var mt = "undefined" != typeof globalThis ? globalThis : void 0 !== r ? r : "undefined" != typeof global ? global : void 0 !== t ? t : {}; function kt() { throw new v("Dynamic requires are not currently supported by rollup-plugin-commonjs") } function bt(t, n) { return t(n = { exports: {} }, n.exports), n.exports } var At = bt(function (t) { !function (t) { var n, i = g.prototype, e = i.hasOwnProperty, r = "function" == typeof Symbol ? Symbol : {}, s = r.iterator || "@@iterator", u = r.asyncIterator || "@@asyncIterator", o = r.toStringTag || "@@toStringTag"; function a(t, n, i, e) { var r = n && n.prototype instanceof y ? n : y, s = g.create(r.prototype), u = new D(e || []); return s.oi = function (t, n, i) { var e = c; return function (r, s) { if (e === d) throw new v("Generator is already running"); if (e === _) { if ("throw" === r) throw s; return B() } for (i.method = r, i.arg = s; ;) { var u = i.delegate; if (u) { var o = R(u, i); if (o) { if (o === w) continue; return o } } if ("next" === i.method) i.sent = i.ai = i.arg; else if ("throw" === i.method) { if (e === c) throw e = _, i.arg; i.dispatchException(i.arg) } else "return" === i.method && i.abrupt("return", i.arg); e = d; var a = h(t, n, i); if ("normal" === a.type) { if (e = i.done ? _ : f, a.arg === w) continue; return { value: a.arg, done: i.done } } "throw" === a.type && (e = _, i.method = "throw", i.arg = a.arg) } } }(t, i, u), s } function h(t, n, i) { try { return { type: "normal", arg: t.call(n, i) } } catch (t) { return { type: "throw", arg: t } } } t.wrap = a; var c = "suspendedStart", f = "suspendedYield", d = "executing", _ = "completed", w = {}; function y() { } function m() { } function k() { } var b = {}; b[s] = function () { return this }; var A = g.getPrototypeOf, T = A && A(A(x([]))); T && T !== i && e.call(T, s) && (b = T); var S = k.prototype = y.prototype = g.create(b); function E(t) { ["next", "throw", "return"].forEach(function (n) { t[n] = function (t) { return this.oi(n, t) } }) } function I(t) { var n; this.oi = function (i, r) { function s() { return new Promise(function (n, s) { !function n(i, r, s, u) { var o = h(t[i], t, r); if ("throw" !== o.type) { var a = o.arg, c = a.value; return c && "object" == typeof c && e.call(c, "ci") ? Promise.resolve(c.ci).then(function (t) { n("next", t, s, u) }, function (t) { n("throw", t, s, u) }) : Promise.resolve(c).then(function (t) { a.value = t, s(a) }, function (t) { return n("throw", t, s, u) }) } u(o.arg) }(i, r, n, s) }) } return n = n ? n.then(s, s) : s() } } function R(t, i) { var e = t.iterator[i.method]; if (e === n) { if (i.delegate = null, "throw" === i.method) { if (t.iterator.return && (i.method = "return", i.arg = n, R(t, i), "throw" === i.method)) return w; i.method = "throw", i.arg = new l("The iterator does not provide a 'throw' method") } return w } var r = h(e, t.iterator, i.arg); if ("throw" === r.type) return i.method = "throw", i.arg = r.arg, i.delegate = null, w; var s = r.arg; return s ? s.done ? (i[t.resultName] = s.value, i.next = t.nextLoc, "return" !== i.method && (i.method = "next", i.arg = n), i.delegate = null, w) : s : (i.method = "throw", i.arg = new l("iterator result is not an object"), i.delegate = null, w) } function C(t) { var n = { tryLoc: t[0] }; 1 in t && (n.catchLoc = t[1]), 2 in t && (n.finallyLoc = t[2], n.afterLoc = t[3]), this.tryEntries.push(n) } function N(t) { var n = t.completion || {}; n.type = "normal", delete n.arg, t.completion = n } function D(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(C, this), this.reset(!0) } function x(t) { if (t) { var i = t[s]; if (i) return i.call(t); if ("function" == typeof t.next) return t; if (!p(t.length)) { var r = -1, u = function i() { for (; ++r < t.length;)if (e.call(t, r)) return i.value = t[r], i.done = !1, i; return i.value = n, i.done = !0, i }; return u.next = u } } return { next: B } } function B() { return { value: n, done: !0 } } m.prototype = S.constructor = k, k.constructor = m, k[o] = m.displayName = "GeneratorFunction", t.isGeneratorFunction = function (t) { var n = "function" == typeof t && t.constructor; return !!n && (n === m || "GeneratorFunction" === (n.displayName || n.name)) }, t.mark = function (t) { return g.setPrototypeOf ? g.setPrototypeOf(t, k) : (t.__proto__ = k, o in t || (t[o] = "GeneratorFunction")), t.prototype = g.create(S), t }, t.awrap = function (t) { return { ci: t } }, E(I.prototype), I.prototype[u] = function () { return this }, t.AsyncIterator = I, t.async = function (n, i, e, r) { var s = new I(a(n, i, e, r)); return t.isGeneratorFunction(i) ? s : s.next().then(function (t) { return t.done ? t.value : s.next() }) }, E(S), S[o] = "Generator", S[s] = function () { return this }, S.toString = function () { return "[object Generator]" }, t.keys = function (t) { var n = []; for (var i in t) n.push(i); return n.reverse(), function i() { for (; n.length;) { var e = n.pop(); if (e in t) return i.value = e, i.done = !1, i } return i.done = !0, i } }, t.values = x, D.prototype = { constructor: D, reset: function (t) { if (this.prev = 0, this.next = 0, this.sent = this.ai = n, this.done = !1, this.delegate = null, this.method = "next", this.arg = n, this.tryEntries.forEach(N), !t) for (var i in this) "t" === i.charAt(0) && e.call(this, i) && !p(+i.slice(1)) && (this[i] = n) }, stop: function () { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval }, dispatchException: function (t) { if (this.done) throw t; var i = this; function r(e, r) { return o.type = "throw", o.arg = t, i.next = e, r && (i.method = "next", i.arg = n), !!r } for (var s = this.tryEntries.length - 1; s >= 0; --s) { var u = this.tryEntries[s], o = u.completion; if ("root" === u.tryLoc) return r("end"); if (u.tryLoc <= this.prev) { var a = e.call(u, "catchLoc"), h = e.call(u, "finallyLoc"); if (a && h) { if (this.prev < u.catchLoc) return r(u.catchLoc, !0); if (this.prev < u.finallyLoc) return r(u.finallyLoc) } else if (a) { if (this.prev < u.catchLoc) return r(u.catchLoc, !0) } else { if (!h) throw new v("try statement without catch or finally"); if (this.prev < u.finallyLoc) return r(u.finallyLoc) } } } }, abrupt: function (t, n) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var r = this.tryEntries[i]; if (r.tryLoc <= this.prev && e.call(r, "finallyLoc") && this.prev < r.finallyLoc) { var s = r; break } } s && ("break" === t || "continue" === t) && s.tryLoc <= n && n <= s.finallyLoc && (s = null); var u = s ? s.completion : {}; return u.type = t, u.arg = n, s ? (this.method = "next", this.next = s.finallyLoc, w) : this.complete(u) }, complete: function (t, n) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && n && (this.next = n), w }, finish: function (t) { for (var n = this.tryEntries.length - 1; n >= 0; --n) { var i = this.tryEntries[n]; if (i.finallyLoc === t) return this.complete(i.completion, i.afterLoc), N(i), w } }, catch: function (t) { for (var n = this.tryEntries.length - 1; n >= 0; --n) { var i = this.tryEntries[n]; if (i.tryLoc === t) { var e = i.completion; if ("throw" === e.type) { var r = e.arg; N(i) } return r } } throw new v("illegal catch attempt") }, delegateYield: function (t, i, e) { return this.delegate = { iterator: x(t), resultName: i, nextLoc: e }, "next" === this.method && (this.arg = n), w } } }(t.exports) }), Tt = bt(function (n, e) { n.exports = function t(n, e, r) { function s(o, a) { if (!e[o]) { if (!n[o]) { var h = "function" == typeof i && i; if (!a && h) return h(o, !0); if (u) return u(o, !0); var c = new v("Cannot find module '" + o + "'"); throw c.code = "MODULE_NOT_FOUND", c } var f = e[o] = { exports: {} }; n[o][0].call(f.exports, function (t) { var i = n[o][1][t]; return s(i || t) }, f, f.exports, t, n, e, r) } return e[o].exports } for (var u = "function" == typeof i && i, o = 0; o < r.length; o++)s(r[o]); return s }({ 1: [function (t, n, i) { n.exports = function (t) { var n = t.di; function i(t) { var i = new n(t), e = i.promise(); return i.setHowMany(1), i.setUnwrap(), i.init(), e } t.any = function (t) { return i(t) }, t.prototype.any = function () { return i(this) } } }, {}], 2: [function (t, n, i) { var e; try { throw new v } catch (t) { e = t } var r = t("./schedule"), s = t("./queue"), u = t("./util"); function o() { this._i = !1, this.gi = !1, this.wi = new s(16), this.Ai = new s(16), this.Ti = !1, this.Si = !0; var t = this; this.drainQueues = function () { t.Ei() }, this.Ii = r } function h(t, n, i) { this.wi.push(t, n, i), this.Ri() } function c(t, n, i) { this.Ai.push(t, n, i), this.Ri() } function f(t) { this.Ai.Ni(t), this.Ri() } function l(t) { for (; t.length() > 0;)d(t) } function d(t) { var n = t.shift(); if ("function" != typeof n) n.Ci(); else { var i = t.shift(), e = t.shift(); n.call(i, e) } } o.prototype.setScheduler = function (t) { var n = this.Ii; return this.Ii = t, this._i = !0, n }, o.prototype.hasCustomScheduler = function () { return this._i }, o.prototype.enableTrampoline = function () { this.Si = !0 }, o.prototype.disableTrampolineIfNecessary = function () { u.hasDevTools && (this.Si = !1) }, o.prototype.haveItemsQueued = function () { return this.gi || this.Ti }, o.prototype.fatalError = function (t, n) { n ? (process.stderr.write("Fatal " + (t instanceof v ? t.stack : t) + "\n"), process.exit(2)) : this.throwLater(t) }, o.prototype.throwLater = function (t, n) { if (1 === arguments.length && (n = t, t = function () { throw n }), void 0 !== a) a(function () { t(n) }, 0); else try { this.Ii(function () { t(n) }) } catch (t) { throw new v("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n") } }, u.hasDevTools ? (o.prototype.invokeLater = function (t, n, i) { this.Si ? h.call(this, t, n, i) : this.Ii(function () { a(function () { t.call(n, i) }, 100) }) }, o.prototype.invoke = function (t, n, i) { this.Si ? c.call(this, t, n, i) : this.Ii(function () { t.call(n, i) }) }, o.prototype.settlePromises = function (t) { this.Si ? f.call(this, t) : this.Ii(function () { t.Ci() }) }) : (o.prototype.invokeLater = h, o.prototype.invoke = c, o.prototype.settlePromises = f), o.prototype.Ei = function () { l(this.Ai), this.Di(), this.Ti = !0, l(this.wi) }, o.prototype.Ri = function () { this.gi || (this.gi = !0, this.Ii(this.drainQueues)) }, o.prototype.Di = function () { this.gi = !1 }, n.exports = o, n.exports.firstLineError = e }, { "./queue": 26, "./schedule": 29, "./util": 36 }], 3: [function (t, n, i) { n.exports = function (t, n, i, e) { var r = !1, s = function (t, n) { this.xi(n) }, u = function (t, n) { n.promiseRejectionQueued = !0, n.bindingPromise.Oi(s, s, null, this, t) }, o = function (t, n) { 0 == (50397184 & this.Bi) && this.Pi(n.target) }, a = function (t, n) { n.promiseRejectionQueued || this.xi(t) }; t.prototype.bind = function (s) { r || (r = !0, t.prototype.Mi = e.propagateFromFunction(), t.prototype.Li = e.boundValueFunction()); var h = i(s), c = new t(n); c.Mi(this, 1); var f = this.ji(); if (c.Fi(h), h instanceof t) { var v = { promiseRejectionQueued: !1, promise: c, target: f, bindingPromise: h }; f.Oi(n, u, void 0, c, v), h.Oi(o, a, void 0, c, v), c.Ui(h) } else c.Pi(f); return c }, t.prototype.Fi = function (t) { void 0 !== t ? (this.Bi = 2097152 | this.Bi, this.Vi = t) : this.Bi = -2097153 & this.Bi }, t.prototype.Hi = function () { return 2097152 == (2097152 & this.Bi) }, t.bind = function (n, i) { return t.resolve(i).bind(n) } } }, {}], 4: [function (t, n, i) { var e; "undefined" != typeof Promise && (e = Promise); var r = t("./promise")(); r.noConflict = function () { try { Promise === r && (Promise = e) } catch (t) { } return r }, n.exports = r }, { "./promise": 22 }], 5: [function (t, n, i) { var e = g.create; if (e) { var r = e(null), s = e(null); r[" size"] = s[" size"] = 0 } n.exports = function (n) { var i = t("./util"), e = i.canEvaluate; function r(t) { var e = this.pop(), r = function (t, e) { var r; if (null != t && (r = t[e]), "function" != typeof r) { var s = "Object " + i.classString(t) + " has no method '" + i.toString(e) + "'"; throw new n.TypeError(s) } return r }(t, e); return r.apply(t, this) } function s(t) { return t[this] } function u(t) { var n = +this; return n < 0 && (n = _.max(0, n + t.length)), t[n] } i.isIdentifier, n.prototype.call = function (t) { var n = [].slice.call(arguments, 1); return n.push(t), this.Oi(r, void 0, void 0, n, void 0) }, n.prototype.get = function (t) { var n, i = "number" == typeof t; if (i) n = u; else if (e) { var r = (void 0)(t); n = null !== r ? r : s } else n = s; return this.Oi(n, void 0, void 0, t, void 0) } } }, { "./util": 36 }], 6: [function (t, n, i) { n.exports = function (n, i, e, r) { var s = t("./util"), u = s.tryCatch, o = s.errorObj, a = n.Gi; n.prototype.break = n.prototype.cancel = function () { if (!r.cancellation()) return this.zi("cancellation is disabled"); for (var t = this, n = t; t.qi();) { if (!t.Wi(n)) { n.Xi() ? n.$i().cancel() : n.Qi(); break } var i = t.Yi; if (null == i || !i.qi()) { t.Xi() ? t.$i().cancel() : t.Qi(); break } t.Xi() && t.$i().cancel(), t.Zi(), n = t, t = i } }, n.prototype.Ki = function () { this.Ji-- }, n.prototype.re = function () { return void 0 === this.Ji || this.Ji <= 0 }, n.prototype.Wi = function (t) { return t === this ? (this.Ji = 0, this.ue(), !0) : (this.Ki(), !!this.re() && (this.ue(), !0)) }, n.prototype.Qi = function () { this.re() && this.oe() }, n.prototype.oe = function () { this.qi() && (this.fe(), a.invoke(this._e, this, void 0)) }, n.prototype._e = function () { this.we() > 0 && this.Ci() }, n.prototype.ye = function () { this.pe = void 0 }, n.prototype.qi = function () { return this.isPending() && !this.me() }, n.prototype.isCancellable = function () { return this.isPending() && !this.isCancelled() }, n.prototype.ke = function (t, n) { if (s.isArray(t)) for (var i = 0; i < t.length; ++i)this.ke(t[i], n); else if (void 0 !== t) if ("function" == typeof t) { if (!n) { var e = u(t).call(this.Li()); e === o && (this.Ae(e.e), a.throwLater(e.e)) } } else t._resultCancelled(this) }, n.prototype.ue = function () { var t = this.Te(); this.ye(), a.invoke(this.ke, this, t) }, n.prototype.Se = function () { this.qi() && (this.ke(this.Te(), !0), this.ye()) }, n.prototype._resultCancelled = function () { this.cancel() } } }, { "./util": 36 }], 7: [function (t, n, i) { n.exports = function (n) { var i = t("./util"), e = t("./es5").keys, r = i.tryCatch, s = i.errorObj; return function (t, u, o) { return function (a) { var h = o.Li(); t: for (var c = 0; c < t.length; ++c) { var f = t[c]; if (f === v || null != f && f.prototype instanceof v) { if (a instanceof f) return r(u).call(h, a) } else if ("function" == typeof f) { var l = r(f).call(h, a); if (l === s) return l; if (l) return r(u).call(h, a) } else if (i.isObject(a)) { for (var d = e(f), g = 0; g < d.length; ++g) { var _ = d[g]; if (f[_] != a[_]) continue t } return r(u).call(h, a) } } return n } } } }, { "./es5": 13, "./util": 36 }], 8: [function (t, n, i) { n.exports = function (t) { var n = !1, i = []; function e() { this.Ee = new e.CapturedTrace(r()) } function r() { var t = i.length - 1; if (t >= 0) return i[t] } return t.prototype.Ie = function () { }, t.prototype.Re = function () { }, t.prototype.Ne = function () { return null }, t.Ce = t.prototype.Ce = function () { }, e.prototype.Re = function () { void 0 !== this.Ee && (this.Ee.Ie = null, i.push(this.Ee)) }, e.prototype.Ne = function () { if (void 0 !== this.Ee) { var t = i.pop(), n = t.Ie; return t.Ie = null, n } return null }, e.CapturedTrace = null, e.create = function () { if (n) return new e }, e.deactivateLongStackTraces = function () { }, e.activateLongStackTraces = function () { var i = t.prototype.Re, s = t.prototype.Ne, u = t.Ce, o = t.prototype.Ce, a = t.prototype.Ie; e.deactivateLongStackTraces = function () { t.prototype.Re = i, t.prototype.Ne = s, t.Ce = u, t.prototype.Ce = o, t.prototype.Ie = a, n = !1 }, n = !0, t.prototype.Re = e.prototype.Re, t.prototype.Ne = e.prototype.Ne, t.Ce = t.prototype.Ce = r, t.prototype.Ie = function () { var t = this.Ce(); t && null == t.Ie && (t.Ie = this) } }, e } }, {}], 9: [function (t, n, i) { n.exports = function (n, i) { var e, r, u, o = n.De, h = n.Gi, c = t("./errors").Warning, f = t("./util"), d = t("./es5"), _ = f.canAttachTrace, y = /[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/, p = /\((?:timers\.js):\d+:\d+\)/, m = /[\/<\(](.+?):(\d+):(\d+)\)?\s*$/, k = null, b = null, A = !1, T = !(0 == f.env("BLUEBIRD_DEBUG")), S = !(0 == f.env("BLUEBIRD_WARNINGS") || !T && !f.env("BLUEBIRD_WARNINGS")), E = !(0 == f.env("BLUEBIRD_LONG_STACK_TRACES") || !T && !f.env("BLUEBIRD_LONG_STACK_TRACES")), I = 0 != f.env("BLUEBIRD_W_FORGOTTEN_RETURN") && (S || !!f.env("BLUEBIRD_W_FORGOTTEN_RETURN")); n.prototype.suppressUnhandledRejections = function () { var t = this.ji(); t.Bi = -1048577 & t.Bi | 524288 }, n.prototype.xe = function () { if (0 == (524288 & this.Bi)) { this.Oe(); var t = this; a(function () { t.Be() }, 1) } }, n.prototype.Pe = function () { Y("rejectionHandled", e, void 0, this) }, n.prototype.Me = function () { this.Bi = 268435456 | this.Bi }, n.prototype.Le = function () { return 0 != (268435456 & this.Bi) }, n.prototype.Be = function () { if (this.je()) { var t = this.Fe(); this.Ue(), Y("unhandledRejection", r, t, this) } }, n.prototype.Ue = function () { this.Bi = 262144 | this.Bi }, n.prototype.Ve = function () { this.Bi = -262145 & this.Bi }, n.prototype.He = function () { return (262144 & this.Bi) > 0 }, n.prototype.Oe = function () { this.Bi = 1048576 | this.Bi }, n.prototype.Ge = function () { this.Bi = -1048577 & this.Bi, this.He() && (this.Ve(), this.Pe()) }, n.prototype.je = function () { return (1048576 & this.Bi) > 0 }, n.prototype.zi = function (t, n, i) { return W(t, n, i || this) }, n.onPossiblyUnhandledRejection = function (t) { var n = o(); r = "function" == typeof t ? null === n ? t : f.domainBind(n, t) : void 0 }, n.onUnhandledRejectionHandled = function (t) { var n = o(); e = "function" == typeof t ? null === n ? t : f.domainBind(n, t) : void 0 }; var R = function () { }; n.longStackTraces = function () { if (h.haveItemsQueued() && !rt.longStackTraces) throw new v("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n"); if (!rt.longStackTraces && K()) { var t = n.prototype.ze, e = n.prototype.Ae, r = n.prototype.qe; rt.longStackTraces = !0, R = function () { if (h.haveItemsQueued() && !rt.longStackTraces) throw new v("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n"); n.prototype.ze = t, n.prototype.Ae = e, n.prototype.qe = r, i.deactivateLongStackTraces(), h.enableTrampoline(), rt.longStackTraces = !1 }, n.prototype.ze = z, n.prototype.Ae = q, n.prototype.qe = G, i.activateLongStackTraces(), h.disableTrampolineIfNecessary() } }, n.hasLongStackTraces = function () { return rt.longStackTraces && K() }; var C = function () { try { if ("function" == typeof CustomEvent) { var t = new CustomEvent("CustomEvent"); return f.global.dispatchEvent(t), function (t, n) { var i = { detail: n, cancelable: !0 }; d.defineProperty(i, "promise", { value: n.promise }), d.defineProperty(i, "reason", { value: n.reason }); var e = new CustomEvent(t.toLowerCase(), i); return !f.global.dispatchEvent(e) } } if ("function" == typeof Event) { var t = new Event("CustomEvent"); return f.global.dispatchEvent(t), function (t, n) { var i = new Event(t.toLowerCase(), { cancelable: !0 }); return i.detail = n, d.defineProperty(i, "promise", { value: n.promise }), d.defineProperty(i, "reason", { value: n.reason }), !f.global.dispatchEvent(i) } } var t = s.createEvent("CustomEvent"); return t.initCustomEvent("testingtheevent", !1, !0, {}), f.global.dispatchEvent(t), function (t, n) { var i = s.createEvent("CustomEvent"); return i.initCustomEvent(t.toLowerCase(), !1, !0, n), !f.global.dispatchEvent(i) } } catch (t) { } return function () { return !1 } }(), N = f.isNode ? function () { return process.emit.apply(process, arguments) } : f.global ? function (t) { var n = "on" + t.toLowerCase(), i = f.global[n]; return !!i && (i.apply(f.global, [].slice.call(arguments, 1)), !0) } : function () { return !1 }; function D(t, n) { return { promise: n } } var x = { promiseCreated: D, promiseFulfilled: D, promiseRejected: D, promiseResolved: D, promiseCancelled: D, promiseChained: function (t, n, i) { return { promise: n, child: i } }, warning: function (t, n) { return { warning: n } }, unhandledRejection: function (t, n, i) { return { reason: n, promise: i } }, rejectionHandled: D }, B = function (t) { var n = !1; try { n = N.apply(null, arguments) } catch (t) { h.throwLater(t), n = !0 } var i = !1; try { i = C(t, x[t].apply(null, arguments)) } catch (t) { h.throwLater(t), i = !0 } return i || n }; function O() { return !1 } function P(t, n, i) { var e = this; try { t(n, i, function (t) { if ("function" != typeof t) throw new l("onCancel must be a function, got: " + f.toString(t)); e.We(t) }) } catch (t) { return t } } function M(t) { if (!this.qi()) return this; var n = this.Te(); void 0 !== n ? f.isArray(n) ? n.push(t) : this.Ui([n, t]) : this.Ui(t) } function L() { return this.pe } function j(t) { this.pe = t } function F() { this.Yi = void 0, this.pe = void 0 } function U(t, n) { if (0 != (1 & n)) { this.Yi = t; var i = t.Ji; void 0 === i && (i = 0), t.Ji = i + 1 } 0 != (2 & n) && t.Hi() && this.Fi(t.Vi) } n.config = function (t) { if ("longStackTraces" in (t = g(t)) && (t.longStackTraces ? n.longStackTraces() : !t.longStackTraces && n.hasLongStackTraces() && R()), "warnings" in t) { var i = t.warnings; rt.warnings = !!i, I = rt.warnings, f.isObject(i) && "wForgottenReturn" in i && (I = !!i.wForgottenReturn) } if ("cancellation" in t && t.cancellation && !rt.cancellation) { if (h.haveItemsQueued()) throw new v("cannot enable cancellation after promises are in use"); n.prototype.Xe = F, n.prototype.Mi = U, n.prototype.Te = L, n.prototype.Ui = j, n.prototype.We = M, n.prototype.$e = P, V = U, rt.cancellation = !0 } return "monitoring" in t && (t.monitoring && !rt.monitoring ? (rt.monitoring = !0, n.prototype.Qe = B) : !t.monitoring && rt.monitoring && (rt.monitoring = !1, n.prototype.Qe = O)), n }, n.prototype.Qe = O, n.prototype.$e = function (t, n, i) { try { t(n, i) } catch (t) { return t } }, n.prototype.Te = function () { }, n.prototype.Ui = function (t) { }, n.prototype.We = function (t) { }, n.prototype.ze = function () { }, n.prototype.Ae = function () { }, n.prototype.qe = function () { }, n.prototype.Xe = function () { }, n.prototype.Mi = function (t, n) { }; var V = function (t, n) { 0 != (2 & n) && t.Hi() && this.Fi(t.Vi) }; function H() { var t = this.Vi; return void 0 !== t && t instanceof n ? t.isFulfilled() ? t.value() : void 0 : t } function z() { this.Ee = new it(this.Ce()) } function q(t, n) { if (_(t)) { var i = this.Ee; if (void 0 !== i && n && (i = i.Ye), void 0 !== i) i.attachExtraTrace(t); else if (!t.Ze) { var e = $(t); f.notEnumerableProp(t, "stack", e.message + "\n" + e.stack.join("\n")), f.notEnumerableProp(t, "Ze", !0) } } } function G() { this.Ee = void 0 } function W(t, i, e) { if (rt.warnings) { var r, s = new c(t); if (i) e.Ae(s); else if (rt.longStackTraces && (r = n.Ce())) r.attachExtraTrace(s); else { var u = $(s); s.stack = u.message + "\n" + u.stack.join("\n") } B("warning", s) || Q(s, "", !0) } } function X(t) { for (var n = [], i = 0; i < t.length; ++i) { var e = t[i], r = "    (No stack trace)" === e || k.test(e), s = r && J(e); r && !s && (A && " " !== e.charAt(0) && (e = "    " + e), n.push(e)) } return n } function $(t) { var n = t.stack, i = t.toString(); return n = "string" == typeof n && n.length > 0 ? function (t) { for (var n = t.stack.replace(/\s+$/g, "").split("\n"), i = 0; i < n.length; ++i) { var e = n[i]; if ("    (No stack trace)" === e || k.test(e)) break } return i > 0 && "SyntaxError" != t.name && (n = n.slice(i)), n }(t) : ["    (No stack trace)"], { message: i, stack: "SyntaxError" == t.name ? n : X(n) } } function Q(t, n, i) { if ("undefined" != typeof console) { var e; if (f.isObject(t)) { var r = t.stack; e = n + b(r, t) } else e = n + String(t); "function" == typeof u ? u(e, i) : "function" != typeof console.log && "object" != typeof console.log || console.log(e) } } function Y(t, n, i, e) { var r = !1; try { "function" == typeof n && (r = !0, "rejectionHandled" === t ? n(e) : n(i, e)) } catch (t) { h.throwLater(t) } "unhandledRejection" === t ? B(t, i, e) || r || Q(i, "Unhandled rejection ") : B(t, e) } function Z(t) { var n; if ("function" == typeof t) n = "[function " + (t.name || "anonymous") + "]"; else { if (n = t && "function" == typeof t.toString ? t.toString() : f.toString(t), /\[object [a-zA-Z0-9$_]+\]/.test(n)) try { var i = JSON.stringify(t); n = i } catch (t) { } 0 === n.length && (n = "(empty array)") } return "(<" + function (t) { return t.length < 41 ? t : t.substr(0, 38) + "..." }(n) + ">, no stack trace)" } function K() { return "function" == typeof et } var J = function () { return !1 }, tt = /[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/; function nt(t) { var n = t.match(tt); if (n) return { fileName: n[1], line: w(n[2], 10) } } function it(t) { this.Ye = t, this.Ke = 0; var n = this.we = 1 + (void 0 === t ? 0 : t.we); et(this, it), n > 32 && this.uncycle() } f.inherits(it, v), i.CapturedTrace = it, it.prototype.uncycle = function () { var t = this.we; if (!(t < 2)) { for (var n = [], i = {}, e = 0, r = this; void 0 !== r; ++e)n.push(r), r = r.Ye; for (var e = (t = this.we = e) - 1; e >= 0; --e) { var s = n[e].stack; void 0 === i[s] && (i[s] = e) } for (var e = 0; e < t; ++e) { var u = n[e].stack, o = i[u]; if (void 0 !== o && o !== e) { o > 0 && (n[o - 1].Ye = void 0, n[o - 1].we = 1), n[e].Ye = void 0, n[e].we = 1; var a = e > 0 ? n[e - 1] : this; o < t - 1 ? (a.Ye = n[o + 1], a.Ye.uncycle(), a.we = a.Ye.we + 1) : (a.Ye = void 0, a.we = 1); for (var h = a.we + 1, c = e - 2; c >= 0; --c)n[c].we = h, h++; return } } } }, it.prototype.attachExtraTrace = function (t) { if (!t.Ze) { this.uncycle(); for (var n = $(t), i = n.message, e = [n.stack], r = this; void 0 !== r;)e.push(X(r.stack.split("\n"))), r = r.Ye; !function (t) { for (var n = t[0], i = 1; i < t.length; ++i) { for (var e = t[i], r = n.length - 1, s = n[r], u = -1, o = e.length - 1; o >= 0; --o)if (e[o] === s) { u = o; break } for (var o = u; o >= 0; --o) { var a = e[o]; if (n[r] !== a) break; n.pop(), r-- } n = e } }(e), function (t) { for (var n = 0; n < t.length; ++n)(0 === t[n].length || n + 1 < t.length && t[n][0] === t[n + 1][0]) && (t.splice(n, 1), n--) }(e), f.notEnumerableProp(t, "stack", function (t, n) { for (var i = 0; i < n.length - 1; ++i)n[i].push("From previous event:"), n[i] = n[i].join("\n"); return i < n.length && (n[i] = n[i].join("\n")), t + "\n" + n.join("\n") }(i, e)), f.notEnumerableProp(t, "Ze", !0) } }; var et = function () { var t = /^\s*at\s*/, n = function (t, n) { return "string" == typeof t ? t : void 0 !== n.name && void 0 !== n.message ? n.toString() : Z(n) }; if ("number" == typeof v.stackTraceLimit && "function" == typeof v.captureStackTrace) { v.stackTraceLimit += 6, k = t, b = n; var i = v.captureStackTrace; return J = function (t) { return y.test(t) }, function (t, n) { v.stackTraceLimit += 6, i(t, n), v.stackTraceLimit -= 6 } } var e, r = new v; if ("string" == typeof r.stack && r.stack.split("\n")[0].indexOf("stackDetection@") >= 0) return k = /@/, b = n, A = !0, function (t) { t.stack = (new v).stack }; try { throw new v } catch (t) { e = "stack" in t } return "stack" in r || !e || "number" != typeof v.stackTraceLimit ? (b = function (t, n) { return "string" == typeof t ? t : "object" != typeof n && "function" != typeof n || void 0 === n.name || void 0 === n.message ? Z(n) : n.toString() },null): (k = t, b = n,function(t){ v.stackTraceLimit += 6; try { throw new v } catch (n) { t.stack = n.stack } v.stackTraceLimit -= 6 }) }(); "undefined" != typeof console && void 0 !== console.warn && (u = function (t) { console.warn(t) }, f.isNode && process.stderr.isTTY ? u = function (t, n) { var i = n ? "\x1b[33m" : "\x1b[31m"; console.warn(i + t + "\x1b[0m\n") } : f.isNode || "string" != typeof (new v).stack || (u = function (t, n) { console.warn("%c" + t, n ? "color: darkorange" : "color: red") })); var rt = { warnings: S, longStackTraces: !1, cancellation: !1, monitoring: !1 }; return E && n.longStackTraces(), { longStackTraces: function () { return rt.longStackTraces }, warnings: function () { return rt.warnings }, cancellation: function () { return rt.cancellation }, monitoring: function () { return rt.monitoring }, propagateFromFunction: function () { return V }, boundValueFunction: function () { return H }, checkForgottenReturns: function (t, n, i, e, r) { if (void 0 === t && null !== n && I) { if (void 0 !== r && r.Le()) return; if (0 == (65535 & e.Bi)) return; i && (i += " "); var s = "", u = ""; if (n.Ee) { for (var o = n.Ee.stack.split("\n"), a = X(o), h = a.length - 1; h >= 0; --h) { var c = a[h]; if (!p.test(c)) { var f = c.match(m); f && (s = "at " + f[1] + ":" + f[2] + ":" + f[3] + " "); break } } if (a.length > 0) for (var v = a[0], h = 0; h < o.length; ++h)if (o[h] === v) { h > 0 && (u = "\n" + o[h - 1]); break } } var l = "a promise was created in a " + i + "handler " + s + "but was not returned from it, see http://goo.gl/rRqMUw" + u; e.zi(l, !0, n) } }, setBounds: function (t, n) { if (K()) { for (var i, e, r = (t.stack || "").split("\n"), s = (n.stack || "").split("\n"), u = -1, o = -1, a = 0; a < r.length; ++a) { var h = nt(r[a]); if (h) { i = h.fileName, u = h.line; break } } for (var a = 0; a < s.length; ++a) { var h = nt(s[a]); if (h) { e = h.fileName, o = h.line; break } } u < 0 || o < 0 || !i || !e || i !== e || u >= o || (J = function (t) { if (y.test(t)) return !0; var n = nt(t); return !!(n && n.fileName === i && u <= n.line && n.line <= o) }) } }, warn: W, deprecated: function (t, n) { var i = t + " is deprecated and will be removed in a future version."; return n && (i += " Use " + n + " instead."), W(i) }, CapturedTrace: it, fireDomEvent: C, fireGlobalEvent: N } }}, { "./errors": 12, "./es5": 13, "./util": 36 }], 10: [function (t, n, i) { n.exports = function (t) { function n() { return this.value } function i() { throw this.reason } t.prototype.return = t.prototype.thenReturn = function (i) { return i instanceof t && i.suppressUnhandledRejections(), this.Oi(n, void 0, void 0, { value: i }, void 0) }, t.prototype.throw = t.prototype.thenThrow = function (t) { return this.Oi(i, void 0, void 0, { reason: t }, void 0) }, t.prototype.catchThrow = function (t) { if (arguments.length <= 1) return this.Oi(void 0, i, void 0, { reason: t }, void 0); var n = arguments[1]; return this.caught(t, function () { throw n }) }, t.prototype.catchReturn = function (i) { if (arguments.length <= 1) return i instanceof t && i.suppressUnhandledRejections(), this.Oi(void 0, n, void 0, { value: i }, void 0); var e = arguments[1]; return e instanceof t && e.suppressUnhandledRejections(), this.caught(i, function () { return e }) } } }, {}], 11: [function (t, n, i) { n.exports = function (t, n) { var i = t.reduce, e = t.all; function r() { return e(this) } t.prototype.each = function (t) { return i(this, t, n, 0).Oi(r, void 0, void 0, this, void 0) }, t.prototype.mapSeries = function (t) { return i(this, t, n, n) }, t.each = function (t, e) { return i(t, e, n, 0).Oi(r, void 0, void 0, t, void 0) }, t.mapSeries = function (t, e) { return i(t, e, n, n) } } }, {}], 12: [function (t, n, i) { var e, r, s = t("./es5"), u = s.freeze, o = t("./util"), a = o.inherits, h = o.notEnumerableProp; function c(t, n) { function i(e) { if (!(this instanceof i)) return new i(e); h(this, "message", "string" == typeof e ? e : n), h(this, "name", t), v.captureStackTrace ? v.captureStackTrace(this, this.constructor) : v.call(this) } return a(i, v), i } var f = c("Warning", "warning"), d = c("CancellationError", "cancellation error"), g = c("TimeoutError", "timeout error"), _ = c("AggregateError", "aggregate error"); try { e = l, r = RangeError } catch (t) { e = c("TypeError", "type error"), r = c("RangeError", "range error") } for (var w = "join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "), y = 0; y < w.length; ++y)"function" == typeof Array.prototype[w[y]] && (_.prototype[w[y]] = Array.prototype[w[y]]); s.defineProperty(_.prototype, "length", { value: 0, configurable: !1, writable: !0, enumerable: !0 }), _.prototype.isOperational = !0; var p = 0; function m(t) { if (!(this instanceof m)) return new m(t); h(this, "name", "OperationalError"), h(this, "message", t), this.cause = t, this.isOperational = !0, t instanceof v ? (h(this, "message", t.message), h(this, "stack", t.stack)) : v.captureStackTrace && v.captureStackTrace(this, this.constructor) } _.prototype.toString = function () { var t = Array(4 * p + 1).join(" "), n = "\n" + t + "AggregateError of:\n"; p++, t = Array(4 * p + 1).join(" "); for (var i = 0; i < this.length; ++i) { for (var e = this[i] === this ? "[Circular AggregateError]" : this[i] + "", r = e.split("\n"), s = 0; s < r.length; ++s)r[s] = t + r[s]; e = r.join("\n"), n += e + "\n" } return p--, n }, a(m, v); var k = v.Je; k || (k = u({ CancellationError: d, TimeoutError: g, OperationalError: m, RejectionError: m, AggregateError: _ }), s.defineProperty(v, "Je", { value: k, writable: !1, enumerable: !1, configurable: !1 })), n.exports = { Error: v, TypeError: e, RangeError: r, CancellationError: k.CancellationError, OperationalError: k.OperationalError, TimeoutError: k.TimeoutError, AggregateError: k.AggregateError, Warning: f } }, { "./es5": 13, "./util": 36 }], 13: [function (t, n, i) { var e = function () { return void 0 === this }(); if (e) n.exports = { freeze: g.freeze, defineProperty: g.defineProperty, getDescriptor: g.getOwnPropertyDescriptor, keys: g.keys, names: g.getOwnPropertyNames, getPrototypeOf: g.getPrototypeOf, isArray: Array.isArray, isES5: e, propertyIsWritable: function (t, n) { var i = g.getOwnPropertyDescriptor(t, n); return !(i && !i.writable && !i.set) } }; else { var r = {}.hasOwnProperty, s = {}.toString, u = {}.constructor.prototype, o = function (t) { var n = []; for (var i in t) r.call(t, i) && n.push(i); return n }; n.exports = { isArray: function (t) { try { return "[object Array]" === s.call(t) } catch (t) { return !1 } }, keys: o, names: o, defineProperty: function (t, n, i) { return t[n] = i.value, t }, getDescriptor: function (t, n) { return { value: t[n] } }, freeze: function (t) { return t }, getPrototypeOf: function (t) { try { return g(t).constructor.prototype } catch (t) { return u } }, isES5: e, propertyIsWritable: function () { return !0 } } } }, {}], 14: [function (t, n, i) { n.exports = function (t, n) { var i = t.map; t.prototype.filter = function (t, e) { return i(this, t, e, n) }, t.filter = function (t, e, r) { return i(t, e, r, n) } } }, {}], 15: [function (t, n, i) { n.exports = function (n, i, e) { var r = t("./util"), s = n.CancellationError, u = r.errorObj, o = t("./catch_filter")(e); function a(t, n, i) { this.promise = t, this.type = n, this.handler = i, this.called = !1, this.cancelPromise = null } function h(t) { this.finallyHandler = t } function c(t, n) { return null != t.cancelPromise && (arguments.length > 1 ? t.cancelPromise.xi(n) : t.cancelPromise.oe(), t.cancelPromise = null, !0) } function f() { return d.call(this, this.promise.ji().Fe()) } function v(t) { if (!c(this, t)) return u.e = t, u } function d(t) { var r = this.promise, o = this.handler; if (!this.called) { this.called = !0; var a = this.isFinallyHandler() ? o.call(r.Li()) : o.call(r.Li(), t); if (a === e) return a; if (void 0 !== a) { r.Me(); var l = i(a, r); if (l instanceof n) { if (null != this.cancelPromise) { if (l.me()) { var d = new s("late cancellation observer"); return r.Ae(d), u.e = d, u } l.isPending() && l.We(new h(this)) } return l.Oi(f, v, void 0, this, void 0) } } } return r.isRejected() ? (c(this), u.e = t, u) : (c(this), t) } return a.prototype.isFinallyHandler = function () { return 0 === this.type }, h.prototype._resultCancelled = function () { c(this.finallyHandler) }, n.prototype.ir = function (t, n, i, e) { return "function" != typeof t ? this.then() : this.Oi(i, e, void 0, new a(this, n, t), void 0) }, n.prototype.lastly = n.prototype.finally = function (t) { return this.ir(t, 0, d, d) }, n.prototype.tap = function (t) { return this.ir(t, 1, d) }, n.prototype.tapCatch = function (t) { var i = arguments.length; if (1 === i) return this.ir(t, 1, void 0, d); var e, s = new Array(i - 1), u = 0; for (e = 0; e < i - 1; ++e) { var a = arguments[e]; if (!r.isObject(a)) return n.reject(new l("tapCatch statement predicate: expecting an object but got " + r.classString(a))); s[u++] = a } s.length = u; var h = arguments[e]; return this.ir(o(s, h, this), 1, void 0, d) }, a } }, { "./catch_filter": 7, "./util": 36 }], 16: [function (t, n, i) { n.exports = function (n, i, e, r, s, u) { var o = t("./errors"), a = o.TypeError, h = t("./util"), c = h.errorObj, f = h.tryCatch, l = []; function d(t, i, r, s) { if (u.cancellation()) { var o = new n(e), a = this.er = new n(e); this.rr = o.lastly(function () { return a }), o.ze(), o.Ui(this) } else { var h = this.rr = new n(e); h.ze() } this.dr = s, this._r = t, this.gr = i, this.wr = void 0, this.yr = "function" == typeof r ? [r].concat(l) : l, this.pr = null, this.Ar = !1 } h.inherits(d, s), d.prototype.Tr = function () { return null === this.rr }, d.prototype.Sr = function () { this.rr = this.wr = null, u.cancellation() && null !== this.er && (this.er.Er(), this.er = null) }, d.prototype.Ir = function () { if (!this.Tr()) { var t, i = void 0 !== this.wr.return; if (i) this.rr.Re(), t = f(this.wr.return).call(this.wr, void 0), this.rr.Ne(); else { var e = new n.CancellationError("generator .return() sentinel"); n.coroutine.returnSentinel = e, this.rr.Ae(e), this.rr.Re(), t = f(this.wr.throw).call(this.wr, e), this.rr.Ne() } this.Ar = !0, this.pr = null, this.Rr(t) } }, d.prototype.Nr = function (t) { this.pr = null, this.rr.Re(); var n = f(this.wr.next).call(this.wr, t); this.rr.Ne(), this.Rr(n) }, d.prototype.Cr = function (t) { this.pr = null, this.rr.Ae(t), this.rr.Re(); var n = f(this.wr.throw).call(this.wr, t); this.rr.Ne(), this.Rr(n) }, d.prototype._resultCancelled = function () { if (this.pr instanceof n) { var t = this.pr; this.pr = null, t.cancel() } }, d.prototype.promise = function () { return this.rr }, d.prototype.Dr = function () { this.wr = this._r.call(this.gr), this.gr = this._r = void 0, this.Nr(void 0) }, d.prototype.Rr = function (t) { var i = this.rr; if (t === c) return this.Sr(), this.Ar ? i.cancel() : i.xr(t.e, !1); var e = t.value; if (!0 === t.done) return this.Sr(), this.Ar ? i.cancel() : i.Pi(e); var s = r(e, this.rr); if (s instanceof n || null !== (s = function (t, i, e) { for (var s = 0; s < i.length; ++s) { e.Re(); var u = f(i[s])(t); if (e.Ne(), u === c) { e.Re(); var o = n.reject(c.e); return e.Ne(), o } var a = r(u, e); if (a instanceof n) return a } return null }(s, this.yr, this.rr))) { var u = (s = s.ji()).Bi; 0 == (50397184 & u) ? (this.pr = s, s.Or(this, null)) : 0 != (33554432 & u) ? n.Gi.invoke(this.Nr, this, s.Br()) : 0 != (16777216 & u) ? n.Gi.invoke(this.Cr, this, s.Pr()) : this.Ir() } else this.Cr(new a("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s", String(e)) + "From coroutine:\n" + this.dr.split("\n").slice(1, -7).join("\n"))) }, n.coroutine = function (t, n) { if ("function" != typeof t) throw new a("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n"); var i = g(n).yieldHandler, e = d, r = (new v).stack; return function () { var n = t.apply(this, arguments), s = new e(void 0, void 0, i, r), u = s.promise(); return s.wr = n, s.Nr(void 0), u } }, n.coroutine.addYieldHandler = function (t) { if ("function" != typeof t) throw new a("expecting a function but got " + h.classString(t)); l.push(t) }, n.spawn = function (t) { if (u.deprecated("Promise.spawn()", "Promise.coroutine()"), "function" != typeof t) return i("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n"); var e = new d(t, this), r = e.promise(); return e.Dr(n.spawn), r } } }, { "./errors": 12, "./util": 36 }], 17: [function (t, n, i) { n.exports = function (n, i, e, r, s, u) { var o = t("./util"); o.canEvaluate, o.tryCatch, o.errorObj, n.join = function () { var t, n = arguments.length - 1; n > 0 && "function" == typeof arguments[n] && (t = arguments[n]); var e = [].slice.call(arguments); t && e.pop(); var r = new i(e).promise(); return void 0 !== t ? r.spread(t) : r } } }, { "./util": 36 }], 18: [function (t, n, i) { n.exports = function (n, i, e, r, s, u) { var o = n.De, a = t("./util"), h = a.tryCatch, c = a.errorObj, f = n.Gi; function v(t, n, i, e) { this.constructor$(t), this.rr.ze(); var r = o(); this.Mr = null === r ? n : a.domainBind(r, n), this.Lr = e === s ? new Array(this.length()) : null, this.jr = i, this.Fr = 0, this.Ur = [], f.invoke(this.Vr, this, void 0) } function d(t, i, r, s) { if ("function" != typeof i) return e("expecting a function but got " + a.classString(i)); var u = 0; if (void 0 !== r) { if ("object" != typeof r || null === r) return n.reject(new l("options argument must be an object but it is " + a.classString(r))); if ("number" != typeof r.concurrency) return n.reject(new l("'concurrency' must be a number but it is " + a.classString(r.concurrency))); u = r.concurrency } return u = "number" == typeof u && isFinite(u) && u >= 1 ? u : 0, new v(t, i, u, s).promise() } a.inherits(v, i), v.prototype.Vr = function () { this._init$(void 0, -2) }, v.prototype._init = function () { }, v.prototype.Nr = function (t, i) { var e = this.Hr, s = this.length(), o = this.Lr, a = this.jr; if (i < 0) { if (e[i = -1 * i - 1] = t, a >= 1 && (this.Fr--, this.Gr(), this.Tr())) return !0 } else { if (a >= 1 && this.Fr >= a) return e[i] = t, this.Ur.push(i), !1; null !== o && (o[i] = t); var f = this.rr, v = this.Mr, l = f.Li(); f.Re(); var d = h(v).call(l, t, i, s), g = f.Ne(); if (u.checkForgottenReturns(d, g, null !== o ? "Promise.filter" : "Promise.map", f), d === c) return this.xi(d.e), !0; var _ = r(d, this.rr); if (_ instanceof n) { var w = (_ = _.ji()).Bi; if (0 == (50397184 & w)) return a >= 1 && this.Fr++, e[i] = _, _.Or(this, -1 * (i + 1)), !1; if (0 == (33554432 & w)) return 0 != (16777216 & w) ? (this.xi(_.Pr()), !0) : (this.oe(), !0); d = _.Br() } e[i] = d } var y = ++this.zr; return y >= s && (null !== o ? this.qr(e, o) : this.Wr(e), !0) }, v.prototype.Gr = function () { for (var t = this.Ur, n = this.jr, i = this.Hr; t.length > 0 && this.Fr < n;) { if (this.Tr()) return; var e = t.pop(); this.Nr(i[e], e) } }, v.prototype.qr = function (t, n) { for (var i = n.length, e = new Array(i), r = 0, s = 0; s < i; ++s)t[s] && (e[r++] = n[s]); e.length = r, this.Wr(e) }, v.prototype.preservedValues = function () { return this.Lr }, n.prototype.map = function (t, n) { return d(this, t, n, null) }, n.map = function (t, n, i, e) { return d(t, n, i, e) } } }, { "./util": 36 }], 19: [function (t, n, i) { n.exports = function (n, i, e, r, s) { var u = t("./util"), o = u.tryCatch; n.method = function (t) { if ("function" != typeof t) throw new n.TypeError("expecting a function but got " + u.classString(t)); return function () { var e = new n(i); e.ze(), e.Re(); var r = o(t).apply(this, arguments), u = e.Ne(); return s.checkForgottenReturns(r, u, "Promise.method", e), e.Xr(r), e } }, n.attempt = n.try = function (t) { if ("function" != typeof t) return r("expecting a function but got " + u.classString(t)); var e, a = new n(i); if (a.ze(), a.Re(), arguments.length > 1) { s.deprecated("calling Promise.try with more than 1 argument"); var h = arguments[1], c = arguments[2]; e = u.isArray(h) ? o(t).apply(c, h) : o(t).call(c, h) } else e = o(t)(); var f = a.Ne(); return s.checkForgottenReturns(e, f, "Promise.try", a), a.Xr(e), a }, n.prototype.Xr = function (t) { t === u.errorObj ? this.xr(t.e, !1) : this.Pi(t, !0) } } }, { "./util": 36 }], 20: [function (t, n, i) { var e = t("./util"), r = e.maybeWrapAsError, s = t("./errors"), u = s.OperationalError, o = t("./es5"), a = /^(?:name|message|stack|cause)$/; function h(t) { var n; if (function (t) { return t instanceof v && o.getPrototypeOf(t) === v.prototype }(t)) { (n = new u(t)).name = t.name, n.message = t.message, n.stack = t.stack; for (var i = o.keys(t), r = 0; r < i.length; ++r) { var s = i[r]; a.test(s) || (n[s] = t[s]) } return n } return e.markAsOriginatingFromRejection(t), t } n.exports = function (t, n) { return function (i, e) { if (null !== t) { if (i) { var s = h(r(i)); t.Ae(s), t.xi(s) } else if (n) { var u = [].slice.call(arguments, 1); t.Er(u) } else t.Er(e); t = null } } } }, { "./errors": 12, "./es5": 13, "./util": 36 }], 21: [function (t, n, i) { n.exports = function (n) { var i = t("./util"), e = n.Gi, r = i.tryCatch, s = i.errorObj; function u(t, n) { if (!i.isArray(t)) return o.call(this, t, n); var u = r(n).apply(this.Li(), [null].concat(t)); u === s && e.throwLater(u.e) } function o(t, n) { var i = this.Li(), u = void 0 === t ? r(n).call(i, null) : r(n).call(i, null, t); u === s && e.throwLater(u.e) } function a(t, n) { if (!t) { var i = new v(t + ""); i.cause = t, t = i } var u = r(n).call(this.Li(), t); u === s && e.throwLater(u.e) } n.prototype.asCallback = n.prototype.nodeify = function (t, n) { if ("function" == typeof t) { var i = o; void 0 !== n && g(n).spread && (i = u), this.Oi(i, a, void 0, this, t) } return this } } }, { "./util": 36 }], 22: [function (t, n, i) { n.exports = function () { var i = function () { return new l("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n") }, e = function () { return new C.PromiseInspection(this.ji()) }, r = function (t) { return C.reject(new l(t)) }; function s() { } var u, o = {}, a = t("./util"); u = a.isNode ? function () { var t = process.domain; return void 0 === t && (t = null), t } : function () { return null }, a.notEnumerableProp(C, "De", u); var h = t("./es5"), c = t("./async"), f = new c; h.defineProperty(C, "Gi", { value: f }); var v = t("./errors"), l = C.TypeError = v.TypeError; C.RangeError = v.RangeError; var d = C.CancellationError = v.CancellationError; C.TimeoutError = v.TimeoutError, C.OperationalError = v.OperationalError, C.RejectionError = v.OperationalError, C.AggregateError = v.AggregateError; var _ = function () { }, w = {}, y = {}, p = t("./thenables")(C, _), m = t("./promise_array")(C, _, p, r, s), k = t("./context")(C), b = k.create, A = t("./debuggability")(C, k), T = (A.CapturedTrace, t("./finally")(C, p, y)), S = t("./catch_filter")(y), E = t("./nodeback"), I = a.errorObj, R = a.tryCatch; function C(t) { t !== _ && function (t, n) { if (null == t || t.constructor !== C) throw new l("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n"); if ("function" != typeof n) throw new l("expecting a function but got " + a.classString(n)) }(this, t), this.Bi = 0, this.$r = void 0, this.Qr = void 0, this.Yr = void 0, this.Zr = void 0, this.Kr(t), this.Ie(), this.Qe("promiseCreated", this) } function N(t) { this.promise.Pi(t) } function D(t) { this.promise.xr(t, !1) } function x(t) { var n = new C(_); n.$r = t, n.Qr = t, n.Yr = t, n.Zr = t } return C.prototype.toString = function () { return "[object Promise]" }, C.prototype.caught = C.prototype.catch = function (t) { var n = arguments.length; if (n > 1) { var i, e = new Array(n - 1), s = 0; for (i = 0; i < n - 1; ++i) { var u = arguments[i]; if (!a.isObject(u)) return r("Catch statement predicate: expecting an object but got " + a.classString(u)); e[s++] = u } if (e.length = s, "function" != typeof (t = arguments[i])) throw new l("The last argument to .catch() must be a function, got " + a.toString(t)); return this.then(void 0, S(e, t, this)) } return this.then(void 0, t) }, C.prototype.reflect = function () { return this.Oi(e, e, void 0, this, void 0) }, C.prototype.then = function (t, n) { if (A.warnings() && arguments.length > 0 && "function" != typeof t && "function" != typeof n) { var i = ".then() only accepts functions but was passed: " + a.classString(t); arguments.length > 1 && (i += ", " + a.classString(n)), this.zi(i) } return this.Oi(t, n, void 0, void 0, void 0) }, C.prototype.done = function (t, n) { var i = this.Oi(t, n, void 0, void 0, void 0); i.Jr() }, C.prototype.spread = function (t) { return "function" != typeof t ? r("expecting a function but got " + a.classString(t)) : this.all().Oi(t, void 0, void 0, w, void 0) }, C.prototype.toJSON = function () { var t = { isFulfilled: !1, isRejected: !1, fulfillmentValue: void 0, rejectionReason: void 0 }; return this.isFulfilled() ? (t.fulfillmentValue = this.value(), t.isFulfilled = !0) : this.isRejected() && (t.rejectionReason = this.reason(), t.isRejected = !0), t }, C.prototype.all = function () { return arguments.length > 0 && this.zi(".all() was passed arguments but it does not take any"), new m(this).promise() }, C.prototype.error = function (t) { return this.caught(a.originatesFromRejection, t) }, C.getNewLibraryCopy = n.exports, C.is = function (t) { return t instanceof C }, C.fromNode = C.fromCallback = function (t) { var n = new C(_); n.ze(); var i = arguments.length > 1 && !!g(arguments[1]).multiArgs, e = R(t)(E(n, i)); return e === I && n.xr(e.e, !0), n.ns() || n.rs(), n }, C.all = function (t) { return new m(t).promise() }, C.cast = function (t) { var n = p(t); return n instanceof C || ((n = new C(_)).ze(), n.us(), n.Qr = t), n }, C.resolve = C.fulfilled = C.cast, C.reject = C.rejected = function (t) { var n = new C(_); return n.ze(), n.xr(t, !0), n }, C.setScheduler = function (t) { if ("function" != typeof t) throw new l("expecting a function but got " + a.classString(t)); return f.setScheduler(t) }, C.prototype.Oi = function (t, n, i, e, r) { var s = void 0 !== r, o = s ? r : new C(_), h = this.ji(), c = h.Bi; s || (o.Mi(this, 3), o.ze(), void 0 === e && 0 != (2097152 & this.Bi) && (e = 0 != (50397184 & c) ? this.Li() : h === this ? void 0 : this.Vi), this.Qe("promiseChained", this, o)); var v = u(); if (0 != (50397184 & c)) { var l, g, w = h.hs; 0 != (33554432 & c) ? (g = h.Qr, l = t) : 0 != (16777216 & c) ? (g = h.$r, l = n, h.Ge()) : (w = h.fs, g = new d("late cancellation observer"), h.Ae(g), l = n), f.invoke(w, h, { handler: null === v ? l : "function" == typeof l && a.domainBind(v, l), promise: o, receiver: e, value: g }) } else h.vs(t, n, o, e, v); return o }, C.prototype.we = function () { return 65535 & this.Bi }, C.prototype.ns = function () { return 0 != (117506048 & this.Bi) }, C.prototype.Xi = function () { return 67108864 == (67108864 & this.Bi) }, C.prototype.ls = function (t) { this.Bi = -65536 & this.Bi | 65535 & t }, C.prototype.us = function () { this.Bi = 33554432 | this.Bi, this.Qe("promiseFulfilled", this) }, C.prototype.ds = function () { this.Bi = 16777216 | this.Bi, this.Qe("promiseRejected", this) }, C.prototype._s = function () { this.Bi = 67108864 | this.Bi, this.Qe("promiseResolved", this) }, C.prototype.Jr = function () { this.Bi = 4194304 | this.Bi }, C.prototype.gs = function () { return (4194304 & this.Bi) > 0 }, C.prototype.ys = function () { this.Bi = -65537 & this.Bi }, C.prototype.fe = function () { this.Bi = 65536 | this.Bi, this.Qe("promiseCancelled", this) }, C.prototype.Zi = function () { this.Bi = 8388608 | this.Bi }, C.prototype.rs = function () { f.hasCustomScheduler() || (this.Bi = 134217728 | this.Bi) }, C.prototype.As = function (t) { var n = 0 === t ? this.Zr : this[4 * t - 4 + 3]; if (n !== o) return void 0 === n && this.Hi() ? this.Li() : n }, C.prototype.Ts = function (t) { return this[4 * t - 4 + 2] }, C.prototype.Ss = function (t) { return this[4 * t - 4 + 0] }, C.prototype.Es = function (t) { return this[4 * t - 4 + 1] }, C.prototype.Li = function () { }, C.prototype.Is = function (t) { t.Bi; var n = t.$r, i = t.Qr, e = t.Yr, r = t.As(0); void 0 === r && (r = o), this.vs(n, i, e, r, null) }, C.prototype.Rs = function (t, n) { var i = t.Ss(n), e = t.Es(n), r = t.Ts(n), s = t.As(n); void 0 === s && (s = o), this.vs(i, e, r, s, null) }, C.prototype.vs = function (t, n, i, e, r) { var s = this.we(); if (s >= 65531 && (s = 0, this.ls(0)), 0 === s) this.Yr = i, this.Zr = e, "function" == typeof t && (this.$r = null === r ? t : a.domainBind(r, t)), "function" == typeof n && (this.Qr = null === r ? n : a.domainBind(r, n)); else { var u = 4 * s - 4; this[u + 2] = i, this[u + 3] = e, "function" == typeof t && (this[u + 0] = null === r ? t : a.domainBind(r, t)), "function" == typeof n && (this[u + 1] = null === r ? n : a.domainBind(r, n)) } return this.ls(s + 1), s }, C.prototype.Or = function (t, n) { this.vs(void 0, void 0, n, t, null) }, C.prototype.Pi = function (t, n) { if (0 == (117506048 & this.Bi)) { if (t === this) return this.xr(i(), !1); var e = p(t, this); if (!(e instanceof C)) return this.Er(t); n && this.Mi(e, 2); var r = e.ji(); if (r !== this) { var s = r.Bi; if (0 == (50397184 & s)) { var u = this.we(); u > 0 && r.Is(this); for (var o = 1; o < u; ++o)r.Rs(this, o); this._s(), this.ls(0), this.Ns(r) } else if (0 != (33554432 & s)) this.Er(r.Br()); else if (0 != (16777216 & s)) this.xi(r.Pr()); else { var a = new d("late cancellation observer"); r.Ae(a), this.xi(a) } } else this.xi(i()) } }, C.prototype.xr = function (t, n, i) { var e = a.ensureErrorObject(t), r = e === t; if (!r && !i && A.warnings()) { var s = "a promise was rejected with a non-error: " + a.classString(t); this.zi(s, !0) } this.Ae(e, !!n && r), this.xi(t) }, C.prototype.Kr = function (t) { if (t !== _) { var n = this; this.ze(), this.Re(); var i = !0, e = this.$e(t, function (t) { n.Pi(t) }, function (t) { n.xr(t, i) }); i = !1, this.Ne(), void 0 !== e && n.xr(e, !0) } }, C.prototype.Cs = function (t, n, i, e) { var r = e.Bi; if (0 == (65536 & r)) { var s; e.Re(), n === w ? i && "number" == typeof i.length ? s = R(t).apply(this.Li(), i) : (s = I).e = new l("cannot .spread() a non-array: " + a.classString(i)) : s = R(t).call(n, i); var u = e.Ne(); 0 == (65536 & (r = e.Bi)) && (s === y ? e.xi(i) : s === I ? e.xr(s.e, !1) : (A.checkForgottenReturns(s, u, "", e, this), e.Pi(s))) } }, C.prototype.ji = function () { for (var t = this; t.Xi();)t = t.$i(); return t }, C.prototype.$i = function () { return this.Qr }, C.prototype.Ns = function (t) { this.Qr = t }, C.prototype.Ds = function (t, n, i, r) { var u = t instanceof C, o = this.Bi, a = 0 != (134217728 & o); 0 != (65536 & o) ? (u && t.Se(), i instanceof T && i.isFinallyHandler() ? (i.cancelPromise = t, R(n).call(i, r) === I && t.xi(I.e)) : n === e ? t.Er(e.call(i)) : i instanceof s ? i.Ir(t) : u || t instanceof m ? t.oe() : i.cancel()) : "function" == typeof n ? u ? (a && t.rs(), this.Cs(n, i, r, t)) : n.call(i, r, t) : i instanceof s ? i.Tr() || (0 != (33554432 & o) ? i.Nr(r, t) : i.Cr(r, t)) : u && (a && t.rs(), 0 != (33554432 & o) ? t.Er(r) : t.xi(r)) }, C.prototype.fs = function (t) { var n = t.handler, i = t.promise, e = t.receiver, r = t.value; "function" == typeof n ? i instanceof C ? this.Cs(n, e, r, i) : n.call(e, r, i) : i instanceof C && i.xi(r) }, C.prototype.hs = function (t) { this.Ds(t.promise, t.handler, t.receiver, t.value) }, C.prototype.xs = function (t, n, i) { var e = this.Yr, r = this.As(0); this.Yr = void 0, this.Zr = void 0, this.Ds(e, t, r, n) }, C.prototype.Os = function (t) { var n = 4 * t - 4; this[n + 2] = this[n + 3] = this[n + 0] = this[n + 1] = void 0 }, C.prototype.Er = function (t) { var n = this.Bi; if (!((117506048 & n) >>> 16)) { if (t === this) { var e = i(); return this.Ae(e), this.xi(e) } this.us(), this.Qr = t, (65535 & n) > 0 && (0 != (134217728 & n) ? this.Ci() : f.settlePromises(this), this.qe()) } }, C.prototype.xi = function (t) { var n = this.Bi; if (!((117506048 & n) >>> 16)) { if (this.ds(), this.$r = t, this.gs()) return f.fatalError(t, a.isNode); (65535 & n) > 0 ? f.settlePromises(this) : this.xe() } }, C.prototype.Bs = function (t, n) { for (var i = 1; i < t; i++) { var e = this.Ss(i), r = this.Ts(i), s = this.As(i); this.Os(i), this.Ds(r, e, s, n) } }, C.prototype.Ps = function (t, n) { for (var i = 1; i < t; i++) { var e = this.Es(i), r = this.Ts(i), s = this.As(i); this.Os(i), this.Ds(r, e, s, n) } }, C.prototype.Ci = function () { var t = this.Bi, n = 65535 & t; if (n > 0) { if (0 != (16842752 & t)) { var i = this.$r; this.xs(this.Qr, i, t), this.Ps(n, i) } else { var e = this.Qr; this.xs(this.$r, e, t), this.Bs(n, e) } this.ls(0) } this.Xe() }, C.prototype.Fe = function () { var t = this.Bi; return 0 != (33554432 & t) ? this.Qr : 0 != (16777216 & t) ? this.$r : void 0 }, "undefined" != typeof Symbol && Symbol.toStringTag && h.defineProperty(C.prototype, Symbol.toStringTag, { get: function () { return "Object" } }), C.defer = C.pending = function () { A.deprecated("Promise.defer", "new Promise"); var t = new C(_); return { promise: t, resolve: N, reject: D } }, a.notEnumerableProp(C, "Ms", i), t("./method")(C, _, p, r, A), t("./bind")(C, _, p, A), t("./cancel")(C, m, r, A), t("./direct_resolve")(C), t("./synchronous_inspection")(C), t("./join")(C, m, p, _, f, u), C.Promise = C, C.version = "3.5.5", t("./call_get.js")(C), t("./generators.js")(C, r, _, p, s, A), t("./map.js")(C, m, r, p, _, A), t("./nodeify.js")(C), t("./promisify.js")(C, _), t("./props.js")(C, m, p, r), t("./race.js")(C, _, p, r), t("./reduce.js")(C, m, r, p, _, A), t("./settle.js")(C, m, A), t("./some.js")(C, m, r), t("./timers.js")(C, _, A), t("./using.js")(C, r, p, b, _, A), t("./any.js")(C), t("./each.js")(C, _), t("./filter.js")(C, _), a.toFastProperties(C), a.toFastProperties(C.prototype), x({ a: 1 }), x({ b: 2 }), x({ c: 3 }), x(1), x(function () { }), x(void 0), x(!1), x(new C(_)), A.setBounds(c.firstLineError, a.lastLineError), C } }, { "./any.js": 1, "./async": 2, "./bind": 3, "./call_get.js": 5, "./cancel": 6, "./catch_filter": 7, "./context": 8, "./debuggability": 9, "./direct_resolve": 10, "./each.js": 11, "./errors": 12, "./es5": 13, "./filter.js": 14, "./finally": 15, "./generators.js": 16, "./join": 17, "./map.js": 18, "./method": 19, "./nodeback": 20, "./nodeify.js": 21, "./promise_array": 23, "./promisify.js": 24, "./props.js": 25, "./race.js": 27, "./reduce.js": 28, "./settle.js": 30, "./some.js": 31, "./synchronous_inspection": 32, "./thenables": 33, "./timers.js": 34, "./using.js": 35, "./util": 36 }], 23: [function (t, n, i) { n.exports = function (n, i, e, r, s) { var u = t("./util"); function o(t) { var e = this.rr = new n(i); t instanceof n && e.Mi(t, 3), e.Ui(this), this.Hr = t, this.we = 0, this.zr = 0, this._init(void 0, -2) } return u.isArray, u.inherits(o, s), o.prototype.length = function () { return this.we }, o.prototype.promise = function () { return this.rr }, o.prototype._init = function t(i, s) { var o = e(this.Hr, this.rr); if (o instanceof n) { var a = (o = o.ji()).Bi; if (this.Hr = o, 0 == (50397184 & a)) return this.rr.rs(), o.Oi(t, this.xi, void 0, this, s); if (0 == (33554432 & a)) return 0 != (16777216 & a) ? this.xi(o.Pr()) : this.oe(); o = o.Br() } if (null !== (o = u.asArray(o))) 0 !== o.length ? this.Ls(o) : -5 === s ? this.js() : this.Wr(function (t) { switch (t) { case -2: return []; case -3: return {}; case -6: return new Map } }(s)); else { var h = r("expecting an array or an iterable object but got " + u.classString(o)).reason(); this.rr.xr(h, !1) } }, o.prototype.Ls = function (t) { var i = this.getActualLength(t.length); this.we = i, this.Hr = this.shouldCopyValues() ? new Array(i) : this.Hr; for (var r = this.rr, s = !1, u = null, o = 0; o < i; ++o) { var a = e(t[o], r); a instanceof n ? (a = a.ji(), u = a.Bi) : u = null, s ? null !== u && a.suppressUnhandledRejections() : null !== u ? 0 == (50397184 & u) ? (a.Or(this, o), this.Hr[o] = a) : s = 0 != (33554432 & u) ? this.Nr(a.Br(), o) : 0 != (16777216 & u) ? this.Cr(a.Pr(), o) : this.Ir(o) : s = this.Nr(a, o) } s || r.rs() }, o.prototype.Tr = function () { return null === this.Hr }, o.prototype.Wr = function (t) { this.Hr = null, this.rr.Er(t) }, o.prototype.oe = function () { !this.Tr() && this.rr.qi() && (this.Hr = null, this.rr.oe()) }, o.prototype.xi = function (t) { this.Hr = null, this.rr.xr(t, !1) }, o.prototype.Nr = function (t, n) { this.Hr[n] = t; var i = ++this.zr; return i >= this.we && (this.Wr(this.Hr), !0) }, o.prototype.Ir = function () { return this.oe(), !0 }, o.prototype.Cr = function (t) { return this.zr++, this.xi(t), !0 }, o.prototype._resultCancelled = function () { if (!this.Tr()) { var t = this.Hr; if (this.oe(), t instanceof n) t.cancel(); else for (var i = 0; i < t.length; ++i)t[i] instanceof n && t[i].cancel() } }, o.prototype.shouldCopyValues = function () { return !0 }, o.prototype.getActualLength = function (t) { return t }, o } }, { "./util": 36 }], 24: [function (t, n, i) { n.exports = function (n, i) { var e = {}, r = t("./util"), s = t("./nodeback"), u = r.withAppended, o = r.maybeWrapAsError, a = r.canEvaluate, h = t("./errors").TypeError, c = { Fs: !0 }, f = new RegExp("^(?:" + ["arity", "length", "name", "arguments", "caller", "callee", "prototype", "Fs"].join("|") + ")$"), v = function (t) { return r.isIdentifier(t) && "_" !== t.charAt(0) && "constructor" !== t }; function l(t) { return !f.test(t) } function d(t) { try { return !0 === t.Fs } catch (t) { return !1 } } function _(t, n, i) { var e = r.getDataPropertyOrDefault(t, n + i, c); return !!e && d(e) } function w(t, n, i, e) { for (var s = r.inheritedDataKeys(t), u = [], o = 0; o < s.length; ++o) { var a = s[o], c = t[a], f = e === v || v(a); "function" != typeof c || d(c) || _(t, a, n) || !e(a, c, t, f) || u.push(a, c) } return function (t, n, i) { for (var e = 0; e < t.length; e += 2) { var r = t[e]; if (i.test(r)) for (var s = r.replace(i, ""), u = 0; u < t.length; u += 2)if (t[u] === s) throw new h("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s", n)) } }(u, n, i), u } var y = function (t) { return t.replace(/([$])/, "\\$") }, p = a ? void 0 : function (t, a, h, c, f, v) { var l = function () { return this }(), d = t; function g() { var r = a; a === e && (r = this); var h = new n(i); h.ze(); var c = "string" == typeof d && this !== l ? this[d] : t, f = s(h, v); try { c.apply(r, u(arguments, f)) } catch (t) { h.xr(o(t), !0, !0) } return h.ns() || h.rs(), h } return "string" == typeof d && (t = c), r.notEnumerableProp(g, "Fs", !0), g }; function m(t, n, i, s, u) { for (var o = new RegExp(y(n) + "$"), a = w(t, n, o, i), h = 0, c = a.length; h < c; h += 2) { var f = a[h], v = a[h + 1], l = f + n; if (s === p) t[l] = p(f, e, f, v, n, u); else { var d = s(v, function () { return p(f, e, f, v, n, u) }); r.notEnumerableProp(d, "Fs", !0), t[l] = d } } return r.toFastProperties(t), t } n.promisify = function (t, n) { if ("function" != typeof t) throw new h("expecting a function but got " + r.classString(t)); if (d(t)) return t; var i = void 0 === (n = g(n)).context ? e : n.context, s = !!n.multiArgs, u = function (t, n, i) { return p(t, n, void 0, t, null, i) }(t, i, s); return r.copyDescriptors(t, u, l), u }, n.promisifyAll = function (t, n) { if ("function" != typeof t && "object" != typeof t) throw new h("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n"); var i = !!(n = g(n)).multiArgs, e = n.suffix; "string" != typeof e && (e = "Async"); var s = n.filter; "function" != typeof s && (s = v); var u = n.promisifier; if ("function" != typeof u && (u = p), !r.isIdentifier(e)) throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n"); for (var o = r.inheritedDataKeys(t), a = 0; a < o.length; ++a) { var c = t[o[a]]; "constructor" !== o[a] && r.isClass(c) && (m(c.prototype, e, s, u, i), m(c, e, s, u, i)) } return m(t, e, s, u, i) } } }, { "./errors": 12, "./nodeback": 20, "./util": 36 }], 25: [function (t, n, i) { n.exports = function (n, i, e, r) { var s, u = t("./util"), o = u.isObject, a = t("./es5"); "function" == typeof Map && (s = Map); var h = function () { var t = 0, n = 0; function i(i, e) { this[t] = i, this[t + n] = e, t++ } return function (e) { n = e.size, t = 0; var r = new Array(2 * e.size); return e.forEach(i, r), r } }(); function c(t) { var n, i = !1; if (void 0 !== s && t instanceof s) n = h(t), i = !0; else { var e = a.keys(t), r = e.length; n = new Array(2 * r); for (var u = 0; u < r; ++u) { var o = e[u]; n[u] = t[o], n[u + r] = o } } this.constructor$(n), this.Us = i, this._init$(void 0, i ? -6 : -3) } function f(t) { var i, s = e(t); return o(s) ? (i = s instanceof n ? s.Oi(n.props, void 0, void 0, void 0, void 0) : new c(s).promise(), s instanceof n && i.Mi(s, 2), i) : r("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n") } u.inherits(c, i), c.prototype._init = function () { }, c.prototype.Nr = function (t, n) { this.Hr[n] = t; var i = ++this.zr; if (i >= this.we) { var e; if (this.Us) e = function (t) { for (var n = new s, i = t.length / 2 | 0, e = 0; e < i; ++e) { var r = t[i + e], u = t[e]; n.set(r, u) } return n }(this.Hr); else { e = {}; for (var r = this.length(), u = 0, o = this.length(); u < o; ++u)e[this.Hr[u + r]] = this.Hr[u] } return this.Wr(e), !0 } return !1 }, c.prototype.shouldCopyValues = function () { return !1 }, c.prototype.getActualLength = function (t) { return t >> 1 }, n.prototype.props = function () { return f(this) }, n.props = function (t) { return f(t) } } }, { "./es5": 13, "./util": 36 }], 26: [function (t, n, i) { function e(t) { this.Vs = t, this.we = 0, this.Hs = 0 } e.prototype.Gs = function (t) { return this.Vs < t }, e.prototype.Ni = function (t) { var n = this.length(); this.zs(n + 1); var i = this.Hs + n & this.Vs - 1; this[i] = t, this.we = n + 1 }, e.prototype.push = function (t, n, i) { var e = this.length() + 3; if (this.Gs(e)) return this.Ni(t), this.Ni(n), void this.Ni(i); var r = this.Hs + e - 3; this.zs(e); var s = this.Vs - 1; this[r + 0 & s] = t, this[r + 1 & s] = n, this[r + 2 & s] = i, this.we = e }, e.prototype.shift = function () { var t = this.Hs, n = this[t]; return this[t] = void 0, this.Hs = t + 1 & this.Vs - 1, this.we--, n }, e.prototype.length = function () { return this.we }, e.prototype.zs = function (t) { this.Vs < t && this.qs(this.Vs << 1) }, e.prototype.qs = function (t) { var n = this.Vs; this.Vs = t; var i = this.Hs, e = this.we, r = i + e & n - 1; !function (t, n, i, e, r) { for (var s = 0; s < r; ++s)i[s + e] = t[s + n], t[s + n] = void 0 }(this, 0, this, n, r) }, n.exports = e }, {}], 27: [function (t, n, i) { n.exports = function (n, i, e, r) { var s = t("./util"), u = function (t) { return t.then(function (n) { return o(n, t) }) }; function o(t, o) { var a = e(t); if (a instanceof n) return u(a); if (null === (t = s.asArray(t))) return r("expecting an array or an iterable object but got " + s.classString(t)); var h = new n(i); void 0 !== o && h.Mi(o, 3); for (var c = h.Er, f = h.xi, v = 0, l = t.length; v < l; ++v) { var d = t[v]; (void 0 !== d || v in t) && n.cast(d).Oi(c, f, void 0, h, null) } return h } n.race = function (t) { return o(t, void 0) }, n.prototype.race = function () { return o(this, void 0) } } }, { "./util": 36 }], 28: [function (t, n, i) { n.exports = function (n, i, e, r, s, u) { var o = n.De, a = t("./util"), h = a.tryCatch; function c(t, i, e, r) { this.constructor$(t); var u = o(); this.Ws = null === u ? i : a.domainBind(u, i), void 0 !== e && (e = n.resolve(e)).We(this), this.Xs = e, this.$s = null, this.Qs = r === s ? Array(this.we) : 0 === r ? null : void 0, this.rr.ze(), this._init$(void 0, -5) } function f(t, n) { this.isFulfilled() ? n.Wr(t) : n.xi(t) } function v(t, n, i, r) { if ("function" != typeof n) return e("expecting a function but got " + a.classString(n)); var s = new c(t, n, i, r); return s.promise() } function l(t) { this.accum = t, this.array.Ys(t); var i = r(this.value, this.array.rr); return i instanceof n ? (this.array.$s = i, i.Oi(d, void 0, void 0, this, void 0)) : d.call(this, i) } function d(t) { var i, e = this.array, r = e.rr, s = h(e.Ws); r.Re(), (i = void 0 !== e.Qs ? s.call(r.Li(), t, this.index, this.length) : s.call(r.Li(), this.accum, t, this.index, this.length)) instanceof n && (e.$s = i); var o = r.Ne(); return u.checkForgottenReturns(i, o, void 0 !== e.Qs ? "Promise.each" : "Promise.reduce", r), i } a.inherits(c, i), c.prototype.Ys = function (t) { void 0 !== this.Qs && null !== this.Qs && t !== s && this.Qs.push(t) }, c.prototype.Zs = function (t) { return null !== this.Qs && this.Qs.push(t), this.Qs }, c.prototype._init = function () { }, c.prototype.js = function () { this.Wr(void 0 !== this.Qs ? this.Qs : this.Xs) }, c.prototype.shouldCopyValues = function () { return !1 }, c.prototype.Wr = function (t) { this.rr.Pi(t), this.Hr = null }, c.prototype._resultCancelled = function (t) { if (t === this.Xs) return this.oe(); this.Tr() || (this._resultCancelled$(), this.$s instanceof n && this.$s.cancel(), this.Xs instanceof n && this.Xs.cancel()) }, c.prototype.Ls = function (t) { var i, e; this.Hr = t; var r = t.length; if (void 0 !== this.Xs ? (i = this.Xs, e = 0) : (i = n.resolve(t[0]), e = 1), this.$s = i, !i.isRejected()) for (; e < r; ++e) { var s = { accum: null, value: t[e], index: e, length: r, array: this }; i = i.Oi(l, void 0, void 0, s, void 0) } void 0 !== this.Qs && (i = i.Oi(this.Zs, void 0, void 0, this, void 0)), i.Oi(f, f, void 0, i, this) }, n.prototype.reduce = function (t, n) { return v(this, t, n, null) }, n.reduce = function (t, n, i, e) { return v(t, n, i, e) } } }, { "./util": 36 }], 29: [function (t, n, i) { var e, u, o, h, c, f = t("./util"), l = f.getNativePromise(); if (f.isNode && "undefined" == typeof MutationObserver) { var d = mt.setImmediate, g = process.nextTick; e = f.isRecentNode ? function (t) { d.call(mt, t) } : function (t) { g.call(process, t) } } else if ("function" == typeof l && "function" == typeof l.resolve) { var _ = l.resolve(); e = function (t) { _.then(t) } } else e = "undefined" != typeof MutationObserver && (void 0 === r || !r.navigator || !r.navigator.standalone && !r.cordova) && "classList" in s.documentElement ? (u = s.createElement("div"), o = { attributes: !0 }, h = !1, c = s.createElement("div"), new MutationObserver(function () { u.classList.toggle("foo"), h = !1 }).observe(c, o), function (t) { var n = new MutationObserver(function () { n.disconnect(), t() }); n.observe(u, o), h || (h = !0, c.classList.toggle("foo")) }) : "undefined" != typeof setImmediate ? function (t) { setImmediate(t) } : void 0 !== a ? function (t) { a(t, 0) } : function () { throw new v("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n") }; n.exports = e }, { "./util": 36 }], 30: [function (t, n, i) { n.exports = function (n, i, e) { var r = n.PromiseInspection, s = t("./util"); function u(t) { this.constructor$(t) } s.inherits(u, i), u.prototype.Ks = function (t, n) { this.Hr[t] = n; var i = ++this.zr; return i >= this.we && (this.Wr(this.Hr), !0) }, u.prototype.Nr = function (t, n) { var i = new r; return i.Bi = 33554432, i.Js = t, this.Ks(n, i) }, u.prototype.Cr = function (t, n) { var i = new r; return i.Bi = 16777216, i.Js = t, this.Ks(n, i) }, n.settle = function (t) { return e.deprecated(".settle()", ".reflect()"), new u(t).promise() }, n.prototype.settle = function () { return n.settle(this) } } }, { "./util": 36 }], 31: [function (t, n, i) { n.exports = function (n, i, e) { var r = t("./util"), s = t("./errors").RangeError, u = t("./errors").AggregateError, o = r.isArray, a = {}; function h(t) { this.constructor$(t), this.tu = 0, this.nu = !1, this.uu = !1 } function c(t, n) { if ((0 | n) !== n || n < 0) return e("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n"); var i = new h(t), r = i.promise(); return i.setHowMany(n), i.init(), r } r.inherits(h, i), h.prototype._init = function () { if (this.uu) if (0 !== this.tu) { this._init$(void 0, -5); var t = o(this.Hr); !this.Tr() && t && this.tu > this.ou() && this.xi(this.au(this.length())) } else this.Wr([]) }, h.prototype.init = function () { this.uu = !0, this._init() }, h.prototype.setUnwrap = function () { this.nu = !0 }, h.prototype.howMany = function () { return this.tu }, h.prototype.setHowMany = function (t) { this.tu = t }, h.prototype.Nr = function (t) { return this.fu(t), this.vu() === this.howMany() && (this.Hr.length = this.howMany(), 1 === this.howMany() && this.nu ? this.Wr(this.Hr[0]) : this.Wr(this.Hr), !0) }, h.prototype.Cr = function (t) { return this.du(t), this._u() }, h.prototype.Ir = function () { return this.Hr instanceof n || null == this.Hr ? this.oe() : (this.du(a), this._u()) }, h.prototype._u = function () { if (this.howMany() > this.ou()) { for (var t = new u, n = this.length(); n < this.Hr.length; ++n)this.Hr[n] !== a && t.push(this.Hr[n]); return t.length > 0 ? this.xi(t) : this.oe(), !0 } return !1 }, h.prototype.vu = function () { return this.zr }, h.prototype.wu = function () { return this.Hr.length - this.length() }, h.prototype.du = function (t) { this.Hr.push(t) }, h.prototype.fu = function (t) { this.Hr[this.zr++] = t }, h.prototype.ou = function () { return this.length() - this.wu() }, h.prototype.au = function (t) { var n = "Input array must contain at least " + this.tu + " items but contains only " + t + " items"; return new s(n) }, h.prototype.js = function () { this.xi(this.au(0)) }, n.some = function (t, n) { return c(t, n) }, n.prototype.some = function (t) { return c(this, t) }, n.di = h } }, { "./errors": 12, "./util": 36 }], 32: [function (t, n, i) { n.exports = function (t) { function n(t) { void 0 !== t ? (t = t.ji(), this.Bi = t.Bi, this.Js = t.ns() ? t.Fe() : void 0) : (this.Bi = 0, this.Js = void 0) } n.prototype.Fe = function () { return this.Js }; var i = n.prototype.value = function () { if (!this.isFulfilled()) throw new l("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n"); return this.Fe() }, e = n.prototype.error = n.prototype.reason = function () { if (!this.isRejected()) throw new l("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n"); return this.Fe() }, r = n.prototype.isFulfilled = function () { return 0 != (33554432 & this.Bi) }, s = n.prototype.isRejected = function () { return 0 != (16777216 & this.Bi) }, u = n.prototype.isPending = function () { return 0 == (50397184 & this.Bi) }, o = n.prototype.isResolved = function () { return 0 != (50331648 & this.Bi) }; n.prototype.isCancelled = function () { return 0 != (8454144 & this.Bi) }, t.prototype.yu = function () { return 65536 == (65536 & this.Bi) }, t.prototype.me = function () { return this.ji().yu() }, t.prototype.isCancelled = function () { return 0 != (8454144 & this.ji().Bi) }, t.prototype.isPending = function () { return u.call(this.ji()) }, t.prototype.isRejected = function () { return s.call(this.ji()) }, t.prototype.isFulfilled = function () { return r.call(this.ji()) }, t.prototype.isResolved = function () { return o.call(this.ji()) }, t.prototype.value = function () { return i.call(this.ji()) }, t.prototype.reason = function () { var t = this.ji(); return t.Ge(), e.call(t) }, t.prototype.Br = function () { return this.Fe() }, t.prototype.Pr = function () { return this.Ge(), this.Fe() }, t.PromiseInspection = n } }, {}], 33: [function (t, n, i) { n.exports = function (n, i) { var e = t("./util"), r = e.errorObj, s = e.isObject, u = {}.hasOwnProperty; return function (t, o) { if (s(t)) { if (t instanceof n) return t; var a = function (t) { try { return function (t) { return t.then }(t) } catch (t) { return r.e = t, r } }(t); if (a === r) { o && o.Re(); var h = n.reject(a.e); return o && o.Ne(), h } if ("function" == typeof a) { if (function (t) { try { return u.call(t, "Yr") } catch (t) { return !1 } }(t)) { var h = new n(i); return t.Oi(h.Er, h.xi, void 0, h, null), h } return function (t, s, u) { var o = new n(i), a = o; u && u.Re(), o.ze(), u && u.Ne(); var h = !0, c = e.tryCatch(s).call(t, function (t) { o && (o.Pi(t), o = null) }, function (t) { o && (o.xr(t, h, !0), o = null) }); return h = !1, o && c === r && (o.xr(c.e, !0, !0), o = null), a }(t, a, o) } } return t } } }, { "./util": 36 }], 34: [function (t, n, i) { n.exports = function (n, i, e) { var r = t("./util"), s = n.TimeoutError; function u(t) { this.handle = t } u.prototype._resultCancelled = function () { h(this.handle) }; var o = function (t) { return c(+this).thenReturn(t) }, c = n.delay = function (t, r) { var s, h; return void 0 !== r ? (s = n.resolve(r).Oi(o, null, null, t, void 0), e.cancellation() && r instanceof n && s.Ui(r)) : (s = new n(i), h = a(function () { s.Er() }, +t), e.cancellation() && s.Ui(new u(h)), s.ze()), s.rs(), s }; function f(t) { return h(this.handle), t } function l(t) { throw h(this.handle), t } n.prototype.delay = function (t) { return c(t, this) }, n.prototype.timeout = function (t, n) { var i, o, h = new u(a(function () { i.isPending() && function (t, n, i) { var e; e = "string" != typeof n ? n instanceof v ? n : new s("operation timed out") : new s(n), r.markAsOriginatingFromRejection(e), t.Ae(e), t.xi(e), null != i && i.cancel() }(i, n, o) }, t = +t)); return e.cancellation() ? (o = this.then(), (i = o.Oi(f, l, void 0, h, void 0)).Ui(h)) : i = this.Oi(f, l, void 0, h, void 0), i } } }, { "./util": 36 }], 35: [function (t, n, i) { n.exports = function (n, i, e, r, s, u) { var o = t("./util"), h = t("./errors").TypeError, c = t("./util").inherits, f = o.errorObj, v = o.tryCatch, l = {}; function d(t) { a(function () { throw t }, 0) } function g(t, i) { var r = 0, u = t.length, o = new n(s); return function s() { if (r >= u) return o.Er(); var a = function (t) { var n = e(t); return n !== t && "function" == typeof t.pu && "function" == typeof t.mu && t.pu() && n.bu(t.mu()), n }(t[r++]); if (a instanceof n && a.pu()) { try { a = e(a.mu().tryDispose(i), t.promise) } catch (t) { return d(t) } if (a instanceof n) return a.Oi(s, d, null, null, null) } s() }(), o } function _(t, n, i) { this.Au = t, this.rr = n, this.Tu = i } function w(t, n, i) { this.constructor$(t, n, i) } function y(t) { return _.isDisposer(t) ? (this.resources[this.index].bu(t), t.promise()) : t } function p(t) { this.length = t, this.promise = null, this[t - 1] = null } _.prototype.data = function () { return this.Au }, _.prototype.promise = function () { return this.rr }, _.prototype.resource = function () { return this.promise().isFulfilled() ? this.promise().value() : l }, _.prototype.tryDispose = function (t) { var n = this.resource(), i = this.Tu; void 0 !== i && i.Re(); var e = n !== l ? this.doDispose(n, t) : null; return void 0 !== i && i.Ne(), this.rr.Su(), this.Au = null, e }, _.isDisposer = function (t) { return null != t && "function" == typeof t.resource && "function" == typeof t.tryDispose }, c(w, _), w.prototype.doDispose = function (t, n) { var i = this.data(); return i.call(t, t, n) }, p.prototype._resultCancelled = function () { for (var t = this.length, i = 0; i < t; ++i) { var e = this[i]; e instanceof n && e.cancel() } }, n.using = function () { var t = arguments.length; if (t < 2) return i("you must pass at least 2 arguments to Promise.using"); var r, s = arguments[t - 1]; if ("function" != typeof s) return i("expecting a function but got " + o.classString(s)); var a = !0; 2 === t && Array.isArray(arguments[0]) ? (r = arguments[0], t = r.length, a = !1) : (r = arguments, t--); for (var h = new p(t), c = 0; c < t; ++c) { var l = r[c]; if (_.isDisposer(l)) { var d = l; (l = l.promise()).bu(d) } else { var w = e(l); w instanceof n && (l = w.Oi(y, null, null, { resources: h, index: c }, void 0)) } h[c] = l } for (var m = new Array(h.length), c = 0; c < m.length; ++c)m[c] = n.resolve(h[c]).reflect(); var k = n.all(m).then(function (t) { for (var n = 0; n < t.length; ++n) { var i = t[n]; if (i.isRejected()) return f.e = i.error(), f; if (!i.isFulfilled()) return void k.cancel(); t[n] = i.value() } b.Re(), s = v(s); var e = a ? s.apply(void 0, t) : s(t), r = b.Ne(); return u.checkForgottenReturns(e, r, "Promise.using", b), e }), b = k.lastly(function () { var t = new n.PromiseInspection(k); return g(h, t) }); return h.promise = b, b.Ui(h), b }, n.prototype.bu = function (t) { this.Bi = 131072 | this.Bi, this.Eu = t }, n.prototype.pu = function () { return (131072 & this.Bi) > 0 }, n.prototype.mu = function () { return this.Eu }, n.prototype.Su = function () { this.Bi = -131073 & this.Bi, this.Eu = void 0 }, n.prototype.disposer = function (t) { if ("function" == typeof t) return new w(t, this, r()); throw new h } } }, { "./errors": 12, "./util": 36 }], 36: [function (n, i, e) { var s, u = n("./es5"), a = void 0 === o, h = { e: {} }, c = void 0 !== t ? t : void 0 !== r ? r : void 0 !== mt ? mt : void 0 !== this ? this : null; function f() { try { var t = s; return s = null, t.apply(this, arguments) } catch (t) { return h.e = t, h } } function l(t) { return null == t || !0 === t || !1 === t || "string" == typeof t || "number" == typeof t } function d(t, n, i) { if (l(t)) return t; var e = { value: i, configurable: !0, enumerable: !1, writable: !0 }; return u.defineProperty(t, n, e), t } var _ = function () { var t = [Array.prototype, g.prototype, Function.prototype], n = function (n) { for (var i = 0; i < t.length; ++i)if (t[i] === n) return !0; return !1 }; if (u.isES5) { var i = g.getOwnPropertyNames; return function (t) { for (var e = [], r = g.create(null); null != t && !n(t);) { var s; try { s = i(t) } catch (t) { return e } for (var o = 0; o < s.length; ++o) { var a = s[o]; if (!r[a]) { r[a] = !0; var h = g.getOwnPropertyDescriptor(t, a); null != h && null == h.get && null == h.set && e.push(a) } } t = u.getPrototypeOf(t) } return e } } var e = {}.hasOwnProperty; return function (i) { if (n(i)) return []; var r = []; t: for (var s in i) if (e.call(i, s)) r.push(s); else { for (var u = 0; u < t.length; ++u)if (e.call(t[u], s)) continue t; r.push(s) } return r } }(), w = /this\s*\.\s*\S+\s*=/, y = /^[a-z$_][a-z$_0-9]*$/i; function p(t) { try { return t + "" } catch (t) { return "[no string representation]" } } function m(t) { return t instanceof v || null !== t && "object" == typeof t && "string" == typeof t.message && "string" == typeof t.name } function k(t) { return m(t) && u.propertyIsWritable(t, "stack") } var b = "stack" in new v ? function (t) { return k(t) ? t : new v(p(t)) } : function (t) { if (k(t)) return t; try { throw new v(p(t)) } catch (t) { return t } }; function A(t) { return {}.toString.call(t) } var T = function (t) { return u.isArray(t) ? t : null }; if ("undefined" != typeof Symbol && Symbol.iterator) { var S = "function" == typeof Array.from ? function (t) { return Array.from(t) } : function (t) { for (var n, i = [], e = t[Symbol.iterator](); !(n = e.next()).done;)i.push(n.value); return i }; T = function (t) { return u.isArray(t) ? t : null != t && "function" == typeof t[Symbol.iterator] ? S(t) : null } } var E, I = "undefined" != typeof process && "[object process]" === A(process).toLowerCase(), R = "undefined" != typeof process && void 0 !== process.env, C = { isClass: function (t) { try { if ("function" == typeof t) { var n = u.names(t.prototype), i = u.isES5 && n.length > 1, e = n.length > 0 && !(1 === n.length && "constructor" === n[0]), r = w.test(t + "") && u.names(t).length > 0; if (i || e || r) return !0 } return !1 } catch (t) { return !1 } }, isIdentifier: function (t) { return y.test(t) }, inheritedDataKeys: _, getDataPropertyOrDefault: function (t, n, i) { if (!u.isES5) return {}.hasOwnProperty.call(t, n) ? t[n] : void 0; var e = g.getOwnPropertyDescriptor(t, n); return null != e ? null == e.get && null == e.set ? e.value : i : void 0 }, thrower: function (t) { throw t }, isArray: u.isArray, asArray: T, notEnumerableProp: d, isPrimitive: l, isObject: function (t) { return "function" == typeof t || "object" == typeof t && null !== t }, isError: m, canEvaluate: a, errorObj: h, tryCatch: function (t) { return s = t, f }, inherits: function (t, n) { var i = {}.hasOwnProperty; function e() { for (var e in this.constructor = t, this.constructor$ = n, n.prototype) i.call(n.prototype, e) && "$" !== e.charAt(e.length - 1) && (this[e + "$"] = n.prototype[e]) } return e.prototype = n.prototype, t.prototype = new e, t.prototype }, withAppended: function (t, n) { var i, e = t.length, r = new Array(e + 1); for (i = 0; i < e; ++i)r[i] = t[i]; return r[i] = n, r }, maybeWrapAsError: function (t) { return l(t) ? new v(p(t)) : t }, toFastProperties: function (t) { return t }, filledRange: function (t, n, i) { for (var e = new Array(t), r = 0; r < t; ++r)e[r] = n + r + i; return e }, toString: p, canAttachTrace: k, ensureErrorObject: b, originatesFromRejection: function (t) { return null != t && (t instanceof v.Je.OperationalError || !0 === t.isOperational) }, markAsOriginatingFromRejection: function (t) { try { d(t, "isOperational", !0) } catch (t) { } }, classString: A, copyDescriptors: function (t, n, i) { for (var e = u.names(t), r = 0; r < e.length; ++r) { var s = e[r]; if (i(s)) try { u.defineProperty(n, s, u.getDescriptor(t, s)) } catch (t) { } } }, hasDevTools: "undefined" != typeof chrome && chrome && "function" == typeof chrome.loadTimes, isNode: I, hasEnvVariables: R, env: function (t) { return R ? process.env[t] : void 0 }, global: c, getNativePromise: function () { if ("function" == typeof Promise) try { var t = new Promise(function () { }); if ("[object Promise]" === {}.toString.call(t)) return Promise } catch (t) { } }, domainBind: function (t, n) { return t.bind(n) } }; C.isRecentNode = C.isNode && (process.versions && process.versions.node ? E = process.versions.node.split(".").map(Number) : process.version && (E = process.version.split(".").map(Number)), 0 === E[0] && E[1] > 10 || E[0] > 0), C.isNode && C.toFastProperties(process); try { throw new v } catch (t) { C.lastLineError = t } i.exports = C }, { "./es5": 13 }]}, { }, [4]) (4), null != r ? r.P = r.Promise : null != t && (t.P = t.Promise)}), St = Tt.coroutine; function Et() { return (Et = g.assign || function (t) { for (var n = 1; n < arguments.length; n++) { var i = arguments[n]; for (var e in i) g.prototype.hasOwnProperty.call(i, e) && (t[e] = i[e]) } return t }).apply(this, arguments) } function It() { var t = g.create(null); return t.__ = void 0, delete t.__, t } function Rt() { return new Lt } function Ct(t) { var n = new Lt; for (var i in t) B.call(t, i) && n.set(i, t[i]); return n } var Nt, Dt, xt, Bt, Ot, Pt, Mt, Lt = "undefined" != typeof Map && "entries" in Map.prototype ? Map : (Nt = function () { function t(t, n) { this.index = 0, this.data = t, this.selector = n, this.keys = g.keys(t) } var n = t.prototype; return n.next = function () { var t = this.index; return t < this.keys.length ? (this.index++, { value: this.selector(this.data, this.keys[t]), done: !1 }) : { value: void 0, done: !0 } }, t }(), function () { function t() { this.data = It(), this.size = 0 } var n = t.prototype; return n.get = function (t) { return this.data[t] }, n.set = function (t, n) { return this.has(t) || this.size++, this.data[t] = n, this }, n.has = function (t) { return t in this.data }, n.delete = function (t) { return !!this.has(t) && (this.size--, delete this.data[t], !0) }, n.clear = function () { this.data = It(), this.size = 0 }, n.keys = function () { return new Nt(this.data, function (t, n) { return n }) }, n.values = function () { return new Nt(this.data, function (t, n) { return t[n] }) }, n.entries = function () { return new Nt(this.data, function (t, n) { return [n, t[n]] }) }, n.forEach = function (t) { for (var n in this.data) t(this.data[n], n) }, t }()); var jt, Ft = "urn:mpeg:dash:mp4protection:2011", Ut = "cenc", Vt = "skd", Ht = "com.microsoft.playready", zt = "edef8ba9-79d6-4ace-a3c8-27dcd51d21ed", qt = "94ce86fb-07ff-4f43-adb8-93d2fa968ca2", Gt = "urn:uuid:" + qt; !function (t) { t.Ru = "playready", t.Nu = "widevine", t.Cu = "fairplay", t.Du = "clearkey", t.xu = "aes128" }(jt || (jt = {})); var Wt = { Ou: jt.Ru, Bu: Ht, Pu: "9a04f079-9840-4286-ab92-e65be0885f95", Mu: "urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95", Lu: "PlayReady" }, Xt = { Ou: jt.Nu, Bu: "com.widevine.alpha", Pu: zt, Mu: "urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed", Lu: "Widevine" }, $t = { Ou: jt.Cu, Bu: "com.apple.fps.1_0", Pu: qt, Mu: Gt, Lu: "FairPlay" }, Qt = { Ou: jt.Du, Bu: "org.w3.clearkey", Pu: "1077efec-c0b2-4d02-ace3-3c1e52e2fb4b", Mu: "urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b", Lu: "ClearKey" }, Yt = [Wt, Xt, $t, Qt]; function Zt(t) { t = t.toLowerCase(); for (var n = 0; n < Yt.length; n++) { var i = Yt[n]; if (t === i.Mu) return i } } function Kt(t, n, i) { return t.split(n).join(i) } function Jt(t, n) { return !!t && -1 !== t.indexOf(n) } function tn(t, n) { return !!t && t.substr(0, n.length) === n } function nn(t, n) { return !!t && t.substr(t.length - n.length, n.length) === n } function en(t, n) { return t.toUpperCase() === n.toUpperCase() } function rn(t, n) { if (n |= 0, 0 === t.length || 0 === n) return ""; for (var i = ""; 1 == (1 & n) && (i += t), 0 != (n >>>= 1);)t += t; return i } function sn(t, n, i) { void 0 === i && (i = " "); var e = (n |= 0) - t.length; return e <= 0 ? t : (e > i.length && (i += rn(i, e / i.length)), i.slice(0, e) + t) } function un(t) { for (var n = [], i = 0; i < t.length; i++) { var e = t[i]; e > 65535 && (e -= 65536, n.push(e >>> 10 & 1023 | 55296), e = 56320 | 1023 & e), n.push(e) } return String.fromCharCode.apply(String, n) } function on(t) { return t.replace(/[\\"]/g, function (t) { return "\\" + t }) } var an = (x.fn && Number(x.vn[1])) >= 42 || x.pn && x.An >= 38 || x.dn || x.wn || x.En && x.In >= 29; function hn(t, n) { return Jt(t, "audio") ? { initDataTypes: ["cenc"], audioCapabilities: [Et({ contentType: t }, n ? { robustness: "SW_SECURE_CRYPTO" } : {})] } : { initDataTypes: ["cenc"], videoCapabilities: [Et({ contentType: t }, n ? { robustness: "SW_SECURE_CRYPTO" } : {})] } } function cn() { return void 0 !== o && "function" == typeof o.requestMediaKeySystemAccess } function fn() { return "undefined" != typeof HTMLMediaElement && void 0 !== HTMLMediaElement.prototype.webkitGenerateKeyRequest && void 0 !== HTMLMediaElement.prototype.webkitAddKey && void 0 !== HTMLMediaElement.prototype.webkitCancelKeyRequest } var vn = function () { function t(t) { this.ju = Rt(), this.Fu = void 0, this.Uu = t } var n = t.prototype; return n.Vu = function () { return this.Hu(Xt) }, n.Gu = function () { return this.Hu(Qt) }, n.Wu = function () { return this.Hu(Wt) }, n.Xu = function () { return this.Hu($t) }, n.Hu = function (t) { var n = t.Mu, i = this.ju.get(n); if (i) return i; var e = this.$u(t, 'video/mp4; codecs="avc1.640814"'); return this.ju.set(n, e), e }, n.$u = function () { var t = St(At.mark(function t(n, i) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, t.next = 3, this.Uu.Qu(n.Bu, [hn(i, !0)]); case 3: return t.abrupt("return", !0); case 6: return t.prev = 6, t.t0 = t.catch(0), t.prev = 8, t.next = 11, this.Uu.Qu(n.Bu, [hn(i, !1)]); case 11: return t.abrupt("return", !0); case 14: return t.prev = 14, t.t1 = t.catch(8), t.abrupt("return", !1); case 17: case "end": return t.stop() } }, t, this, [[0, 6], [8, 14]]) })); return function (n, i) { return t.apply(this, arguments) } }(), n.Yu = function () { return this.Fu || (this.Fu = this.Zu()), this.Fu }, n.Zu = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if ("https:" !== Pt.protocol) { t.next = 2; break } return t.abrupt("return", !1); case 2: if (an) { t.next = 4; break } return t.abrupt("return", !1); case 4: return t.next = 6, this.Gu(); case 6: if (!t.sent) { t.next = 8; break } return t.abrupt("return", !1); case 8: return t.abrupt("return", !0); case 9: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), t }(); function ln(t, n) { return gn(t.slice(), n) } function dn(t, n) { var i = gn(t, n); return i !== t && _n(i, void 0, t.length, t), t } function gn(t, n) { var i = t.length; if (i <= 1) return t; for (var e = new Array(i), r = 1; r < i; r *= 2) { _n(t, n, r, e); var s = t; t = e, e = s } return t } function _n(t, n, i, e) { var r, s, u, o, a, h = t.length, c = 0, f = 2 * i; for (r = 0; r < h; r += f)for (u = (s = r + i) + i, s > h && (s = h), u > h && (u = h), o = r, a = s; ;)if (o < s && a < u) n && n(t[o], t[a]) <= 0 ? e[c++] = t[o++] : e[c++] = t[a++]; else if (o < s) e[c++] = t[o++]; else { if (!(a < u)) break; e[c++] = t[a++] } } function wn(t, n, i) { var e = yn(t, n, i); return -1 === e ? void 0 : t[e] } function yn(t, n, i) { for (var e = 0; e < t.length; e += 1) { var r = t[e]; if (n.call(i, r, e, t)) return e } return -1 } function pn(t, n) { var i = t.indexOf(n); return -1 !== i && (mn(t, i), !0) } function mn(t, n) { t.splice(n, 1) } function kn(t, n) { return -1 !== t.indexOf(n) } function bn(t, n) { for (var i = 0; i < n.length; i++) { if (!kn(t, n[i])) return !1 } return !0 } function An(t) { t.length = 0 } function Tn(t, n) { if (t.length !== n.length) return !1; for (var i = 0; i < t.length; i++) { if (!kn(n, t[i])) return !1 } return !0 } function Sn(t) { var n; return (n = []).concat.apply(n, t) } var En = function (t) { function n(n, i) { return t.call(this, n || "Aborted", i) || this } return rt(n, t), T(n, [{ key: "name", get: function () { return "AbortError" } }]), n }(ot); function In(t) { return t instanceof v && "AbortError" === t.name } function Rn(t) { if (t && t.Ku) throw new En } function Cn(t) { if (In(t)) throw t } function Nn(t) { if (!In(t)) throw t } function Dn(t, n) { return n ? new Tt(function (i, e) { if (n.Ku) return t.catch(q), e(new En); var r = function t() { n.Ju(t), e(new En) }; n.uo(r), t.then(function (t) { n.Ju(r), i(t) }, function (t) { n.Ju(r), e(t) }) }) : t } function xn(t, n) { return t.then(function (t) { return n.oo(), t }, function (t) { throw n.oo(), t }) } function Bn(t) { return t && "function" != typeof t ? t.slice() : t } function On(t, n, i) { if (i) if ("function" == typeof i) i.call(t, n); else for (var e = 0; e < i.length; e++) { i[e].call(t, n) } } var Pn = function () { function t(t) { var n = this; this.ao = It(), this.do = function (t) { n._o(t) }, this.po = t || this } var n = t.prototype; return n.mo = function (t, n) { if ("function" == typeof n) if ("string" == typeof t) this.Ao(t, n); else for (var i = 0; i < t.length; i++) { var e = t[i]; this.Ao(e, n) } }, n.Ao = function (t, n) { var i = this.ao[t]; i ? "function" == typeof i ? this.ao[t] = [i, n] : i.push(n) : this.ao[t] = n }, n.To = function () { this.ao = It() }, n._o = function (t) { var n = Bn(this.ao[t.type]); On(this.po, t, n) }, n.So = function (t, n) { if ("function" == typeof n) if ("string" == typeof t) this.Eo(t, n); else for (var i = 0; i < t.length; i++) { var e = t[i]; this.Eo(e, n) } }, n.Eo = function (t, n) { var i = this.ao[t]; i && ("function" == typeof i ? i === n && (this.ao[t] = void 0) : pn(i, n)) }, n.Io = function (t) { if ("string" == typeof t) this.ao[t] = void 0; else for (var n = 0; n < t.length; n++) { var i = t[n]; this.ao[i] = void 0 } }, n.Ro = function (t, n) { var i = this; return new Tt(function (e, r) { if (n && n.Ku) return r(new En); var s = function (t) { o(), e(t) }, u = function () { o(), r(new En) }, o = function () { i.So(t, s), n && n.Ju(u) }; i.mo(t, s), n && n.uo(u) }) }, t }(), Mn = function (t, n) { void 0 === n && (n = new Date), this.type = t, this.date = n }, Ln = function (t) { function n(n) { var i; return (i = t.call(this, "Co") || this).No = n, i } return rt(n, t), n }(Mn), jn = function (t) { function n(n, i, e, r) { var s; return (s = t.call(this, "Do") || this).No = n, s.xo = i, s.Do = e, s.Oo = r, s } return rt(n, t), n }(Mn), Fn = function (t) { function n() { return t.call(this, "Bo") || this } return rt(n, t), n }(Mn), Un = function (t) { function n(n, i) { var e; return (e = t.call(this, "Mo") || this).Po = n, e.Lo = i, e } return rt(n, t), n }(Mn), Vn = function (t) { function n() { return t.call(this, "jo") || this } return rt(n, t), n }(Mn), Hn = new m([0]).buffer, zn = function () { function t() { this.Fo = [] } var n = t.prototype; return n.Uo = function (t) { for (var n = 0, i = this.Fo; n < i.length; n++) { if (i[n][0] === t) return !0 } return !1 }, n.Vo = function (t) { for (var n = 0, i = this.Fo; n < i.length; n++) { var e = i[n]; if (e[0] === t) return e[1] } }, n.Ho = function (t, n) { this.Fo.forEach(function (n) { return t(n[1], n[0]) }, n) }, n.Go = function (t, n) { this.Fo.push([t, n]) }, n.zo = function () { An(this.Fo) }, T(t, [{ key: "qo", get: function () { return this.Fo.length } }]), t }(), qn = function () { function t(t) { void 0 === t && (t = 0), this.Wo = t } var n = t.prototype; return n.Xo = function (t) { this.Wo += t }, n.$o = function (t) { this.Wo = t }, n.Qo = function () { return new t(this.Yo) }, T(t, [{ key: "Yo", get: function () { return this.Wo } }]), t }(), Gn = [128, 64, 32, 16, 8, 4, 2, 1], Wn = 16384, Xn = function () { function t(t) { this.Zo = t } return t.prototype.Ko = function (t) { return $n(this.Zo, t) }, t }(); function $n(t, n) { return (t & n) === n } function Qn(t, n) { return $n(t, Gn[n]) } function Yn(t, n) { var i = t.getUint8(n.Yo); return n.Xo(1), i } function Zn(t, n, i) { t.setUint8(n.Yo, i), n.Xo(1) } function Kn(t, n, i) { var e = Ti(Ii(t), n.Yo, n.Yo + i); return n.Xo(e.byteLength), e } function Jn(t, n, i) { Ii(t).set(Ii(i), n.Yo), n.Xo(i.byteLength) } function ti(t, n, i) { return n.Yo + i <= t.byteLength } function ni(t, n, i, e) { return void 0 === e && (e = !1), e ? function (t, n, i) { for (var e = 0, r = 1, s = 0; s < i; s++)e += Yn(t, n) * r, r *= 256; return e }(t, n, i) : function (t, n, i) { for (var e = 0, r = 0; r < i; r++)e = 256 * e + Yn(t, n); return e }(t, n, i) } function ii(t, n, i) { void 0 === i && (i = !1); var e = t.getUint16(n.Yo, i); return n.Xo(2), e } function ei(t, n, i, e) { void 0 === e && (e = !1), t.setUint16(n.Yo, i, e), n.Xo(2) } function ri(t, n, i) { void 0 === i && (i = !1); var e = t.getUint32(n.Yo, i); return n.Xo(4), e } function si(t, n, i, e) { void 0 === e && (e = !1), t.setUint32(n.Yo, i, e), n.Xo(4) } function ui(t, n) { var i = Yn(t, n); if (i) return String.fromCharCode(i) } function oi(t, n) { return ci(t, n) } function ai(t, n, i) { for (var e = "", r = 0; r < i; r++)e += ui(t, n); return e } function hi(t, n) { var i, e = Yn(t, n); return 0 == (128 & e) ? i = e : 192 == (224 & e) ? i = 64 * (31 & e) + (63 & Yn(t, n)) : 224 == (240 & e) ? i = 4096 * (15 & e) + 64 * (63 & Yn(t, n)) + (63 & Yn(t, n)) : 240 == (248 & e) && (i = 262144 * (7 & e) + 4096 * (63 & Yn(t, n)) + 64 * (63 & Yn(t, n)) + (63 & Yn(t, n))), i } function ci(t, n) { return fi(t, n, !0) } function fi(t, n, i) { for (var e = [], r = []; n.Yo < t.byteLength;) { var s = Yn(t, n); if (i && !s) break; r.push(s), r.length >= Wn && (e.push(String.fromCharCode.apply(String, r)), r.length = 0) } return r.length && e.push(String.fromCharCode.apply(String, r)), e.join("") } function vi(t, n) { if (n.Yo + 2 <= t.byteLength) { var i = t.getUint8(n.Yo), e = t.getUint8(n.Yo + 1); return (254 !== i || 255 !== e) && (255 === i && 254 === e || void 0) } } function li(t, n) { var i = vi(t, n); return void 0 !== i && n.Xo(2), di(t, n, !0 === i) } function di(t, n, i) { return void 0 === i && (i = !1), gi(t, n, i, !0) } function gi(t, n, i, e) { void 0 === i && (i = !1); for (var r = [], s = []; n.Yo + 2 <= t.byteLength;) { var u = ii(t, n, i); if (e && !u) break; s.push(u), s.length >= Wn && (r.push(String.fromCharCode.apply(String, s)), s.length = 0) } return s.length && r.push(String.fromCharCode.apply(String, s)), r.join("") } function _i(t, n, i, e) { void 0 === e && (e = !1); for (var r = i.length, s = 0; s < r; s += 1) { ei(t, n, i.charCodeAt(s), e) } } function wi(t) { return fi(Ei(t), new xi, !1) } function yi(t) { var n = new m(t.length); return function (t, n, i) { for (var e = i.length, r = 0; r < e; r += 1)Zn(t, n, i.charCodeAt(r)) }(Ei(n), new xi, t), n } function pi(t, n) { return void 0 === n && (n = !1), gi(Ei(t), new xi, n, !1) } function mi(t, n) { void 0 === n && (n = !1); var i = new m(2 * t.length); return _i(Ei(i), new xi, t, n), i } function ki(t, n) { return n.Yo + 3 <= t.byteLength && (239 === t.getUint8(n.Yo) && 187 === t.getUint8(n.Yo + 1) && 191 === t.getUint8(n.Yo + 2)) } function bi(t, n) { return function (t, n, i) { var e = [], r = []; ki(t, n) && n.Xo(3); for (; n.Yo < t.byteLength;) { var s = hi(t, n); if (void 0 === s) break; if (i && 0 === s) break; r.push(s), r.length >= Wn && (e.push(un(r)), r.length = 0) } r.length && e.push(un(r)); return e.join("") }(t, n, !0) } function Ai(t, n) { if (ki(t, n)) return bi(t, n); if (void 0 !== vi(t, n)) return li(t, n); if (n.Yo + 4 <= t.byteLength) { if (0 === t.getUint8(n.Yo) && 0 === t.getUint8(n.Yo + 2)) return di(t, n, !1); if (0 === t.getUint8(n.Yo + 1) && 0 === t.getUint8(n.Yo + 3)) return di(t, n, !0) } return bi(t, n) } function Ti(t, n, i) { return void 0 === n && (n = 0), void 0 === i && (i = t.byteLength), new m(t.buffer, t.byteOffset + n, i - n) } function Si(t, n, i) { return void 0 === n && (n = 0), void 0 === i && (i = t.byteLength), new DataView(t.buffer, t.byteOffset + n, i - n) } function Ei(t) { return new DataView(t.buffer, t.byteOffset, t.byteLength) } function Ii(t) { return new m(t.buffer, t.byteOffset, t.byteLength) } function Ri(t) { return t instanceof ArrayBuffer ? new m(t) : Ii(t) } function Ci(t, n, i) { return void 0 === n && (n = 0), void 0 === i && (i = t.byteLength), t.slice ? t.slice(n, i) : Ni(Ti(t, n, i)) } function Ni(t) { if (t.slice) return t.slice(0); var n = new m(t.byteLength); return n.set(t, 0), n } function Di(t) { return [].slice.call(t) } var xi = function () { function t(t) { void 0 === t && (t = 0), this.Wo = t } var n = t.prototype; return n.Xo = function (t) { this.Wo += t }, n.$o = function (t) { this.Wo = t }, n.Qo = function () { return new t(this.Yo) }, n.Jo = function () { return new qn(this.Yo << 3) }, T(t, [{ key: "Yo", get: function () { return this.Wo } }]), t }(); function Bi(t) { var n, i = 0, e = 0; for (0 === t.indexOf("0x") && (t = t.substring(2)), n = new m(_.ceil(t.length / 2)), 1 == (1 & t.length) && (i = 1, n[e++] = w(t[0], 16)); i < t.length; i += 2)n[e++] = w(t.substr(i, 2), 16); return n } var Oi = function () { function t() { var t = this; this._a = new Tt(function (n, i) { t.Wr = n, t.xi = i }) } var n = t.prototype; return n.nh = function (t) { this.Wr && (this.Wr(t), this.oo()) }, n.ih = function (t) { this.xi && (this.xi(t), this.oo()) }, n.eh = function () { this._a.catch(q), this.ih(new En) }, n.oo = function () { this.Wr = void 0, this.xi = void 0 }, t }(), Pi = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""), Mi = 16383, Li = /[\t\n\f\r ]/g; function ji(t) { return 43 === t ? 62 : 47 === t ? 63 : 48 <= t && t <= 57 ? t - 48 + 52 : 65 <= t && t <= 90 ? t - 65 : 97 <= t && t <= 122 ? t - 97 + 26 : Fi() } function Fi() { throw new v("Invalid base64 input") } function Ui(t) { Li.test(t) && (t = t.replace(Li, "")); var n = t.length; n % 4 == 0 && n >= 1 && "=" === t[n - 1] && (n >= 2 && "=" === t[n - 2] ? n -= 2 : n -= 1, t = t.substr(0, n)); var i = n % 4; if (1 === i) return Fi(); for (var e, r = 0 === i ? 0 : 4 - i, s = new m(function (t, n) { return 3 * (t + n) / 4 - n }(n, r)), u = r > 0 ? n - 4 : n, o = 0, a = 0; o < u; o += 4)e = ji(t.charCodeAt(o)) << 18 | ji(t.charCodeAt(o + 1)) << 12 | ji(t.charCodeAt(o + 2)) << 6 | ji(t.charCodeAt(o + 3)), s[a++] = e >> 16 & 255, s[a++] = e >> 8 & 255, s[a++] = 255 & e; return 2 === r ? (e = ji(t.charCodeAt(o)) << 2 | ji(t.charCodeAt(o + 1)) >> 4, s[a++] = 255 & e) : 1 === r && (e = ji(t.charCodeAt(o)) << 10 | ji(t.charCodeAt(o + 1)) << 4 | ji(t.charCodeAt(o + 2)) >> 2, s[a++] = e >> 8 & 255, s[a++] = 255 & e), s } function Vi(t, n, i) { for (var e, r, s, u = [], o = n; o < i; o += 3)u.push((e = t[o], r = t[o + 1], s = t[o + 2], Pi[e >> 2] + Pi[(3 & e) << 4 | r >> 4] + Pi[(15 & r) << 2 | s >> 6] + Pi[63 & s])); return u.join("") } function Hi(t) { for (var n = t.length, i = n % 3, e = [], r = n - i, s = 0; s < r; s += Mi)e.push(Vi(t, s, _.min(r, s + Mi))); if (1 === i) { var u = t[n - 1]; e.push(Pi[u >> 2] + Pi[(3 & u) << 4] + "==") } else if (2 === i) { var o = t[n - 2], a = t[n - 1]; e.push(Pi[o >> 2] + Pi[(3 & o) << 4 | a >> 4] + Pi[(15 & a) << 2] + "=") } return e.join("") } var zi = ["[object Int8Array]", "[object Uint8Array]", "[object Uint8ClampedArray]", "[object Int16Array]", "[object Uint16Array]", "[object Int32Array]", "[object Uint32Array]", "[object Float32Array]", "[object Float64Array]", "[object DataView]"], qi = ArrayBuffer.isView || function (t) { return t && kn(zi, O.call(t)) }; function Gi(t, n) { return t === n || t.byteLength === n.byteLength && Wi(new m(t), new m(n)) } function Wi(t, n) { if (t === n) return !0; if (t.byteLength !== n.byteLength) return !1; for (var i = 0; i < t.length; i += 1)if (t[i] !== n[i]) return !1; return !0 } function Xi(t) { for (var n = 0, i = 0; i < t.length; i++) { n += t[i].byteLength } for (var e = new m(n), r = 0, s = 0; s < t.length; s++) { var u = t[s]; e.set(u, r), r += u.byteLength } return e } function $i(t) { return Ui(t).buffer } function Qi(t) { return Hi(new m(t)) } function Yi(t) { return Hi(yi(t)) } function Zi() { return new m([8, 4]).buffer } function Ki(t) { return Gi(t, Zi()) } function Ji(t, n) { return t === Ht ? function (t) { if (t.byteLength < 2 * te.length) return t; if (pi(new DataView(t, 0, 2 * te.length), !0) === te) return t; return n = t, mi('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">' + Qi(n) + '</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>', !0).buffer; var n }(n) : n } var te = "<PlayReady"; var ne = function () { function t() { this.Ku = !1, this.rh = !1, this.sh = [], this.uh = [] } var n = t.prototype; return n.oh = function () { if (!this.Ku && !this.rh) { this.Ku = !0; for (var t = 0, n = this.sh.slice(); t < n.length; t++) { (0, n[t])() } this.oo() } }, n.oo = function () { if (!this.rh) { this.rh = !0; for (var t = 0, n = this.uh.slice(); t < n.length; t++) { (0, n[t])() } An(this.sh), An(this.uh) } }, n.uo = function (t) { this.rh || this.sh.push(t) }, n.Ju = function (t) { this.rh || pn(this.sh, t) }, n.ah = function (t) { this.rh || this.uh.push(t) }, n.fh = function (t) { this.rh || pn(this.uh, t) }, t }(), ie = function () { function t() { this.vh = new ne } var n = t.prototype; return n.eh = function () { this.vh.oh() }, n.oo = function () { this.vh.oo() }, n.lh = function (t) { var n = this.vh; if (!n.Ku) if (t.Ku) n.oh(); else if (!n.rh && !t.rh) { var i = function () { e(), n.oh() }, e = function e() { t.Ju(i), t.fh(e), n.Ju(i), n.fh(e) }; t.uo(i), t.ah(e), n.uo(i), n.ah(e) } }, n.dh = function () { var n = new t, i = new t, e = n._h, r = i._h, s = this.vh, u = function () { e.Ku && r.rh || r.Ku && e.rh ? s.oh() : e.rh && r.rh && s.oo() }; e.uo(u), r.uo(u), e.ah(u), r.ah(u), n.lh(s), i.lh(s); return s.ah(function () { e.Ju(u), r.Ju(u), e.fh(u), r.fh(u) }), [n, i] }, T(t, [{ key: "_h", get: function () { return this.vh } }]), t }(), ee = Tt.resolve(); function re(t) { ee.then(t) } function se(t) { t.then(q, q) } function ue(t) { return oe.apply(this, arguments) } function oe() { return (oe = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, t.next = 3, Tt.all(n); case 3: return t.abrupt("return", t.sent); case 6: return t.prev = 6, t.t0 = t.catch(0), t.next = 10, Tt.all(n.map(function (t) { return t.catch(q) })); case 10: throw t.t0; case 11: case "end": return t.stop() } }, t, null, [[0, 6]]) }))).apply(this, arguments) } function ae(t, n) { return new Tt(function (i, r) { if (void 0 !== n && n.Ku) r(new En); else { var s = e.gh(function () { void 0 !== n && n.Ju(u), i() }, t), u = function () { e.wh(s), r(new En) }; void 0 !== n && n.uo(u) } }) } function he(t, n) { var i = new ie; return Tt.race([t.then(function (t) { return i.eh(), t }, function (t) { throw i.eh(), t }), ae(n, i._h).then(function () { throw i.oo(), new v("Timeout") })]) } var ce = function (t) { function n(n, i, e, r) { var s; return (s = t.call(this, n, r) || this).yh = i, s.ph = e, s } return rt(n, t), n }(ot), fe = function (t) { function n(n, i) { var e; (e = t.call(this) || this).kh = n, e.Ah = i, e.Th = !1, e.Sh = function () { e.Eh() }, e.Ih = function (t) { e._o(new jn(st(e), t.messageType, Ji(e.Ah, t.message))) }, e.Rh = function () { e.Th = !0, e.Nh.qo > 0 && (e.Nh.zo(), e._o(new Ln(st(e)))), e.kh.removeEventListener("keystatuseschange", e.Sh), e.kh.removeEventListener("message", e.Ih) }, e.kh.addEventListener("keystatuseschange", e.Sh), e.kh.addEventListener("message", e.Ih), e.Nh = new zn; var r = []; return e.kh.closed && r.push(Tt.resolve(e.kh.closed)), e.Ch = new Oi, r.push(e.Ch._a), e.Dh = Tt.race(r).then(e.Rh), e.Eh(), e } rt(n, t); var i = n.prototype; return i.Oh = function () { if (this.Th) return this.Dh; var t = []; return t.push(Tt.resolve(this.kh.close())), t.push(ae(1e3)), this.Ch.nh(Tt.race(t).catch(ve)), this.Th = !0, this.Dh }, i.Bh = function (t, n, i) { return Tt.resolve(this.kh.generateRequest(t, n)).catch(ve) }, i.Ph = function (t) { return Tt.resolve(this.kh.load(t)).catch(ve) }, i.Mh = function () { return Tt.resolve(this.kh.remove()).catch(ve) }, i.Lh = function (t) { return Tt.resolve(this.kh.update(t)).catch(ve) }, i.Eh = function () { var t = this; this.Nh.zo(), this.kh.keyStatuses.forEach(function (n, i) { t.jh(i, n) }), this._o(new Ln(this)) }, i.jh = function (t, n) { if ("string" == typeof t) { var i = t; t = n, n = i } var e = Ri(t); if (this.Ah === Ht && 16 === e.byteLength) { var r = Ei(e), s = r.getUint32(0, !0), u = r.getUint16(4, !0), o = r.getUint16(6, !0); r.setUint32(0, s, !1), r.setUint16(4, u, !1), r.setUint16(6, o, !1) } this.Nh.Go(e, n) }, T(n, [{ key: "Fh", get: function () { return this.Dh } }, { key: "Uh", get: function () { return this.kh.expiration } }, { key: "Vh", get: function () { return this.Nh } }, { key: "Hh", get: function () { return this.kh.sessionId } }]), n }(Pn); function ve(t) { var n; if (t.message) { var i = t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/); i && (n = 0 | w(i[1], 16)) } throw new ce(t.message, void 0, n, t) } var le = function () { function t(t, n) { this.Gh = t, this.Ah = n } var n = t.prototype; return n.qh = function (t) { return new fe(this.Gh.createSession(t), this.Ah) }, n.Wh = function (t) { return Tt.resolve(this.Gh.setServerCertificate(t)) }, n.Xh = function (t) { return Tt.resolve(t.setMediaKeys(this.Gh)) }, n.$h = function (t) { return Tt.resolve(t.setMediaKeys(null)) }, t }(), de = function () { function t(t, n) { this.Qh = t, this.Ah = n } var n = t.prototype; return n.Yh = function () { var t = St(At.mark(function t() { var n; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, this.Qh.createMediaKeys(); case 2: return n = t.sent, t.abrupt("return", new le(n, this.Ah)); case 4: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), n.Zh = function () { return this.Qh.getConfiguration() }, T(t, [{ key: "Kh", get: function () { return this.Qh.keySystem } }]), t }(), ge = function () { function t() { } return t.prototype.Qu = function () { var t = St(At.mark(function t(n, i) { var e; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return i = i.filter(function (t) { return !t.Jh }), t.next = 3, o.requestMediaKeySystemAccess(n, i); case 3: return e = t.sent, t.abrupt("return", new de(e, n)); case 5: case "end": return t.stop() } }, t) })); return function (n, i) { return t.apply(this, arguments) } }(), t.tc = function () { return cn() }, t }(), _e = function (t) { function n(n, i) { var e; return (e = t.call(this) || this).nc = n, e.ic = i, e.Th = !1, e.ec = void 0, e.rc = void 0, e.uc = void 0, e.Rh = function () { e.Th = !0, e.ac.nh(void 0), e.uc && (e.uc.removeEventListener("mskeyclose", e.Rh), e.uc.removeEventListener("mskeymessage", e.hc), e.uc.removeEventListener("mskeyerror", e.cc), e.uc.removeEventListener("mskeyadded", e.fc)) }, e.hc = function (t) { e.rc && (e.rc.nh(void 0), e.rc = void 0), e._o(new jn(st(e), "license-request", Ni(t.message).buffer, t.destinationURL || void 0)) }, e.cc = function () { var t = e.uc && e.uc.error; if (t) { var n = new ce("Unknown CDM error", t.code, t.systemCode); if (e.rc) e.rc.ih(n), e.rc = void 0; else if (e.ec) e.ec.ih(n), e.ec = void 0; else switch (n.yh) { case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT: case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE: e.vc("output-not-allowed"); break; default: e.vc("internal-error") } } }, e.fc = function () { e.rc && (e.vc("usable"), e.rc.nh(void 0), e.rc = void 0), e.ec && (e.vc("usable"), e.ec.nh(void 0), e.ec = void 0) }, e.ac = new Oi, e.lc = new zn, e } rt(n, t); var i = n.prototype; return i.Bh = function () { var t = St(At.mark(function t(n, i, e) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.dc(), this.rc = new Oi, this.qh(Ri(i), e), t.next = 5, this.rc._a; case 5: case "end": return t.stop() } }, t, this) })); return function (n, i, e) { return t.apply(this, arguments) } }(), i.qh = function (t, n) { if (!t) throw new l("Expected initData to be defined but was " + t + "."); var i, e = n && n.playready && n.playready._c; return (i = n ? this.nc.createSession(this.ic, t, e) : this.nc.createSession(this.ic, t)).addEventListener("mskeyclose", this.Rh), i.addEventListener("mskeymessage", this.hc), i.addEventListener("mskeyerror", this.cc), i.addEventListener("mskeyadded", this.fc), this.uc = i, this.vc("status-pending"), i }, i.Ph = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.dc(), t.abrupt("return", !0); case 2: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.Lh = function () { var t = St(At.mark(function t(n) { var i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (this.ec = new Oi, this.dc(), this.uc) { t.next = 4; break } return t.abrupt("return", Tt.resolve()); case 4: if (0 !== (i = Ri(n)).byteLength) { t.next = 7; break } throw new l("Cannot call update with an empty response."); case 7: return this.uc.update(i), t.next = 10, this.ec._a; case 10: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.Oh = function () { return !this.Th && this.uc && (this.Th = !0, this.uc.close()), this.ac._a }, i.Mh = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.dc(), t.abrupt("return"); case 2: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.dc = function () { if (this.Th) throw new l("Already closing or closed.") }, i.vc = function (t) { this.lc.zo(), this.lc.Go(Hn, t), this._o(new Ln(this)) }, T(n, [{ key: "Hh", get: function () { return this.uc && this.uc.sessionId || "" } }, { key: "Uh", get: function () { return NaN } }, { key: "Fh", get: function () { return this.ac._a } }, { key: "Vh", get: function () { return this.lc } }]), n }(Pn), we = function () { function t(t, n) { this.nc = t, this.ic = n } var n = t.prototype; return n.qh = function (t) { return new _e(this.nc, this.ic) }, n.Wh = function (t) { return Tt.resolve(!1) }, n.Xh = function (t) { var n = this; return t.readyState >= 1 ? t.msSetMediaKeys(this.nc) : t.addEventListener("loadedmetadata", function i() { t.msSetMediaKeys(n.nc), t.removeEventListener("loadedmetadata", i) }), Tt.resolve() }, n.$h = function (t) { return Tt.resolve() }, t }(); function ye(t, n, i) { var e = !1, r = { audioCapabilities: [], videoCapabilities: [], persistentState: "optional", distinctiveIdentifier: "optional", initDataTypes: i.initDataTypes, sessionTypes: ["temporary"], label: i.label, Jh: i.Jh }, s = !1; if (i.audioCapabilities) for (var u = 0, o = i.audioCapabilities; u < o.length; u++) { var a = o[u]; if (a.contentType) s = !0, t(n, me(a.contentType)) && (r.audioCapabilities.push(a), e = !0) } if (i.videoCapabilities) for (var h = 0, c = i.videoCapabilities; h < c.length; h++) { var f = c[h]; if (f.contentType) s = !0, t(n, me(f.contentType)) && (r.videoCapabilities.push(f), e = !0) } if (s || (e = t(n, "video/mp4")), "required" === i.persistentState && (r.persistentState = "required", r.sessionTypes = ["persistent-license"]), e) return r } function pe(t) { if (t.videoCapabilities) for (var n = 0, i = t.videoCapabilities; n < i.length; n++) { var e = i[n]; if (e.contentType) return e.contentType } if (t.audioCapabilities) for (var r = 0, s = t.audioCapabilities; r < s.length; r++) { var u = s[r]; if (u.contentType) return u.contentType } } function me(t) { return t.split(";")[0] } var ke = function () { function t(t, n) { this.Ah = t, this.gc = n; var i = pe(n) || "video/mp4"; this.ic = me(i) } var n = t.prototype; return n.Zh = function () { return this.gc }, n.Yh = function () { return Tt.resolve(new we(new Ot.MSMediaKeys(this.Ah), this.ic)) }, T(t, [{ key: "Kh", get: function () { return this.Ah } }]), t }(), be = function () { function t() { } return t.prototype.Qu = function (t, n) { try { return Tt.resolve(function (t, n) { if (!Ae()) throw new l("Unsupported key system " + t); for (var i = 0; i < n.length; i++) { var e = n[i], r = ye(Te, t, e); if (r) return new ke(t, r) } throw new l("Unsupported key system configuration for " + t) }(t, n)) } catch (t) { return Tt.reject(t) } }, t.tc = function () { return Ae() }, t }(); function Ae() { return void 0 !== Ot.MSMediaKeys && "function" == typeof Ot.MSMediaKeys.isTypeSupported } function Te(t, n) { return Ot.MSMediaKeys.isTypeSupported(t, n) } var Se = function (t) { function n(n, i) { var e; return (e = t.call(this) || this).wc = n, e.ic = i, e.ac = new Oi, e.yc = void 0, e.lc = new zn, e.pc = void 0, e.mc = new Oi, e.kc = void 0, e.bc = new Oi, e.cc = function () { var t = e.pc && e.pc.error; if (t) { var n = new ce("Unknown CDM error", t.code, t.systemCode); e.yc ? (e.yc.ih(n), e.yc = void 0) : n.yh === WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT ? e.vc("output-not-allowed") : e.vc("internal-error"), e._o(new Fn) } }, e.hc = function (t) { e.yc && (e.yc.nh(void 0), e.yc = void 0), e._o(new jn(st(e), "license-request", Ni(t.message).buffer, t.destinationURL || void 0)) }, e } rt(n, t); var i = n.prototype; return i.Bh = function () { var t = St(At.mark(function t(n, i, e) { var r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (r = e && e.fairplay && e.fairplay.Ac) { t.next = 3; break } throw new l("Expected FairPlay contentId to be defined but was " + r + "."); case 3: return t.next = 5, this.Tc(Ri(i), r); case 5: this.pc = t.sent, this.vc("usable"), this.mc.nh(this.pc), this.mc = new Oi; case 9: case "end": return t.stop() } }, t, this) })); return function (n, i, e) { return t.apply(this, arguments) } }(), i.Ph = function (t) { return Tt.resolve(!0) }, i.Lh = function () { var t = St(At.mark(function t(n) { var i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (0 !== (i = Ri(n)).byteLength) { t.next = 3; break } throw new l("Cannot call update with an empty response."); case 3: if (this.kc) { t.next = 6; break } return this.Sc(i), t.abrupt("return"); case 6: if (this.yc = new Oi, t.t0 = this.pc, t.t0) { t.next = 12; break } return t.next = 11, this.mc._a; case 11: t.t0 = t.sent; case 12: return t.t0.update(i), t.next = 16, this.yc._a; case 16: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.Oh = function () { var t = this.pc; return t && (t.removeEventListener("webkitkeymessage", this.hc, !1), t.removeEventListener("webkitkeyerror", this.cc, !1), t.close()), this.mc.eh(), this.ac.nh(void 0), this.ac._a }, i.Mh = function () { return Tt.resolve(void 0) }, i.Tc = function () { var t = St(At.mark(function t(n, i) { var e, r, s; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!this.kc) { t.next = 4; break } e = this.kc, t.next = 10; break; case 4: return t.next = 6, ae(0); case 6: return this._o(new jn(this, "license-request", Zi())), t.next = 9, this.bc._a; case 9: e = t.sent; case 10: return r = Ee(n, i, e), (s = this.wc.createSession(this.ic, r)).addEventListener("webkitkeymessage", this.hc, !1), s.addEventListener("webkitkeyerror", this.cc, !1), t.abrupt("return", s); case 15: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.Sc = function (t) { this.kc = t, this.bc.nh(t) }, i.vc = function (t) { this.lc.zo(), this.lc.Go(Hn, t), this._o(new Ln(this)) }, T(n, [{ key: "Hh", get: function () { return this.pc ? this.pc.sessionId : "" } }, { key: "Uh", get: function () { return NaN } }, { key: "Fh", get: function () { return this.ac._a } }, { key: "Vh", get: function () { return this.lc } }]), n }(Pn); function Ee(t, n, i) { var e = 2 * n.length, r = new ArrayBuffer(t.byteLength + 4 + e + 4 + i.byteLength), s = new DataView(r), u = new xi; return Jn(s, u, t), si(s, u, e, !0), _i(s, u, n, !0), si(s, u, i.byteLength, !0), Jn(s, u, i), new m(r) } var Ie = function () { function t(t, n) { this.wc = t, this.ic = n } var n = t.prototype; return n.getInternalMediaKeys = function () { return this.wc }, n.qh = function (t) { return new Se(this.wc, this.ic) }, n.Wh = function (t) { return Tt.resolve(!1) }, n.Xh = function (t) { return t.webkitSetMediaKeys(this.wc), Tt.resolve() }, n.$h = function (t) { return t.webkitSetMediaKeys(null), Tt.resolve() }, t }(), Re = function () { function t(t, n) { this.Ah = t, this.gc = n; var i = pe(n) || "video/mp4"; this.ic = me(i) } var n = t.prototype; return n.Zh = function () { return this.gc }, n.Yh = function () { return Tt.resolve(new Ie(new Ot.WebKitMediaKeys(this.Ah), this.ic)) }, T(t, [{ key: "Kh", get: function () { return this.Ah } }]), t }(), Ce = function () { function t() { } return t.prototype.Qu = function (t, n) { try { return Tt.resolve(function (t, n) { if (!Ne()) throw new l("Unsupported key system " + t); for (var i = 0; i < n.length; i++) { var e = n[i], r = ye(De, t, e); if (r) return new Re(t, r) } throw new l("Unsupported key system configuration for " + t) }(t, n)) } catch (t) { return Tt.reject(t) } }, t.tc = function () { return Ne() }, t }(); function Ne() { return void 0 !== Ot.WebKitMediaKeys && "function" == typeof Ot.WebKitMediaKeys.isTypeSupported } function De(t, n) { return Ot.WebKitMediaKeys.isTypeSupported(t, n) } var xe, Be = function () { function t(t) { this.Ec = t } return t.prototype.Qu = function () { var t = St(At.mark(function t(n, i) { var e, r, s; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: e = 0, r = this.Ec; case 1: if (!(e < r.length)) { t.next = 14; break } return s = r[e], t.prev = 3, t.next = 6, s.Qu(n, i); case 6: return t.abrupt("return", t.sent); case 9: t.prev = 9, t.t0 = t.catch(3); case 11: e++, t.next = 1; break; case 14: throw new l("Unsupported key system configuration for " + n); case 15: case "end": return t.stop() } }, t, this, [[3, 9]]) })); return function (n, i) { return t.apply(this, arguments) } }(), t }(), Oe = function (t) { function n(n) { var i; return (i = t.call(this) || this).Ah = n, i.rc = void 0, i.yc = void 0, i.Ic = !1, i.Rc = void 0, i.Nc = void 0, i.ac = new Oi, i.Cc = "", i.Dc = new Oi, i.xc = new zn, i } rt(n, t); var i = n.prototype; return i.Oc = function () { this.yc && (this.vc("usable"), this.yc.nh(void 0), this.yc = void 0) }, i.Bc = function (t) { var n = t, i = new ce("Unknown CDM error", n.errorCode, n.systemCode); this.yc ? (this.yc.ih(i), this.yc = void 0) : this.rc ? (this.rc.ih(i), this.rc = void 0) : i.yh === WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT ? this.vc("output-restricted") : 1 === i.ph ? this.vc("expired") : this.vc("internal-error") }, i.Pc = function (t) { this.rc && (this.rc.nh(void 0), this.rc = void 0), this._o(new jn(this, "license-request", Ji(this.Ah, Ni(t.message).buffer), t.defaultURL || void 0)) }, i.Mc = function (t) { this.Nc || (this.Nc = t, this.Dc.nh(t)) }, i.Oh = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: this.throwIfClosed(), this.Ic = !0, this.ac.nh(void 0); case 3: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.Bh = function () { var t = St(At.mark(function t(n, i) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (this.throwIfClosed(), this.rc = new Oi, this.Rc = Ri(i), t.t0 = this.Nc, t.t0) { t.next = 8; break } return t.next = 7, this.Dc._a; case 7: t.t0 = t.sent; case 8: return t.t0.webkitGenerateKeyRequest(this.Ah, this.Rc), t.next = 12, this.rc._a; case 12: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.Ph = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.throwIfClosed(), t.abrupt("return", !1); case 2: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.Mh = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: this.throwIfClosed(); case 1: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.Lh = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (this.throwIfClosed(), this.yc = new Oi, t.t0 = this.Nc, t.t0) { t.next = 7; break } return t.next = 6, this.Dc._a; case 6: t.t0 = t.sent; case 7: return t.t0.webkitAddKey(this.Ah, Ri(n), this.Rc, this.Hh), t.next = 11, this.yc._a; case 11: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.throwIfClosed = function () { if (this.Ic) throw new l("Already closing or closed.") }, i.vc = function (t) { this.xc.zo(), this.xc.Go(Hn, t), this._o(new Ln(this)) }, T(n, [{ key: "Vh", get: function () { return this.xc } }, { key: "Hh", get: function () { return this.Cc }, set: function (t) { this.Cc = t } }, { key: "Fh", get: function () { return this.ac._a } }, { key: "Uh", get: function () { return NaN } }]), n }(Pn), Pe = function () { function t(t) { var n = this; this.Ah = t, this.Nc = void 0, this.Lc = Rt(), this.jc = [], this.fc = function (t) { var i = n.Fc(t.sessionId); i && i.Oc() }, this.Uc = function (t) { var i = n.Fc(t.sessionId); i && i.Bc(t) }, this.Vc = function (t) { var i = t, e = n.Fc(i.sessionId); e && e.Pc(i) } } var n = t.prototype; return n.Xh = function (t) { return this.Nc = t, this.Nc.addEventListener("webkitkeyadded", this.fc), this.Nc.addEventListener("webkitkeyerror", this.Uc), this.Nc.addEventListener("webkitkeymessage", this.Vc), this.Lc.forEach(function (n, i) { return n.Mc(t) }), this.jc.forEach(function (n) { return n.Mc(t) }), Tt.resolve() }, n.$h = function (t) { return t.removeEventListener("webkitkeyadded", this.fc), t.removeEventListener("webkitkeyerror", this.Uc), t.removeEventListener("webkitkeymessage", this.Vc), this.Nc = void 0, Tt.resolve() }, n.qh = function (t, n, i) { var e = new Oe(this.Ah); return this.Nc && e.Mc(this.Nc), this.jc.push(e), e }, n.Wh = function (t) { return Tt.resolve(!1) }, n.Fc = function (t) { if (t) { var n = this.Lc.get(t); return n || ((n = this.jc.shift()) ? (n.Hh = t, this.Lc.set(t, n), n) : void 0) } }, t }(), Me = function () { function t(t, n) { this.Kh = t, this.Hc = n } var n = t.prototype; return n.Yh = function () { return Tt.resolve(new Pe(this.Kh)) }, n.Zh = function () { return this.Hc }, t }(); function Le(t) { t && t.parentNode && t.parentNode.removeChild(t) } function je(t) { if (t) for (var n; n = t.firstChild;)t.removeChild(n) } function Fe(t) { var n = t.className; return "string" == typeof n ? n : n && "string" == typeof n.baseVal ? n.baseVal : "" } function Ue(t, n) { var i = t.className; "string" == typeof i ? t.className = n : i && "string" == typeof i.baseVal && (i.baseVal = n) } function Ve(t, n) { return void 0 !== t.classList ? t.classList.contains(n) : void 0 !== t.className && -1 !== (" " + Fe(t) + " ").indexOf(" " + n + " ") } function He(t, n) { if (void 0 !== t.classList) t.classList.add(n); else if (void 0 !== t.className) { var i = Fe(t); -1 === (" " + i + " ").indexOf(" " + n + " ") && Ue(t, (i + " " + n).trim()) } } function ze(t, n) { if (void 0 !== t.classList) t.classList.remove(n); else if (void 0 !== t.className) { for (var i = " " + Fe(t) + " ", e = " " + n + " "; -1 !== i.indexOf(e);)i = i.replace(e, " "); Ue(t, i.trim()) } } function qe(t, n, i) { void 0 === i && (i = !Ve(t, n)), i ? He(t, n) : ze(t, n) } function Ge(t) { t.stopPropagation() } function We(t, n, i) { t.display = n, "none" !== t.display && "" !== t.display || (t.display = i) } function Xe(t, n) { var i = n.style; if (i) for (var e in t) i[e] = t[e] } function $e(t) { var n = t.style; n.position = "absolute", n.left = "0", n.right = "0", n.top = "0", n.bottom = "0", n.width = "100%", n.height = "100%" } function Qe(t) { t.removeAttribute("title") } function Ye(t) { return "video" === ((n = t) && n.nodeName && n.nodeName.toLowerCase() || ""); var n } function Ze(t) { t.src && (t.removeAttribute("src"), t.load()) } function Ke() { return void 0 !== s ? s.createElement("video") : void 0 } function Je() { return xe || (xe = Ke()), xe } var tr, nr = function () { function t() { } return t.prototype.Qu = function (t, n) { try { return Tt.resolve(ir(t, n)) } catch (t) { return Tt.reject(t) } }, t.tc = function () { return fn() }, t }(); function ir(t, n) { if (!nr.tc()) throw new l("Unsupported key system " + t); for (var i = 0; i < n.length; i++) { var e = ye(er, t, n[i]); if (e) return new Me(t, e) } throw new l("Unsupported key system configuration for " + t) } function er(t, n) { var i = Je(); return !(!i || !i.canPlayType || "" === i.canPlayType(n, t)) } function rr() { return tr || (tr = function () { var t = []; ge.tc() && t.push(new ge); be.tc() && t.push(new be); Ce.tc() && t.push(new Ce); nr.tc() && t.push(new nr); return new Be(t) }()), tr } var sr, ur = function () { function n() { this.Gc = new ht, this.zc = new or, this.qc = void 0, t.performance && t.performance.now ? this.Wc = function () { return t.performance.now() } : this.Wc = it } var i = n.prototype; return i.Xc = function () { K.apply(void 0, arguments) }, i.$c = function () { J.apply(void 0, arguments) }, i.Qc = function () { tt.apply(void 0, arguments) }, i.Yc = function (t) { for (var n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), e = 1; e < n; e++)i[e - 1] = arguments[e]; nt.apply(void 0, [t].concat(i)) }, i.gh = function (t, n) { return a(t, n) }, i.Zc = function (t, n) { return c(t, n) }, i.wh = function (t) { h(t) }, i.Kc = function (t) { f(t) }, i.Mn = function (t) { return this.Gc.Mn(t) }, i.Yu = function () { return this.Jc.Yu() }, i.Gu = function () { return this.Jc.Gu() }, i.Xu = function () { return this.Jc.Xu() }, i.Wu = function () { return this.Jc.Wu() }, i.Vu = function () { return this.Jc.Vu() }, i.$u = function (t, n) { return this.Jc.$u(t, n) }, i.Hu = function (t) { return this.Jc.Hu(t) }, T(n, [{ key: "Jc", get: function () { return this.qc || (this.qc = new vn(rr())), this.qc } }, { key: "tf", get: function () { return this.zc } }]), n }(), or = function () { function t() { } return T(t, [{ key: "nf", get: function () { return o.oscpu } }, { key: "if", get: function () { return o.platform } }, { key: "ef", get: function () { return o.vendor } }, { key: "rf", get: function () { return o.vendorSub } }]), t }(); sr = new ur, e = sr; var ar = function (t) { function n() { var n; return (n = t.apply(this, arguments) || this).sf = void 0, n } rt(n, t); var i = n.prototype; return i.uf = function (t) { if ("function" == typeof t) { var n = this.sf; n ? "function" == typeof n ? this.sf = [n, t] : n.push(t) : this.sf = t } }, i.hf = function (t) { var n = this.sf; n && ("function" == typeof n ? n === t && (this.sf = void 0) : pn(n, t)) }, i.To = function () { t.prototype.To.call(this), this.sf = void 0 }, i._o = function (n) { var i = Bn(this.sf); t.prototype._o.call(this, n), On(this.po, n, i) }, n }(Pn), hr = function (t) { function n() { return t.apply(this, arguments) || this } return rt(n, t), n }(ar), cr = function (t) { function n(n, i) { var e; return (e = t.call(this, n, i) || this).cf = void 0, e } return rt(n, t), T(n, [{ key: "vf", get: function () { return this.cf || (this.cf = this.lf()), this.cf } }]), n }(Mn); var fr = function (t) { function n(n) { return t.call(this, n) || this } return rt(n, t), n }(cr), vr = function (t) { function n(n) { return t.call(this, n) || this } return rt(n, t), n }(Mn), lr = function (t) { function n(n) { var i; return (i = t.call(this, "_f") || this).df = n, i } return rt(n, t), n.prototype.lf = function () { return new dr(this.df.vf) }, n }(fr), dr = function (t) { function n(n) { var i; return (i = t.call(this, "addtrack") || this).track = n, i } return rt(n, t), n }(vr), gr = function (t) { function n(n) { var i; return (i = t.call(this, "gf") || this).df = n, i } return rt(n, t), n.prototype.lf = function () { return new _r(this.df.vf) }, n }(fr), _r = function (t) { function n(n) { var i; return (i = t.call(this, "removetrack") || this).track = n, i } return rt(n, t), n }(vr), wr = function (t) { function n() { var n; return (n = t.call(this) || this).wf = [], n } rt(n, t); var i = n.prototype; return i.yf = function (t) { return this.wf[t] }, i.pf = function (t) { return !(!t || kn(this.wf, t)) && (this.wf.push(t), this.cf && this.cf.push(t.vf), t.mo("mf", this.do), this._o(new lr(t)), !0) }, i.kf = function (t) { if (!t) return !1; var n = this.wf.indexOf(t); return !(n < 0) && (mn(this.wf, n), this.cf && mn(this.cf, n), t.So("mf", this.do), t.So("Lh", this.do), this._o(new gr(t)), !0) }, i.bf = function () { for (var t = this.wf, n = t.length - 1; n >= 0; n -= 1)this.kf(t[n]) }, i.Af = function () { this.To(), this.bf() }, T(n, [{ key: "Tf", get: function () { return this.wf } }, { key: "vf", get: function () { return this.cf || (this.cf = this.lf()), this.cf } }, { key: "Sf", get: function () { return this.wf.length } }]), n }(hr), yr = function (t) { function n() { var n; return (n = t.call(this) || this).Ef = void 0, n.If = function (t) { var i = t.df; n.pf(i) }, n.Rf = function (t) { var i = t.df; n.kf(i) }, n.Nf = function (t) { "_f" !== t.type && "gf" !== t.type && "mf" !== t.type && n.do(t) }, n } rt(n, t); var i = n.prototype; return i.Cf = function (t) { t.mo("_f", this.If), t.mo("gf", this.Rf), t.uf(this.Nf) }, i.Df = function (t) { t.So("_f", this.If), t.So("gf", this.Rf), t.hf(this.Nf) }, i.Af = function () { this.Ef && this.Ef.Af(), t.prototype.Af.call(this) }, T(n, [{ key: "xf", get: function () { return this.Ef }, set: function (t) { var n = this.Ef; if (t !== n) { if (n) { for (var i = n.Sf - 1; i >= 0; i -= 1)this.kf(n.yf(i)); this.Df(n) } if (this.Ef = t, t) { for (var e = 0; e < t.Sf; e++)this.pf(t.yf(e)); this.Cf(t) } } } }]), n }(wr); function pr(t, n, i) { return new Tt(function (e, r) { if (i && i.Ku) return r(new En); var s = function (t) { o(), e(t) }, u = function () { o(), r(new En) }, o = function () { t.removeEventListener(n, s), i && i.Ju(u) }; t.addEventListener(n, s), i && i.uo(u) }) } var mr = function (t) { function n(n, i) { var e; return (e = t.call(this, i) || this).Of = function (t) { var n; (n = t) && n.vf && re(function () { e._o(t.vf) }) }, e.Bf = n, e.Pf(), e } rt(n, t); var i = n.prototype; return i.Pf = function () { this.Bf.uf(this.Of) }, i.Mf = function () { this.Bf.hf(this.Of) }, n }(ar), kr = function (t) { function n() { return t.apply(this, arguments) || this } return rt(n, t), n }(mr), br = g.freeze || G; function Ar(t, n, i) { g.defineProperty(t, n, { writable: !1, enumerable: !0, value: i }) } function Tr(t) { return br(t) } function Sr(t, n) { for (var i = 0, e = g.getOwnPropertyNames(n); i < e.length; i++) { var r = e[i]; g.defineProperty(t, r, g.getOwnPropertyDescriptor(n, r)) } return t } function Er(t) { if (F(t)) { var n = {}; for (var i in t) B.call(t, i) && (n[i] = Er(t[i])); return n } if (M(t)) { for (var e = new Array(t.length), r = 0; r < e.length; r++)r in t && (e[r] = Er(t[r])); return e } return t } function Ir(t, n) { return t === n || !(!t || !n) && (!(!j(t) || !j(n)) && (L(t) ? !!L(n) && function (t, n) { var i = t.length, e = n.length; if (i !== e) return !1; for (var r = 0; r < i; r += 1)if (!Ir(t[r], n[r])) return !1; return !0 }(t, n) : !L(n) && function (t, n) { var i = g.keys(t), e = g.keys(n); if (!i || !e || i.length !== e.length) return !1; for (var r = 0; r < i.length; r++) { var s = i[r]; if (!B.call(n, s) || !Ir(t[s], n[s])) return !1 } return !0 }(t, n))) } function Rr(t, n) { if (!j(t)) return !1; for (var i = 0; i < n.length; i++) { if (!(n[i] in t)) return !1 } return !0 } function Cr(t, n) { return t.constructor === n.constructor } function Nr(t) { for (var n = {}, i = 0, e = g.keys(t); i < e.length; i++) { var r = e[i], s = t[r]; null != s && (n[r] = s) } return n } function Dr(t) { for (var n = {}, i = 0, e = g.keys(t); i < e.length; i++) { var r = e[i], s = t[r]; if (L(s)) { for (var u = [], o = 0; o < s.length; o += 1) { var a = s[o]; if (null != a) { var h = j(a) ? Dr(a) : a; u.push(h) } } n[r] = u } else null != s && (n[r] = j(s) ? Dr(s) : s) } return n } function xr(t) { if ("string" == typeof t) { if ("true" === (t = t.toLowerCase())) return !0; if ("false" === t) return !1 } return !!t } function Br(t) { return "string" == typeof t ? "" === t ? NaN : +t : "boolean" == typeof t || null == t || t instanceof Date || "number" != typeof +t && !t ? NaN : +t } function Or(t) { return "string" == typeof t ? t : "" } function Pr(t, n) { return L(t) ? function (t, n) { if (!L(t)) return []; for (var i = 0 | t.length, e = new Array(i), r = 0; r < i; r++)e[r] = n(t[r]); return e }(t, n) : n(t) } function Mr(t) { for (var n = [], i = new kr(t, n), e = 0; e < t.Sf; e++)n[e] = t.yf(e).vf; return n.item = function (n) { n |= 0; var i = t.yf(n); return i && i.vf || void 0 }, n.addEventListener = function (t, n) { i.mo(t, n) }, n.removeEventListener = function (t, n) { i.So(t, n) }, n } function Lr() { } function jr(t) { var n, i = { get activeQuality() { return t.Lf && t.Lf.vf }, get enabled() { return t.jf }, set enabled(n) { t.jf = xr(n) }, get id() { return t.Ff }, get uid() { return t.Uf }, get kind() { return t.Vf }, get label() { return t.Hf }, set label(n) { t.Hf = Or(n) }, get language() { return t.Gf }, get qualities() { return t.zf.vf }, set targetQuality(n) { var i; (i = n ? function (t, n) { for (var i = [], e = 0; e < t.zf.Sf; e++)for (var r = t.zf.yf(e), s = 0; s < n.length; s++)r.vf === n[s] && i.push(r); return i }(t, M(n) ? n : [n]) : []).length > 0 ? t.qf = i : t.qf = void 0 }, get targetQuality() { if (t.qf) return 1 === t.qf.length ? t.qf[0].vf : t.qf.map(function (t) { return t.vf }) }, addEventListener: function (t, i) { n.mo(Or(t), i) }, removeEventListener: function (t, i) { n.So(Or(t), i) } }; return n = new kr(t, i), g.defineProperty(i, "constructor", { value: Lr }), i } function Fr() { } function Ur(t) { var n = Mr(t); return g.defineProperty(n, "constructor", { value: Fr }), n } var Vr, Hr = function (t) { function n() { return t.apply(this, arguments) || this } return rt(n, t), n.prototype.lf = function () { return Ur(this) }, n }(yr); function zr(t) { if ("string" == typeof t) switch (t = t.toLowerCase()) { case Vr.Wf: case Vr.Xf: case Vr.$f: return t } else if ("number" == typeof t) switch (t) { case 0: return Vr.Wf; case 1: return Vr.Xf; case 2: return Vr.$f }return Vr.Wf } function qr() { } function Gr(t) { var n, i = { get kind() { return t.Vf }, get label() { return t.Hf }, set label(n) { t.Hf = Or(n) }, get language() { return t.Gf }, get id() { return t.Ff }, get uid() { return t.Uf }, get inBandMetadataTrackDispatchType() { return t.Qf }, get mode() { return t.Yf }, get type() { return t.Ou }, set mode(n) { n !== Vr.$f && n !== Vr.Xf && n !== Vr.Wf || (t.Yf = n) }, get readyState() { return $r(t.Zf) }, get cues() { return t.Yf === Vr.Wf ? null : t.Kf.vf }, get activeCues() { return t.Yf === Vr.Wf ? null : t.Jf.vf }, get src() { return t.tv || "" }, addEventListener: function (t, i) { n.mo(t, i) }, removeEventListener: function (t, i) { n.So(t, i) } }; return n = new kr(t, i), g.defineProperty(i, "constructor", { value: qr }), i } function Wr() { } function Xr(t) { var n = Mr(t); return g.defineProperty(n, "constructor", { value: Wr }), n } function $r(t) { return t } !function (t) { t.Wf = "disabled", t.Xf = "hidden", t.$f = "showing" }(Vr || (Vr = {})); var Qr, Yr = function (t) { function n() { return t.apply(this, arguments) || this } return rt(n, t), n.prototype.lf = function () { return Xr(this) }, n }(yr); !function (t) { t.DEFAULT = "", t.THEO = "theo", t.GOOGLE_IMA = "google-ima", t.SPOTX = "spotx", t.FREEWHEEL = "freewheel" }(Qr || (Qr = {})); var Zr, Kr, Jr, ts, ns, is, es, rs = function () { var t = function () { function t() { this.ev = [] } var n = t.prototype; return n.rv = function (t) { var n = this.uv.filter(function (n) { return n.ov(t) }); if (n.length > 1) 0; else if (0 === n.length) throw v("Unknown ad integration: " + t.integration); return n[0] || null }, n.hv = function (t) { this.ev.push(t) }, T(t, [{ key: "uv", get: function () { return this.ev } }]), t }(); return t.q = new t, t }(); function ss(t) { switch (t) { case "": case "srt": case "ttml": case "webvtt": case "emsg": case "eventstream": case "id3": case "cea608": case "daterange": return !0; default: return !1 } } !function (t) { t.fv = "PLAYING", t.vv = "PAUSED", t._v = "SEEK", t.wv = "STALLED", t.yv = "FAILED", t.pv = "INITIAL_BUFFERING", t.mv = "NO_ACCESS" }(Zr || (Zr = {})), function (t) { t.bv = "HTTP_REQUEST_STATUS_CODE_1XX", t.Av = "HTTP_REQUEST_STATUS_CODE_2XX", t.Tv = "HTTP_REQUEST_STATUS_CODE_3XX", t.Sv = "HTTP_REQUEST_STATUS_CODE_4XX", t.Ev = "HTTP_REQUEST_STATUS_CODE_5XX", t.Iv = "BUFFER_LENGTH", t.Rv = "BYTES_RECEIVED", t.Nv = "SEGMENT_READ_BITRATE", t.Cv = "SEGMENT_PROFILE_BITRATE", t.Dv = "NUMBER_OF_FRAMES_DROPPED", t.xv = "PLAYBACK_POSITION", t.Ov = "NUMBER_OF_FRAMES_DECODED", t.Bv = "PLAYBACK_DELTA_TO_ORIGIN", t.Pv = "STREAM_DELTA_TO_ORIGIN", t.Mv = "ORIGIN_TIMESTAMP" }(Kr || (Kr = {})), function (t) { t.Lv = "MANIFEST_URI", t.Fv = "ASSET_DURATION", t.Uv = "NUMBER_OF_CONTENT_PROFILES", t.Vv = "CDN", t.Hv = "CONTENT_TITLE", t.Gv = "SERVICE_NAME", t.zv = "CONTENT_TYPE", t.qv = "CONTENT_DESCRIPTION" }(Jr || (Jr = {})), function (t) { t.Wv = "shutdown_normal_shutdown" }(ts || (ts = {})), function (t) { t.Xv = "session/", t.$v = "internalError/", t.Qv = "drmError/", t.Yv = "caError/", t.Zv = "networkError/" }(ns || (ns = {})), function (t) { t.Kv = "userAction", t.Jv = "endOfStreamReached" }(is || (is = {})), function (t) { t.il = "contentprotectionerror", t.ol = "contentprotectionsuccess", t.al = "currentsourcechange", t.hl = "destroy", t.cl = "durationchange", t.fl = "emptied", t.vl = "encrypted", t.ll = "ended", t.dl = "loadstart", t._l = "manifestupdate", t.wl = "nosupportedrepresentationfound", t.yl = "pause", t.bl = "play", t.Al = "progress", t.Tl = "ratechange", t.Sl = "representationchange", t.El = "resize", t.Il = "seeked", t.Rl = "seeking", t.Nl = "segmentnotfound", t.Cl = "sourcechange", t.Dl = "timeupdate", t.xl = "volumechange", t.Ol = "Bl" }(es || (es = {})); var us, os, as = function (t) { function n(n, i) { var e; return (e = t.call(this) || this).Sf = n.length >> 1, e.Pl = n, e.Ml = i || function (t) { for (var n = new Array(2 * t), i = 0, e = 0; i < t; i += 1, e += 2)n[e] = !0, n[e + 1] = !1; return n }(e.Sf), e } rt(n, t); var i = n.prototype; return i.Ll = function (t) { return this.Pl[2 * t] }, i.jl = function (t) { return this.Ml[2 * t] }, i.Fl = function (t) { return this.Pl[2 * t + 1] }, i.Ul = function (t) { return this.Ml[2 * t + 1] }, T(n, [{ key: "Vl", get: function () { return this.Pl.slice() } }]), n }(function () { function t() { } var n = t.prototype; return n.Hl = function (t, n) { return 0 === this.Gl(t, n) }, n.zl = function (t, n) { return this.Gl(t, n) > 0 }, n.ql = function (t, n) { return this.Gl(t, n) >= 0 }, n.Wl = function (t, n) { return this.Gl(t, n) < 0 }, n.Xl = function (t, n) { return this.Gl(t, n) <= 0 }, n.$l = function (t, n) { return this.Wl(t, n) ? t : n }, n.Ql = function (t, n) { return this.zl(t, n) ? t : n }, n.Yl = function (t, n, i) { return i ? this.Xl(t, n) : this.Wl(t, n) }, n.Zl = function (t, n, i) { return this.Yl(t, n, i) }, n.Kl = function (t, n, i) { return this.Yl(n, t, i) }, n.Jl = function () { var t = this; return { get length() { return t.Sf }, start: function (n) { return n |= 0, t.td(n), t.ed(t.Ll(n)) }, end: function (n) { return n |= 0, t.td(n), t.ed(t.Fl(n)) } } }, n.rd = function () { for (var t = new Array(2 * this.Sf), n = new Array(2 * this.Sf), i = 0; i < this.Sf; i++)t[2 * i] = this.Ll(i), t[2 * i + 1] = this.Fl(i), n[2 * i] = n[2 * i + 1] = !0; return this.ud(t, n) }, n.td = function (t) { if (t < 0) throw new v("The index provided (" + t + ") must be non-negative"); if (t >= this.Sf) throw new v("The index provided (" + t + ") is greater than the maximum bound (" + this.Sf + ")") }, n.od = function (t) { if (0 === this.Sf) return this.hd(); if (this.fd(t)) return t; if (this.Xl(t, this.Ll(0))) return this.Ll(0); if (this.ql(t, this.Fl(this.Sf - 1))) return this.Fl(this.Sf - 1); for (var n, i = this.vd(), e = 0; e < this.Sf; e++) { var r = this.Ll(e), s = this.ld(r, t); this.Wl(s, i) && (n = r, i = s); var u = this.Fl(e), o = this.ld(this.Fl(e), t); this.Wl(o, i) && (n = u, i = o) } return n }, n.dd = function (t) { for (var n = 0, i = 0, e = [], r = []; n < this.Sf && i < t.Sf;) { var s = this.Ll(n), u = this.Fl(n), o = this.jl(n), a = this.Ul(n), h = t.Ll(i), c = t.Fl(i), f = t.jl(i), v = t.Ul(i), l = this.Ql(s, h), d = this.$l(u, c), g = void 0; g = this.Hl(s, h) ? o || f : this.Hl(l, s) ? o : f; var _ = void 0; _ = this.Hl(u, c) ? a || v : this.Hl(d, u) ? a : v, (this.Wl(l, d) || g && _ && this.Hl(l, d)) && (e.push(l, d), r.push(g, _)); var w = this.Gl(this.Fl(n), t.Fl(i)); 0 === w ? (n += 1, i += 1) : w < 0 ? n += 1 : i += 1 } return this.ud(e, r) }, n._d = function () { var t = this.wd(), n = t.Sf; if (0 === n) return this.ud([t.yd(), t.vd()], [!1, !1]); var i = [], e = [], r = t.Ll(0); t.Hl(r, t.yd()) || (i.push(t.yd(), r), e.push(!1, !t.jl(0))); for (var s = 0; s < n - 1; s++)i.push(t.Fl(s), t.Ll(s + 1)), e.push(!t.Ul(s), !t.jl(s + 1)); var u = t.Fl(n - 1); return t.Hl(u, t.vd()) || (i.push(u, t.vd()), e.push(!t.Ul(n - 1), !1)), t.ud(i, e) }, n.pd = function (t) { for (var n = 0, i = 0, e = this.Sf, r = t.Sf, s = new Array(2 * (e + r)), u = new Array(2 * (e + r)), o = 0; n < e && i < r;) { var a = this.Ll(n), h = this.Fl(n), c = t.Ll(i), f = t.Fl(i); this.Wl(a, c) || this.Hl(a, c) && this.Wl(h, f) ? (s[o] = a, s[o + 1] = h, u[o] = this.jl(n), u[o + 1] = this.Ul(n), n++) : (s[o] = c, s[o + 1] = f, u[o] = t.jl(i), u[o + 1] = t.Ul(i), i++), o += 2 } for (; n < e;)s[o] = this.Ll(n), s[o + 1] = this.Fl(n), u[o] = this.jl(n), u[o + 1] = this.Ul(n), n++, o += 2; for (; i < r;)s[o] = t.Ll(i), s[o + 1] = t.Fl(i), u[o] = t.jl(i), u[o + 1] = t.Ul(i), i++, o += 2; return this.ud(s, u) }, n.md = function (t) { void 0 === t && (t = this.hd()); var n = this.Sf; if (n < 2) return this; for (var i = [], e = [], r = this.Ll(0), s = this.Fl(0), u = this.jl(0), o = this.Ul(0), a = 1; a < n; a++) { var h = this.Ll(a), c = this.Fl(a), f = this.jl(a), v = this.Ul(a); this.Wl(r, h) && this.zl(s, c) || (this.Hl(r, h) && (u = f = u || f), this.Hl(s, c) && (o = v = o || v), this.Zl(h, this.kd(s, t), o || f) ? (s = c, o = v) : (i.push(r, s), e.push(u, o), r = h, s = c, u = f, o = v)) } return i.push(r, s), e.push(u, o), this.ud(i, e).wd() }, n.wd = function () { for (var t = [], n = [], i = 0; i < this.Sf; i++) { var e = this.Ll(i), r = this.Fl(i), s = this.jl(i), u = this.Ul(i); this.Hl(e, r) ? (s || u) && (t.push(e, r), n.push(!0, !0)) : (t.push(e, r), n.push(s, u)) } return this.ud(t, n) }, n.bd = function (t) { return this.Sf ? t.Sf ? this.pd(t).md() : this : t }, n.Td = function (t) { var n = this.wd(), i = t.wd(), e = n._d(), r = i._d(), s = e.dd(i), u = r.dd(n); return s.bd(u) }, n.Xo = function (t) { for (var n = [], i = [], e = 0; e < this.Sf; e++) { var r = this.kd(this.Ll(e), t), s = this.kd(this.Fl(e), t); n.push(r, s), i.push(this.jl(e), this.Ul(e)) } return this.ud(n, i) }, n.Sd = function (t) { return this.wd().dd(t.wd()._d()) }, n.fd = function (t, n) { return this.Ed(t, n) >= 0 }, n.Id = function (t, n, i, e, r) { return this.Rd(t, n, i, e, r) >= 0 }, n.Nd = function (t, n, i) { return this.Cd(t, n, i) >= 0 }, n.Dd = function (t) { if (t.Sf !== this.Sf) return !1; for (var n = 0; n < this.Sf; n++)if (!this.Hl(this.Ll(n), t.Ll(n)) || !this.Hl(this.Fl(n), t.Fl(n)) || this.jl(n) !== t.jl(n) || this.Ul(n) !== t.Ul(n)) return !1; return !0 }, n.xd = function (t) { for (var n = [], i = [], e = 0; e < this.Sf; e++)t(this.Ll(e), this.Fl(e)) && (n.push(this.Ll(e), this.Fl(e)), i.push(this.jl(e), this.Ul(e))); return this.ud(n, i) }, n.Cd = function (t, n, i) { void 0 === i && (i = this.hd()), t = this.Od(t, i), n = this.kd(n, i); for (var e = 0; e < this.Sf; e += 1)if (this.Kl(n, this.Ll(e), this.jl(e)) && this.Zl(t, this.Fl(e), this.Ul(e))) return e; return -1 }, n.Rd = function (t, n, i, e, r) { void 0 === i && (i = !0), void 0 === e && (e = !1), void 0 === r && (r = this.hd()), t = this.kd(t, r), n = this.Od(n, r); for (var s = 0; s < this.Sf; s += 1)if (this.Kl(t, this.Ll(s), this.jl(s) || !i) && this.Zl(n, this.Fl(s), this.Ul(s) || !e)) return s; return -1 }, n.Ed = function (t, n) { return this.Rd(t, t, !0, !0, n) }, n.Bd = function (t, n) { void 0 === n && (n = this.hd()), t = this.kd(t, n); for (var i = this.Sf - 1; i >= 0; i -= 1)if (this.Kl(t, this.Ll(i), this.jl(i))) return i; return -1 }, n.Pd = function (t, n) { void 0 === n && (n = this.hd()), t = this.Od(t, n); for (var i = 0; i < this.Sf; i += 1)if (this.Zl(t, this.Fl(i), this.Ul(i))) return i; return -1 }, n.Md = function (t) { return this.td(t), this.ud([this.Ll(t), this.Fl(t)], [this.jl(t), this.Ul(t)]) }, n.Ld = function (t, n) { var i = this.Ed(t, n); return i < 0 ? void 0 : this.Md(i) }, T(t, [{ key: "jd", get: function () { for (var t = this.hd(), n = 0; n < this.Sf; n++) { var i = this.Od(this.Fl(n), this.Ll(n)); t = this.kd(t, i) } return t } }]), t }()), hs = function (t) { function n(n, i) { return t.call(this, n, i) || this } rt(n, t); var i = n.prototype; return i.Gl = function (t, n) { return t < n ? -1 : t === n ? 0 : 1 }, i.kd = function (t, n) { return t + n }, i.Od = function (t, n) { return t - n }, i.ld = function (t, n) { return _.abs(t - n) }, i.hd = function () { return 0 }, i.vd = function () { return 1 / 0 }, i.yd = function () { return -1 / 0 }, n.Fd = function (t) { for (var i = [], e = 0; e < t.length; e++)i.push(t.start(e), t.end(e)); return new n(i) }, n.Ud = function (t) { return new n([t, t], [!0, !0]) }, i.ud = function (t, i) { return new n(t, i) }, i.ed = function (t) { return t }, n.Vd = function () { return cs }, n }(as), cs = new hs([]), fs = function () { function t() { this.Hd = Rt() } var n = t.prototype; return n.zo = function (t) { this.Hd.delete(t) }, n.Gd = function () { this.Hd.clear() }, n.Vo = function (t) { return this.Hd.get(t) }, n.zd = function (t, n) { this.Hd.set(t, n) }, t }(), vs = function () { var t = function () { function t() { } return t.qd = function () { return t.q || (t.q = ls.tc() ? new ls : new fs), t.q }, t.zo = function (n) { t.qd().zo(n) }, t.Gd = function () { t.qd().Gd() }, t.Vo = function (n) { return t.qd().Vo(n) }, t.zd = function (n, i) { t.qd().zd(n, i) }, t }(); return t.q = void 0, t }(), ls = function (n) { function i() { return n.apply(this, arguments) || this } rt(i, n), i.tc = function () { try { return t.sessionStorage.setItem("foobar", "foobar"), t.sessionStorage.removeItem("foobar"), !0 } catch (t) { return !1 } }; var e = i.prototype; return e.zo = function (n) { t.sessionStorage.removeItem(n) }, e.Gd = function () { t.sessionStorage.clear() }, e.Vo = function (n) { return t.sessionStorage[n] }, e.zd = function (n, i) { t.sessionStorage[n] = i }, i }(vs), ds = function () { function t() { } return t.Wd = function (n, i) { var e = t.Xd(n, i); return e ? t.$d(e) : 0 }, t.Qd = function () { return o.connection && o.connection.effectiveType || "default" }, t.Yd = function () { return o.connection && o.connection.type || "unknown" }, t.Zd = function (t) { o.connection && o.connection.addEventListener && o.connection.addEventListener("change", t) }, t.Kd = function (t) { o.connection && o.connection.removeEventListener && o.connection.removeEventListener("change", t) }, t.Xd = function (n, i) { var e = vs.Vo(i), r = e && JSON.parse(e); if (r && r[n]) return t.Jd(r, n, i) }, t.$d = function (t) { var n = t.availableBandwidth; return n || 0 }, t.Jd = function (n, i, e) { if (!t.t_(n, i)) return n[i]; t.n_(n, i, e) }, t.n_ = function (t, n, i) { delete t[n], vs.zd(i, JSON.stringify(t)) }, t.t_ = function (t, n) { var i = t[n].storedTimestamp; if (!i) return !1; var e = new Date(i), r = (new Date).getTime(); return e.setMonth(e.getMonth() + 1) <= r }, t.i_ = function (t, n, i, e) { var r; return Et(Et({}, t), ((r = {})[n] = { availableBandwidth: i, storedTimestamp: e }, r)) }, t.e_ = function (n) { var i = t.Qd(); t.r_(i, "theoplayer-stored-network-info", n, it()) }, t.r_ = function (n, i, e, r) { var s = vs.Vo(i), u = s ? JSON.parse(s) : void 0, o = t.i_(u, n, e, r); vs.zd(i, JSON.stringify(o)) }, t.s_ = function () { var n = t.Qd(); return t.Wd(n, "theoplayer-stored-network-info") }, t }(), gs = "agama"; function _s(t) { return function (t) { switch (t) { case us.NONE: case us.HORIZONTAL: case us.VERTICAL: return !0; default: return !1 } }(t) ? t : us.NONE } function ws(t) { switch (t) { case "": return us.NONE; case "horizontal": return us.HORIZONTAL; case "vertical": return us.VERTICAL; default: throw new l } } function ys(t, n, i) { var e = function (t, n) { var i = Qc.u_; t.useCredentials ? i = Qc.o_ : t.crossOrigin && (i = Tf(t.crossOrigin)); i === Qc.u_ && n && n.vr && n.vr[360] && (i = Qc.a_); return { useCredentials: i === Qc.o_, crossOrigin: i } }(t, n), r = e.useCredentials; return { crossOrigin: e.crossOrigin, useCredentials: r, liveOffset: P(t.liveOffset) ? t.liveOffset : i && P(i.liveOffset) ? i.liveOffset : void 0, timeServer: P(t.timeServer) ? t.timeServer : n && P(n.timeServer) ? n.timeServer : void 0, hlsDateRange: P(t.hlsDateRange) ? Boolean(t.hlsDateRange) : !(!i || !P(i.hlsDateRange)) && Boolean(i.hlsDateRange), experimentalRendering: Boolean(t.experimentalRendering), nativeUiRendering: Boolean(t.nativeUiRendering), lowLatency: Boolean(t.lowLatency), useNativePlayback: Boolean(t.useNativePlayback) } } function ps(t) { if (null !== t) return t } function ms(t) { var n, i = { apiKey: t.apiKey, integration: t.integration, streamActivityMonitorID: ps(t.streamActivityMonitorID), adTagParameters: j(t.adTagParameters) ? t.adTagParameters : {}, authToken: ps(t.authToken) }; if ("vod" === (null == t ? void 0 : t.availabilityType) || (n = t, Boolean(n.videoID && n.contentSourceID))) { var e = t.videoID, r = t.contentSourceID; return e ? r ? Et(Et({}, i), { availabilityType: "vod", videoID: e, contentSourceID: r }) : void J("A VOD DAI configuration was provided without valid contentSourceID which is required.") : void J("A VOD DAI configuration was provided without valid videoID which is required.") } if ("live" === (null == t ? void 0 : t.availabilityType) || function (t) { return Boolean(t.assetKey) }(t)) { var s = t.assetKey; return s ? Et(Et({}, i), { availabilityType: "live", assetKey: s }) : void J("A Live DAI configuration was provided without valid assetKey which is required.") } J("A DAI configuration was provided without a valid availabilityType which is required.") } function ks(t) { switch (t.integration) { case "google-dai": return ms(t); case "imagine": return { integration: t.integration }; case "yospace": return function (t) { return { integration: t.integration } }(t); default: return { integration: t.integration } } } !function (t) { t.NONE = "", t.HORIZONTAL = "horizontal", t.VERTICAL = "vertical" }(us || (us = {})), function (t) { t.VERIZON_MEDIA = "verizon-media" }(os || (os = {})); var bs = "titanium", As = "conax", Ts = "ezdrm", Ss = "irdeto", Es = "vudrm", Is = "verimatrix", Rs = "keyos", Cs = "drmtoday", Ns = "expressplay", Ds = "azure", xs = "xstream", Bs = "vimond", Os = "axinom", Ps = "uplynk", Ms = "comcast", Ls = "custom"; var js = { playready: "https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx", widevine: "https://wv-keyos.licensekeyserver.com/", fairplay: "https://fp-keyos.licensekeyserver.com/getkey" }; function Fs(t) { if (!t) return !0; var n = t.licenseAcquisitionURL, i = t.certificateURL, e = t.keys, r = t.headers, s = t.useCredentials, u = t.queryParameters, o = t.certificateRequestProcessor, a = t.certificateResponseProcessor, h = t.licenseRequestProcessor, c = t.licenseResponseProcessor; return !(n || i || e || r || s || u || o || a || h || c) } function Us(t) { return t && void 0 !== t.licenseAcquisitionURL } var Vs, Hs = Us, zs = Us; function qs(t) { if (!t) return !0; if ($s(t)) return !1; var n = t.fairplay, i = t.playready, e = t.widevine, r = t.clearkey, s = t.aes128; return Fs(n) && Fs(i) && Fs(e) && Fs(r) && Fs(s) } function Gs(t) { var n = function (t) { var n = t; return "" !== n.token && "" !== n.deviceId }(t), i = function (t) { var n, i = null === (n = t.fairplay) || void 0 === n ? void 0 : n.headers; return void 0 !== i && U(i.PreAuthorization) && "" !== i.PreAuthorization }(t); return (!n || !i) && (n || i) } function Ws(t) { return t.integration === Ss } function Xs(t) { var n = t; if (!n) return !1; if (qs(n)) return !1; var i = n.fairplay, e = n.playready, r = n.widevine, s = n.clearkey; if ($s(t)) return !0; if (i && !function (t) { var n = t; return n && (void 0 !== n.certificateURL || void 0 !== n.certificate) }(i)) return !1; if (e && !Hs(e)) return !1; if (r && !zs(r)) return !1; if (s && !function (t) { var n = t; return n && (void 0 !== n.licenseAcquisitionURL || void 0 !== n.keys) }(s)) return !1; if (n.integration) switch (n.integration) { case bs: if (!function (t) { return t.integration === bs && (Qs(t) || Ys(t)) }(t)) return !1; break; case Es: if (!Zs(t)) return !1; break; case Is: if (!function (t) { return t.integration === Is }(t)) return !1; break; case Ss: if (!Ws(t)) return !1; break; case As: if (!Gs(t)) return !1; break; case Ts: if (!function (t) { return t.integration === Ts }(t)) return !1; break; case Rs: if (!$s(t)) return !1; break; case Cs: if (!function (t) { var n = t; return n.integration === Cs && (void 0 !== n.token || function (t) { return void 0 !== t.merchant && void 0 !== t.sessionId && void 0 !== t.userId }(n)) }(t)) return !1; break; case Ns: if (!function (t) { return t.integration === Ns }(t)) return !1; break; case xs: if (!Ks(t)) return !1; break; case Bs: if (!function (t) { return t.integration === Bs }(t)) return !1; break; case Os: if (!Js(t)) return !1; break; case Ds: if (!function (t) { var n = t; return n.integration === Ds && void 0 !== n.token }(t)) return !1; break; case Ps: if (!function (t) { return t.integration === Ps }(t)) return !1; break; case Ms: if (!function (t) { var n = t; return n && P(n.releasePid) && P(n.accountId) && P(n.token) }(t)) return !1; break; case Ls: return !0; default: return !1 }return !0 } function $s(t) { return t.integration === Rs } function Qs(t) { return void 0 !== t.authToken } function Ys(t) { var n = t; return void 0 !== n.accountName && void 0 !== n.customerName && void 0 !== n.portalId } function Zs(t) { var n = t; return n.integration === Es && void 0 !== n.token } function Ks(t) { var n = t; return n && n.integration === xs && U(n.ticketAcquisitionURL) && U(n.streamId) } function Js(t) { var n = t; return n.integration === Os && void 0 !== n.token } function tu(t, n) { var i, e, r, s = n[t], u = null !== (i = null == s ? void 0 : s.licenseAcquisitionURL) && void 0 !== i ? i : js[t], o = null !== (e = null == s ? void 0 : s.customdata) && void 0 !== e ? e : n.customdata, a = o ? { customData: o } : {}, h = Et(Et({}, null !== (r = null == s ? void 0 : s.headers) && void 0 !== r ? r : {}), a), c = null != s ? s : {}; c.customdata; return Et(Et({}, function (t, n) { var i = {}; for (var e in t) g.prototype.hasOwnProperty.call(t, e) && n.indexOf(e) < 0 && (i[e] = t[e]); if (null != t && "function" == typeof g.getOwnPropertySymbols) { var r = 0; for (e = g.getOwnPropertySymbols(t); r < e.length; r++)n.indexOf(e[r]) < 0 && g.prototype.propertyIsEnumerable.call(t, e[r]) && (i[e[r]] = t[e[r]]) } return i }(c, ["customdata"])), { licenseAcquisitionURL: u, headers: h }) } function nu(t, n, i) { var e = ys(t, n, i), r = ps(t.src), s = t.type ? t.type : t.src ? lf(t.src) : void 0, u = function (t, n) { var i; i = P(t.contentProtection) ? t.contentProtection : P(t.drm) ? t.drm : P(n) && P(n.contentProtection) ? n.contentProtection : P(n) && P(n.drm) ? n.drm : void 0; return iu(i) }(t, n), o = P(t.ssai) ? ks(t.ssai) : void 0; return Et(Et({}, e), { src: r, type: s, contentProtection: u, ssai: o, integrationData: void 0 }) } function iu(t) { if (!Xs(t) || !t.integration) return t; switch (t.integration) { case Rs: return n = t, i = tu(jt.Nu, n), e = tu(jt.Ru, n), r = n[jt.Cu] && tu(jt.Cu, n), Et({ integration: "keyos", widevine: i, playready: e }, r ? { fairplay: r } : {}); default: return t }var n, i, e, r } !function (t) { t.ASSET = "asset", t.CHANNEL = "channel", t.EVENT = "event" }(Vs || (Vs = {})); var eu, ru = function (t) { function n(n) { var i; return (i = t.call(this, es.bl) || this).currentTime = n, i } return rt(n, t), n }(Mn), su = function (t) { function n(n, i) { var e; return (e = t.call(this, es.xl) || this).currentTime = n, e.volume = i, e } return rt(n, t), n }(Mn); !function (t) { t[t.h_ = 0] = "h_", t[t.c_ = 1] = "c_", t[t.f_ = 2] = "f_", t[t.v_ = 3] = "v_", t[t.l_ = 4] = "l_" }(eu || (eu = {})); var uu, ou = function (t) { function n(n, i) { var e; return e = t.call(this, "error") || this, n && n.message ? n = n.message : n && n.toString && (n = n.toString()), e.error = n + "", e.errorObject = void 0 !== i ? i : new ot(e.error), e } return rt(n, t), n.prototype.lf = function () { return this }, n }(cr); !function (t) { t[t.ABORTED = 1] = "ABORTED", t[t.NETWORK = 2] = "NETWORK", t[t.DECODE = 3] = "DECODE", t[t.SRC_NOT_SUPPORTED = 4] = "SRC_NOT_SUPPORTED", t[t.ENCRYPTED = 5] = "ENCRYPTED", t[t.LICENSE_INVALID = 6] = "LICENSE_INVALID", t[t.ADVERTISEMENT_ERROR = 7] = "ADVERTISEMENT_ERROR" }(uu || (uu = {})); var au = function (t) { function n(n, i, e, r) { var s; return (s = t.call(this, i) || this).d_ = n, s.__ = null != i ? i : "Unknown error", s.Bn = e, s.g_ = r, s } return rt(n, t), T(n, [{ key: "name", get: function () { return "w_" } }, { key: "code", get: function () { return this.d_ } }, { key: "message", get: function () { return this.__ || "" } }, { key: "cause", get: function () { return this.Bn } }, { key: "systemCode", get: function () { return this.g_ } }]), n }(ut); function hu(t) { Ar(t, "MEDIA_ERR_ABORTED", uu.ABORTED), Ar(t, "MEDIA_ERR_NETWORK", uu.NETWORK), Ar(t, "MEDIA_ERR_DECODE", uu.DECODE), Ar(t, "MEDIA_ERR_SRC_NOT_SUPPORTED", uu.SRC_NOT_SUPPORTED), Ar(t, "MEDIA_ERR_ENCRYPTED", uu.ENCRYPTED) } hu(au), hu(au.prototype); var cu = function (t) { function n() { return t.apply(this, arguments) || this } rt(n, t); var i = n.prototype; return i.pf = function (n) { return t.prototype.pf.call(this, n) }, i.lf = function () { return Ur(this) }, n }(wr), fu = function (t) { function n() { return t.apply(this, arguments) || this } rt(n, t); var i = n.prototype; return i.pf = function (n) { return t.prototype.pf.call(this, n) }, i.kf = function (n) { var i = t.prototype.kf.call(this, n); return i && (n.Yf = Vr.Wf), i }, i.lf = function () { return Xr(this) }, n }(wr), vu = function (t) { function n(n, i) { var e; return void 0 === i && (i = !1), (e = t.call(this, n) || this).y_ = function (t) { re(function () { e.do(t) }) }, e.p_ = i ? e.y_ : e.do, e } rt(n, t); var i = n.prototype; return i.Pf = function (t) { t.uf(this.p_) }, i.Mf = function (t) { t.hf(this.p_) }, n }(ar), lu = function (t) { function n() { return t.apply(this, arguments) || this } return rt(n, t), n }(vu); var du = function () { function t(t) { var n; this.m_ = t, this.cf = (n = this, { get corruptedVideoFrames() { return n.k_ }, get droppedVideoFrames() { return n.b_ } }) } return T(t, [{ key: "vf", get: function () { return this.cf } }, { key: "k_", get: function () { return this.m_.T_.A_.k_ } }, { key: "S_", get: function () { throw new v("Not implemented") } }, { key: "b_", get: function () { return this.m_.T_.A_.b_ } }, { key: "E_", get: function () { throw new v("Not implemented") } }, { key: "I_", get: function () { throw new v("Not implemented") } }, { key: "R_", get: function () { throw new v("Not implemented") } }, { key: "N_", get: function () { return this.m_.T_.A_.N_ } }]), t }(); function gu(t) { return t ? "function" == typeof t.getVideoPlaybackQuality ? t.getVideoPlaybackQuality().droppedVideoFrames : t.webkitDroppedFrameCount || 0 : 0 } function _u(t) { return t && "function" == typeof t.getVideoPlaybackQuality && t.getVideoPlaybackQuality().corruptedVideoFrames || 0 } function wu(t) { return "function" == typeof t.getVideoPlaybackQuality ? t.getVideoPlaybackQuality().totalVideoFrames : t.webkitDecodedFrameCount || 0 } function yu(t) { return t && Ye(t) ? { b_: gu(t), k_: _u(t), N_: wu(t) } : { b_: 0, k_: 0, N_: 0 } } var pu, mu = function (t) { function n(n, i, e) { var r; return (r = t.call(this) || this).C_ = n, r.D_ = i, r.x_ = e, r.O_ = function () { r.C_.B_() }, r.P_ = function () { r.doHandleWindowFocus() }, r.M_ = new cu, r.L_ = new cu, r.j_ = new fu, r.F_ = new vu, r.C_.mo("currentsourcechange", r.do), r } rt(n, t); var i = n.prototype; return i.U_ = function (t) { Xl(this, t) }, i.V_ = function () { 0 }, i.H_ = function () { }, i.G_ = function () { return this.D_.G_() }, i.z_ = function () { var t = St(At.mark(function t(n, i) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return Rn(i), t.next = 3, this.C_.z_(n, i); case 3: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.q_ = function () { return !1 }, i.W_ = function () { }, i.X_ = function () { }, i.Af = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: this.To(), this.L_.Af(), this.M_.Af(), this.j_.Af(), this.F_.To(), this.C_.So("currentsourcechange", this.do); case 6: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.Q_ = function () { x.in && this.addWindowFocusEventListeners(), this.D_.xf = this }, i.Y_ = function () { x.in && this.removeWindowFocusEventListeners(), this.D_.xf = this.C_ }, i.addWindowFocusEventListeners = function () { r.addEventListener("blur", this.O_), r.addEventListener("focus", this.P_) }, i.removeWindowFocusEventListeners = function () { r.removeEventListener("blur", this.O_), r.removeEventListener("focus", this.P_) }, i.doHandleWindowFocus = function () { var t = this; requestAnimationFrame(function () { return t.C_.Z_() }) }, i.K_ = function () { }, i.bf = function () { return Tt.resolve() }, T(n, [{ key: "J_", get: function () { return this } }, { key: "eg", get: function () { return [] } }, { key: "rg", get: function () { return this.F_ } }, { key: "og", get: function () { return this.L_ } }, { key: "ag", get: function () { return this.D_.xf === this } }, { key: "hg", get: function () { return hs.Vd().Jl() } }, { key: "cg", get: function () { return null }, set: function (t) { } }, { key: "fg", get: function () { return this.C_.fg } }, { key: "vg", get: function () { return !1 } }, { key: "A_", get: function () { return { b_: 0, k_: 0, N_: 0 } } }, { key: "dg", get: function () { return !0 } }, { key: "_g", get: function () { return 1 }, set: function (t) { } }, { key: "gg", get: function () { return this.C_.gg }, set: function (t) { this.C_.gg = t } }, { key: "wg", get: function () { return new hs([0, this.yg]).Jl() } }, { key: "pg", get: function () { return !1 } }, { key: "Ag", get: function () { return this.j_ } }, { key: "Tg", get: function () { return this.M_ } }]), n }(hr); function ku(t) { s.createElement("img").src = t } !function (t) { t[t.Sg = 0] = "Sg", t[t.Eg = 1] = "Eg" }(pu || (pu = {})); var bu = new RegExp(/^(\d\d):(\d\d):(\d\d)(?:\.(\d{3}))?$/); function Au(t) { if (U(t)) { var n = t.match(bu); if (n) return 3600 * w(n[1], 10) + 60 * w(n[2], 10) + +n[3] + (+n[4] || 0) / 1e3 } } function Tu(t) { if (void 0 !== t) { var n = t.match(/^([1-9]?\d|100)%$/); if (n) return w(n[1]) / 100 } } var Su, Eu = function () { }, Iu = function (t) { function n(n) { var i; return (i = t.call(this) || this).Ig = n, i } return rt(n, t), T(n, [{ key: "Rg", get: function () { return this.Ig } }]), n }(Eu), Ru = function () { function t() { this.Ng = null } return T(t, [{ key: "Cg", get: function () { return this.Ng } }]), t }(), Cu = function (t) { function n(n) { var i; return (i = t.call(this) || this).Dg = n, i.xg = 0, i.Og = null, i } rt(n, t); var i = n.prototype; return i.Bg = function () { if (null === this.Og && (this.Og = this.Dg.Rg[this.xg].Pg()), this.xg < this.Dg.Rg.length) { var t = this.Og.Bg(); null == t && (this.xg += 1, this.xg < this.Dg.Rg.length && (this.Og = this.Dg.Rg[this.xg].Pg(), t = this.Og.Bg())), this.Ng = t } else this.Ng = void 0; return this.Ng }, i.Bo = function () { return this.Bg() }, n }(Ru), Nu = function (t) { function n(n) { return t.call(this, n.sort(function (t, n) { return t.Mg - n.Mg })) || this } return rt(n, t), n.prototype.Pg = function () { return new Cu(this) }, n }(Iu), Du = function (t) { function n(n, i) { var e; return (e = t.call(this) || this).Lg = n, e.jg = i, e.Fg = !1, e } return rt(n, t), T(n, [{ key: "Ff", get: function () { return this.Lg } }, { key: "Mg", get: function () { return this.jg } }, { key: "Ug", get: function () { return this.Fg } }]), n }(Eu), xu = function (t) { function n(n) { var i; return (i = t.call(this) || this).Dg = n, i.Vg = !1, i } rt(n, t); var i = n.prototype; return i.Bg = function () { if (this.Vg) this.Ng = void 0; else { this.Vg = !0; var t = null, n = null, i = null, e = null, r = this.Dg.Hg || []; this.Dg.Bo && (e = this.Dg.Bo); for (var s = 0, u = this.Dg.Gg; s < u.length; s++) { var o = u[s]; o.zg && (t = o.zg), o.qg && (n = o.qg), o.Wg && (i = o.Wg) } this.Ng = { Xg: r, zg: t, $g: n, Wg: i, Bo: e } } return this.Ng }, i.Bo = function () { return this.Bg() }, n }(Ru), Bu = function (t) { function n(n, i, e, r, s, u, o) { var a; return (a = t.call(this, n, i) || this).Qg = e, a.Yg = r, a.Zg = s, a.Kg = u, a.Jg = o, a } return rt(n, t), n.prototype.Pg = function () { return new xu(this) }, T(n, [{ key: "Gg", get: function () { return this.Kg } }, { key: "nw", get: function () { return this.Qg } }, { key: "iw", get: function () { return this.Yg } }, { key: "Hg", get: function () { return this.Zg } }, { key: "Bo", get: function () { return this.Jg } }]), n }(Du), Ou = function () { function t(t, n) { this.ew = t, this.uw = n } return T(t, [{ key: "ow", get: function () { return this.ew } }, { key: "aw", get: function () { return this.uw } }]), t }(), Pu = function () { function t(t, n, i, e, r, s) { this.hw = t, this.cw = n, this.fw = i, this.vw = e, this.lw = !1, this.dw = r, this.Qg = s } return t.prototype._w = function () { this.lw = !0 }, T(t, [{ key: "gw", get: function () { return this.hw } }, { key: "ww", get: function () { return this.cw } }, { key: "yw", get: function () { return this.fw } }, { key: "pw", get: function () { return this.vw } }, { key: "mw", get: function () { return this.bw }, set: function (t) { this.bw = t } }, { key: "Aw", get: function () { return this.dw } }, { key: "Tw", get: function () { return this.lw } }, { key: "nw", get: function () { return this.Qg } }]), t }(); !function (t) { t.Sw = "all", t.Ew = "any", t.Iw = "none" }(Su || (Su = {})); var Mu, Lu = function () { function t(t, n) { this.Rw = t, this.Nw = n } return T(t, [{ key: "Cw", get: function () { return this.Rw } }, { key: "Dw", get: function () { return this.Nw } }]), t }(), ju = function () { function t(t, n, i, e, r, s, u, o, a, h, c, f, v, l, d, g) { this.xw = t, this.Ow = n, this.Bw = i, this.Pw = e, this.Mw = r, this.Lw = s, this.jw = u, this.Fw = o, this.Uw = a, this.Vw = h, this.hw = c, this.cw = f, this.fw = v, this.Hw = l, this.Gw = d, this.zw = g } return T(t, [{ key: "Ff", get: function () { return this.Bw } }, { key: "qw", get: function () { return this.xw } }, { key: "Ww", get: function () { return this.Ow } }, { key: "Xw", get: function () { return this.Pw } }, { key: "$w", get: function () { return this.Mw } }, { key: "Qw", get: function () { return this.Lw } }, { key: "Yw", get: function () { return this.jw } }, { key: "Zw", get: function () { return this.Fw } }, { key: "Kw", get: function () { return this.Uw } }, { key: "Jw", get: function () { return this.Vw } }, { key: "gw", get: function () { return this.hw } }, { key: "ww", get: function () { return this.cw } }, { key: "yw", get: function () { return this.fw } }, { key: "iy", get: function () { return this.Hw } }, { key: "aw", get: function () { return this.Gw } }, { key: "ey", get: function () { return this.zw } }]), t }(), Fu = function () { function t(t, n) { this.Bw = t, this.sy = n } return T(t, [{ key: "id", get: function () { return this.Bw } }, { key: "uri", get: function () { return this.sy } }]), t }(), Uu = function () { function t(t, n, i, e) { this.uy = t, this.oy = n, this.vy = i, this.ly = e } return T(t, [{ key: "_y", get: function () { return this.uy } }, { key: "gy", get: function () { return this.oy } }, { key: "wy", get: function () { return this.vy } }, { key: "yy", get: function () { return this.ly } }]), t }(), Vu = function (t) { function n(n) { var i; return (i = t.call(this) || this).Dg = n, i.Vg = !1, i.Og = null, i } rt(n, t); var i = n.prototype; return i.Bg = function () { if (!this.Vg && this.Dg.py) { null === this.Og && (this.Og = this.Dg.py.Pg()), this.Vg = !0; var t = this.Og.Bg(), n = null, i = null, e = null; if (this.Dg.Gg) for (var r = 0, s = this.Dg.Gg; r < s.length; r++) { var u = s[r]; u.zg && (n = u.zg), u.qg && (i = u.qg), u.Wg && (e = u.Wg) } var o = t.Xg.concat(this.Dg.Xg), a = t.zg; if (n && t.zg) { var h = new Uu(t.zg.by._y, t.zg.by.gy, t.zg.by.wy.concat(n.by.wy), t.zg.by.yy.concat(n.by.yy)); (a = t.zg).by = h, a.aw = a.aw.concat(n.aw) } var c = t.$g; if (i && i.ow) { for (var f = [], v = 0, l = i.ow; v < l.length; v++) { var d = l[v]; f.concat(d.pw.wy) } for (var g = [], _ = 0, w = t.$g.ow; _ < w.length; _++) { var y = w[_], p = y[0], m = new Uu(y.pw._y, y.pw.gy, y.pw.wy.concat(f), t.zg.by.yy.concat(n.by.yy)); g.push(new Pu(p.Ay, p.Ty, p.Sy, m, p.Aw)) } c = new Ou(g, t.$g.aw.concat(i.aw)) } var k = t.Wg; if (k) { var b = k.Cw; e && e.Cw && (b = e.Cw), k = new Lu(b, t.Wg.Dw.concat(e && e.Dw || [])) } var A = t.Bo; this.Dg.Bo && (A = this.Dg.Bo), this.Ng = { Xg: o, zg: a, $g: c, Wg: k, Bo: A } } else this.Vg ? this.Ng = void 0 : (this.Vg = !0, this.Ng = null); return this.Ng }, i.Bo = function () { return this.Bg() }, n }(Ru), Hu = function (t) { function n(n, i, e, r, s, u, o, a, h) { var c; return (c = t.call(this, n, i) || this).Ey = e, c.Iy = r, c.Ry = s, c.Kg = u, c.Ny = o, c.Cy = a, c.Jg = h, c } return rt(n, t), n.prototype.Pg = function () { return new Vu(this) }, T(n, [{ key: "Xg", get: function () { return this.Ey } }, { key: "py", get: function () { return this.Iy } }, { key: "Dy", get: function () { return this.Ry } }, { key: "Gg", get: function () { return this.Kg } }, { key: "xy", get: function () { return this.Ny } }, { key: "Oy", get: function () { return this.Cy } }, { key: "Bo", get: function () { return this.Jg } }]), n }(Du), zu = function () { function t(t, n, i, e, r, s, u, o, a, h) { this.Bw = t, this.By = n, this.Py = i, this.Fw = e, this.My = r, this.Ly = s, this.jy = u, this.Fy = o, this.Uy = a, this.Vy = h } return T(t, [{ key: "Ff", get: function () { return this.Bw } }, { key: "Hy", get: function () { return this.By } }, { key: "Gy", get: function () { return this.Py } }, { key: "Zw", get: function () { return this.Fw } }, { key: "zy", get: function () { return this.My } }, { key: "qy", get: function () { return this.Ly } }, { key: "Wy", get: function () { return this.jy } }, { key: "zg", get: function () { return this.Fy } }, { key: "qg", get: function () { return this.Uy } }, { key: "Wg", get: function () { return this.Vy } }]), t }(), qu = function () { function t(t, n, i, e, r, s, u) { this.Xy = t, this.$y = n, this.uw = i, this.Qy = e, this.Yy = r, this.lw = !1, this.dw = s, this.Qg = u } return t.prototype._w = function () { this.lw = !0 }, T(t, [{ key: "Zy", get: function () { return this.Xy } }, { key: "Ky", get: function () { return this.$y } }, { key: "aw", get: function () { return this.uw }, set: function (t) { this.uw = t } }, { key: "by", set: function (t) { this.Qy = t }, get: function () { return this.Qy } }, { key: "Jy", get: function () { return this.Yy }, set: function (t) { this.Yy = t } }, { key: "tp", get: function () { return this.lw } }, { key: "mw", get: function () { return this.bw }, set: function (t) { this.bw = t } }, { key: "Aw", get: function () { return this.dw } }, { key: "nw", get: function () { return this.Qg } }]), t }(), Gu = "http://www.w3.org/XML/1998/namespace"; function Wu(t, n) { return Ju(t) && t.getAttribute(n) || void 0 } function Xu(t, n, i) { return Ju(t) && t.getAttributeNS(i, n) || void 0 } function $u(t, n) { return Qu(t, n, null, !1) } function Qu(t, n, i, e) { return n === (t.localName ? t.localName : t.nodeName) && (e && i ? i === t.namespaceURI : !i || !t.namespaceURI || i === t.namespaceURI) } function Yu(t, n) { for (var i = [], e = 0; e < t.childNodes.length; e += 1) { var r = t.childNodes.item(e); Ju(r) && $u(r, n) && i.push(r) } return i } function Zu(t, n) { for (var i = t, e = 0; e < n.length; e++) { var r = n[e]; i = i.replace(r + ":", "") } return i } function Ku(t, n) { for (var i = t.attributes, e = {}, r = 0; r < i.length; r++)e[Zu(i[r].name, n)] = i[r].value; return e } function Ju(t) { return t && 1 === t.nodeType } function to(t) { return function (t, n) { try { return no(t, n) } catch (t) { return } }(t, "text/xml") } function no(t, n) { var i = (new DOMParser).parseFromString(t, n); if (!i || i.getElementsByTagName("parsererror").length > 0) throw new v("Invalid XML"); return i } function io(t) { switch (t) { case Mu.np: case Mu.ip: case Mu.ep: return !0; default: return !1 } } function eo(t) { switch (t) { case Mu.rp: case Mu.sp: case Mu.yl: case Mu.op: case Mu.ap: case Mu.hp: case Mu.cp: case Mu.fp: case Mu.vp: case Mu.lp: case Mu.dp: case Mu._p: case Mu.gp: case Mu.COLLAPSE: case Mu.wp: case Mu.yp: case Mu.pp: case Mu.mp: case Mu.kp: case Mu.bp: case Mu.Ap: case Mu.Tp: case Mu.Sp: case Mu.Ep: case Mu.Al: return !0; default: return !1 } } function ro(t) { switch (t) { case Mu.yp: case Mu.pp: case Mu.mp: case Mu.kp: case Mu.bp: case Mu.rp: case Mu.sp: case Mu.yl: case Mu.op: case Mu.ap: case Mu.hp: case Mu.vp: case Mu.lp: case Mu.gp: case Mu.COLLAPSE: case Mu.dp: case Mu._p: case Mu.wp: case Mu.Tp: case Mu.Ip: case Mu.Rp: case Mu.Np: case Mu.fp: case Mu.Cp: case Mu.Ep: case Mu.Al: return !0; default: return !1 } } function so(t) { switch (t) { case Mu.rp: case Mu.sp: case Mu.yl: case Mu.op: case Mu.ap: case Mu.hp: case Mu.vp: case Mu.lp: case Mu.wp: return !0; default: return !1 } } function uo(t, n) { if (void 0 !== t && "" !== t && void 0 !== n) { var i = t.match(/^(\d+):(\d+):(\d+)$/); return i ? y(i[1] || "0") + 60 * y(i[2] || "0") + y(i[3] || "0") : (i = t.match(/^(100|[1-9]\d|\d)%$/)) ? y(i[1] || "0") * n / 100 : void 0 } } !function (t) { t.rp = "mute", t.sp = "unmute", t.yl = "pause", t.op = "resume", t.ap = "rewind", t.hp = "skip", t.vp = "playerExpand", t.lp = "playerCollapse", t.dp = "fullscreen", t._p = "exitFullscreen", t.gp = "expand", t.COLLAPSE = "collapse", t.yp = "start", t.pp = "firstQuartile", t.kp = "thirdQuartile", t.mp = "midpoint", t.bp = "complete", t.Ap = "acceptInvitationLinear", t.Tp = "acceptInvitation", t.Sp = "timeSpentViewing", t.Ep = "otherAdInteraction", t.Al = "progress", t.wp = "creativeView", t.Ip = "adExpand", t.Rp = "adCollapse", t.Np = "minimize", t.fp = "close", t.cp = "closeLinear", t.Cp = "overlayViewDuration", t.np = "breakStart", t.ip = "breakEnd", t.ep = "error" }(Mu || (Mu = {})); var oo, ao = function () { function t(t, n, i) { this.Dp = t, this.xp = n, this.Op = i } return T(t, [{ key: "Bp", get: function () { return this.Dp } }, { key: "Yo", get: function () { return this.xp } }, { key: "eventURL", get: function () { return this.Op } }]), t }(), ho = function () { function t(t) { this.Pp = t } return T(t, [{ key: "Mp", get: function () { return this.Pp } }]), t }(), co = function (t) { function n(n, i, e, r) { var s; return (s = t.call(this, n) || this).Lp = i, s.jp = e, s.zw = r, s } return rt(n, t), T(n, [{ key: "Fp", get: function () { return this.jp } }, { key: "ey", get: function () { return this.zw } }, { key: "Up", get: function () { return this.Lp } }]), n }(ho), fo = function (t) { function n(n) { return t.call(this, n) || this } return rt(n, t), n }(ho), vo = function (t) { function n(n) { return t.call(this, n) || this } return rt(n, t), n }(ho); !function (t) { t.Vp = { yh: 100, Do: "XML parsing error." }, t.Hp = { yh: 400, Do: "General linear error" }, t.Gp = { yh: 500, Do: "General nonlinear error" } }(oo || (oo = {})); var lo = function () { function t(t) { this.zp = t } return t.prototype.qp = function (t) { if (this.Wp) { var n = this.Wp.replace(/ERRORCODE/, "" + t.yh); ku(n) } }, T(t, [{ key: "Wp", get: function () { return this.zp } }]), t }(), go = _.pow(2, -52); function _o(t, n, i) { return _.min(_.max(t, n), i) } function wo(t, n, i) { return t === n || _.abs(t - n) <= i } function yo(t, n) { if (t === n) return !0; var i = _.abs(t - n); return i < go || i < _.max(_.abs(t), _.abs(n)) * go } function po(t) { return t != t } function mo(t, n) { return t === n || po(t) && po(n) } function ko(t, n) { for (; 0 !== n;) { var i = t % n; t = n, n = i } return t < 0 ? -t : t } var bo = function (t, n) { return (0 | t) - (0 | n) }, Ao = function (t, n) { return t === n ? 0 : t < n ? -1 : t > n ? 1 : p(t) ? p(n) ? 0 : 1 : -1 }; function To(t, n, i) { return wo(t, n, i) ? 0 : Ao(t, n) } var So = function (t, n) { return yo(t, n) ? 0 : Ao(t, n) }; var Eo = function () { var t = function () { function t(t, n) { void 0 === n && (n = 1), this.Xp = t, this.$p = n } t.Qp = function (n) { return new t(_.ceil(n.Xp), n.$p) }, t.Yp = function (n) { return new t(_.floor(n.Xp), n.$p) }, t.Ql = function (t, n) { return t.Zp(n) ? t : n }, t.$l = function (t, n) { return t.Xl(n) ? t : n }; var n = t.prototype; return n.kd = function (n) { return this.$p >= n.$p ? new t(this.Xp + n.Kp(this.$p).Xp, this.$p) : new t(this.Kp(n.$p).Xp + n.Xp, n.$p) }, n.Jp = function (t) { return t.Wl(this) }, n.Zp = function (t) { return t.Xl(this) }, n.ld = function (n) { return this.$p >= n.$p ? new t(_.abs(this.Xp - n.Kp(this.$p).Xp), this.$p) : n.ld(this) }, n.tm = function (t, n) { return this.ld(t).Xl(n) }, n.Gl = function (t) { return Io(this, t) }, n.Hl = function (t) { return 0 === this.Gl(t) }, n.Wl = function (t) { return this.Gl(t) < 0 }, n.Xl = function (t) { return this.Gl(t) <= 0 }, n.Kp = function (n) { return new t(this.Xp * (n / this.$p), n) }, n.Od = function (n) { return this.$p >= n.$p ? new t(this.Xp - n.Kp(this.$p).Xp, this.$p) : new t(this.Kp(n.$p).Xp - n.Xp, n.$p) }, n.nm = function (n) { return new t(this.Xp * n, this.$p) }, T(t, [{ key: "im", get: function () { return !isFinite(this.Xp) } }, { key: "um", get: function () { return this.Xp / this.$p } }]), t }(); return t.hm = new t(1 / 6, 1), t.cm = new t(0), t.fm = new t(1 / 0), t.vm = 1e6, t }(); function Io(t, n) { return t.$p >= n.$p ? So(t.Xp, n.Kp(t.$p).Xp) : So(t.Kp(n.$p).Xp, n.Xp) } var Ro = function () { function t() { } var n = t.prototype; return n.Jp = function (t) { return this.Gl(t) > 0 }, n.Zp = function (t) { return this.Gl(t) >= 0 }, n.tm = function (t, n) { return this.ld(t).Xl(n) }, n.Hl = function (t) { return 0 === this.Gl(t) }, n.Wl = function (t) { return this.Gl(t) < 0 }, n.Xl = function (t) { return this.Gl(t) <= 0 }, n.lm = function () { return this.dm() ? this._m() : this }, n.Od = function (t) { return this.kd(t._m()) }, n.ld = function (t) { return this.Od(t).lm() }, t }(); function Co(t, n) { return t.gm() ? n.gm() ? 0 : 1 : n.gm() ? -1 : t.im() ? n.im() && t.dm() === n.dm() ? 0 : t.dm() ? -1 : 1 : n.dm() ? 1 : -1 } var No = xo, Do = null; try { Do = new WebAssembly.Instance(new WebAssembly.Module(new m([0, 97, 115, 109, 1, 0, 0, 0, 1, 13, 2, 96, 0, 1, 127, 96, 4, 127, 127, 127, 127, 1, 127, 3, 7, 6, 0, 1, 1, 1, 1, 1, 6, 6, 1, 127, 1, 65, 0, 11, 7, 50, 6, 3, 109, 117, 108, 0, 1, 5, 100, 105, 118, 95, 115, 0, 2, 5, 100, 105, 118, 95, 117, 0, 3, 5, 114, 101, 109, 95, 115, 0, 4, 5, 114, 101, 109, 95, 117, 0, 5, 8, 103, 101, 116, 95, 104, 105, 103, 104, 0, 0, 10, 191, 1, 6, 4, 0, 35, 0, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 126, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 127, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 128, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 129, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 130, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11])), {}).exports } catch (t) { } function xo(t, n, i) { this.low = 0 | t, this.high = 0 | n, this.unsigned = !!i } function Bo(t) { return !0 === (t && t.wm) } g.defineProperty(xo.prototype, "wm", { value: !0 }), xo.isLong = Bo; var Oo = {}, Po = {}; function Mo(t, n) { var i, e, r; return n ? (r = 0 <= (t >>>= 0) && t < 256) && (e = Po[t]) ? e : (i = jo(t, (0 | t) < 0 ? -1 : 0, !0), r && (Po[t] = i), i) : (r = -128 <= (t |= 0) && t < 128) && (e = Oo[t]) ? e : (i = jo(t, t < 0 ? -1 : 0, !1), r && (Oo[t] = i), i) } function Lo(t, n) { if (p(t)) return n ? Xo : Wo; if (n) { if (t < 0) return Xo; if (t >= zo) return Ko } else { if (t <= -qo) return Jo; if (t + 1 >= qo) return Zo } return t < 0 ? Lo(-t, n).neg() : jo(t % Ho | 0, t / Ho | 0, n) } function jo(t, n, i) { return new xo(t, n, i) } xo.fromInt = Mo, xo.fromNumber = Lo, xo.fromBits = jo; var Fo = _.pow; function Uo(t, n, i) { if (0 === t.length) throw v("empty string"); if ("NaN" === t || "Infinity" === t || "+Infinity" === t || "-Infinity" === t) return Wo; if ("number" == typeof n ? (i = n, n = !1) : n = !!n, (i = i || 10) < 2 || 36 < i) throw RangeError("radix"); var e; if ((e = t.indexOf("-")) > 0) throw v("interior hyphen"); if (0 === e) return Uo(t.substring(1), n, i).neg(); for (var r = Lo(Fo(i, 8)), s = Wo, u = 0; u < t.length; u += 8) { var o = _.min(8, t.length - u), a = w(t.substring(u, u + o), i); if (o < 8) { var h = Lo(Fo(i, o)); s = s.mul(h).add(Lo(a)) } else s = (s = s.mul(r)).add(Lo(a)) } return s.unsigned = n, s } function Vo(t, n) { return "number" == typeof t ? Lo(t, n) : "string" == typeof t ? Uo(t, n) : jo(t.low, t.high, "boolean" == typeof n ? n : t.unsigned) } xo.fromString = Uo, xo.fromValue = Vo; var Ho = 4294967296, zo = Ho * Ho, qo = zo / 2, Go = Mo(1 << 24), Wo = Mo(0); xo.ZERO = Wo; var Xo = Mo(0, !0); xo.UZERO = Xo; var $o = Mo(1); xo.ONE = $o; var Qo = Mo(1, !0); xo.UONE = Qo; var Yo = Mo(-1); xo.NEG_ONE = Yo; var Zo = jo(-1, 2147483647, !1); xo.MAX_VALUE = Zo; var Ko = jo(-1, -1, !0); xo.MAX_UNSIGNED_VALUE = Ko; var Jo = jo(0, -2147483648, !1); xo.MIN_VALUE = Jo; var ta = xo.prototype; ta.toInt = function () { return this.unsigned ? this.low >>> 0 : this.low }, ta.toNumber = function () { return this.unsigned ? (this.high >>> 0) * Ho + (this.low >>> 0) : this.high * Ho + (this.low >>> 0) }, ta.toString = function (t) { if ((t = t || 10) < 2 || 36 < t) throw RangeError("radix"); if (this.isZero()) return "0"; if (this.isNegative()) { if (this.eq(Jo)) { var n = Lo(t), i = this.div(n), e = i.mul(n).sub(this); return i.toString(t) + e.toInt().toString(t) } return "-" + this.neg().toString(t) } for (var r = Lo(Fo(t, 6), this.unsigned), s = this, u = ""; ;) { var o = s.div(r), a = (s.sub(o.mul(r)).toInt() >>> 0).toString(t); if ((s = o).isZero()) return a + u; for (; a.length < 6;)a = "0" + a; u = "" + a + u } }, ta.getHighBits = function () { return this.high }, ta.getHighBitsUnsigned = function () { return this.high >>> 0 }, ta.getLowBits = function () { return this.low }, ta.getLowBitsUnsigned = function () { return this.low >>> 0 }, ta.getNumBitsAbs = function () { if (this.isNegative()) return this.eq(Jo) ? 64 : this.neg().getNumBitsAbs(); for (var t = 0 != this.high ? this.high : this.low, n = 31; n > 0 && 0 == (t & 1 << n); n--); return 0 != this.high ? n + 33 : n + 1 }, ta.isZero = function () { return 0 === this.high && 0 === this.low }, ta.eqz = ta.isZero, ta.isNegative = function () { return !this.unsigned && this.high < 0 }, ta.isPositive = function () { return this.unsigned || this.high >= 0 }, ta.isOdd = function () { return 1 == (1 & this.low) }, ta.isEven = function () { return 0 == (1 & this.low) }, ta.equals = function (t) { return Bo(t) || (t = Vo(t)), (this.unsigned === t.unsigned || this.high >>> 31 != 1 || t.high >>> 31 != 1) && (this.high === t.high && this.low === t.low) }, ta.eq = ta.equals, ta.notEquals = function (t) { return !this.eq(t) }, ta.neq = ta.notEquals, ta.ne = ta.notEquals, ta.lessThan = function (t) { return this.comp(t) < 0 }, ta.lt = ta.lessThan, ta.lessThanOrEqual = function (t) { return this.comp(t) <= 0 }, ta.lte = ta.lessThanOrEqual, ta.le = ta.lessThanOrEqual, ta.greaterThan = function (t) { return this.comp(t) > 0 }, ta.gt = ta.greaterThan, ta.greaterThanOrEqual = function (t) { return this.comp(t) >= 0 }, ta.gte = ta.greaterThanOrEqual, ta.ge = ta.greaterThanOrEqual, ta.compare = function (t) { if (Bo(t) || (t = Vo(t)), this.eq(t)) return 0; var n = this.isNegative(), i = t.isNegative(); return n && !i ? -1 : !n && i ? 1 : this.unsigned ? t.high >>> 0 > this.high >>> 0 || t.high === this.high && t.low >>> 0 > this.low >>> 0 ? -1 : 1 : this.sub(t).isNegative() ? -1 : 1 }, ta.comp = ta.compare, ta.negate = function () { return !this.unsigned && this.eq(Jo) ? Jo : this.not().add($o) }, ta.neg = ta.negate, ta.add = function (t) { Bo(t) || (t = Vo(t)); var n = this.high >>> 16, i = 65535 & this.high, e = this.low >>> 16, r = 65535 & this.low, s = t.high >>> 16, u = 65535 & t.high, o = t.low >>> 16, a = 0, h = 0, c = 0, f = 0; return c += (f += r + (65535 & t.low)) >>> 16, h += (c += e + o) >>> 16, a += (h += i + u) >>> 16, a += n + s, jo((c &= 65535) << 16 | (f &= 65535), (a &= 65535) << 16 | (h &= 65535), this.unsigned) }, ta.subtract = function (t) { return Bo(t) || (t = Vo(t)), this.add(t.neg()) }, ta.sub = ta.subtract, ta.multiply = function (t) { if (this.isZero()) return Wo; if (Bo(t) || (t = Vo(t)), Do) return jo(Do.mul(this.low, this.high, t.low, t.high), Do.get_high(), this.unsigned); if (t.isZero()) return Wo; if (this.eq(Jo)) return t.isOdd() ? Jo : Wo; if (t.eq(Jo)) return this.isOdd() ? Jo : Wo; if (this.isNegative()) return t.isNegative() ? this.neg().mul(t.neg()) : this.neg().mul(t).neg(); if (t.isNegative()) return this.mul(t.neg()).neg(); if (this.lt(Go) && t.lt(Go)) return Lo(this.toNumber() * t.toNumber(), this.unsigned); var n = this.high >>> 16, i = 65535 & this.high, e = this.low >>> 16, r = 65535 & this.low, s = t.high >>> 16, u = 65535 & t.high, o = t.low >>> 16, a = 65535 & t.low, h = 0, c = 0, f = 0, v = 0; return f += (v += r * a) >>> 16, c += (f += e * a) >>> 16, f &= 65535, c += (f += r * o) >>> 16, h += (c += i * a) >>> 16, c &= 65535, h += (c += e * o) >>> 16, c &= 65535, h += (c += r * u) >>> 16, h += n * a + i * o + e * u + r * s, jo((f &= 65535) << 16 | (v &= 65535), (h &= 65535) << 16 | (c &= 65535), this.unsigned) }, ta.mul = ta.multiply, ta.divide = function (t) { if (Bo(t) || (t = Vo(t)), t.isZero()) throw v("division by zero"); var n, i, e; if (Do) return this.unsigned || -2147483648 !== this.high || -1 !== t.low || -1 !== t.high ? jo((this.unsigned ? Do.div_u : Do.div_s)(this.low, this.high, t.low, t.high), Do.get_high(), this.unsigned) : this; if (this.isZero()) return this.unsigned ? Xo : Wo; if (this.unsigned) { if (t.unsigned || (t = t.toUnsigned()), t.gt(this)) return Xo; if (t.gt(this.shru(1))) return Qo; e = Xo } else { if (this.eq(Jo)) return t.eq($o) || t.eq(Yo) ? Jo : t.eq(Jo) ? $o : (n = this.shr(1).div(t).shl(1)).eq(Wo) ? t.isNegative() ? $o : Yo : (i = this.sub(t.mul(n)), e = n.add(i.div(t))); if (t.eq(Jo)) return this.unsigned ? Xo : Wo; if (this.isNegative()) return t.isNegative() ? this.neg().div(t.neg()) : this.neg().div(t).neg(); if (t.isNegative()) return this.div(t.neg()).neg(); e = Wo } for (i = this; i.gte(t);) { n = _.max(1, _.floor(i.toNumber() / t.toNumber())); for (var r = _.ceil(_.log(n) / _.LN2), s = r <= 48 ? 1 : Fo(2, r - 48), u = Lo(n), o = u.mul(t); o.isNegative() || o.gt(i);)o = (u = Lo(n -= s, this.unsigned)).mul(t); u.isZero() && (u = $o), e = e.add(u), i = i.sub(o) } return e }, ta.div = ta.divide, ta.modulo = function (t) { return Bo(t) || (t = Vo(t)), Do ? jo((this.unsigned ? Do.rem_u : Do.rem_s)(this.low, this.high, t.low, t.high), Do.get_high(), this.unsigned) : this.sub(this.div(t).mul(t)) }, ta.mod = ta.modulo, ta.rem = ta.modulo, ta.not = function () { return jo(~this.low, ~this.high, this.unsigned) }, ta.and = function (t) { return Bo(t) || (t = Vo(t)), jo(this.low & t.low, this.high & t.high, this.unsigned) }, ta.or = function (t) { return Bo(t) || (t = Vo(t)), jo(this.low | t.low, this.high | t.high, this.unsigned) }, ta.xor = function (t) { return Bo(t) || (t = Vo(t)), jo(this.low ^ t.low, this.high ^ t.high, this.unsigned) }, ta.shiftLeft = function (t) { return Bo(t) && (t = t.toInt()), 0 == (t &= 63) ? this : t < 32 ? jo(this.low << t, this.high << t | this.low >>> 32 - t, this.unsigned) : jo(0, this.low << t - 32, this.unsigned) }, ta.shl = ta.shiftLeft, ta.shiftRight = function (t) { return Bo(t) && (t = t.toInt()), 0 == (t &= 63) ? this : t < 32 ? jo(this.low >>> t | this.high << 32 - t, this.high >> t, this.unsigned) : jo(this.high >> t - 32, this.high >= 0 ? 0 : -1, this.unsigned) }, ta.shr = ta.shiftRight, ta.shiftRightUnsigned = function (t) { if (Bo(t) && (t = t.toInt()), 0 === (t &= 63)) return this; var n = this.high; return t < 32 ? jo(this.low >>> t | n << 32 - t, n >>> t, this.unsigned) : jo(32 === t ? n : n >>> t - 32, 0, this.unsigned) }, ta.shru = ta.shiftRightUnsigned, ta.shr_u = ta.shiftRightUnsigned, ta.toSigned = function () { return this.unsigned ? jo(this.low, this.high, !1) : this }, ta.toUnsigned = function () { return this.unsigned ? this : jo(this.low, this.high, !0) }, ta.toBytes = function (t) { return t ? this.toBytesLE() : this.toBytesBE() }, ta.toBytesLE = function () { var t = this.high, n = this.low; return [255 & n, n >>> 8 & 255, n >>> 16 & 255, n >>> 24, 255 & t, t >>> 8 & 255, t >>> 16 & 255, t >>> 24] }, ta.toBytesBE = function () { var t = this.high, n = this.low; return [t >>> 24, t >>> 16 & 255, t >>> 8 & 255, 255 & t, n >>> 24, n >>> 16 & 255, n >>> 8 & 255, 255 & n] }, xo.fromBytes = function (t, n, i) { return i ? xo.fromBytesLE(t, n) : xo.fromBytesBE(t, n) }, xo.fromBytesLE = function (t, n) { return new xo(t[0] | t[1] << 8 | t[2] << 16 | t[3] << 24, t[4] | t[5] << 8 | t[6] << 16 | t[7] << 24, n) }, xo.fromBytesBE = function (t, n) { return new xo(t[4] << 24 | t[5] << 16 | t[6] << 8 | t[7], t[0] << 24 | t[1] << 16 | t[2] << 8 | t[3], n) }; var na = No, ia = function () { var t = function () { function t(t, n) { this.ym = t, this.pm = n } t.Am = function (n, i, e) { return e ? new t(n.toUnsigned(), i.toUnsigned()) : new t(n.toSigned(), i.toSigned()) }, t.Tm = function (n) { return n.unsigned ? new t(n, na.UZERO) : new t(n, n.isNegative() ? na.NEG_ONE : na.ZERO) }, t.Sm = function (n, i) { if (p(n)) return i ? t.Em : t.cm; if (i) { if (n < 0) return t.Em; if (n >= 3.402823669209385e38) return t.Im } else { if (n <= -1.7014118346046923e38) return t.Rm; if (n + 1 >= 1.7014118346046923e38) return t.Nm } return n < 0 ? t.Sm(-n, i)._m() : t.Am(na.fromNumber(n % 0x10000000000000000), na.fromNumber(n / 0x10000000000000000), i) }; var n = t.prototype; return n.Cm = function () { return this.pm.unsigned }, n.Dm = function () { return this.ym.isZero() && this.pm.isZero() }, n.dm = function () { return this.pm.isNegative() }, n.xm = function () { return this.Cm() ? t.Am(this.ym, this.pm, !1) : this }, n.Om = function () { return this.Cm() ? this : t.Am(this.ym, this.pm, !0) }, n.Bm = function () { return this.ym }, n.Pm = function () { return this.dm() ? -this._m().Pm() : 0x10000000000000000 * this.pm.toNumber() + this.ym.toUnsigned().toNumber() }, n.Mm = function () { return this.ym.toInt() }, n.Hl = function (t) { return (this.Cm() === t.Cm() || this.pm.getHighBits() >>> 31 != 1 || t.pm.getHighBits() >>> 31 != 1) && (this.pm.toUnsigned().eq(t.pm.toUnsigned()) && this.ym.toUnsigned().eq(t.ym.toUnsigned())) }, n.Gl = function (t) { if (this.Hl(t)) return 0; var n = this.dm(), i = t.dm(); if (n && !i) return -1; if (!n && i) return 1; if (!this.Cm()) return this.Od(t).dm() ? -1 : 1; var e = this.Om(), r = t.Om(), s = r.pm.comp(e.pm); return s > 0 || 0 === s && r.ym.gt(e.ym) ? -1 : 1 }, n.Wl = function (t) { return this.Gl(t) < 0 }, n.Xl = function (t) { return this.Gl(t) <= 0 }, n.zl = function (t) { return this.Gl(t) > 0 }, n.ql = function (t) { return this.Gl(t) >= 0 }, n.Lm = function () { return new t(this.ym.not(), this.pm.not()) }, n.jm = function (n) { return new t(this.ym.and(n.ym), this.pm.and(n.pm)) }, n.Fm = function (n) { return new t(this.ym.or(n.ym), this.pm.or(n.pm)) }, n.Um = function (n) { return 0 === (n &= 127) ? this : n < 64 ? t.Am(this.ym.shl(n), this.pm.shl(n).or(this.ym.shru(64 - n)), this.Cm()) : t.Am(na.ZERO, this.ym.shl(n - 64), this.Cm()) }, n.Vm = function (n) { return 0 === (n &= 127) ? this : n < 64 ? t.Am(this.ym.shru(n).or(this.pm.shl(64 - n)), this.pm.shr(n), this.Cm()) : t.Am(this.pm.shr(n - 64), this.pm.isNegative() ? na.NEG_ONE : na.ZERO, this.Cm()) }, n.Hm = function (n) { return 0 === (n &= 127) ? this : n < 64 ? t.Am(this.ym.shru(n).or(this.pm.shl(64 - n)), this.pm.shru(n), this.Cm()) : 64 === n ? t.Am(this.pm, na.ZERO, this.Cm()) : t.Am(this.pm.shru(n - 64), na.ZERO, this.Cm()) }, n.kd = function (n) { var i = this.pm.high >>> 16, e = 65535 & this.pm.high, r = this.pm.low >>> 16, s = 65535 & this.pm.low, u = this.ym.high >>> 16, o = 65535 & this.ym.high, a = this.ym.low >>> 16, h = 65535 & this.ym.low, c = n.pm.high >>> 16, f = 65535 & n.pm.high, v = n.pm.low >>> 16, l = 65535 & n.pm.low, d = n.ym.high >>> 16, g = 65535 & n.ym.high, _ = n.ym.low >>> 16, w = 0, y = 0, p = 0, m = 0, k = 0, b = 0, A = 0, T = 0; A += (T += h + (65535 & n.ym.low)) >>> 16, T &= 65535, b += (A += a + _) >>> 16, A &= 65535, k += (b += o + g) >>> 16, b &= 65535, m += (k += u + d) >>> 16, k &= 65535, p += (m += s + l) >>> 16, m &= 65535, y += (p += r + v) >>> 16, p &= 65535, w += (y += e + f) >>> 16, y &= 65535, w += i + c, w &= 65535; var S = this.Cm(), E = na.fromBits(p << 16 | m, w << 16 | y, S), I = na.fromBits(A << 16 | T, k << 16 | b, S); return t.Am(I, E, S) }, n.Od = function (t) { return this.kd(t._m()) }, n._m = function () { return this.Lm().kd(t.Gm) }, n.zm = function (n) { if (this.Dm() || n.Dm()) return this.Cm() ? t.Em : t.cm; if (this.dm()) return n.dm() ? this._m().zm(n._m()) : this._m().zm(n)._m(); if (n.dm()) return this.zm(n._m())._m(); if (this.pm.isZero() && 0 === this.ym.high && n.pm.isZero() && 0 === n.ym.high) return t.Tm(this.ym.multiply(n.ym)); var i = na.fromBits(4294967295, 0, !0), e = this.ym.and(i), r = this.ym.shru(32), s = this.pm.and(i), u = this.pm.shru(32), o = n.ym.and(i), a = n.ym.shru(32), h = n.pm.and(i), c = n.pm.shru(32), f = na.UZERO, v = na.UZERO, l = na.UZERO, d = na.UZERO; f = f.add(e.mul(o)), v = v.add(f.shru(32)), f = f.and(i), v = v.add(r.mul(o)), l = l.add(v.shru(32)), v = (v = v.and(i)).add(e.mul(a)), l = l.add(v.shru(32)), v = v.and(i), l = l.add(s.mul(o)), d = d.add(l.shru(32)), l = (l = l.and(i)).add(r.mul(a)), d = d.add(l.shru(32)), l = (l = l.and(i)).add(e.mul(h)), d = d.add(l.shru(32)), l = l.and(i), d = d.add(u.mul(o)).add(s.mul(a)).add(r.mul(h)).add(e.mul(c)).and(i); var g = na.fromBits(f.getLowBitsUnsigned(), v.getLowBitsUnsigned(), !0), _ = na.fromBits(l.getLowBitsUnsigned(), d.getLowBitsUnsigned(), !0); return t.Am(g, _, this.Cm()) }, n.qm = function (n) { if (n.Dm()) throw new RangeError("division by zero"); if (this.Dm()) return this.Cm() ? [t.Em, t.Em] : [t.cm, t.cm]; var i, e; if (this.Cm()) { if (n.Cm() || (n = n.Om()), n.zl(this)) return [t.Em, this]; if (n.zl(this.Hm(1))) return [e = t.Wm, i = this.Od(n)]; e = t.Em } else { if (this.Hl(t.Rm)) { if (n.Hl(t.Gm) || n.Hl(t.Xm)) return [t.Rm, t.cm]; if (n.Hl(t.Rm)) return [t.Gm, t.cm]; var r = this.Vm(1).$m(n).Um(1); return r.Hl(t.cm) ? e = n.dm() ? t.Gm : t.Xm : (i = this.Od(n.zm(r)), e = r.kd(i.$m(n))), [e, i = this.Od(n.zm(e))] } if (n.Hl(t.Rm)) return this.Cm() ? [t.Em, this] : [t.cm, this]; if (this.dm()) { if (n.dm()) return this._m().qm(n._m()); var s = this._m().qm(n); return e = s[0], i = s[1], [e._m(), i._m()] } if (n.dm()) { var u = this.qm(n._m()); return e = u[0], i = u[1], [e._m(), i._m()] } e = t.cm } for (i = this; i.ql(n);) { for (var o = _.max(1, _.floor(i.Pm() / n.Pm())), a = _.ceil(_.log(o) / _.LN2), h = a <= 48 ? 1 : _.pow(2, a - 48), c = t.Sm(o), f = c.zm(n); f.dm() || f.zl(i);)o -= h, f = (c = t.Sm(o, this.Cm())).zm(n); c.Dm() && (c = t.Gm), e = e.kd(c), i = i.Od(f) } return [e, i] }, n.$m = function (t) { return this.qm(t)[0] }, n.Qm = function (t) { return this.qm(t)[1] }, n.toString = function (n) { if ((n = n || 10) < 2 || 36 < n) throw new RangeError("radix"); if (this.Dm()) return "0"; if (this.dm()) { if (this.Hl(t.Rm)) { var i = t.Sm(n), e = this.$m(i), r = e.zm(i).Od(this); return e.toString(n) + r.Mm().toString(n) } return "-" + this._m().toString(n) } for (var s = t.Sm(_.pow(n, 6), this.Cm()), u = this, o = ""; ;) { var a = u.$m(s), h = (u.Od(a.zm(s)).Mm() >>> 0).toString(n); if ((u = a).Dm()) return h + o; for (; h.length < 6;)h = "0" + h; o = "" + h + o } }, t }(); return t.cm = t.Tm(na.ZERO), t.Em = t.Tm(na.UZERO), t.Gm = t.Tm(na.ONE), t.Wm = t.Tm(na.UONE), t.Xm = t.Tm(na.NEG_ONE), t.Nm = t.Am(na.NEG_ONE, na.MAX_VALUE, !1), t.Im = t.Am(na.MAX_UNSIGNED_VALUE, na.MAX_UNSIGNED_VALUE, !0), t.Rm = t.Am(na.ZERO, na.MIN_VALUE, !1), t }(), ea = function () { var t = function (t) { function n(n, i) { var e; return (e = t.call(this) || this).Hn = n.toSigned(), e.$p = i >>> 0, e } rt(n, t), n.Ym = function (t, i) { return void 0 === i && (i = 1e6), n.Sm(t * i, i) }, n.Sm = function (t, i) { return p(t) ? n.Zm : t === 1 / 0 ? n.Km : t === -1 / 0 ? n.Jm : new n(na.fromNumber(t), i) }, n.Tm = function (t, i) { return new n(t, i) }, n.nk = function (t) { return new n(na.fromNumber(_.round(t.Xp)), t.$p) }, n.ek = function (t) { return new n(na.fromNumber(t.getTime()), 1e3) }, n.Ql = function (t, n) { return t.Zp(n) ? t : n }, n.$l = function (t, n) { return t.Xl(n) ? t : n }, n.rk = function (t, i, e) { return n.Ql(i, n.$l(e, t)) }; var i = n.prototype; return i.dm = function () { return this.Hn.isNegative() }, i.Dm = function () { return 0 !== this.$p && this.Hn.isZero() }, i.im = function () { return 0 === this.$p && !this.Hn.isZero() }, i.gm = function () { return 0 === this.$p && this.Hn.isZero() }, i.Pm = function () { if (0 === this.$p) return this.Hn.isZero() ? NaN : this.Hn.isNegative() ? -1 / 0 : 1 / 0; var t = this.Hn.divide(this.$p), n = this.Hn.subtract(t.multiply(this.$p)); return t.toNumber() + n.toNumber() / this.$p }, i.Bm = function () { if (0 === this.$p) throw new v("Failed to convert timestamp"); return this.Hn }, i.hk = function () { return new Date(0 === this.$p ? NaN : this.Kp(1e3).Hn.toNumber()) }, i.ck = function () { return new Eo(0 === this.$p ? this.Pm() : this.Hn.toNumber(), this.$p) }, i.Kp = function (t, i) { void 0 === i && (i = 0); var e = this.$p; if (e === t) return this; if (0 === e) return this; var r = ko(e, t); return new n(function (t, n, i) { var e = t.qm(n), r = e[0], s = e[1]; if (s.Dm()) return r; if (0 === i) return s.dm() ? r.Od(ia.Gm) : r; if (1 === i) return s.dm() ? r : r.kd(ia.Gm); var u = s.zm(ia.Sm(2)); return u.dm() ? u._m().Wl(n) ? r : r.Od(ia.Gm) : u.Wl(n) ? r : r.kd(ia.Gm) }(ia.Tm(this.Hn).zm(ia.Sm(t / r)), ia.Sm(e / r), i).Bm(), t) }, i.Gl = function (t) { if (this === t) return 0; if (0 === this.$p || 0 === t.$p) return Co(this, t); if (this.Dm()) return t.Dm() ? 0 : t.dm() ? 1 : -1; if (t.Dm()) return this.dm() ? -1 : 1; var n = _.min(this.$p, t.$p), i = this.Kp(n, 2).Hn, e = t.Kp(n, 2).Hn; return i.compare(e) }, i._m = function () { return 0 === this.$p ? ra(this) : new n(this.Hn.negate(), this.$p) }, i.kd = function (t) { if (0 === this.$p || 0 === t.$p) return sa(this, t); if (this.Dm()) return t; if (t.Dm()) return this; var i = _.max(this.$p, t.$p), e = this.Kp(i, 2), r = t.Kp(i, 2); return new n(e.Hn.add(r.Hn), i) }, i.zm = function (t) { if (this.gm() || p(t)) return n.Zm; if (this.im() || !isFinite(t)) { if (this.Dm() || 0 === t) return n.Zm; var i = this.dm() ? n.Jm : n.Km; return t < 0 ? i._m() : i } return this.Dm() ? this : new n(0 === t ? na.ZERO : this.Hn.multiply(t), this.$p) }, i.$m = function (t) { if (this.gm() || p(t)) return n.Zm; if (this.im()) return isFinite(t) ? 0 === t ? 1 / t < 0 ? this._m() : this : t < 0 ? this._m() : this : n.Zm; if (!isFinite(t)) return new n(na.ZERO, this.$p); if (this.Dm()) return 0 === t ? n.Zm : new n(na.ZERO, this.$p); if (0 === t) { var i = this.dm() ? n.Jm : n.Km; return 1 / t < 0 ? i._m() : i } return new n(this.Hn.divide(t), this.$p) }, i.fk = function () { return [this.Hn.low, this.Hn.high, this.$p] }, n }(Ro); return t.cm = new t(na.ZERO, 1e6), t.Zm = new t(na.ZERO, 0), t.Km = new t(na.ONE, 0), t.Jm = new t(na.NEG_ONE, 0), t }(); function ra(t) { return t.gm() ? t : t.dm() ? ea.Km : ea.Jm } function sa(t, n) { return t.gm() || n.gm() ? ea.Zm : t.im() && n.im() ? t.dm() === n.dm() ? t : ea.Zm : t.im() ? t : n } var ua = function () { var t = function (t) { function n(n, i) { var e; return (e = t.call(this) || this).Hn = BigInt.asIntN(64, n), e.$p = i >>> 0, e } rt(n, t), n.Ym = function (t, i) { return void 0 === i && (i = 1e6), n.Sm(t * i, i) }, n.Sm = function (t, i) { return p(t) ? n.Zm : t === 1 / 0 ? n.Km : t === -1 / 0 ? n.Jm : new n(BigInt(_.floor(t)), i) }, n.Tm = function (t, i) { return new n(BigInt(t.high) << BigInt(32) | BigInt(t.low >>> 0), i) }, n.nk = function (t) { return n.Sm(_.round(t.Xp), t.$p) }, n.ek = function (t) { return n.Sm(t.getTime(), 1e3) }, n.Ql = function (t, n) { return t.Zp(n) ? t : n }, n.$l = function (t, n) { return t.Xl(n) ? t : n }, n.rk = function (t, i, e) { return n.Ql(i, n.$l(e, t)) }; var i = n.prototype; return i.dm = function () { return this.Hn < BigInt(0) }, i.Dm = function () { return 0 !== this.$p && this.Hn === BigInt(0) }, i.im = function () { return 0 === this.$p && this.Hn !== BigInt(0) }, i.gm = function () { return 0 === this.$p && this.Hn === BigInt(0) }, i.Pm = function () { if (0 === this.$p) return this.Hn === BigInt(0) ? NaN : this.Hn < BigInt(0) ? -1 / 0 : 1 / 0; var t = this.Hn / BigInt(this.$p), n = this.Hn - t * BigInt(this.$p); return Number(t) + Number(n) / this.$p }, i.Bm = function () { if (0 === this.$p) throw new v("Failed to convert timestamp"); return this.vk() }, i.vk = function () { var t = this.Hn & BigInt(4294967295), n = this.Hn >> BigInt(32) & BigInt(4294967295); return na.fromBits(Number(t), Number(n)) }, i.hk = function () { return new Date(0 === this.$p ? NaN : Number(this.Kp(1e3).Hn)) }, i.ck = function () { return new Eo(0 === this.$p ? this.Pm() : Number(this.Hn), this.$p) }, i.Kp = function (t, i) { void 0 === i && (i = 0); var e = this.$p; if (e === t) return this; if (0 === e) return this; var r = ko(e, t); return new n(function (t, n, i) { var e = t / n, r = t - e * n; if (r === BigInt(0)) return e; if (0 === i) return r < BigInt(0) ? e - BigInt(1) : e; if (1 === i) return r < BigInt(0) ? e : e + BigInt(1); var s = r * BigInt(2); return s < BigInt(0) ? -s < n ? e : e - BigInt(1) : s < n ? e : e + BigInt(1) }(this.Hn * BigInt(t / r), BigInt(e / r), i), t) }, i.Gl = function (t) { if (this === t) return 0; if (0 === this.$p || 0 === t.$p) return Co(this, t); if (this.Dm()) return t.Dm() ? 0 : t.dm() ? 1 : -1; if (t.Dm()) return this.dm() ? -1 : 1; var n = _.min(this.$p, t.$p), i = this.Kp(n, 2).Hn, e = t.Kp(n, 2).Hn; return i === e ? 0 : i > e ? 1 : -1 }, i._m = function () { return 0 === this.$p ? oa(this) : new n(-this.Hn, this.$p) }, i.kd = function (t) { if (0 === this.$p || 0 === t.$p) return aa(this, t); if (this.Dm()) return t; if (t.Dm()) return this; var i = _.max(this.$p, t.$p), e = this.Kp(i, 2), r = t.Kp(i, 2); return new n(e.Hn + r.Hn, i) }, i.zm = function (t) { if (this.gm() || p(t)) return n.Zm; if (this.im() || !isFinite(t)) { if (this.Dm() || 0 === t) return n.Zm; var i = this.dm() ? n.Jm : n.Km; return t < 0 ? i._m() : i } return this.Dm() ? this : new n(0 === t ? BigInt(0) : this.Hn * BigInt(t), this.$p) }, i.$m = function (t) { if (this.gm() || p(t)) return n.Zm; if (this.im()) return isFinite(t) ? 0 === t ? 1 / t < 0 ? this._m() : this : t < 0 ? this._m() : this : n.Zm; if (!isFinite(t)) return new n(BigInt(0), this.$p); if (this.Dm()) return 0 === t ? n.Zm : new n(BigInt(0), this.$p); if (0 === t) { var i = this.dm() ? n.Jm : n.Km; return 1 / t < 0 ? i._m() : i } return new n(this.Hn / BigInt(t), this.$p) }, i.fk = function () { var t = this.vk(); return [t.low, t.high, this.$p] }, T(n, null, [{ key: "cm", get: function () { return n.lk || (n.lk = new n(BigInt(0), 1e6)), n.lk } }, { key: "Zm", get: function () { return n.dk || (n.dk = new n(BigInt(0), 0)), n.dk } }, { key: "Km", get: function () { return n._k || (n._k = new n(BigInt(1), 0)), n._k } }, { key: "Jm", get: function () { return n.gk || (n.gk = new n(BigInt(-1), 0)), n.gk } }]), n }(Ro); return t.lk = void 0, t.dk = void 0, t._k = void 0, t.gk = void 0, t }(); function oa(t) { return t.gm() ? t : t.dm() ? ua.Km : ua.Jm } function aa(t, n) { return t.gm() || n.gm() ? ua.Zm : t.im() && n.im() ? t.dm() === n.dm() ? t : ua.Zm : t.im() ? t : n } var ha = function () { try { return "function" == typeof BigInt && "bigint" == typeof BigInt(0) } catch (t) { return !1 } }() ? ua : ea; function ca(t, n) { return t.Gl(n) } function fa(t) { return ha.Tm(na.fromBits(t[0], t[1], !1), t[2]) } var va = function () { function t(t) { var n = t.match(/P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?/); if (!n) throw new v("The given value could not be parsed as a valid DateTimeInterval"); this.wk = y(n[1]) || 0, this.yk = y(n[2]) || 0, this.pk = y(n[3]) || 0, this.bk = y(n[4]) || 0, this.Ak = y(n[5]) || 0, this.Tk = y(n[6]) || 0, this.Sk = y(n[7]) || 0 } return t.prototype.Ek = function () { var t = new Date, n = new Date(t.getTime()); return n.setUTCFullYear(n.getUTCFullYear() + this.Ik), n.setUTCMonth(n.getUTCMonth() + this.Rk), n.setUTCDate(n.getUTCDate() + 7 * this.Nk), n.setUTCDate(n.getUTCDate() + this.Ck), n.setUTCHours(n.getUTCHours() + this.Dk), n.setUTCMinutes(n.getUTCMinutes() + this.xk), n.setUTCMilliseconds(n.getUTCMilliseconds() + 1e3 * this.Ok), n.getTime() - t.getTime() }, T(t, [{ key: "Ik", get: function () { return this.wk } }, { key: "Rk", get: function () { return this.yk } }, { key: "Nk", get: function () { return this.pk } }, { key: "Ck", get: function () { return this.bk } }, { key: "Dk", get: function () { return this.Ak } }, { key: "xk", get: function () { return this.Tk } }, { key: "Ok", get: function () { return this.Sk } }, { key: "Bk", get: function () { return new Eo(this.Ek(), 1e3) } }, { key: "Pk", get: function () { return ha.Sm(this.Ek(), 1e3) } }]), t }(); function la(t, n) { return function (t, n) { var i = t.Qn.slice(), e = []; for (; i.length > 0;) { var r = i.shift(); n(r) ? e.push(r) : i.push.apply(i, r.Qn) } return e }(t, function (t) { return t.Xn === n }) } var da = /^(?:true|false)$/i, ga = /^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/; function _a(t) { if (void 0 !== t) return new va(t) } function wa(t) { if (void 0 !== t) { var n = t.match(ga); if (!n) throw new v("The given value could not be parsed as a valid Date"); var i = n[1], e = n[2], r = n[3], s = n[4], u = n[5], o = n[6], a = n[7], h = n[8], c = n[9], f = n[10], l = n[11], d = ("-" === i ? -1 : 1) * +e, g = +r - 1, w = +s, y = +u, m = +o, k = +a, b = +("0." + (h || "")), A = _.round(1e3 * b); if (c) m -= ("-" === c ? -1 : 1) * (60 * +f + +l); var T = new Date(Date.UTC(d, g, w, y, m, k, A)); if (p(T.getTime())) throw new v("The given value could not be parsed as a valid Date"); return T } } function ya(t) { if (t) { var n = /(\d+)-(\d+)/.exec(t); if (n) return [ma(n[1]), ma(n[2])] } } function pa(t) { if (void 0 !== t) { if (!p(+t)) try { return na.fromString(t, !0) } catch (t) { } throw new v("The given value could not be parsed as a valid unsigned long") } } function ma(t) { if (void 0 !== t) { var n = Number(t); if (!p(n)) return n; throw new v("The given value could not be parsed as a valid Number") } } function ka(t) { if (void 0 !== t) { var n = t.split("/"), i = Number(n[0]), e = Number(n[1] || 1); if (!p(i) && !p(e)) return new Eo(i, e); throw new v("The given value could not be parsed as a valid frame rate") } } function ba(t) { if (void 0 !== t) { if (da.test(t)) return "true" === t.toLowerCase(); if (!p(w(t))) return !!w(t); throw new v("The given value could not be parsed as a valid Boolean.") } } function Aa(t) { return { Mk: t.ni, Lk: ba(t.Yn("availabilityTimeComplete")), jk: ma(t.Yn("availabilityTimeOffset")) } } function Ta(t) { return t.map(Aa) } function Sa(t) { var n, i, e, r, s, u = Ma(t); return { Fk: (i = "default_KID", e = "urn:mpeg:cenc:2013", r = "cenc", void 0 === (s = (n = t).Zn(e, i)) && (s = n.Yn(r + ":" + i)), s), Uk: function (t) { if (t) return $i(t.ni) }(function (t, n, i, e) { var r = t.$n(i, n); return 0 === r.length && (r = t.qn(e + ":" + n)), r }(t, "pssh", "urn:mpeg:cenc:2013", "cenc")[0]), Vk: u.Vk, Hn: u.Hn } } function Ea(t) { return { Hk: t.Yn("sourceURL"), Gk: ya(t.Yn("range")) } } function Ia(t, n) { var i = pa(t.Yn("d")), e = pa(t.Yn("t")), r = ma(t.Yn("r")); n.push({ Zy: i, zk: e, qk: r }) } function Ra(t) { return { Wk: t.Yn("index"), Xk: ya(t.Yn("indexRange")), $k: t.Yn("media"), Qk: ya(t.Yn("mediaRange")) } } function Ca(t) { var n, i, e = xa(t), r = (n = t.qn("SegmentURL"), (i = n.map(Ra)).length > 0 ? i : void 0), s = t.Yn("xlink:href"), u = t.Yn("xlink:actuate"); return Et(Et({}, e), { Yk: r, Zk: s, Kk: u }) } function Na(t) { var n = t.map(Ca); return n.length > 0 ? n : void 0 } function Da(t) { var n = ba(t.Yn("availabilityTimeComplete")), i = ma(t.Yn("availabilityTimeOffset")), e = ya(t.Yn("indexRange")), r = ba(t.Yn("indexRangeExact")), s = t.qn("Initialization"); if (s.length > 1) throw new v("The provided MPEG-DASH document's " + t.Xn + " element can not have more than one Initialization element."); var u = 1 === s.length ? Ea(s[0]) : void 0, o = pa(t.Yn("presentationTimeOffset")), a = t.qn("RepresentationIndex"); if (a.length > 1) throw new v("The provided MPEG-DASH document's " + t.Xn + " element can not have more than one RepresentationIndex element."); return { Lk: n, jk: i, Xk: e, Jk: r, _b: u, Tb: o, Sb: 1 === a.length ? Ea(a[0]) : void 0, Rb: _a(t.Yn("timeShiftBufferDepth")), $p: ma(t.Yn("timescale")) } } function xa(t) { var n = Da(t), i = t.qn("BitstreamSwitching"), e = i.length > 0 ? Ea(i[0]) : void 0, r = ma(t.Yn("duration")), s = t.qn("SegmentTimeline"); if (s.length > 1) throw new v("The provided MPEG-DASH document's " + t.Xn + " element can not have more than one SegmentTimeline element."); var u = 1 === s.length ? function (t) { for (var n = [], i = t.qn("S"), e = 0; e < i.length; e++)Ia(i[e], n); return n }(s[0]) : void 0, o = ma(t.Yn("startNumber")), a = ma(t.Yn("endNumber")); return Et(Et({}, n), { Pb: e, Zy: r, Ub: u, Vb: o, Wb: a }) } function Ba(t) { var n = xa(t), i = t.Yn("bitstreamSwitching"), e = t.Yn("index"), r = t.Yn("initialization"), s = t.Yn("media"); return Et(Et({}, n), { Xb: i, $b: e, Qb: r, Yb: s }) } function Oa(t) { return { Zb: function (t) { if (t) { var n = t.split(/\s/); return n.length > 1 ? (n.length = 2, n.map(ma)) : 1 === n.length ? n.map(ma)[0] : void 0 } }(t.Yn("audioSamplingRate")), tA: t.Yn("codecs"), nA: ba(t.Yn("codingDependency")), iA: function (t) { if (0 !== t.length) return t.map(Sa) }(t.qn("ContentProtection")), eA: t.qn("EssentialProperty").map(La), rA: ka(t.Yn("frameRate")), Ww: ma(t.Yn("height")), sA: ma(t.Yn("maxPlayoutRate")), uA: ma(t.Yn("maximumSAPPeriod")), oA: t.Yn("mimeType"), aA: t.Yn("profiles"), hA: t.Yn("sar"), cA: function (t) { switch (t) { case "progressive": case "interlaced": case "unknown": return t; default: return } }(t.Yn("scanType")), fA: t.Yn("segmentProfiles"), vA: ma(t.Yn("startWithSAP")), qw: ma(t.Yn("width")) } } function Pa(t) { var n = Oa(t), i = ma(t.Yn("bandwidth")), e = Ta(t.qn("BaseURL")), r = t.Yn("dependencyId"), s = t.Yn("id"), u = t.Yn("mediaStreamStructureId"), o = ma(t.Yn("qualityRanking")), a = t.qn("SegmentBase"); if (a.length > 1) throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element."); var h = 1 === a.length ? Da(a[0]) : void 0, c = Na(t.qn("SegmentList")), f = t.qn("SegmentTemplate"); if (f.length > 1) throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element."); var l = 1 === f.length ? Ba(f[0]) : void 0; return Et(Et({}, n), { lA: i, dA: e, _A: r, Ff: s, gA: u, wA: o, yA: h, pA: c, mA: l }) } function Ma(t) { return { Vk: t.Yn("schemeIdUri"), Hn: t.Yn("value") } } function La(t) { return Ma(t) } function ja(t) { return Ma(t) } function Fa(t) { return Ma(t) } function Ua(t) { var n = Oa(t), i = function (t) { return t.map(Fa) }(t.qn("Accessibility")), e = Ta(t.qn("BaseURL")), r = ba(t.Yn("bitstreamSwitching")), s = t.Yn("contentType"), u = ma(t.Yn("group")), o = ma(t.Yn("id")), a = t.Yn("lang"), h = ma(t.Yn("maxBandwidth")), c = ka(t.Yn("maxFrameRate")), f = ma(t.Yn("maxHeight")), l = ma(t.Yn("maxWidth")), d = ma(t.Yn("minBandwidth")), g = ka(t.Yn("minFrameRate")), _ = ma(t.Yn("minHeight")), w = ma(t.Yn("minWidth")), y = t.Yn("par"), p = t.qn("Representation").map(Pa); if (0 === p.length) throw new v("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's"); var m = function (t) { return t.map(ja) }(t.qn("Role")), k = ba(t.Yn("segmentAlignment")) || !1, b = t.qn("SegmentBase"); if (b.length > 1) throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element."); var A = 1 === b.length ? Da(b[0]) : void 0, T = Na(t.qn("SegmentList")), S = t.qn("SegmentTemplate"); if (S.length > 1) throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element."); var E = 1 === S.length ? Ba(S[0]) : void 0, I = ma(t.Yn("selectionPriority")), R = I || 1, C = ba(t.Yn("subsegmentAlignment")) || !1, N = ma(t.Yn("subsegmentStartsWithSAP")), D = t.Yn("xlink:actuate") || "onRequest", x = t.Yn("xlink:href"); return Et(Et({}, n), { kA: i, dA: e, Pb: r, bA: s, AA: u, Ff: o, Gf: a, TA: h, SA: c, EA: f, IA: l, RA: d, NA: g, CA: _, DA: w, xA: y, OA: p, BA: m, PA: k, yA: A, pA: T, mA: E, MA: R, LA: C, jA: N, FA: D, UA: x }) } function Va(t) { var n = pa(t.Yn("presentationTime")) || na.ZERO, i = pa(t.Yn("duration")), e = ma(t.Yn("id")), r = function (t) { for (var n = t.Jn, i = {}, e = 0; e < n.length; e++)i[n[e].Fn] = n[e].Hn; return i }(t), s = t.ni; return { VA: n, Zy: i, Ff: e, Jn: r, ei: "" !== s.trim() ? s : t.Yn("messageData") || "" } } function Ha(t) { return { UA: t.Yn("xlink:href"), FA: t.Yn("xlink:actuate"), Vk: t.Yn("schemeIdUri"), Hn: t.Yn("value"), $p: ma(t.Yn("timescale")), HA: t.qn("Event").map(Va) } } function za(t, n) { var i = t.qn("AssetIdentifier"); if (i.length > 1) throw new v("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element."); var e = 1 === i.length ? Ma(i[0]) : void 0, r = t.qn("AdaptationSet").map(Ua), s = Ta(t.qn("BaseURL")), u = ba(t.Yn("bitstreamSwitching")), o = _a(t.Yn("duration")), a = t.qn("EventStream").map(Ha), h = t.Yn("id"), c = n && _a(n.Yn("start")), f = t.qn("SegmentBase"); if (f.length > 1) throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element."); var l = 1 === f.length ? Da(f[0]) : void 0, d = Na(t.qn("SegmentBase")), g = t.qn("SegmentTemplate"); if (g.length > 1) throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element."); var _ = 1 === g.length ? Ba(g[0]) : void 0, w = _a(t.Yn("start")), y = (t.qn("Subset"), t.Yn("xlink:href")); return { GA: r, zA: e, dA: s, Pb: u, Zy: o, qA: a, Ff: h, WA: c, yA: l, pA: d, mA: _, Ll: w, FA: t.Yn("xlink:actuate"), UA: y } } function qa(t) { var n = t.Yn("schemeIdUri"); if (n) return { Vk: n, Hn: t.Yn("value") } } function Ga(t, n) { var i = wa(t.Yn("availabilityEndTime")), e = wa(t.Yn("availabilityStartTime")), r = Ta(t.qn("BaseURL")), s = t.Yn("id"), u = t.qn("Location").map(function (t) { return "" + t.ni }), o = _a(t.Yn("maxSegmentDuration")), a = _a(t.Yn("maxSubsegmentDuration")), h = _a(t.Yn("mediaPresentationDuration")), c = (t.qn("Metrics"), _a(t.Yn("minBufferTime"))); if (!c) throw new v("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute."); var f = _a(t.Yn("minimumUpdatePeriod")), l = function (t) { for (var n = [], i = 0; i < t.length; i += 1)n.push(za(t[i], t[i + 1])); return n }(t.qn("Period")); if (!l.length) throw new v("The provided MPEG-DASH document's MPD element does not have the required 'Period' element."); var d = t.Yn("profiles"); if (!d) throw new v("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute."); return { XA: i, $A: e, dA: r, Ff: s, QA: u, YA: n, ZA: o, KA: a, JA: h, tT: c, nT: f, iT: l, aA: d, eT: wa(t.Yn("publishTime")), rT: _a(t.Yn("suggestedPresentationDelay")), Rb: _a(t.Yn("timeShiftBufferDepth")), Ou: function (t) { switch (t) { case "static": case "dynamic": return t; default: return } }(t.Yn("type")), sT: function (t) { for (var n = [], i = 0; i < t.length; i++) { var e = qa(t[i]); e && n.push(e) } return n }(t.qn("UTCTiming")) } } var Wa, Xa, $a = function () { function t() { } return t.prototype.uT = function (t, n) { return function (t, n) { if (!t) throw new v("The provided MPEG-DASH document does not contain a valid MPD root element."); return Ga(t, n) }(e.Mn(t).ri, n) }, t }(), Qa = function () { function t(n) { var i = this; this.oT = {}, n instanceof t ? n.asList().forEach(function (t) { var n = t[0], e = t[1]; i.append(n, e) }) : Array.isArray(n) ? n.forEach(function (t) { i.append(t[0], t[1]) }) : n && g.getOwnPropertyNames(n).forEach(function (t) { i.append(t, n[t]) }) } var n = t.prototype; return n.append = function (t, n) { t = Ya(t), n = Za(n); var i = t.toLowerCase(); if (this.oT.hasOwnProperty(i)) { var e = this.oT[i], r = e[1]; e[1] = r ? r + ", " + n : n } else this.oT[i] = [t, n] }, n.delete = function (t) { var n = Ya(t).toLowerCase(); delete this.oT[n] }, n.get = function (t) { var n = Ya(t).toLowerCase(); return this.oT.hasOwnProperty(n) ? this.oT[n][1] : null }, n.has = function (t) { var n = Ya(t).toLowerCase(); return this.oT.hasOwnProperty(n) }, n.set = function (t, n) { var i = (t = Ya(t)).toLowerCase(); this.oT[i] = [t, Za(n)] }, n.forEach = function (t, n) { for (var i in this.oT) this.oT.hasOwnProperty(i) && t.call(n, this.oT[i][1], i, this) }, n.asList = function () { var t = []; for (var n in this.oT) if (this.oT.hasOwnProperty(n)) { var i = this.oT[n], e = i[0], r = i[1]; t.push([e, r]) } return t }, n.aT = function () { var t = {}; return this.forEach(function (n, i) { t[i] = n }), t }, n.hT = function (t) { var n = this; t.forEach(function (t, i) { n.append(i, t) }) }, n.cT = function (t) { var n = this; t.forEach(function (t, i) { n.set(i, t) }) }, t }(); function Ya(t) { if ("string" != typeof t && (t = String(t)), /[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t)) throw new l("Invalid character in header field name"); return t } function Za(t) { return "string" != typeof t && (t = String(t)), t } !function (t) { t.fT = "arraybuffer", t.vT = "json", t.lT = "stream", t.dT = "text", t._T = "blob", t.gT = "document" }(Wa || (Wa = {})), function (t) { t.fT = Wa.fT, t.vT = Wa.vT, t.lT = Wa.lT, t.dT = Wa.dT }(Xa || (Xa = {})); var Ka, Ja, th = function (t, n) { var i, e, r, s, u, o, a, h, c, f, v, l = t.Mk; n ? (i = n.wT, e = n.yT, r = n.pT, s = n.mT, u = n.kT, o = n._h, a = n.Ou, h = n.bT, c = n.AT, f = n.TT, v = n.ST) : (i = null, e = {}, r = "GET", s = Wa.dT, u = 0, a = "", h = "", c = "", f = !1), this.Mk = l, this.wT = t.wT || i, this.yT = new Qa(t.yT || e), this.pT = t.pT || r, this.mT = t.mT || s, this.kT = void 0 !== t.kT ? Number(t.kT) || 0 : u, this._h = t._h || o || (new ie)._h, this.Ou = t.Ou || a, this.bT = t.bT || h, this.AT = t.AT || c, this.TT = void 0 !== t.TT ? Boolean(t.TT) : f, this.ST = t.ST || v }, nh = function (t) { function n(n, i, e) { var r; return (r = t.call(this, e || i && eh[i] || n) || this).ET = n, r.IT = i, r.RT = e, r } return rt(n, t), T(n, [{ key: "NT", get: function () { return this.ET } }, { key: "CT", get: function () { return this.IT } }]), n }(ot); !function (t) { t.ADBLOCK = "adblock", t.NETWORK = "network", t.PARSING = "parsing", t.PLAYBACK = "playback", t.GENERAL = "general" }(Ka || (Ka = {})), function (t) { t[t.VAST_MALFORMED_RESPONSE = 100] = "VAST_MALFORMED_RESPONSE", t[t.VAST_SCHEMA_VALIDATION_ERROR = 101] = "VAST_SCHEMA_VALIDATION_ERROR", t[t.VAST_UNSUPPORTED_VERSION = 102] = "VAST_UNSUPPORTED_VERSION", t[t.VAST_TRAFFICKING_ERROR = 200] = "VAST_TRAFFICKING_ERROR", t[t.VAST_UNEXPECTED_LINEARITY = 201] = "VAST_UNEXPECTED_LINEARITY", t[t.VAST_UNEXPECTED_DURATION_ERROR = 202] = "VAST_UNEXPECTED_DURATION_ERROR", t[t.UNEXPECTED_SIZE = 203] = "UNEXPECTED_SIZE", t[t.VAST_WRAPPER_ERROR = 300] = "VAST_WRAPPER_ERROR", t[t.VAST_LOAD_TIMEOUT = 301] = "VAST_LOAD_TIMEOUT", t[t.VAST_TOO_MANY_REDIRECTS = 302] = "VAST_TOO_MANY_REDIRECTS", t[t.VAST_NO_ADS_AFTER_WRAPPER = 303] = "VAST_NO_ADS_AFTER_WRAPPER", t[t.GENERAL_LINEAR_ERROR = 400] = "GENERAL_LINEAR_ERROR", t[t.FILE_NOT_FOUND = 401] = "FILE_NOT_FOUND", t[t.VAST_MEDIA_LOAD_TIMEOUT = 402] = "VAST_MEDIA_LOAD_TIMEOUT", t[t.VAST_LINEAR_ASSET_MISMATCH = 403] = "VAST_LINEAR_ASSET_MISMATCH", t[t.VAST_PROBLEM_DISPLAYING_MEDIA_FILE = 405] = "VAST_PROBLEM_DISPLAYING_MEDIA_FILE", t[t.MEZZANINE_FILE_REQUIRES = 406] = "MEZZANINE_FILE_REQUIRES", t[t.MEZZANINE_FILE_DOWNLOADED_FIRST_TIME = 407] = "MEZZANINE_FILE_DOWNLOADED_FIRST_TIME", t[t.AD_IN_VAST_REJECTED = 408] = "AD_IN_VAST_REJECTED", t[t.INTERACTIVE_CREATIVE_NOT_EXECUTED = 409] = "INTERACTIVE_CREATIVE_NOT_EXECUTED", t[t.VERIFICATION_CODE_NOT_EXECUTED = 410] = "VERIFICATION_CODE_NOT_EXECUTED", t[t.GENERAL_NON_LINEAR_ERROR = 500] = "GENERAL_NON_LINEAR_ERROR", t[t.NONLINEAR_DIMENSIONS_ERROR = 501] = "NONLINEAR_DIMENSIONS_ERROR", t[t.OVERLAY_AD_LOADING_FAILED = 502] = "OVERLAY_AD_LOADING_FAILED", t[t.VAST_NONLINEAR_ASSET_MISMATCH = 503] = "VAST_NONLINEAR_ASSET_MISMATCH", t[t.GENERAL_COMPANION_AD_ERROR = 600] = "GENERAL_COMPANION_AD_ERROR", t[t.INVALID_DIMENSIONS_COMPANION_AD = 601] = "INVALID_DIMENSIONS_COMPANION_AD", t[t.COMPANION_REQUIRED_ERROR = 602] = "COMPANION_REQUIRED_ERROR", t[t.COMPANION_AD_LOADING_FAILED = 603] = "COMPANION_AD_LOADING_FAILED", t[t.UNABLE_TO_FIND_SUPPORTED_COMPANION = 604] = "UNABLE_TO_FIND_SUPPORTED_COMPANION", t[t.UNKNOWN_ERROR = 900] = "UNKNOWN_ERROR", t[t.GENERAL_VPAID_ERROR = 901] = "GENERAL_VPAID_ERROR", t[t.MALFORMED_URI = 1005] = "MALFORMED_URI", t[t.VAST_ASSET_NOT_FOUND = 1007] = "VAST_ASSET_NOT_FOUND", t[t.VAST_EMPTY_RESPONSE = 1009] = "VAST_EMPTY_RESPONSE", t[t.UNKNOWN_AD_RESPONSE = 1010] = "UNKNOWN_AD_RESPONSE", t[t.UNSUPPORTED_LOCALE = 1011] = "UNSUPPORTED_LOCALE", t[t.INVALID_ARGUMENTS = 1101] = "INVALID_ARGUMENTS", t[t.INVALID_ADX_EXTENSION = 1105] = "INVALID_ADX_EXTENSION", t[t.AUTOPLAY_DISALLOWED = 1205] = "AUTOPLAY_DISALLOWED" }(Ja || (Ja = {})); var ih, eh = { 100: "XML parsing error.", 101: "VAST schema validation error.", 102: "VAST version of response not supported.", 200: "Trafficking error. The video player received an ad type that it was not expecting and/or cannot display.", 201: "Video player expecting different linearity.", 202: "Video player expecting different duration.", 203: "Video player expecting different size.", 300: "General wrapper error.", 301: "Timeout of VAST URI provided in wrapper element, or of VAST URI provided in a subsequent wrapper element. This includes request errors such as invalid URI, unreachable or request timeout for URI, and security or other exceptions related to requesting a VAST URI.", 302: "Wrapper limit reached, as defined by the video player. Too many wrapper responses have been received with no InLine response. This can be caused by a circular loop of daisy chaining (one network bouncing to another and another).", 303: "No ads VAST response after one or more wrappers. This also includes the number of empty VAST responses from fallback.", 400: "General linear error. The video player is unable to display the linear ad.", 401: "File not found. Unable to find Linear/MediaFile from URI.", 402: "Unable to download or timeout of MediaFile URI.", 403: "Could not find a media file that is supported by this video player, based on the attributes of the MediaFile element.", 405: "Problem displaying a media file.", 406: "A mezzanine file was required, but not provided.", 407: "The mezzanine file was downloaded for the first time, so the ad did not serve. This can occur when an ad insertion is missed because the creative is being transcoded. It continues to occur until the creative is available for insertion.", 408: "The ad returned in the VAST response was rejected.", 409: "The interactive creative defined in the InteractiveCreativeFile node was not executed.", 410: "The code referenced in the Verification node was not executed.", 500: "General NonLinearAds error.", 501: "Unable to display non-linear ad because creative dimensions do not align with creative display area (in other words, the creative dimension was too large). This can occur if you use CSS styles to set width and height of the video ,content element. You should instead use the width and height HTML attributes.", 502: "Unable to fetch NonLinearAds/NonLinear resource.", 503: "Could not find NonLinearResource with supported type. This can occur when a creative size is larger than the player size.", 600: "General CompanionAds error.", 601: "Unable to display companion because creative dimensions do not fit within the companion display area (in other words, space was not available).", 602: "Unable to display required companion.", 603: "Unable to fetch CompanionAds/Companion resource.", 604: "Could not find Companion resource with supported type.", 900: "VAST 2 error. Even if you request VAST 3 or your DFP network default is VAST 3, this can occur if you have a VAST redirect that returns a VAST 2 response.", 901: "General VPAID error", 1005: "URI malformed." }; function rh(t) { var n = Je(); return !!(t && n && n.canPlayType && n.canPlayType(t)) || (sh("Invalid or unsupported MediaFile Content delivery type, skipping mediafile"), !1) } function sh(t) { 0 } !function (t) { t.DT = "linear", t.xT = "nonlinear", t.OT = "companion", t.BT = "vmap" }(ih || (ih = {})); var uh, oh = function () { function t() { } var n = t.prototype; return n.PT = function () { var n = St(At.mark(function n(i, e) { var r, s, u, o; return At.wrap(function (n) { for (; ;)switch (n.prev = n.next) { case 0: if ("vmap" !== i.sources.type && (void 0 !== i.sources.type || void 0 !== i.timeOffset)) { n.next = 28; break } return n.next = 3, t.MT(i.sources.src, e); case 3: if (r = n.sent, s = r && r.documentElement) { n.next = 7; break } throw new nh(Ka.NETWORK, Ja.VAST_SCHEMA_VALIDATION_ERROR, "Ad source is not a valid XML document."); case 7: if (!$u(s, "VMAP")) { n.next = 13; break } return n.next = 10, this.LT(s, i, e); case 10: return n.abrupt("return", n.sent); case 13: if (!$u(s, "VAST")) { n.next = 25; break } return n.next = 16, this.jT(s, e); case 16: if (!(u = n.sent)) { n.next = 22; break } return o = new vh("", !0, !0, u), n.abrupt("return", [new ch("start", o, uh.DT, "", [], !1, !0, i)]); case 22: return n.abrupt("return", []); case 23: n.next = 26; break; case 25: throw new nh(Ka.GENERAL, Ja.VAST_MALFORMED_RESPONSE, "Only VMAP and VAST files are allowed as ad source."); case 26: n.next = 33; break; case 28: if ("vast" !== i.sources.type && (void 0 !== i.sources.type || void 0 === i.timeOffset)) { n.next = 32; break } return n.abrupt("return", [new fh(String(i.timeOffset), i, e)]); case 32: throw new nh(Ka.GENERAL, Ja.VAST_MALFORMED_RESPONSE, "Something went wrong parsing the ad source; only VMAP and VAST files are allowed as ad source."); case 33: case "end": return n.stop() } }, n, this) })); return function (t, i) { return n.apply(this, arguments) } }(), n.FT = function () { var n = St(At.mark(function n(i, e) { var r, s; return At.wrap(function (n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, t.MT(i, e); case 2: if (r = n.sent, !(s = r && r.documentElement) || !$u(s, "VAST")) { n.next = 8; break } return n.next = 7, this.jT(s, e); case 7: return n.abrupt("return", n.sent); case 8: return n.abrupt("return", void 0); case 9: case "end": return n.stop() } }, n, this) })); return function (t, i) { return n.apply(this, arguments) } }(), n.UT = function () { var t = St(At.mark(function t(n, i, e, r) { var s, u, o, a; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (null === (s = n.sources) || void 0 === s ? void 0 : s.src) { t.next = 2; break } throw new nh(Ka.GENERAL, Ja.MALFORMED_URI, "Property src on adSource is missing."); case 2: return t.next = 4, this.FT(n.sources.src, r); case 4: return u = t.sent, o = new vh("", !0, !0, u), (a = new ch(i, o, uh.DT, "", [], !1, !0, n)).VT = e, t.abrupt("return", a); case 9: case "end": return t.stop() } }, t, this) })); return function (n, i, e, r) { return t.apply(this, arguments) } }(), t.MT = function () { var t = St(At.mark(function t(n, i) { var e, r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, e = new th({ Mk: n, mT: Wa.gT, pT: "GET" }), t.next = 4, i.HT(e); case 4: return r = t.sent, t.next = 7, r.ei(); case 7: return t.abrupt("return", t.sent); case 10: throw t.prev = 10, t.t0 = t.catch(0), new nh(Ka.NETWORK, Ja.VAST_MALFORMED_RESPONSE, "The ad source could not be loaded."); case 13: case "end": return t.stop() } }, t, null, [[0, 10]]) })); return function (n, i) { return t.apply(this, arguments) } }(), n.jT = function () { var t = St(At.mark(function t(n, i) { var e, r, s, u, o, a, h, c, f, v; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (e = [], r = [], n && $u(n, "VAST")) { t.next = 4; break } return t.abrupt("return", void 0); case 4: if (0 === Yu(n, "Ad").length) { t.next = 27; break } s = 0, u = Yu(n, "Ad"); case 6: if (!(s < u.length)) { t.next = 15; break } return o = u[s], t.next = 10, this.GT(o, i); case 10: 0 === (a = t.sent).Mg ? e.push(a) : r.push(a); case 12: s++, t.next = 6; break; case 15: if (1 !== e.length || 0 !== r.length) { t.next = 19; break } return t.abrupt("return", e[0]); case 19: if (0 !== e.length || 0 === r.length) { t.next = 23; break } return t.abrupt("return", new Nu(r)); case 23: if (!(e.length > 0 || r.length > 0)) { t.next = 25; break } return t.abrupt("return", new Nu(r.concat(e))); case 25: t.next = 33; break; case 27: if (0 === Yu(n, "Error").length) { t.next = 32; break } for (h = 0, c = Yu(n, "Error"); h < c.length; h++)f = c[h], sh(oo.Vp.Do), (v = f.textContent) && new lo(v).qp(oo.Vp); throw new nh(Ka.GENERAL, Ja.VAST_MALFORMED_RESPONSE, "The Ad Server responded with a VAST Error"); case 32: return t.abrupt("return", void 0); case 33: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), n.LT = function () { var t = St(At.mark(function t(n, i, e) { var r, s, u, o, a; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: r = [], s = Yu(n, "AdBreak"), u = 0; case 3: if (!(u < s.length)) { t.next = 18; break } return o = s[u], t.prev = 5, t.next = 8, this.zT(o, i, e); case 8: (a = t.sent) && r.push(a), t.next = 15; break; case 12: t.prev = 12, t.t0 = t.catch(5), console.log(t.t0); case 15: u++, t.next = 3; break; case 18: return t.abrupt("return", r); case 19: case "end": return t.stop() } }, t, this, [[5, 12]]) })); return function (n, i, e) { return t.apply(this, arguments) } }(), n.GT = function () { var n = St(At.mark(function n(i, e) { var r, s, u, o; return At.wrap(function (n) { for (; ;)switch (n.prev = n.next) { case 0: if (r = Wu(i, "id") || "", (s = ma(Wu(i, "sequence"))) || (s = 0), u = Yu(i, "InLine"), 0 === (o = Yu(i, "Wrapper")).length) { n.next = 11; break } return n.next = 8, this.qT(o[0], r, s, e); case 8: return n.abrupt("return", n.sent); case 11: if (0 === u.length) { n.next = 13; break } return n.abrupt("return", t.WT(u[0], r, s)); case 13: throw new nh(Ka.PARSING, Ja.VAST_SCHEMA_VALIDATION_ERROR, "An Ad tag without a Wrapper or inline element cannot be parsed"); case 14: case "end": return n.stop() } }, n, this) })); return function (t, i) { return n.apply(this, arguments) } }(), t.WT = function (n, i, e) { var r, s = Yu(n, "AdSystem")[0], u = ""; s && (u = s.textContent || u); var o = Yu(n, "AdTitle")[0]; o && (r = o.textContent || void 0); for (var a = [], h = 0, c = Yu(n, "Impression"); h < c.length; h++) { var f = c[h]; f.textContent && a.push(f.textContent) } var v, l = t.XT(Yu(n, "Creatives")[0], u), d = Yu(n, "Error")[0]; return d && (v = d.textContent || void 0), new Bu(i, e, u, r, a, l, new lo(v)) }, n.qT = function () { var n = St(At.mark(function n(i, e, r, s) { var u, o, a, h, c, f, v, l, d, g, _, w, y, p, m, k; return At.wrap(function (n) { for (; ;)switch (n.prev = n.next) { case 0: for (u = Yu(i, "AdSystem")[0], o = "", u && (o = u.textContent || o), a = [], h = 0, c = Yu(i, "Impression"); h < c.length; h++)(f = c[h]).textContent && a.push(f.textContent); return v = Yu(i, "VASTAdTagURI")[0], l = "", v && v.textContent && (l = v.textContent), n.next = 10, this.FT(l, s); case 10: return d = n.sent, g = Yu(i, "Creatives")[0], _ = [], g && (_ = t.$T(g, o)), (w = ba(Wu(i, "followAdditionalWrappers"))) || (w = !0), (y = ba(Wu(i, "allowMultipleAds"))) || (y = !0), (p = ba(Wu(i, "fallbackOnNoAd"))) || (p = !1), m = Yu(i, "Error")[0], k = "", m && m.textContent && (k = m.textContent), n.abrupt("return", new Hu(e, r, a, d, w, _, y, p, new lo(k))); case 24: case "end": return n.stop() } }, n, this) })); return function (t, i, e, r) { return n.apply(this, arguments) } }(), t.$T = function (n, i) { for (var e = [], r = 0, s = Yu(n, "Creative"); r < s.length; r++) { var u = s[r], o = Wu(u, "id"); o || (o = ""); var a = ma(Wu(u, "sequence")); a || (a = 0); var h = Wu(u, "adId"); h || (h = ""); var c = Yu(u, "Linear")[0], f = void 0; c && (f = t.QT(c, "wrapper", o, i)); var v = Yu(u, "NonLinearAds")[0], l = void 0; if (v) try { l = t.YT(v, o, i) } catch (t) { } var d = Yu(u, "CompanionAds")[0], g = void 0; d && (g = t.ZT(d)), e.push(new zu(o, h, a, "", "", "", "", f, l, g)) } return e }, t.XT = function (n, i) { for (var e = [], r = 0, s = Yu(n, "Creative"); r < s.length; r++) { var u = s[r], o = Wu(u, "id"); o || (o = ""); var a = ma(Wu(u, "sequence")); a || (a = 0); var h = Wu(u, "adId"); h || (h = ""); var c = Wu(u, "apiFramework"); c || (c = ""); var f = Yu(u, "Linear")[0], v = void 0; if (f) try { v = t.QT(f, "inline", o, i) } catch (t) { } var l = Yu(u, "NonLinearAds")[0], d = void 0; if (l) try { d = t.YT(l, o, i) } catch (t) { } var g = Yu(u, "CompanionAds")[0], _ = void 0; g && (_ = t.ZT(g)); var w = "", y = "", p = "", m = Yu(u, "UniversalAdId")[0]; m && (w = m.textContent || "", y = Wu(m, "idRegistry") || "", p = Wu(m, "idValue") || ""), e.push(new zu(o, h, a, c, w, y, p, v, d, _)) } return e }, t.QT = function (n, i, e, r) { var s = Yu(n, "Duration")[0], u = 0; if (s) u = Au(s.textContent) || 0; else if (!s && "inline" === i) throw new nh(Ka.PARSING, Ja.VAST_SCHEMA_VALIDATION_ERROR, "Missing duration element in inLine linear"); var o = Wu(n, "skipoffset"), a = -1; if (o) { var h = Au(o); if (void 0 === h && o.indexOf("%") > -1) { var c = _.abs(+o.replace(/(?![0-9])./g, "")) / 100; p(c) || (h = u * c) } void 0 !== h && (a = h) } var f = Yu(n, "MediaFiles")[0], v = []; if (f && (v = function (t, n) { for (var i = [], e = 0, r = Yu(t, "MediaFile"); e < r.length; e++) { var s = r[e], u = Wu(s, "delivery"), o = Wu(s, "type"); if (o) { if (n(o)) { var a = ma(Wu(s, "width")), h = ma(Wu(s, "height")); a || (sh(), a = 0), h || (sh(), h = 0); var c = { delivery: u, type: o, width: a, height: h, contentURL: "" + s.textContent }; i.push(c) } } else sh() } return i }(f, rh)), "inline" === i && (!f || 0 === v.length)) throw new nh(Ka.PARSING, Ja.VAST_SCHEMA_VALIDATION_ERROR, "Missing MediaFiles in linear element"); var l = Yu(n, "TrackingEvents")[0], d = []; l && (d = t.KT(l, eo, ih.DT)); var g = Yu(n, "VideoClicks")[0], w = t.JT(g); return new qu(u, v, d, w, a, e, r) }, t.JT = function (n) { if (!n) return new Uu("", "", [], []); var i, e = Yu(n, "ClickThrough")[0], r = ""; e && (i = e.textContent || void 0, r = Wu(e, "id") || ""); var s = t.tS(Yu(n, "ClickTracking")), u = t.tS(Yu(n, "CustomClick")); return new Uu(i, r, s, u) }, t.tS = function (t) { for (var n = [], i = 0; i < t.length; i++) { var e = t[i], r = e.textContent; if (r) { var s = Wu(e, "id") || ""; n.push(new Fu(s, r)) } } return n }, t.KT = function (t, n, i) { for (var e = [], r = 0, s = Yu(t, "Tracking"); r < s.length; r++) { var u = s[r], o = Wu(u, "event"); if (n(o)) { var a = ""; i === ih.DT && (a = Wu(t, "offset") || "0"); var h = u.textContent; h && e.push(new ao(o, a, h)) } else sh() } return e }, t.YT = function (n, i, e) { for (var r = [], s = 0, u = Yu(n, "NonLinear"); s < u.length; s++) { var o = u[s], a = Yu(o, "NonLinearClickThrough")[0], h = void 0; a && (h = a.textContent || void 0); var c = t.tS(Yu(o, "NonLinearClickTracking")), f = Yu(o, "StaticResource")[0], v = void 0; if (f && f.parentNode) { var l = Wu(f, "creativeType"), d = f.textContent || "", g = Yu(f.parentNode, "NonLinearClickThrough")[0], _ = ""; g && (_ = g.textContent || ""), v = new co(d, l, _, "") } var w = Yu(o, "IFrameResource")[0], y = void 0; if (w) { var p = w.textContent; y = new fo(p) } var m = Yu(o, "HTMLResource")[0], k = void 0; if (m) { var b = m.textContent; k = new vo(b) } if (v || y || k) { var A = new Uu(h, "", c, []); r.push(new Pu(v, y, k, A, i, e)) } else sh() } if (0 === r.length) throw new nh(Ka.PARSING, Ja.VAST_SCHEMA_VALIDATION_ERROR, "nonLinearAds element found with no nonLinear elements"); var T = Yu(n, "TrackingEvents")[0], S = []; return T && (S = t.KT(T, ro, ih.xT)), new Ou(r, S) }, t.ZT = function (n) { var i = Wu(n, "requiredType"); (function (t) { switch (t) { case Su.Sw: case Su.Ew: case Su.Iw: return !0; default: return !1 } })(i) || (i = Su.Iw); for (var e = [], r = 0, s = Yu(n, "Companion"); r < s.length; r++) { var u = s[r], o = ma(Wu(u, "width")), a = ma(Wu(u, "height")), h = Wu(u, "id"), c = ma(Wu(u, "assetWidth")), f = ma(Wu(u, "assetHeight")), v = ma(Wu(u, "expandedWidth")), l = ma(Wu(u, "rxpandedHeight")), d = Wu(u, "apiFramework"), g = Wu(u, "adSlotId"), _ = ma(Wu(u, "pxratio")), w = Yu(u, "AltText")[0], y = w ? w.textContent : ""; o || (sh(), o = 0), a || (sh(), a = 0), h || (h = ""), c || (c = 0), f || (f = 0), v || (v = 0), l || (l = 0), d || (d = ""), g || (g = ""), _ || (_ = 1), y || (y = ""); var p = t.nS(u), m = t.iS(u), k = t.parseHtmlResource(u), b = Yu(u, "TrackingEvents")[0], A = []; b && (A = t.KT(b, so, ih.OT)); var T = Yu(u, "CompanionClickThrough")[0], S = void 0; T && (S = T.textContent || void 0); var E = t.tS(Yu(u, "CompanionClickTracking")); (p || m || k) && e.push(new ju(o, a, h, c, f, v, l, d, g, _, p, m, k, new Uu(S, "", E, []), A, y)) } return new Lu(i, e) }, t.nS = function (t) { var n, i = Yu(t, "StaticResource")[0]; if (i && i.parentNode) { var e = Wu(i, "creativeType"); e || (e = ""); var r, s = i.textContent, u = Yu(i.parentNode, "AltText")[0], o = Yu(i.parentNode, "CompanionClickThrough")[0], a = ""; u && (a = u.textContent || ""), o && (r = o.textContent || void 0), s && (n = new co(s, e, r, a)) } return n }, t.iS = function (t) { var n, i = Yu(t, "IFrameResource")[0]; if (i) { var e = i.textContent; n = new fo(e) } return n }, t.parseHtmlResource = function (t) { var n, i = Yu(t, "HTMLResource")[0]; if (i) { var e = i.textContent; n = new vo(e) } return n }, n.zT = function () { var n = St(At.mark(function n(i, e, r) { var s, u, o, a, h, c, f, v, l, d, g, _, w, y, p, m, k; return At.wrap(function (n) { for (; ;)switch (n.prev = n.next) { case 0: if (s = Wu(i, "timeOffset") || "0", u = Wu(i, "breakType"), o = Wu(i, "breakId"), a = ba(Wu(i, "repeatAfter")), h = void 0 !== hh.eS(s), void 0 === o && (o = ""), void 0 === a && (a = !1), h) { n.next = 9; break } throw new nh(Ka.PARSING, Ja.VAST_SCHEMA_VALIDATION_ERROR, "Invalid TimeOffset type"); case 9: if (c = Yu(i, "AdSource")[0], f = Yu(i, "TrackingEvents")[0], v = [], f && (v = t.KT(f, io, ih.BT)), (l = Wu(c, "id")) || (l = ""), void 0 === (d = ba(Wu(c, "allowMultipleAds"))) && (d = !0), (g = ba(Wu(c, "followRedirects"))) || (g = !0), _ = Yu(c, "AdTagURI")[0], "", y = Yu(c, "VASTAdData")[0], !_ || !_.textContent) { n.next = 35; break } return n.prev = 23, w = _.textContent, (p = JSON.parse(JSON.stringify(e))).sources.src = w, n.abrupt("return", new fh(s, p, r)); case 30: return n.prev = 30, n.t0 = n.catch(23), n.abrupt("return", void 0); case 33: n.next = 52; break; case 35: if (!y) { n.next = 51; break } if (!y.firstElementChild || !Qu(y.firstElementChild, "VAST")) { n.next = 48; break } return n.next = 39, this.jT(y.firstElementChild, r); case 39: if (!(m = n.sent)) { n.next = 45; break } return k = new vh(l, d, g, m), n.abrupt("return", new ch(s, k, u, o, v, a, !1, e)); case 45: return n.abrupt("return", void 0); case 46: n.next = 49; break; case 48: throw new nh(Ka.PARSING, Ja.VAST_SCHEMA_VALIDATION_ERROR, "vmap:VASTAdData does not have a VAST-structure as a child element"); case 49: n.next = 52; break; case 51: throw new nh(Ka.PARSING, Ja.VAST_SCHEMA_VALIDATION_ERROR, "Invalid AdTagURI source or invalid VASTAdData in Adbreak Element"); case 52: case "end": return n.stop() } }, n, this, [[23, 30]]) })); return function (t, i, e) { return n.apply(this, arguments) } }(), t }(); !function (t) { t.DT = "linear", t.rS = "nonlinear", t.sS = "display" }(uh || (uh = {})); var ah, hh = function () { function t() { } return t.uS = function (t) { switch (t) { case uh.DT: case uh.rS: case uh.sS: return !0; default: return !1 } }, t.oS = function (t) { }, t.aS = function (t) { if (void 0 !== t) return "start" === t ? 0 : "end" === t ? -1 : void 0 }, t.hS = function (t) { var n = t.split(":"), i = 0; return i += 3600 * +n[0], i += 60 * +n[1], i += +n[2] }, t.cS = function (t) { var n = t < 0, i = _.abs(t); return "hh:mm:ss".replace("-", n ? "-" : "").replace("hh", this.fS(i / 3600)).replace("mm", this.fS(i / 60 % 60)).replace("ss", this.fS(i % 60)) }, t.fS = function (t) { return (t = _.floor(t)) < 10 ? "0" + t : t }, t.vS = function (t, n) { var i = this.eS(t); if (i === ah.lS) switch (t) { case "start": return 0; case "end": return -1 } else { if (i === ah.dS) return Tu(t) * n; if (i === ah._S) return Au(t); if (i === ah.gS) return this.aS(t); if (i === ah.wS) { var e = +t; if (!p(e) && e >= -1) return e } } }, t.eS = function (t) { return "start" === t || "end" === t ? ah.lS : void 0 !== Au(t.toString()) ? ah._S : void 0 !== Tu(t.toString()) ? ah.dS : void 0 !== this.oS(t.toString()) ? ah.gS : p(t) ? void 0 : ah.wS }, t }(); !function (t) { t[t.lS = 0] = "lS", t[t._S = 1] = "_S", t[t.dS = 2] = "dS", t[t.gS = 3] = "gS", t[t.wS = 4] = "wS" }(ah || (ah = {})); var ch = function () { function t(t, n, i, e, r, s, u, o) { this.Yy = -1, this.yS = n, this.pS = t, this.mS = i, this.kS = e, this.bS = s, this.Gw = r, this.AS = u, this.TS = o, this.SS = null } return t.prototype.Ph = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.abrupt("return", Tt.resolve(this)); case 1: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), T(t, [{ key: "ES", get: function () { return this.yS } }, { key: "IS", get: function () { return this.pS } }, { key: "Jy", get: function () { return this.Yy }, set: function (t) { this.Yy = t } }, { key: "aw", get: function () { return this.Gw } }, { key: "RS", get: function () { return this.kS } }, { key: "NS", get: function () { return this.bS } }, { key: "CS", get: function () { return this.TS } }, { key: "DS", get: function () { return this.VT.um } }, { key: "xS", get: function () { return !0 } }, { key: "VT", get: function () { return this.SS }, set: function (t) { this.SS = t } }]), t }(), fh = function () { function t(t, n, i) { this.OS = i, this.bw = new ch(t, null, null, "", [], !1, !1, n) } return t.prototype.Ph = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (this.VT, this.BS) { t.next = 7; break } return this.BS = (new oh).UT(this.CS, this.IS, this.VT, this.OS), t.next = 5, this.BS; case 5: this.bw = t.sent, n(); case 7: return t.abrupt("return", this.BS); case 8: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), T(t, [{ key: "ES", get: function () { return this.bw.ES } }, { key: "IS", get: function () { return this.bw.IS } }, { key: "Jy", get: function () { return this.bw.Jy }, set: function (t) { this.bw.Jy = t } }, { key: "aw", get: function () { return this.bw.aw } }, { key: "RS", get: function () { return this.bw.RS } }, { key: "NS", get: function () { return this.bw.NS } }, { key: "CS", get: function () { return this.bw.CS } }, { key: "DS", get: function () { return this.bw.DS } }, { key: "xS", get: function () { return !!this.BS } }, { key: "VT", get: function () { return this.bw.VT }, set: function (t) { this.bw.VT = t } }]), t }(), vh = function () { function t(t, n, i, e) { this.Bw = t, this.PS = n, this.MS = e, this.LS = i } return T(t, [{ key: "Ff", get: function () { return this.Bw } }, { key: "xy", get: function () { return this.PS } }, { key: "jS", get: function () { return this.LS } }, { key: "Rg", get: function () { return this.MS } }]), t }(); function lh(t) { return "vmap" === t || "adrule" === t } function dh(t) { if (t) return U(t) ? { src: Or(t), type: void 0 } : j(t) && t.src ? { src: Or((t = t).src), type: gh(t.type) } : void 0 } function gh(t) { if (U(t)) { var n = t.toLowerCase(); switch (n) { case "vast": case "vmap": case "adrule": return n; default: return void J("The ad source type provided in the configuration could not be recognized: '" + t + "'.") } } else t || J("For better performance it is highly recommended to add the type to the configuration of your ad sources.") } function _h(t) { if (void 0 !== t && "" !== t && ("string" == typeof t || "number" == typeof t)) { switch (t) { case "start": case "00:00:00": case "00:00:00.000": case "0%": case "0": return 0; case "end": case "100%": return -1 }if ("string" == typeof t) { if (n = t, bu.test(n)) return hh.hS(t); if (wh(t)) return t } var n; return t >= 0 ? +t : void 0 } } function wh(t) { return new RegExp(/^\d{1,2}%$/).test(t) } var yh, ph, mh = '<vmap:AdBreak timeOffset="$TIMEOFFSET$" breakType="linear,nonlinear" breakId="midroll">\n            <vmap:AdSource allowMultipleAds="true" followRedirects="true">\n                <vmap:AdTagURI templateType="vast3"><![CDATA[$TAG$]]></vmap:AdTagURI>\n            </vmap:AdSource>\n        </vmap:AdBreak>', kh = function () { function t(n, i, e, r, s) { this.FS = e, this.m_ = r, this.US = s, this.VS = NaN, this.HS = !1, this.GS = !1, this.zS = !1, this.qS = [], this.WS = !1, this.XS = !1, this.$S = [], this.QS = i, this.YS = t.ZS(i), this.KS(), this.$S.push(n) } var n = t.prototype; return n.JS = function (t) { var n = this.tE === t.timeOffset; return !this.nE && n }, n.KS = function () { if (p(this.VS)) { var t = this.tE; "string" == typeof t && wh(t) && (p(this.m_.Zy) || this.m_.Zy === 1 / 0 || (t = Tu(this.tE) * this.m_.Zy)), p(t) || (this.VS = t) } }, n.iE = function (t) { this.qS.push(t) }, n.eE = function () { if (!this.nE) { var t, n, i = this.FS === pu.Eg && void 0 === this.QS && 1 === this.rE.length; lh(this.rE[0].type) || i ? t = this.rE[0].src : n = this.sE(), this.nE = { uE: this.m_.oE.offsetWidth, aE: this.m_.oE.offsetHeight, hE: this.m_.oE.offsetWidth, cE: this.m_.oE.offsetHeight, fE: this.WS, vE: this.XS, lE: t, dE: n } } return this.nE }, n.sE = function () { var t = this; return '<vmap:VMAP xmlns:vmap="http://www.iab.net/videosuite/vmap" version="1.0">\n            ' + this.rE.map(function (n) { return t._E(n) }).join("\n") + "\n            </vmap:VMAP>" }, n._E = function (t) { return mh.replace("$TIMEOFFSET$", this.gE()).replace("$TAG$", t.src) }, n.gE = function () { if (0 === this.tE) return "start"; if (this.tE === 1 / 0) return "end"; if ("string" == typeof this.tE && wh(this.tE)) { var t = Tu(this.tE) * this.m_.Zy; return hh.cS(t) } return hh.cS(this.tE || 0) }, n.wE = function (t) { this.$S.push(t) }, t.ZS = function (t) { return void 0 === t ? 0 : -1 === t ? 1 / 0 : t }, n.yE = function () { this.zS = !0 }, T(t, [{ key: "rE", get: function () { return this.$S } }, { key: "pE", get: function () { return this.FS } }, { key: "mE", get: function () { return this.US } }, { key: "kE", get: function () { return this.zS } }, { key: "bE", get: function () { return wh(this.YS) && !this.nE } }, { key: "tE", get: function () { return this.YS } }, { key: "um", get: function () { return this.VS } }, { key: "AE", get: function () { return this.HS }, set: function (t) { this.HS = t } }, { key: "TE", get: function () { return this.GS }, set: function (t) { this.GS = t, this.SE = !1 } }, { key: "EE", get: function () { return this.qS } }, { key: "IE", get: function () { return this.WS }, set: function (t) { this.WS = t } }, { key: "RE", get: function () { return this.XS }, set: function (t) { this.XS = t } }]), t }(), bh = function () { function t(t) { this.imaAdTimeOffsetHandler = t, this.NE = t } var n = t.prototype; return n.CE = function (t) { return !this.DE || "nonlinear" === this.OE.xE || this.DE.um > t.um && this.DE.um !== t.um }, n.BE = function (t) { if (t.length) return t.sort(function (t, n) { return t.um - n.um })[0] }, n.PE = function () { if (this.ME.length) return this.BE(this.LE(this.C_.yg)) }, n.jE = function (t) { var n = this; return this.ME.filter(function (i) { return (!i.AE && 0 === i.um || void 0 !== t && t === i.um) && i !== n.DE })[0] }, n.LE = function (t) { return this.ME.filter(function (n) { return !n.AE && !p(n.um) && t <= n.um }) }, T(t, [{ key: "DE", get: function () { return this.NE.DE } }, { key: "OE", get: function () { return this.NE.OE } }, { key: "ME", get: function () { return this.NE.ME } }, { key: "C_", get: function () { return this.NE.C_ } }]), t }(); !function (t) { t.FE = !1, t.UE = !1, t.VE = !1, t.HE = !1, t.LOG_ADS_DETAILS = !1, t.LOG_CHROMECAST_DETAILS = !1, t.LOG_BUFFERING_VIDEO_MAIN = !1, t.LOG_BUFFERING_VIDEO_SELECTION = !1, t.LOG_BUFFERING_AUDIO_MAIN = !1, t.LOG_BUFFERING_AUDIO_SELECTION = !1, t.GE = !1 }(yh || (yh = {})), function (t) { t[t.zE = 0] = "zE", t[t.qE = 1] = "qE", t[t.WE = 2] = "WE" }(ph || (ph = {})); var Ah, Th, Sh, Eh, Ih = function () { function t(t, n, i, e, r) { var s = this; this.XE = ph.zE, this.$E = void 0, this.QE = function () { for (var t = s.YE.filter(function (t) { return t.bE }), n = 0; n < t.length; n++) { var i = t[n]; i.KS(); var e = i.tE; s.KE.ZE(e, i.um) } s.JE() }, this.YE = [], this.tI = t, this.nI = !1, this.iI = !1, this.m_ = n, this.eI = i, this.DE = void 0, this.rI = 0, this.sI = new bh(this), this.uI = e, this.KE = r, this.m_.mo("durationchange", this.QE) } var n = t.prototype; return n.oI = function () { this.nI = !0, this.iI && this.JE() }, n.aI = function (t, n) { this.hI(t, n); var i = wn(this.ME, function (n) { return n.JS(t) }); if (i) i.wE(t.sources); else { var e = void 0 === t.replaceContent || t.replaceContent, r = new kh(t.sources, t.timeOffset, n, this.m_, e); this.YE.push(r), this.cI === ph.WE && this.KE.fI(r.um, r, r.tE), this.vI(n, r) } }, n.lI = function () { if (pn(this.ME, this.DE), this.DE) { for (var t = 0, n = this.DE.EE; t < n.length; t++) { n[t]; this.KE.dI() } this.DE = void 0 } }, n._I = function () { for (var t = 0, n = this.YE; t < n.length; t++)for (var i = 0, e = n[t].EE; i < e.length; i++) { var r = e[i]; this.KE.gI(r, !0) } An(this.YE) }, n.wI = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.DE = n, this.rI = n.um, this.$E = this.yI(n), t.next = 5, this.$E; case 5: this.$E = void 0; case 6: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), n.yI = function () { var t = St(At.mark(function t(n) { var i, e; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, this.pI(n); case 2: return i = n.eE(), e = this.tI.mI(i), n.AE = !0, t.prev = 5, t.next = 8, e; case 8: if (n.pE !== pu.Sg) { t.next = 11; break } return t.next = 11, this.tI.kI(); case 11: t.next = 18; break; case 13: t.prev = 13, t.t0 = t.catch(5), this.DE = void 0, this.JE(); case 18: case "end": return t.stop() } }, t, this, [[5, 13]]) })); return function (n) { return t.apply(this, arguments) } }(), n.pI = function () { var t = St(At.mark(function t(n) { var i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!this.eI.IE) { t.next = 18; break } return t.next = 3, this.uI.bI(); case 3: i = t.sent, t.t0 = i, t.next = "all" === t.t0 ? 7 : "muted" === t.t0 ? 10 : "none" === t.t0 ? 13 : 16; break; case 7: return n.IE = !0, n.RE = this.eI.RE, t.abrupt("break", 16); case 10: return n.IE = !0, n.RE = !0, t.abrupt("break", 16); case 13: return n.IE = !1, n.RE = this.eI.RE, t.abrupt("break", 16); case 16: t.next = 20; break; case 18: n.IE = !1, n.RE = this.eI.RE; case 20: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), n.AI = function () { var t; return null !== (t = this.sI.jE()) && void 0 !== t ? t : this.sI.PE() }, n.JE = function () { var t = St(At.mark(function t() { var n; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!this.DE) { t.next = 6; break } if (!this.$E) { t.next = 5; break } return t.abrupt("return", this.$E); case 5: return t.abrupt("return"); case 6: if (!(n = this.AI())) { t.next = 10; break } return t.next = 10, this.wI(n); case 10: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), n.bf = function () { An(this.YE), this.rI = 0, this.DE = void 0, this.$E = void 0 }, n.TE = function () { this.DE && (this.DE.TE = !0) }, n.vI = function (t, n) { t === pu.Sg && this.nI && this.sI.CE(n) && !this.TI && "linear" !== this.tI.xE && (!this.DE || this.DE && this.DE.AE) && (this.lI(), this.wI(n)) }, n.yE = function () { this.DE && this.DE.yE() }, n.SI = function () { if (this.EI) { var t = this.AI(); t && (this.lI(), this.wI(t)) } }, n.hI = function (t, n) { var i = t.sources.type, e = n === pu.Eg && void 0 === t.timeOffset, r = lh(i) || e ? ph.qE : ph.WE; r !== this.XE && (this.XE = r, this._I(), this.tI.II && !this.TI && "linear" !== this.tI.xE && (this.tI.II.oo(), this.DE = void 0, this.$E = void 0), this.rI = 0, this.iI = !0) }, n.Af = function () { this.m_.So("durationchange", this.QE) }, T(t, [{ key: "OE", get: function () { return this.tI } }, { key: "ME", get: function () { return this.YE } }, { key: "C_", get: function () { return this.m_ } }, { key: "TI", get: function () { return !!this.$E } }, { key: "cI", get: function () { return this.XE } }, { key: "DE", get: function () { return this.RI }, set: function (t) { this.RI = t } }, { key: "EI", get: function () { var t = this, n = this.YE.filter(function (n) { return t.DE !== n }); if (this.TI || !n.length) return !1; var i = this.DE && this.DE.kE; return !(this.DE && !i) && !!this.AI() } }]), t }(), Rh = function (t) { function n(n, i) { var e; return void 0 === i && (i = eu.c_), (e = t.call(this, "loadedmetadata") || this).currentTime = n, e.readyState = i, e } return rt(n, t), n }(Mn), Ch = function (t) { function n(n, i) { var e; return void 0 === i && (i = eu.v_), (e = t.call(this, "canplay") || this).currentTime = n, e.readyState = i, e } return rt(n, t), n }(Mn), Nh = function (t) { function n(n, i) { var e; return (e = t.call(this, "readystatechange") || this).currentTime = n, e.readyState = i, e } return rt(n, t), n }(Mn), Dh = function (t) { function n(n, i) { var e; return void 0 === i && (i = eu.f_), (e = t.call(this, "loadeddata") || this).currentTime = n, e.readyState = i, e } return rt(n, t), n }(Mn), xh = function (t) { function n(n, i) { var e; return void 0 === i && (i = eu.h_), (e = t.call(this, es.fl) || this).currentTime = n, e.readyState = i, e } return rt(n, t), n }(Mn), Bh = function (t) { function n(n) { var i; return (i = t.call(this, "playing") || this).currentTime = n, i } return rt(n, t), n }(Mn), Oh = function (t) { function n(n) { var i; return (i = t.call(this, es.cl) || this).duration = n, i } return rt(n, t), n }(Mn), Ph = function (t) { function n(n, i) { var e; return (e = t.call(this, es.Dl) || this).currentTime = n, e.currentProgramDateTime = i, e } return rt(n, t), n }(Mn), Mh = function (t) { function n(n) { var i; return (i = t.call(this, es.yl) || this).currentTime = n, i } return rt(n, t), n }(Mn), Lh = function (t) { function n(n) { var i; return (i = t.call(this, "waiting") || this).currentTime = n, i } return rt(n, t), n }(Mn), jh = function (t) { function n(n, i) { var e; return void 0 === i && (i = eu.l_), (e = t.call(this, "canplaythrough") || this).currentTime = n, e.readyState = i, e } return rt(n, t), n }(Mn), Fh = function (t) { function n(n) { var i; return (i = t.call(this, es.ll) || this).currentTime = n, i } return rt(n, t), n }(Mn); !function (t) { t.NI = "contentResumeRequested", t.CI = "contentPauseRequested", t.DI = "click", t.cl = "durationChange", t.xI = "expandedChanged", t.OI = "start", t.BI = "impression", t.vv = "pause", t.MI = "resume", t.LI = "adProgress", t.jI = "adBuffering", t.FI = "firstQuartile", t.mp = "midpoint", t.UI = "thirdQuartile", t.bp = "complete", t.VI = "userClose", t.HI = "linearChanged", t.GI = "loaded", t.zI = "adCanPlay", t.qI = "adMetadata", t.WI = "adBreakReady", t.XI = "interaction", t.$I = "allAdsCompleted", t.QI = "skip", t.YI = "skippableStateChanged", t.ZI = "log", t.KI = "viewableImpression", t.JI = "volumeChange", t.tR = "mute" }(Ah || (Ah = {})), function (t) { t.nR = "adError" }(Th || (Th = {})), function (t) { t[t.iR = -1] = "iR", t[t.eR = -1] = "eR", t[t.rR = -1] = "rR", t[t.sR = -1] = "sR", t[t.uR = -1] = "uR", t[t.oR = -1] = "oR", t[t.aR = -1] = "aR", t[t.hR = 101] = "hR", t[t.cR = 102] = "cR", t[t.fR = 200] = "fR", t[t.vR = 201] = "vR", t[t.lR = 202] = "lR", t[t.dR = 300] = "dR", t[t._R = 301] = "_R", t[t.gR = 302] = "gR", t[t.wR = 303] = "wR", t[t.yR = 400] = "yR", t[t.pR = 402] = "pR", t[t.mR = 403] = "mR", t[t.kR = 403] = "kR", t[t.bR = 500] = "bR", t[t.AR = 501] = "AR", t[t.TR = 503] = "TR", t[t.SR = 602] = "SR", t[t.ER = 900] = "ER", t[t.IR = 900] = "IR", t[t.RR = 1005] = "RR", t[t.NR = 1007] = "NR", t[t.CR = 1009] = "CR", t[t.DR = 1010] = "DR", t[t.xR = 1011] = "xR", t[t.OR = 1101] = "OR", t[t.PR = 1205] = "PR" }(Sh || (Sh = {})), function (t) { t.MR = "adLoadError", t.LR = "adPlayError" }(Eh || (Eh = {})); var Uh, Vh = function (t) { function n(n) { var i; return (i = t.call(this, "error") || this).error = n, i } return rt(n, t), n }(Mn), Hh = function (t) { function n(n, i, e, r) { var s; return (s = t.call(this) || this).tI = n, s.m_ = i, s.eI = e, s.jR = r, s.FR = !1, s.UR = !1, s.VR = void 0, s.HR = void 0, s.GR = function (t) { t.qR.zR && s.WR(t.qR.zR) }, s.XR = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (s.FR) { t.next = 4; break } return t.next = 4, s.$R(); case 4: s.UR = !0; case 5: case "end": return t.stop() } }, t) })), s.QR = function (t) { if (t.YR) { 0; var n = t.YR; s.tI.ZR(n), s.tI.B_(), s.tI.KR(), s.jR.JR(n); var i = n.Zy; if (s.tN(i), n.nN) { var e = s.tI.yg, r = s.tI.Zf; s.tI.Zf = eu.v_, s.iN(new Dh(e, r)), s.iN(new Ch(e, r)), s.iN(new jh(e, r)), s.iN(new Bh(s.tI.yg)), s.setCountdownTimer(), s.eN(!0) } else s.tI.Y_(), s.m_.B_(), s.tI.rN || s.m_.sN() } }, s.uN = function (t) { var n; if (t.YR) { var i = t.YR; if (s.Kc(), s.jR.oN(s.tI.Zy, i.nN), s.tI.Zf !== eu.h_) { var e = eu.h_; s.tI.Zf = e; var r = s.tI.yg; s.iN(new xh(r, e)), s.iN(new Nh(r, e)) } s.tN(NaN), null === (n = s.aN) || void 0 === n || n.hN(s.tI.cN()), s.tI.yE() } }, s.fN = function (t) { t.YR && (s.uN(t), s.jR.fN(t.YR, s.tI.yg, s.tI.Zy)) }, s.vN = function (t) { t.YR && (s.jR.oN(-1, t.YR.nN), s.tI.yE(), s.tI.EI() && s.tI.SI()) }, s.lN = function (t) { t.YR && (t.YR.nN ? s.tI.dN() : s.m_.dN()) }, s._N = function (t) { var n, i; if (t.YR) { 0, s.tI.gN && (s.HR = s.m_.yg), s.tI.gN && (null === (n = s.m_.fg) || void 0 === n ? void 0 : n.contentProtection) && s.m_.K_(), s.FR = !0, s.tI.wN = !0; var e = t.YR; s.jR.yN(e); var r = e.Zy; s.tI.ZR(e), s.tN(r), s.tI.rN = !1, s.tI.B_(), s.tI.Q_(), s.tI.gN || s.m_.Z_(), s.m_.dN(), s.tI.pN(e), 0 === (null === (i = e.mN) || void 0 === i ? void 0 : i.IS) || s.tI._o(new Lh(s.tI.yg)) } }, s.kN = function () { var t = St(At.mark(function t(n) { var i, e, r, u; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (e = n.YR, s.tI.wN = !1, "linear" === s.tI.xE && s.jR.bN(), e && s.tN(e.Zy), s.m_.Zy === 1 / 0 && s.tI.AN(), !s.tI.EI()) { t.next = 10; break } s.tI.SI(), t.next = 24; break; case 10: return s.tI.rN = !0, t.prev = 11, t.next = 14, s.TN(); case 14: t.next = 20; break; case 16: return t.prev = 16, t.t0 = t.catch(11), In(t.t0) || s._o(new Vh(t.t0)), t.abrupt("return"); case 20: s.m_.B_(), s.tI.Y_(), s.tI.Z_(), s.m_.SN || s.m_.sN(); case 24: if (e && s.tI.ZR(e), s.tI.EN && (s.tI.gN && (r = s.m_.H_(), u = null === (i = s.m_.fg) || void 0 === i ? void 0 : i.src, r && u && (r.src = u)), s.tI.IN = !0), !s.UR) { t.next = 29; break } return t.next = 29, s.$R(); case 29: s.FR = !1; case 30: case "end": return t.stop() } }, t, null, [[11, 16]]) })); return function (n) { return t.apply(this, arguments) } }(), s } rt(n, t); var i = n.prototype; return i.iN = function (t) { this.tI._o(t) }, i.RN = function (t) { var n = this; this.aN = t, this.aN.mo(Th.nR, this.GR), this.aN.mo(Ah.CI, this._N), this.aN.mo(Ah.NI, this.kN), this.aN.mo(Ah.$I, this.XR), this.aN.mo(Ah.OI, this.QR), this.aN.mo(Ah.bp, this.uN), this.aN.mo(Ah.QI, this.fN), this.aN.mo(Ah.VI, this.vN), this.aN.mo(Ah.DI, this.lN), this.aN.mo(Ah.vv, function () { n.tI.rN || (n.tI.rN = !0, n.tI._o(new Mh(n.tI.yg))), n.eN(!0) }), this.aN.mo(Ah.MI, function () { n.tI.rN && (n.tI.rN = !1, n.tI._o(new ru(n.tI.yg))) }), this.aN.mo(Ah.tR, function () { var i = t.NN(); i >= 0 && n.CN(i) }), this.aN.mo(Ah.JI, function () { var i = t.NN(); i >= 0 && n.CN(i) }), this.aN.mo(Ah.qI, function (t) { n.jR.DN(t.type) }), this.aN.mo(Ah.cl, function (t) { t.YR && n.tN(t.YR.Zy) }), this.aN.mo(Ah.ZI, function (t) { var i = t.qR, e = i.adError; e && (n.xN(e) ? n.WR(e) : n.ON(e) && n.BN(e)) }), this.aN.mo(Ah.GI, function (t) { var i; if (t.YR && (n.tI.TE(), n.jR.PN(t.YR), t.YR.nN)) { var e = n.tI.Zf; n.tI.Zf = eu.h_; var r = n.tI.yg, s = n.tI.Zf; s !== e && n.iN(new xh(r, s)), null === (i = n.aN) || void 0 === i || i.hN(n.tI.cN()), n.iN(new Rh(r, s)), n.iN(new Nh(r, s)) } }), this.aN.mo([Ah.jI, Ah.BI, Ah.FI, Ah.mp, Ah.UI], function (t) { t.YR && n.jR.MN(t.YR, t.type, n.tI.yg) }) }, i.switchToPlayerIfNoNextAd = function () { if (this.aN) { var t = this.aN.LN(); t && this.jN(t) || (this.tI.EI() ? this.tI.SI() : (this.tI.FN(), this.eI.rN && !this.eI.SN && this.eI.sN())) } else if (this.tI.EI()) this.tI.SI(); else { var n = this.eI.rN; this.tI.FN(), n || this.m_.sN() } }, i.jN = function (t) { var n = t.mN, i = null == n ? void 0 : n.UN; return (null == n ? void 0 : n.VN) !== i }, i.Kc = function () { this.tI.HN && (f(this.tI.HN), this.tI.HN = null) }, i.ON = function (t) { return t.Ou === Eh.MR }, i.xN = function (t) { return t.Ou === Eh.LR }, i.WR = function (t) { this.BN(t); var n = [Sh.yR, 901, 1021]; this.tI.GN || kn(n, t.CT) || this.switchToPlayerIfNoNextAd() }, i.BN = function (t) { this.tI.zN(t) }, i.$R = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.jR.dI(), this.tI.yE(), "nonlinear" === this.tI.xE && (this.jR.oN(-1, !1), this.tI.ZR(void 0)), "nonlinear" !== this.tI.xE && "none" !== this.tI.xE || this.tI.EI() && this.tI.SI(), t.next = 6, this.tI.qN(); case 6: this.eI.xf === this.tI ? this.tI.Y_() : this.WN() && this.m_._o(new Fh(this.m_.yg)); case 7: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.WN = function () { return this.tI.EN && !this.tI.IN && this.eI.SN }, i.setCountdownTimer = function () { var t = this; this.Kc(), this.tI.HN = c(function () { return t.eN() }, 250) }, i.tN = function (t) { this.tI.Zy !== t && t >= 0 && (this.tI.Zy = t, this.iN(new Oh(this.tI.Zy))) }, i.CN = function (t) { this.tI.cN() !== t && (0 === t ? this.tI.XN(t, !0, !1) : this.tI.XN(t, !1, !1)) }, i.TN = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!this.tI.gN || !this.m_.Bo) { t.next = 6; break } return this.VR = new ie, t.next = 4, this.m_.z_(this.m_.G_(), this.VR._h); case 4: this.HR && (this.m_.yg = this.HR), this.HR = void 0; case 6: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.eN = function (t) { if (this.aN) { var n = this.aN.$N(); n > this.tI.Zy && this.tN(_.round(n)) } var i = this.tI.yg; (t || !this.tI.rN && i !== this.tI.QN) && (this.tI._o(new Ph(i)), this.tI.QN = i) }, i.bf = function () { this.VR && (this.VR.eh(), this.VR = void 0), this.FR = !1, this.UR = !1 }, i.Af = function () { this.bf(), this.To() }, n }(Pn); !function (t) { t.YN = "theo", t.ZN = "google-ima", t.KN = "google-dai", t.JN = "freewheel" }(Uh || (Uh = {})); var zh = function (t) { function n(n, i) { var e; return (e = t.call(this, -1, -1, n) || this).tC = i, e } return rt(n, t), T(n, [{ key: "nC", get: function () { return Uh.ZN } }, { key: "iC", get: function () { return this.tC } }]), n }(function () { function t(t, n, i) { this.eC = t, this.rC = n, this.pS = i, this.sC = [], this.uC = !1 } var n = t.prototype; return n.oC = function () { this.uC = !0 }, n.aC = function (t) { this.sC.push(t) }, n.hC = function () { var t; return this.cf || (this.cf = (t = this, { get ads() { return t.cC.map(function (t) { return t.hC() }) }, get maxDuration() { return t.fC }, get maxRemainingDuration() { return t.vC }, get timeOffset() { return t.IS }, get integration() { return t.nC } })), this.cf }, T(t, [{ key: "cC", get: function () { return this.sC } }, { key: "fC", get: function () { return this.eC }, set: function (t) { this.eC = t } }, { key: "vC", get: function () { return this.rC }, set: function (t) { this.rC = t } }, { key: "IS", set: function (t) { this.pS = t }, get: function () { return this.pS } }, { key: "wg", get: function () { return this.uC } }]), t }()), qh = function (t) { function n(n, i) { var e; return (e = t.call(this, n) || this).YR = i, e } return rt(n, t), n }(cr), Gh = function (t) { function n(n, i) { var e; return (e = t.call(this, n) || this).ad = i, e } return rt(n, t), n }(Mn), Wh = function () { function t(t, n) { this.lC = t, this.m_ = n } return t.prototype.dC = function (n) { if (!n || !n.xS) return []; var i = t._C(n), e = []; if (i) for (; i.Bg();) { var r = i.Cg, s = []; r.Wg && (s = r.Wg.Dw), r.zg && (e.push(new ic(r.zg, s, n, new Xh(this.lC, this.m_)).hC()), An(s)), r.$g && e.push(new nc(r.$g.ow[0], s, n, new Xh(this.lC, this.m_)).hC()) } return e }, t._C = function (t) { var n, i; return null === (i = null === (n = t.ES) || void 0 === n ? void 0 : n.Rg) || void 0 === i ? void 0 : i.Pg() }, t }(), Xh = function () { function t(t, n) { this.aN = t, this.m_ = n } return T(t, [{ key: "II", get: function () { return this.aN } }, { key: "C_", get: function () { return this.m_ } }]), t }(), $h = function () { function t(t, n) { this.bw = t, this.gC = n } var n = t.prototype; return n.hC = function () { for (var t = this, n = [], i = this, e = 0, r = this.bw.VT.wC; e < r.length; e++)for (var s = r[e], u = this.yC(s); u && u.Bg();) { var o = u.Cg; o && function () { var i = []; o.Wg && (i = o.Wg.Dw), o.zg && n.push(new ic(o.zg, i, t.bw, t.gC)), o.$g && o.$g.ow.forEach(function (e) { n.push(new nc(e, i, t.bw, t.gC)) }) }() } return { maxDuration: i.pC(), timeOffset: i.IS, get maxRemainingDuration() { return i.vC }, ads: n.map(function (t) { return t.hC() }), integration: Uh.YN } }, n.mC = function (t) { for (var n = 0; t.Bg();)t.Cg.zg && !t.Cg.zg.tp && (n += t.Cg.zg.Zy || 0); return n }, n.pC = function () { for (var t = 0, n = 0, i = this.bw.VT.wC; n < i.length; n++) { var e = i[n], r = this.yC(e); if (r) for (; r.Bg();)r.Cg.zg && (t += r.Cg.zg.Zy || 0) } return t }, n.yC = function (t) { return Wh._C(t) }, T(t, [{ key: "IS", get: function () { var t = this.bw.VT.um; return t >= 0 ? t : this.gC.C_.Zy } }, { key: "vC", get: function () { var t = this, n = 0; return this.bw.VT.wC.forEach(function (i, e) { var r = t.yC(i); r && (n += t.mC(r)) }), this.gC && this.gC.II && (n += this.gC.II.Zy - this.gC.II.yg), n } }]), t }(), Qh = function () { }, Yh = { height: 0, width: 0, clickThrough: "", contentHTML: "", resourceURI: "", altText: "" }, Zh = function (t) { function n(n, i, e, r) { var s; return (s = t.call(this) || this).kC = n, s.Nw = i, s.bw = e, s.gC = r, s } rt(n, t); var i = n.prototype; return i.bC = function (t) { return Et(Et({}, Yh), { resourceURI: t.Mp || "" }) }, i.AC = function (t) { return Et(Et({}, Yh), { contentHTML: t.Mp.trim(), type: "HTMLResource" }) }, i.TC = function (t) { var n, i; return Et(Et({}, Yh), { clickThrough: (null === (n = t.Fp) || void 0 === n ? void 0 : n.trim()) || "", resourceURI: (null === (i = t.Mp) || void 0 === i ? void 0 : i.trim()) || "", altText: t.ey || "", type: "StaticResource" }) }, i.SC = function (t, n, i) { if (t && n) { var e = "<img " + (i ? "title='" + i + "' " : "") + "src='" + encodeURI(t) + "'>"; return "<a href='" + encodeURI(n) + "' target='_blank' rel='noopener'>" + e + "</a>" } }, i.Wg = function (t) { var n = this; return t ? t.map(function (t) { var i, e, r = { adSlotId: t.Kw || "", height: t.Ww || 0, width: t.qw || 0 }; if (t.gw) { var s = n.TC(t.gw), u = s.clickThrough || (null === (i = t.iy) || void 0 === i ? void 0 : i._y), o = n.SC(s.resourceURI, u, s.altText); e = Et(Et({}, s), { contentHTML: o || "" }) } else if (t.yw) e = n.AC(t.yw); else { if (!t.ww) return; e = n.bC(t.ww) } return Sr(e, r) }).filter(function (t) { return void 0 !== t }) : [] }, i.EC = function () { return this.kC.nw }, i.IC = function () { if (this.kC.Ky) return this.kC.Ky[0].contentURL; var t = this.kC; return t && t.gw ? t.gw.Mp : "" }, i.RC = function () { if (this.kC.Ky) return this.kC.Ky[0].type; var t = this.kC, n = t && t.gw; return n && n.Up ? n.Up : "" }, n }(Qh); function Kh(t) { if (t) return t.hC() } var Jh, tc, nc = function (t) { function n(n, i, e, r) { return t.call(this, n, i, e, r) || this } rt(n, t); var i = n.prototype; return i.lf = function () { var t = this.bw, n = this.gC, i = { companions: this.Wg(this.Nw), type: "nonlinear", id: this.kC.Aw, skipOffset: this.Jy, integration: Uh.YN, get adBreak() { return t ? new $h(t, n).hC() : void 0 } }; return this.kC.ww ? Sr(this.bC(this.kC.ww), i) : this.kC.yw ? Sr(this.AC(this.kC.yw), i) : this.kC.gw ? Sr(this.TC(this.kC.gw), i) : i }, i.hC = function () { return this.cf || (this.cf = this.lf()), this.cf }, T(n, [{ key: "Jy", get: function () { var t, n = this.kC.mw; return n && n.CS && void 0 !== n.CS.skipOffset ? hh.vS(n.CS.skipOffset, this.gC.II.Zy) : (null === (t = this.kC.mw) || void 0 === t ? void 0 : t.Jy) || -1 } }]), n }(Zh), ic = function (t) { function n(n, i, e, r) { return t.call(this, n, i, e, r) || this } return rt(n, t), n.prototype.hC = function () { var t, n = this.bw, i = this.gC; return this.cf || (this.cf = { companions: this.Wg(this.Nw), duration: this.kC.Zy, id: this.kC.Aw, mediaFiles: this.kC.Ky, skipOffset: this.Jy, type: "linear", integration: Uh.YN, width: void 0, height: void 0, get adBreak() { return n ? new $h(n, i).hC() : void 0 }, clickThrough: null === (t = this.kC.by) || void 0 === t ? void 0 : t._y }), this.cf }, T(n, [{ key: "Jy", get: function () { var t = this.kC.mw; return t && t.CS && void 0 !== t.CS.skipOffset ? hh.vS(t.CS.skipOffset, this.gC.II.Zy) : this.kC.Jy || -1 } }]), n }(Zh), ec = function (t) { function n(n) { return t.call(this, "NC", n) || this } return rt(n, t), n.prototype.lf = function () { return new rc(Kh(this.YR)) }, n }(qh), rc = function (t) { function n(n) { var i; return (i = t.call(this, "addadbreak", n) || this).ad = n, i } return rt(n, t), n }(Gh), sc = function (t) { function n(n) { return t.call(this, "DC", n) || this } return rt(n, t), n.prototype.lf = function () { return new uc(Kh(this.YR)) }, n }(qh), uc = function (t) { function n(n) { var i; return (i = t.call(this, "removeadbreak", n) || this).ad = n, i } return rt(n, t), n }(Gh); !function (t) { t.DT = "linear", t.xT = "nonlinear", t.xC = "unknown" }(Jh || (Jh = {})), function (t) { t.NONE = "none", t.READY = "ready" }(tc || (tc = {})); var oc = function (t) { function n(n) { var i; return (i = t.call(this, n, Jh.xC) || this).OC = void 0, i.BC = void 0, i } rt(n, t); var i = n.prototype; return i.lf = function () { var t; return function (t, n) { return Sr(t, { get adSystem() { return n.nw }, get apiFramework() { return n.MC }, get contentType() { return n.bA }, get creativeId() { return n.Aw }, get mediaUrl() { return n.LC }, get title() { return n.jC }, get traffickingParameters() { return n.FC }, get traffickingParametersString() { return n.UC }, get wrapperAdIds() { return n.VC }, get wrapperAdSystems() { return n.HC }, get wrapperCreativeIds() { return n.GC } }) }((t = this, { get readyState() { return t.zC }, get adBreak() { return t.mw.hC() }, get duration() { return t.Zy }, get companions() { return t.Dw.map(function (t) { return t.hC() }) }, get clickThrough() { return t.Fp }, get width() { return t.qw }, get type() { return t.xE }, get height() { return t.Ww }, get id() { return t.Ff }, get skipOffset() { return t.Jy }, get integration() { return t.nC } }), this) }, i.qC = function (t) { this.OC = t, this.WC(t.Hy, t.XC, t.$C, t.Zy, [], t.QC), this.YC = t.nN ? Jh.DT : Jh.xT }, T(n, [{ key: "nC", get: function () { return Uh.ZN } }, { key: "nw", get: function () { return this.OC ? ac(this.OC.nw) : void 0 } }, { key: "MC", get: function () { return this.OC ? ac(this.OC.Zw) : void 0 } }, { key: "bA", get: function () { return this.OC ? ac(this.OC.bA) : void 0 } }, { key: "Aw", get: function () { return this.OC ? ac(this.OC.ZC) : void 0 } }, { key: "LC", get: function () { var t, n = null === (t = this.OC) || void 0 === t ? void 0 : t.LC; return P(n) ? n : this.BC }, set: function (t) { this.BC = t } }, { key: "jC", get: function () { var t; return null === (t = this.OC) || void 0 === t ? void 0 : t.jC } }, { key: "FC", get: function () { return this.OC ? ac(this.OC.FC) : void 0 } }, { key: "UC", get: function () { return this.OC ? ac(this.OC.UC) : void 0 } }, { key: "VC", get: function () { var t, n; return null !== (n = null === (t = this.OC) || void 0 === t ? void 0 : t.VC) && void 0 !== n ? n : [] } }, { key: "HC", get: function () { var t, n; return null !== (n = null === (t = this.OC) || void 0 === t ? void 0 : t.HC) && void 0 !== n ? n : [] } }, { key: "GC", get: function () { var t, n; return null !== (n = null === (t = this.OC) || void 0 === t ? void 0 : t.GC) && void 0 !== n ? n : [] } }]), n }(function (t) { function n(n, i) { var e; return (e = t.call(this) || this).bw = n, e.YC = i, e.Bw = void 0, e.Yy = void 0, e.xw = void 0, e.Ow = void 0, e.KC = void 0, e.Nw = [], e.JC = tc.NONE, e.jp = void 0, e } rt(n, t); var i = n.prototype; return i.WC = function (t, n, i, e, r, s) { this.Bw = t, this.xw = n, this.Ow = i, this.KC = e, this.Nw = r, this.Yy = s, this.JC = tc.READY }, i.hC = function () { return this.cf || (this.cf = this.lf()), this.cf }, i.EC = function () { return "" }, i.RC = function () { return "" }, i.IC = function () { return "" }, T(n, [{ key: "zC", get: function () { return this.JC } }, { key: "mw", get: function () { return this.bw } }, { key: "Dw", get: function () { return this.Nw } }, { key: "Zy", get: function () { return this.KC } }, { key: "Ww", get: function () { return this.Ow } }, { key: "Ff", get: function () { return this.Bw } }, { key: "Jy", get: function () { return this.Yy } }, { key: "qw", get: function () { return this.xw } }, { key: "xE", get: function () { return this.YC } }, { key: "Fp", get: function () { } }]), n }(Qh)); function ac(t) { return null === t ? void 0 : t } var hc, cc = function () { function t(t, n) { this.jR = t, this.tD = n } var n = t.prototype; return n.nD = function (t, n, i) { 0 }, n.iD = function () { this.jR.iD() }, n.Af = function () { return Tt.resolve() }, T(t, [{ key: "rg", get: function () { return this.jR.rg } }, { key: "eD", get: function () { return this.tD } }, { key: "ag", get: function () { return this.jR.ag } }, { key: "rD", get: function () { var t = this.jR.rD; return t ? t.hC() : null } }, { key: "sD", get: function () { var t = this.jR.uD; return t ? [t.hC()] : [] } }, { key: "ME", get: function () { return [] } }, { key: "eg", get: function () { return this.jR.eg.map(function (t) { return t.hC() }) } }]), t }(), fc = function () { function t(t, n) { this.F_ = t, this.oD = [], this.aD = !1, this.hD = new cc(this, n) } return t.prototype.iD = function () { }, T(t, [{ key: "cD", get: function () { return this.hD } }, { key: "rg", get: function () { return this.F_ } }, { key: "ag", get: function () { return this.aD } }, { key: "ME", get: function () { return [] } }, { key: "uD", get: function () { return this.kC } }, { key: "rD", get: function () { return this.fD } }]), t }(), vc = function (t) { function n(n) { return t.call(this, "vD", n) || this } return rt(n, t), n.prototype.lf = function () { return new lc(Kh(this.YR)) }, n }(qh), lc = function (t) { function n(n) { var i; return (i = t.call(this, "updatead", n) || this).ad = n, i } return rt(n, t), n }(Gh), dc = function (t) { function n(n) { return t.call(this, "lD", n) || this } return rt(n, t), n.prototype.lf = function () { return new gc(Kh(this.YR)) }, n }(qh), gc = function (t) { function n(n) { var i; return (i = t.call(this, "addad", n) || this).ad = n, i } return rt(n, t), n }(Gh), _c = function (t) { function n(n, i) { var e; return (e = t.call(this, "dD", n) || this).currentTime = i, e } return rt(n, t), n.prototype.lf = function () { return new wc(Kh(this.YR), this.currentTime) }, n }(qh), wc = function (t) { function n(n, i) { var e; return (e = t.call(this, "adbegin", n) || this).ad = n, e.currentTime = i, e } return rt(n, t), n }(Gh), yc = function (t) { function n(n) { return t.call(this, "_D", n) || this } return rt(n, t), n.prototype.lf = function () { return new pc(Kh(this.YR)) }, n }(qh), pc = function (t) { function n(n) { var i; return (i = t.call(this, "adloaded", n) || this).ad = n, i } return rt(n, t), n }(Gh), mc = function (t) { function n(n) { return t.call(this, "gD", n) || this } return rt(n, t), n.prototype.lf = function () { return new kc(Kh(this.YR)) }, n }(qh), kc = function (t) { function n(n) { var i; return (i = t.call(this, "adimpression", n) || this).ad = n, i } return rt(n, t), n }(Gh), bc = function (t) { function n(n, i) { var e; return (e = t.call(this, "wD", n) || this).currentTime = i, e } return rt(n, t), n.prototype.lf = function () { return new Ac(Kh(this.YR), this.currentTime) }, n }(qh), Ac = function (t) { function n(n, i) { var e; return (e = t.call(this, "adfirstquartile", n) || this).ad = n, e.currentTime = i, e } return rt(n, t), n }(Gh), Tc = function (t) { function n(n, i) { var e; return (e = t.call(this, "yD", n) || this).currentTime = i, e } return rt(n, t), n.prototype.lf = function () { return new Sc(Kh(this.YR), this.currentTime) }, n }(qh), Sc = function (t) { function n(n, i) { var e; return (e = t.call(this, "admidpoint", n) || this).ad = n, e.currentTime = i, e } return rt(n, t), n }(Gh), Ec = function (t) { function n(n, i) { var e; return (e = t.call(this, "pD", n) || this).currentTime = i, e } return rt(n, t), n.prototype.lf = function () { return new Ic(Kh(this.YR), this.currentTime) }, n }(qh), Ic = function (t) { function n(n, i) { var e; return (e = t.call(this, "adthirdquartile", n) || this).ad = n, e.currentTime = i, e } return rt(n, t), n }(Gh), Rc = function (t) { function n(n, i) { var e; return (e = t.call(this, "kD", n) || this).mD = i, e } return rt(n, t), n.prototype.lf = function () { return new Cc(Kh(this.YR), this.bD) }, T(n, [{ key: "bD", get: function () { return this.mD } }]), n }(qh), Cc = function (t) { function n(n, i) { var e; return (e = t.call(this, "adskip", n) || this).ad = n, e.playedPercentage = i, e } return rt(n, t), n }(Gh), Nc = function (t) { function n(n, i) { var e; return (e = t.call(this, "AD", n) || this).currentTime = i, e } return rt(n, t), n.prototype.lf = function () { return new Dc(Kh(this.YR), this.currentTime) }, n }(qh), Dc = function (t) { function n(n, i) { var e; return (e = t.call(this, "adend", n) || this).ad = n, e.currentTime = i, e } return rt(n, t), n }(Gh), xc = function (t) { function n(n) { return t.call(this, "TD", n) || this } return rt(n, t), n.prototype.lf = function () { return new Bc(Kh(this.YR)) }, n }(qh), Bc = function (t) { function n(n) { var i; return (i = t.call(this, "adbreakbegin", n) || this).ad = n, i } return rt(n, t), n }(Gh), Oc = function (t) { function n(n) { return t.call(this, "SD", n) || this } return rt(n, t), n.prototype.lf = function () { return new Pc(Kh(this.YR)) }, n }(qh), Pc = function (t) { function n(n) { var i; return (i = t.call(this, "adbreakend", n) || this).ad = n, i } return rt(n, t), n }(Gh), Mc = function (t) { function n(n) { return t.call(this, "ED", n) || this } return rt(n, t), n.prototype.lf = function () { return new Lc(Kh(this.YR)) }, n }(qh), Lc = function (t) { function n(n) { var i; return (i = t.call(this, "updateadbreak", n) || this).ad = n, i } return rt(n, t), n }(Gh), jc = function (t) { function n(n) { var i; return (i = t.call(this, "RD") || this).YR = n, i } return rt(n, t), n.prototype.lf = function () { return new Fc(this.YR.hC()) }, n }(cr), Fc = function (t) { function n(n) { var i; return (i = t.call(this, "adbuffering") || this).ad = n, i } return rt(n, t), n }(Mn), Uc = function (t) { function n() { return t.call(this, "ND") || this } return rt(n, t), n.prototype.lf = function () { return new Vc }, n }(cr), Vc = function (t) { function n() { return t.call(this, "admetadata") || this } return rt(n, t), n }(Mn), Hc = function (t) { function n(n, i) { var e; return (e = t.call(this, n, Uh.ZN) || this).CD = i, e.DD = [], e.xD = [], e } rt(n, t); var i = n.prototype; return i.OD = function (t, n) { for (var i = 0; i < t; i++) { var e = new oc(n); n.aC(e), this.rg._o(new dc(e)) } }, i.fI = function (t, n, i) { t === 1 / 0 && (t = -1); var e = new zh(t, i); this.oD.push(e), n.iE(e), this.rg._o(new ec(e)) }, i.ZE = function (t, n) { for (var i = 0, e = this.oD; i < e.length; i++) { var r = e[i]; p(r.IS) && r.iC === t && (r.IS = n, this.rg._o(new Mc(r))) } }, i.gI = function (t, n) { void 0 === n && (n = !1), n && pn(this.oD, t), this.rg._o(new sc(t)) }, i.dI = function () { if (this.rD) { this.gI(this.rD, !0); var t = Boolean(this.kC && this.kC.xE === Jh.DT); this.BD(void 0, t) } }, i.PD = function (t, n) { var i = n.mN; if (i) { var e = i.VN - 1, r = t.cC[e]; return r.zC === tc.READY ? r : (r.qC(n), this.rg._o(new vc(r)), r.mw.fC = i.fC, r) } }, i.MD = function (t) { if (!kn(this.xD, t)) { if (t) { if (this.kC === t) return; this.kC = t, this.rg._o(new _c(this.kC, t.mw.IS)); for (var n = 0, i = this.DD; n < i.length; n++) { var e = i[n]; 0, this.DN(e, t, this.CD.yg) } } else { if (!this.kC) return; var r = new Nc(this.kC, this.kC.mw.IS); this.xD.push(this.kC), this.kC = void 0, this.F_._o(r) } An(this.DD) } }, i.BD = function (t, n) { if (t) { if (this.fD) return; this.fD = t, n && this.rg._o(new xc(this.fD)) } else { if (!this.fD) return; var i = new Oc(this.fD); this.fD = void 0, An(this.xD), n && this.F_._o(i) } }, i.LD = function (t) { return this.oD.filter(function (n) { return yo(n.IS, t) })[0] }, n.jD = function (t, n) { if (n.mN) return t.cC[n.mN.VN - 1] }, i.yN = function (t) { if (t.mN) { var n = t.mN, i = this.LD(n.IS); i && (An(this.DD), this.BD(i, t.nN)) } }, i.bN = function () { this.rD && this.rg._o(new Oc(this.rD)), An(this.DD), this.dI() }, i.JR = function (t) { if (!this.fD && !t.nN && t.mN) { var i = this.LD(t.mN.IS); this.BD(i, !1) } if (this.fD) { var e = n.jD(this.fD, t); if (!e) return; e.zC === tc.NONE && this.PD(this.fD, t); var r = t.LC; P(r) && !P(e.LC) && (e.LC = r, this.rg._o(new vc(e))), this.MD(e) } else 0 }, i.oN = function (t, n) { if (this.MD(void 0), !n && this.rD) { var i = this.rD; this.BD(void 0, !1), this.gI(i) } }, i.PN = function (t) { var n = t.mN; if (n) { var i = n.IS, e = this.LD(i); if (e) { var r = e.cC.length; if (n.UN > r) { var s = n.UN - r; this.OD(s, e), e.fC = n.fC, this.rg._o(new Mc(e)) } var u = this.PD(e, t); u && this.rg._o(new yc(u)) } } }, i.fN = function (t, i, e) { if (this.fD) { var r = n.jD(this.fD, t); if (r) { var s = i / e; this.rg._o(new Rc(r, s)) } } }, i.MN = function (t, i, e) { if (this.fD) { var r = this.kC; if (!r) { var s = n.jD(this.fD, t); if (!s || kn(this.xD, s)) return void this.DD.push(i); r = s, this.PD(this.fD, t), this.MD(r) } this.DN(i, r, e) } }, i.DN = function (t, n, i) { t === Ah.qI ? this.rg._o(new Uc) : t === Ah.BI && n ? this.rg._o(new mc(n)) : t === Ah.jI && n ? this.rg._o(new jc(n)) : t === Ah.FI && n && i ? this.rg._o(new bc(n, i)) : t === Ah.mp && n && i ? this.rg._o(new Tc(n, i)) : t === Ah.UI && n && i && this.rg._o(new Ec(n, i)) }, i.iD = function () { this.CD.iD() }, i.bf = function () { var t = Boolean(this.kC && this.kC.xE === Jh.DT); this.MD(void 0), this.BD(void 0, t); for (var n = 0, i = this.oD; n < i.length; n++) { var e = i[n]; this.gI(e) } An(this.oD), An(this.DD), An(this.xD) }, i.Af = function () { this.bf() }, T(n, [{ key: "ag", get: function () { return this.CD.ag } }, { key: "uD", get: function () { return this.kC } }, { key: "rD", get: function () { return this.fD } }, { key: "eg", get: function () { var t = this; return this.oD.filter(function (n) { return n !== t.rD }) } }]), n }(fc), zc = function (t) { function n(n, i, e, r) { var s; return (s = t.call(this, "FD", null) || this).NT = n, s.Do = i, s.yh = e, s.UD = r, s } return rt(n, t), n.prototype.lf = function () { return new qc(this.NT, this.Do, this.yh, this.UD) }, n.VD = function (t) { return new n(Ka.GENERAL, t.Do, t.CT) }, n.HD = function (t, i) { return new n(t.NT, t.message, t.CT, i) }, n }(qh), qc = function (t) { function n(n, i, e, r) { var s; return (s = t.call(this, "aderror", null) || this).problemType = n, s.message = i, s.errorCode = e, s.source = r, s } return rt(n, t), n }(Gh); function Gc(t) { var n = r.google.ima.settings; t.ads && t.ads.vpaidMode && r.google.ima.settings.setVpaidMode(function (t) { var n = r.google.ima.ImaSdkSettings.VpaidMode; switch (t) { case "enabled": return n.ENABLED; case "insecure": return n.INSECURE; case "disabled": default: return n.DISABLED } }(t.ads.vpaidMode)), n.setPlayerVersion("2.74.0"), n.setPlayerType("THEOplayer"), n.setAutoPlayAdBreaks(!0), n.setDisableCustomPlaybackForIOS10Plus(!Wc(t)); var i, e, s = "string" == typeof (e = (i = t).ui && i.ui.language) ? e : void 0; s && n.setLocale(s) } function Wc(t) { return x.in && t.allowNativeFullscreen } !function (t) { t.NONE = "none", t.MIDROLL_AND_POSTROLL = "midroll-and-postroll" }(hc || (hc = {})); var Xc, $c = function (t) { function n(n, i, e, r, s, u, o, a) { var h; return (h = t.call(this, n, i, e) || this).GD = void 0, h.nI = !1, h.zD = !1, h.qD = -1, h.YC = "none", h.WD = !1, h.XD = !1, h.$D = !1, h.QD = function (t) { h.rg._o(t) }, h.YD = function (t) { h.ZD = new au(uu.ADVERTISEMENT_ERROR, "Error while recovering from failed IMA ad.", t.error.message) }, h.QN = NaN, h.KD = function () { h.nI || h.oI() }, h.JD = r, h.tx = !0, h.KC = NaN, h.nx = eu.h_, h.ix = !1, h.ex = !1, h.XS = h.C_.RE, h.sx = h.C_.ux, h.KE = new Hc(h.rg, st(h)), h.ox = new Hh(st(h), h.C_, h.D_, h.KE), h.ox.mo("error", h.YD), h.C_.mo("play", h.KD), h.NE = new Ih(st(h), h.C_, h.D_, s, h.KE), h.ax = a, h.hx = o, h.vx = u, h.Z_(), h.hx.mo("lx", h.QD), h } rt(n, t); var i = n.prototype; return i.nD = function (t, n, i) { n === pu.Eg && void 0 !== i && (this.zD = i), this.NE.aI(t, n) }, i._x = function () { return [] }, i.kI = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (this.$D || !this.II) { t.next = 4; break } return t.next = 3, this.II.Ll(); case 3: this.$D = !0; case 4: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.ZR = function (t) { this.xE = t ? t.nN ? "linear" : "nonlinear" : "none" }, i.cN = function () { return this.XS ? 0 : this.C_.ux }, i.XN = function (t, n, i) { this.sx = t, this.XS = n, this.C_.ux = t, this.C_.RE = n, this.II && i && this.II.hN(this.cN()), this._o(new su(this.yg, this.ux)) }, i.oI = function () { this.C_.So("play", this.KD), this.nI || (this.nI = !0, this.NE.oI(), this.gx(), this.KR()) }, i.gx = function () { this.GD || (this.GD = this.vx.wx()) }, i.sN = function () { var t = St(At.mark(function t() { var n, i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!this.yx) { t.next = 2; break } return t.abrupt("return"); case 2: return this._o(new ru(this.yg)), this.mx() || (this.gN || this.C_.Z_(), this._o(new Lh(this.yg))), (n = this.rN) && (this.tx = !1), i = !!this.II, this.yx = this.NE.JE(), t.prev = 8, t.next = 11, this.yx; case 11: return t.prev = 11, this.yx = void 0, t.finish(11); case 14: if (this.nI || this.KD(), !this.ZD || !this.zD) { t.next = 17; break } return t.abrupt("return"); case 17: if (!this.II) { t.next = 29; break } if (!n) { t.next = 27; break } if (!i) { t.next = 25; break } return t.next = 22, this.II.kx(); case 22: this._o(new Bh(this.yg)), t.next = 27; break; case 25: return t.next = 27, this.kI(); case 27: t.next = 30; break; case 29: this.zD || (this.Y_(), this.D_.sN()); case 30: case "end": return t.stop() } }, t, this, [[8, , 11, 14]]) })); return function () { return t.apply(this, arguments) } }(), i.dN = function () { this.WD && (this.rN || (this.rN = !0, this._o(new Mh(this.yg)), this.II && this.II.dN())) }, i.iD = function () { var t; null === (t = this.II) || void 0 === t || t.iD() }, i.qN = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!this.II) { t.next = 11; break } return t.next = 3, this.II.bx(); case 3: return t.next = 5, this.II.oo(); case 5: return this.II = void 0, this.xE = "none", this.NE.lI(), t.next = 10, this.hx.Ax(); case 10: this.$D = !1; case 11: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.bx = function () { var t = St(At.mark(function t() { var n; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.QN = 0, this.NE.bf(), this.rN = !0, this.ix = !1, this.ex = !1, this.KE.bf(), t.next = 8, this.qN(); case 8: this.FN(), null === (n = this.ax) || void 0 === n || n.bf(); case 10: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.B_ = function () { this.vx.B_() }, i.Z_ = function () { this.vx.Z_() }, i.Tx = function () { return !!this.II && kn(this.II.Sx(), -1) && !this.ix }, i.TE = function () { this.NE.TE() }, i.EI = function () { return this.NE.EI }, i.yE = function () { this.NE.yE() }, i.SI = function () { this.NE.SI() }, i.Ex = function (t) { if (this.Tx()) { if ("pause" === t.type && this.C_.SN) return !0; if ("ended" === t.type) return this.ix = !0, this.hx.Ax(), !0 } return !1 }, i.mx = function () { return !(!this.II || !this.II.LN()) }, i.mI = function () { var t = St(At.mark(function t(n) { var i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, t.next = 3, this.qN(); case 3: return i = this.Ix(), this.gx(), t.next = 7, this.GD; case 7: return t.next = 9, this.hx.mI(n, this.ax, i); case 9: return this.II = t.sent, t.next = 12, this.Rx(this.II); case 12: t.next = 17; break; case 14: t.prev = 14, t.t0 = t.catch(0), this.ox.WR(t.t0); case 17: case "end": return t.stop() } }, t, this, [[0, 14]]) })); return function (n) { return t.apply(this, arguments) } }(), i.Rx = function () { var t = St(At.mark(function t(n) { var i, e, r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, n.hN(this.cN()); case 2: if (this.NE.cI === ph.qE) if ((i = n.Sx()).length) for (e = 0; e < i.length; e++)r = i[e], this.KE.fI(r, this.NE.DE); else this.KE.fI(this.NE.DE.um, this.NE.DE); this.ox.bf(), this.ox.RN(n); case 5: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.Nx = function () { if (this.aN && this.gN && this.mx()) return this.C_.Nx() }, i.H_ = function () { if (this.gN && this.D_.xf === this) return this.C_.H_() }, i.Ix = function () { var t, n, i = this.NE.cI === ph.qE, e = !(!this.XD || !i) && this.Cx; return this.JD.ads.showCountdown || (t = []), void 0 !== this.JD.ads.allowedMimeTypes && (n = this.JD.ads.allowedMimeTypes), { Dx: n, xx: t, Ox: e, Bx: void 0, Px: void 0, Mx: void 0 } }, i.KR = function () { if (!this.XD && !this.RE && (this.XD = !0, this.aN)) { var t = this.Ix(); this.aN.Lx(t) } }, i.zN = function (t) { this.ZD = new au(uu.ADVERTISEMENT_ERROR, t.Do), this.rg._o(zc.VD(t)), this.zD && this._o(new ou("There was a problem playing ads.")) }, i.FN = function () { this.D_.xf === this && (this.C_.B_(), this.Y_(), this.Z_()) }, i.AN = function () { var t; this.C_.yg !== 1 / 0 && this.C_.jx.length && ((null === (t = this.NE.DE) || void 0 === t ? void 0 : t.mE) && -1 !== this.qD && (this.C_.yg += this.qD, this.qD = -1)) }, i.pN = function (t) { var n, i; this.qD = null !== (i = null === (n = t.mN) || void 0 === n ? void 0 : n.fC) && void 0 !== i ? i : -1 }, i.Q_ = function () { this.gN && (this.Fx = Wl(this.C_)), t.prototype.Q_.call(this) }, i.Y_ = function () { this.restorePlayerState(), t.prototype.Y_.call(this), this.C_.B_(), this.gN && !this.C_.SN && this.C_.sN() }, i.restorePlayerState = function () { this.Fx && (this.C_._g = this.Fx._g, this.C_.ux = this.Fx.ux, this.C_.RE = this.Fx.RE), this.Fx = void 0 }, i.doHandleWindowFocus = function () { this.gN || t.prototype.doHandleWindowFocus.call(this) }, i.Af = function () { var n = St(At.mark(function n() { return At.wrap(function (n) { for (; ;)switch (n.prev = n.next) { case 0: return this.ox.So("error", this.YD), n.next = 3, t.prototype.Af.call(this); case 3: return this.D_.Ux(this), n.next = 6, this.qN(); case 6: return this.hx.So("lx", this.QD), n.next = 9, this.hx.oo(); case 9: return n.next = 11, this.vx.oo(); case 11: this.NE.Af(), this.ox.Af(); case 13: case "end": return n.stop() } }, n, this) })); return function () { return n.apply(this, arguments) } }(), T(n, [{ key: "J_", get: function () { return this.KE.cD } }, { key: "Vx", get: function () { return this.KE } }, { key: "Hx", get: function () { return this.NE } }, { key: "gN", get: function () { return Wc(this.JD) } }, { key: "eD", get: function () { return n.eD } }, { key: "Cx", get: function () { return this.JD.ads.preload === hc.MIDROLL_AND_POSTROLL } }, { key: "ME", get: function () { return [] } }, { key: "sD", get: function () { return [] } }, { key: "rD", get: function () { return null } }, { key: "xE", set: function (t) { this.YC = t }, get: function () { return this.YC } }, { key: "II", get: function () { return this.aN }, set: function (t) { this.aN = t, this.$D = !1 } }, { key: "yg", get: function () { if (!this.II) return 0; var t = this.II.$N(); return p(this.Zy) || t < 0 ? 0 : this.Zy - t }, set: function (t) { this.C_.yg = t } }, { key: "Zy", get: function () { return this.KC || NaN }, set: function (t) { this.KC = t } }, { key: "RE", get: function () { return this.XS }, set: function (t) { this.XS !== t && this.XN(this.ux, t, !0) } }, { key: "dg", get: function () { return !0 } }, { key: "rN", get: function () { return this.tx }, set: function (t) { this.tx = t } }, { key: "GN", get: function () { return this.zD } }, { key: "EN", get: function () { return this.ix } }, { key: "IN", get: function () { return this.ex }, set: function (t) { this.ex = t } }, { key: "Gx", get: function () { return 0 } }, { key: "zx", get: function () { return 0 } }, { key: "jx", get: function () { return new hs([0, this.Zy]).Jl() } }, { key: "ux", get: function () { return this.sx }, set: function (t) { this.sx !== t && this.XN(t, this.RE, !0) } }, { key: "oE", get: function () { return this.C_.oE } }, { key: "SN", get: function () { return !1 } }, { key: "Bo", get: function () { if (this.ZD && this.zD) return this.ZD } }, { key: "Zf", get: function () { return this.nx }, set: function (t) { this.nx = t } }, { key: "wN", set: function (t) { this.WD = t } }], [{ key: "eD", get: function () { return Uh.ZN } }]), n }(mu); !function (t) { t.qx = "subtitles", t.Wx = "captions", t.Xx = "descriptions", t.$x = "chapters", t.Qx = "metadata", t.Yx = "thumbnails" }(Xc || (Xc = {})); var Qc, Yc, Zc = [Xc.qx, Xc.Wx, Xc.Xx, Xc.$x, Xc.Qx, Xc.Yx]; function Kc(t) { var n = String(t || "").toLowerCase(); return function (t) { return "string" == typeof t && kn(Zc, t) }(n) ? n : n ? Xc.Qx : Xc.qx } function Jc(t) { if (!t) return !0; var n, i = !(nf(n = t.sources) || L(n) && nf(n[0])) || rf(t.sources), e = !t.ads || tf(t.ads), r = "" !== t.poster && !t.poster; return i && e && r } function tf(t) { return !t || M(t) && 0 === t.length } function nf(t) { return U(t) || of(t) || uf(t) || sf(t) } function ef(t) { if (U(t)) return !t; if (sf(t)) return !t.id; if (uf(t)) { var n = t.ssai, i = "live" === n.availabilityType && n.assetKey, e = "vod" === n.availabilityType && n.contentSourceID && n.videoID; return !(!i || !e) } return !t.src } function rf(t) { if (t) { if (nf(t)) return ef(t); for (var n = 0; n < t.length; n++) { if (!ef(t[n])) return !1 } return !0 } return !0 } function sf(t) { return j(t) && U(t.integration) && "verizon-media" === t.integration } function uf(t) { return j(t) && j(t.ssai) && "google-dai" === t.ssai.integration } function of(t) { return !(!j(t) || !U(t.src)) } function af(t) { return U(t.src) } function hf(t) { if (t && t.sources) return function t(n) { if (U(n)) return lf(n); if (of(n)) return n.type || n.src && lf(n.src); if (L(n) && n.length > 0) return t(n[0]); return }(t.sources) } function cf(t) { if (t && t.sources) return function t(n) { if (U(n)) return n; if (of(n)) return n.src; if (L(n) && n.length > 0) return t(n[0]); return }(t.sources) } function ff(t) { return !!t && tn(t = t.toLowerCase(), Yc.Zx) } function vf(t) { return !!t && (tn(t = t.toLowerCase(), Yc.Kx) || tn(t, Yc.Jx)) } function lf(t) { var n, i = Yc.tO; return (n = t) && Jt(n, "mpd") && (i = Yc.Zx), function (t) { return !!t && Jt(t, "m3u8") }(t) && (i = Yc.Kx), i } function df() { return { crossOrigin: Qc.u_, useCredentials: !1, liveOffset: void 0, timeServer: void 0, hlsDateRange: !1, experimentalRendering: !1, nativeUiRendering: !1, lowLatency: !1, useNativePlayback: !1 } } function gf() { return Et(Et({}, df()), { src: void 0, type: Yc.tO, contentProtection: void 0, ssai: void 0, integrationData: void 0 }) } function _f(t, n, i) { return sf(t) ? function (t, n, i) { var e = Et(Et({}, df()), { ping: { adImpressions: !1, freeWheelVideoViews: !1, linearAdData: !1 }, integration: os.VERIZON_MEDIA, id: "", preplayParameters: {}, playbackUrlParameters: {}, assetType: Vs.ASSET, contentProtected: !1, assetInfo: !0 }); e.id = (r = t.id, U(r) ? r : L(r) && U(r[0]) ? r : j(s = r) && U(s.userId) && (L(s.externalId) || U(s.externalId)) ? r : ""), t.preplayParameters && (e.preplayParameters = t.preplayParameters); var r, s; t.playbackUrlParameters && (e.playbackUrlParameters = t.playbackUrlParameters); t.assetType && (e.assetType = function (t) { switch (t) { case "channel": return Vs.CHANNEL; case "event": return Vs.EVENT; case "asset": default: return Vs.ASSET } }(t.assetType)); t.contentProtected && (e.contentProtected = xr(t.contentProtected)); t.assetInfo ? e.assetInfo = xr(t.assetInfo) : e.assetInfo = "asset" === e.assetType; return e.ping = (u = e.assetType, o = t.ping, a = !1, h = !1, c = !1, o ? (a = !!V(o.adImpressions) && o.adImpressions, h = !!V(o.freeWheelVideoViews) && o.freeWheelVideoViews, c = V(o.linearAdData) ? o.linearAdData : u !== Vs.ASSET) : u !== Vs.ASSET && (c = !0), { adImpressions: a, freeWheelVideoViews: h, linearAdData: c }), e = yf(e = wf(e, t), n, i); var u, o, a, h, c }(t, n, i) : function (t, n, i) { var e = gf(), r = n && (n.contentProtection || n.drm); if (U(t)) e.src = t, e.type = lf(t), r && (e.contentProtection = iu(r)); else if (of(t) || uf(t)) { e.src = t.src, e.type = t.type || lf(t.src); var s = t.contentProtection || t.drm || r; e.contentProtection = iu(s), t.ssai && (e.ssai = ks(t.ssai)), e = wf(e, t) } return e = yf(e, n, i) }(t, n, i) } function wf(t, n) { n.useCredentials ? t.crossOrigin = Qc.o_ : n.crossOrigin && (t.crossOrigin = Tf(n.crossOrigin)), U(n.timeServer) && (t.timeServer = n.timeServer), n.liveOffset && (t.liveOffset = n.liveOffset), n.hlsDateRange && (t.hlsDateRange = n.hlsDateRange), n.lowLatency && (t.lowLatency = xr(n.lowLatency)), n.useNativePlayback && (t.useNativePlayback = xr(n.useNativePlayback)); var i = void 0 !== n.experimentalRendering ? xr(n.experimentalRendering) : void 0; void 0 !== i && (t.experimentalRendering = i); var e = void 0 !== n.nativeUiRendering ? xr(n.nativeUiRendering) : void 0; return void 0 !== e && (t.nativeUiRendering = e), t } function yf(t, n, i) { var e, r = n && n.timeServer; return i && i.liveOffset && !P(t.liveOffset) && (t.liveOffset = i.liveOffset), i && i.hlsDateRange && !P(t.hlsDateRange) && (t.hlsDateRange = i.hlsDateRange), t.crossOrigin === Qc.u_ && (null === (e = null == n ? void 0 : n.vr) || void 0 === e ? void 0 : e[360]) && (t.crossOrigin = Qc.a_), t.useCredentials = t.crossOrigin === Qc.o_, U(r) && !t.timeServer && (t.timeServer = r), t } function pf(t) { var n = { src: "" }; if (t && t.src) { if (n.src = Or(t.src), "default" in t && (n.default = xr(t.default)), n.kind = Kc(t.kind), ss(t.format) && (n.format = t.format), "srclang" in t) { var i = t.srclang; "string" == typeof i && "" !== i && (n.srclang = i) } if ("label" in t) { var e = t.label; "string" == typeof e && "" !== e && (n.label = e) } } return n } function mf(t, n) { if (F(t)) try { return n.rv(t).nO(t) } catch (t) { return } } function kf(t) { return U(t.sources) && "" !== t.sources || j(t.sources) && U(t.sources.src) } function bf(t) { return t.integration === Qr.SPOTX && !p(t.id) } function Af(t) { return "freewheel" === t.integration } function Tf(t) { switch (t) { case Qc.a_: case Qc.o_: return t; default: return Qc.u_ } } function Sf(t) { var n = { allowedMimeTypes: void 0, preload: "midroll-and-postroll", showCountdown: !0, vpaidMode: "enabled", googleImaConfiguration: { useNativeIma: !1 } }; return void 0 === t ? n : (void 0 !== t.preload && (n.preload = function (t) { switch (t) { case "none": return hc.NONE; case "midroll-and-postroll": default: return hc.MIDROLL_AND_POSTROLL } }(t.preload)), void 0 !== t.showCountdown && (n.showCountdown = xr(t.showCountdown)), void 0 !== t.vpaidMode && (n.vpaidMode = function (t) { switch (t) { case "insecure": return "insecure"; case "disabled": return "disabled"; case "enabled": default: return "enabled" } }(t.vpaidMode)), M(t.allowedMimeTypes) && (n.allowedMimeTypes = t.allowedMimeTypes.filter(U)), void 0 !== t.googleImaConfiguration && (n.googleImaConfiguration = function (t) { return void 0 === t ? { useNativeIma: !1 } : { useNativeIma: xr(t.useNativeIma) } }(t.googleImaConfiguration)), n) } function Ef(t, n, i) { if (void 0 === i && (i = rs.q), Jc(t)) return { sources: [gf()] }; var e = Er(t); if (e.sources = function (t, n, i) { if (nf(t)) return [_f(t, n, i)]; if (L(t) && nf(t[0])) { for (var e = [], r = 0; r < t.length; r++) { var s = t[r]; e.push(_f(s, n, i)) } return e } return [gf()] }(e.sources, e, n), "contentProtection" in e && delete e.contentProtection, "drm" in e && delete e.drm, "ads" in e) { var r = function (t, n) { if (!L(t)) return []; for (var i = [], e = 0; e < t.length; e++) { var r = t[e]; (r = mf(r, n)) && (kf(r) || bf(r) || Af(r)) && i.push(r) } return i }(e.ads, i); 0 === r.length ? delete e.ads : e.ads = r } var s, u = !rf(e.sources), o = e.ads && e.ads.length > 0; if (u && !o ? delete e.ads : o && !u && (e.sources = []), "textTracks" in e) { var a = function (t) { if (!L(t)) return []; for (var n = [], i = 0; i < t.length; i++) { var e = t[i]; "" !== (e = pf(e)).src && n.push(e) } return n }(e.textTracks); 0 === a.length ? delete e.textTracks : e.textTracks = a } if ("poster" in e && (e.poster = Or(e.poster)), "vr" in e && (e.vr = ((s = (s = e.vr) || {})[360] = !!s[360], s.stereoMode = _s(s.stereoMode), { 360: Boolean(s[360]), stereoMode: s.stereoMode ? ws(s.stereoMode) : us.NONE })), "analytics" in e || (null == n ? void 0 : n.analytics)) { var h = If(e.analytics), c = n && n.analytics || []; e.analytics = function (t, n) { for (var i = Er(t), e = function (e) { var r = n[e], s = !t.some(function (t) { return t.integration === r.integration }); s && r.integration !== gs && i.push(r) }, r = 0; r < n.length; r++)e(r); return i }(h, c) } return "mutedAutoplay" in e && (e.mutedAutoplay = Gl(e.mutedAutoplay)), "timeServer" in e && delete e.timeServer, e.blockContentIfAdError = function (t) { if (void 0 === t || "boolean" != typeof t) return !1; return Boolean(t) }(e.blockContentIfAdError), e } function If(t) { if (!L(t)) return []; for (var n = [], i = 0; i < t.length; i++) { var e = t[i]; F(e) && n.push(e) } return n } function Rf(t, n) { for (var i = 0; i < n.length; i++) { var e = n[i]; e.enumerable = e.enumerable || !1, e.configurable = !0, "value" in e && (e.writable = !0), g.defineProperty(t, e.key, e) } } function Cf(t, n) { var i = function (t, n) { var i = t.length; if (i <= 1) return t; for (var e = new Array(i), r = 1; r < i; r *= 2) { Nf(t, n, r, e); var s = t; t = e, e = s } return t }(t, n); return i !== t && Nf(i, null, t.length, t), t } function Nf(t, n, i, e) { var r, s, u, o, a, h = t.length, c = 0, f = 2 * i; for (r = 0; r < h; r += f)for (u = (s = r + i) + i, s > h && (s = h), u > h && (u = h), o = r, a = s; ;)if (o < s && a < u) n(t[o], t[a]) <= 0 ? e[c++] = t[o++] : e[c++] = t[a++]; else if (o < s) e[c++] = t[o++]; else { if (!(a < u)) break; e[c++] = t[a++] } } !function (t) { t.u_ = "", t.a_ = "anonymous", t.o_ = "use-credentials" }(Qc || (Qc = {})), function (t) { t.Zx = "application/dash+xml", t.Kx = "application/vnd.apple.mpegurl", t.Jx = "application/x-mpegurl", t.tO = "video/mp4" }(Yc || (Yc = {})); var Df = /[a-zA-Z]/, xf = /[0-9]/, Bf = /[0-9a-fA-F]/, Of = /^0x/i, Pf = /^[0-9]+$/, Mf = /^[0-9a-fA-F]+$/, Lf = /^[0-7]+$/, jf = g.prototype.toString, Ff = Array.isArray || function (t) { return "[object Array]" === jf.call(t) }, Uf = "undefined" != typeof Symbol && "symbol" == typeof Symbol.iterator; function Vf(t) { return Ff(t) ? t : Array.from(t) } function Hf(t) { return t >= 65 && t <= 90 } function zf(t) { return Hf(t) || function (t) { return t >= 97 && t <= 122 }(t) } function qf(t) { return t >= 48 && t <= 57 } function Gf(t) { return qf(t) || zf(t) } function Wf(t) { return qf(t) || t >= 65 && t <= 70 || t >= 97 && t <= 102 } function Xf(t) { return Hf(t) ? t + 32 : t } function $f(t) { return qf(t) ? t - 48 : t >= 65 && t <= 70 ? t - 65 + 10 : t >= 97 && t <= 102 ? t - 97 + 10 : -1 } function Qf(t, n) { return void 0 === n && (n = !1), 0 <= t && t <= 9 ? t + 48 : 10 <= t && t <= 15 ? t + (n ? 87 : 55) : -1 } var Yf = _.min, Zf = String.fromCharCode, Kf = 16384; function Jf(t) { for (var n = t.length, i = [], e = 0; e < n; e += Kf) { var r = Yf(e + Kf, n); i.push(Zf.apply(null, t.slice(e, r))) } return i.join("") } var tv = /[^\0-\x7E]/, nv = /[\x2E\u3002\uFF0E\uFF61]/g, iv = { overflow: "Overflow: input needs wider integers to process", "not-basic": "Illegal input >= 0x80 (not a basic code point)", "invalid-input": "Invalid input" }, ev = _.floor, rv = String.fromCharCode; function sv(t) { throw new RangeError(iv[t]) } function uv(t) { for (var n = [], i = 0, e = t.length; i < e;) { var r = t.charCodeAt(i++); if (r >= 55296 && r <= 56319 && i < e) { var s = t.charCodeAt(i++); 56320 == (64512 & s) ? n.push(((1023 & r) << 10) + (1023 & s) + 65536) : (n.push(r), i--) } else n.push(r) } return n } var ov, av, hv, cv = function (t, n) { return t + 22 + 75 * (t < 26) - ((0 != n) << 5) }, fv = function (t, n, i) { var e = 0; for (t = i ? ev(t / 700) : t >> 1, t += ev(t / n); t > 455; e += 36)t = ev(t / 35); return ev(e + 36 * t / (t + 38)) }, vv = function (t) { return function (t, n) { var i = t.split("@"), e = ""; i.length > 1 && (e = i[0] + "@", t = i[1]); var r = function (t, n) { for (var i = [], e = t.length; e--;)i[e] = n(t[e]); return i }((t = t.replace(nv, ".")).split("."), n).join("."); return e + r }(t, function (t) { return tv.test(t) ? "xn--" + function (t) { for (var n = [], i = (t = uv(t)).length, e = 128, r = 0, s = 72, u = 0, o = t; u < o.length; u++) { var a = o[u]; a < 128 && n.push(rv(a)) } var h = n.length, c = h; for (h && n.push("-"); c < i;) { for (var f = 2147483647, v = 0, l = t; v < l.length; v++) { var d = l[v]; d >= e && d < f && (f = d) } var g = c + 1; f - e > ev((2147483647 - r) / g) && sv("overflow"), r += (f - e) * g, e = f; for (var _ = 0, w = t; _ < w.length; _++) { var y = w[_]; if (y < e && ++r > 2147483647 && sv("overflow"), y == e) { for (var p = r, m = 36; ; m += 36) { var k = m <= s ? 1 : m >= s + 26 ? 26 : m - s; if (p < k) break; var b = p - k, A = 36 - k; n.push(rv(cv(k + b % A, 0))), p = ev(b / A) } n.push(rv(cv(p, 0))), s = fv(r, g, c == h), r = 0, ++c } } ++r, ++e } return n.join("") }(t) : t }) }; function lv(t) { for (var n = [], i = 0; i < t.length; i++) { var e = t[i]; e > 65535 && (e -= 65536, n.push(e >>> 10 & 1023 | 55296), e = 56320 | 1023 & e), n.push(e) } return Jf(n) } function dv(t) { if (t >= 55296 && t <= 57343) throw new v("Lone surrogate U+" + t.toString(16).toUpperCase() + " is not a scalar value") } function gv(t, n) { return t >> n & 63 | 128 } function _v(t, n) { 0 != (4294967168 & t) ? (0 == (4294965248 & t) ? n.push(t >> 6 & 31 | 192) : 0 == (4294901760 & t) ? (dv(t), n.push(t >> 12 & 15 | 224), n.push(gv(t, 6))) : 0 == (4292870144 & t) && (n.push(t >> 18 & 7 | 240), n.push(gv(t, 12)), n.push(gv(t, 6))), n.push(63 & t | 128)) : n.push(t) } function wv(t) { for (var n = [], i = 0; i < t.length; i++) { _v(t[i], n) } return n } function yv() { if (hv >= av) throw new v("Invalid byte index"); var t = 255 & ov[hv]; if (hv++, 128 == (192 & t)) return 63 & t; throw new v("Invalid continuation byte") } function pv() { var t, n; if (hv > av) throw new v("Invalid byte index"); if (hv === av) return !1; if (t = 255 & ov[hv], hv++, 0 == (128 & t)) return t; if (192 == (224 & t)) { if ((n = (31 & t) << 6 | yv()) >= 128) return n; throw new v("Invalid continuation byte") } if (224 == (240 & t)) { if ((n = (15 & t) << 12 | yv() << 6 | yv()) >= 2048) return dv(n), n; throw new v("Invalid continuation byte") } if (240 == (248 & t) && (n = (7 & t) << 18 | yv() << 12 | yv() << 6 | yv()) >= 65536 && n <= 1114111) return n; throw new v("Invalid UTF-8 detected") } function mv(t) { return [37, Qf(t >> 4), Qf(15 & t)] } function kv(t) { return function (t) { return t >= 0 && t <= 31 }(t) || t > 126 } function bv(t) { return kv(t) || 32 === t || 34 === t || 60 === t || 62 === t || 96 === t } function Av(t) { return bv(t) || 35 === t || 63 === t || 123 === t || 125 === t } function Tv(t) { return Av(t) || 47 === t || 58 === t || 59 === t || 61 === t || 64 === t || t >= 91 && t <= 94 || 124 === t } function Sv(t) { return t < 33 || t > 126 || 34 === t || 35 === t || 60 === t || 62 === t } function Ev(t) { return Sv(t) || 39 === t } function Iv(t, n) { if (!n(t)) return [t]; for (var i = wv([t]), e = [], r = 0; r < i.length; r++) { var s = i[r]; e.push.apply(e, mv(s)) } return e } function Rv(t, n) { for (var i = [], e = 0, r = uv(t); e < r.length; e++) { var s = r[e]; i.push.apply(i, Iv(s, n)) } return lv(i) } function Cv(t) { return function (t) { for (var n = [], i = t.length, e = 0; e < i; e++) { var r = t[e]; if (37 === r && e + 2 < i && Wf(t[e + 1]) && Wf(t[e + 2])) { var s = $f(t[e + 1]) << 4 | $f(t[e + 2]); n.push(s), e += 2 } else n.push(r) } return n }(wv(t)) } function Nv(t) { return lv(function (t) { ov = t.slice(), av = ov.length, hv = 0; for (var n, i = []; !1 !== (n = pv());)i.push(n); return i }(Cv(uv(t)))) } function Dv(t) { var n, i, e, r, s = t.length, u = [0, 0, 0, 0, 0, 0, 0, 0], o = 0, a = null, h = 0; if (h < s && ":" === t[h]) { if (!(h + 1 < s && ":" === t[h + 1])) throw new l; h += 2, a = o += 1 } for (; h < s;) { if (8 === o) throw new l("Too many groups"); if (":" !== t[h]) { for (var c = 0, f = 0; f < 4 && h < s && Bf.test(t[h]);)c = c << 4 | w(t[h], 16), h += 1, f += 1; if ("." === t[h]) { if (0 === f) throw new l; if (h -= f, o > 6) throw new l; for (var v = 0; h < s;) { var d = null; if (v > 0) { if (!("." === t[h] && v < 4)) throw new l; h += 1 } if (!xf.test(t[h])) throw new l; for (; h < s && xf.test(t[h]);) { var g = w(t[h], 10); if (null === d) d = g; else { if (0 === d) throw new l; if ((d = 10 * d + g) > 255) throw new l } h += 1 } u[o] = u[o] << 8 | d, 2 !== (v += 1) && 4 !== v || (o += 1) } if (4 !== v) throw new l; break } if (":" === t[h]) { if ((h += 1) === s) throw new l } else if (h < s) throw new l; u[o] = c, o += 1 } else { if (null !== a) throw new l("Too many :: groups"); h += 1, a = o += 1 } } if (null !== a) { var _ = o - a; for (o = 7; 0 !== o && _ > 0;)e = a + _ - 1, r = void 0, r = (n = u)[i = o], n[i] = n[e], n[e] = r, o -= 1, _ -= 1 } else if (8 !== o) throw new l; return u } function xv(t) { var n = 10, i = Pf; return Of.test(t) ? (t = t.slice(2), n = 16, i = Mf) : t.length >= 2 && "0" === t[0] && (t = t.slice(1), n = 8, i = Lf), "" === t ? 0 : i.test(t) ? w(t, n) : void 0 } var Bv = { iO: 4 }, Ov = /[\0\t\n\r #%/:?@\[\\\]]/, Pv = /[\0\t\n\r #/:?@\[\\\]]/; function Mv(t, n) { if ("[" === t[0]) { if ("]" !== t[t.length - 1]) throw new l("Invalid IPv6 address"); return { iO: 2, eO: Dv(t.slice(1, -1)) } } if (!n) return function (t) { if (Pv.test(t)) throw new l("Invalid code point in opaque host"); var n = Rv(t, kv); return "" === n ? Bv : { iO: 3, Au: n } }(t); var i = function (t) { return function (t) { return vv(t.toLowerCase()) }(t) }(Nv(t)); if (Ov.test(i)) throw new l("Invalid code point in host"); var e = function (t) { var n = t.split("."); if ("" === n[n.length - 1] && n.pop(), !(n.length > 4)) { for (var i = [], e = 0; e < n.length; e++) { var r = n[e]; if ("" === r) return; var s = xv(r); if (void 0 === s) return; i.push(s) } for (var u = 0; u < i.length - 1; u++)if (i[u] > 255) throw new l; if (i[i.length - 1] >= _.pow(256, 5 - i.length)) throw new l; for (var o = i.pop(), a = 0; a < i.length; a++)o += i[a] * _.pow(256, 3 - a); return o } }(i); return void 0 !== e ? { iO: 1, eO: e } : "" === i ? Bv : { iO: 0, rO: i } } function Lv(t) { switch (t.iO) { case 0: return t.rO; case 1: return function (t) { for (var n = [], i = t, e = 1; e <= 4; e++)n.push("" + (255 & i)), 4 !== e && n.push("."), i >>>= 8; return n.reverse().join("") }(t.eO); case 2: return "[" + function (t) { for (var n = "", i = function (t) { for (var n = 0, i = 0, e = 0, r = 0, s = 0; s < 8; s++)0 === t[s] ? (0 === r && (e = s), r++) : (r > i && (n = e, i = r), r = 0); return r > i && (n = e, i = r), i > 1 ? n : null }(t), e = !1, r = 0; r < 8; r++) { if (e) { if (0 === t[r]) continue; e = !1 } i !== r ? (n += t[r].toString(16), 7 !== r && (n += ":")) : (n += 0 === r ? "::" : ":", e = !0) } return n }(t.eO) + "]"; case 3: return t.Au; case 4: return "" } } var jv = /\+/g; function Fv(t) { for (var n = t.split("&"), i = [], e = 0; e < n.length; e++) { var r = n[e]; if ("" !== r) { var s = r.indexOf("="), u = void 0, o = void 0; -1 !== s ? (u = r.slice(0, s), o = r.slice(s + 1)) : (u = r, o = ""), u = u.replace(jv, " "), o = o.replace(jv, " "); var a = Nv(u), h = Nv(o); i.push([a, h]) } } return i } function Uv(t) { for (var n = "", i = 0; i < t.length; i++) { var e = t[i]; i > 0 && (n += "&"), n += Vv(wv(uv(e[0]))) + "=" + Vv(wv(uv(e[1]))) } return n } function Vv(t) { for (var n, i = [], e = 0; e < t.length; e++) { var r = t[e]; 32 === r ? i.push(43) : 42 === (n = r) || 45 === n || 46 === n || 95 === n || Gf(n) ? i.push(r) : i.push.apply(i, mv(r)) } return Jf(i) } var Hv = /(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/; function zv(t) { var n = "" + t, i = Hv.exec(n); return i ? function (t, n) { for (var i = t.length, e = [], r = n; r < i; r++) { var s = t.charCodeAt(r); if (Gv(s)) if (Wv(s) || r === i - 1) e.push(qv); else { var u = t.charCodeAt(r + 1); Wv(u) ? (e.push(s, u), r++) : e.push(qv) } else e.push(s) } return t.slice(0, n) + Jf(e) }(n, i.index) : n } var qv = 65533, Gv = function (t) { return 55296 == (63488 & t) }, Wv = function (t) { return 0 != (1024 & t) }; function Xv(t, n) { var i = t[0], e = n[0]; return i === e ? 0 : i < e ? -1 : 1 } function $v(t) { t.sO.length = 0 } function Qv(t, n) { !function (t, n) { for (var i = 0; i < n.length; i++)t[i] = n[i]; t.length = n.length }(t.sO, Fv(n)) } function Yv(t) { if (t.uO) { var n = Uv(t.sO); "" === n && (n = null), t.uO.uO.oO = n } } var Zv = function () { function t(t) { if (void 0 === t && (t = void 0), this.uO = null, null == t) this.sO = []; else if ("object" == typeof t || "function" == typeof t) if ((s = t) instanceof Zv && Ff(s.sO) && (!Uf || s[Symbol.iterator] === Kv)) this.sO = t.sO.slice(); else if (function (t) { return null != t && (!!Ff(t) || !!Uf && "function" == typeof t[Symbol.iterator]) }(t)) { this.sO = []; for (var n = 0, i = Vf(t); n < i.length; n++) { var e = Vf(i[n]); if (2 !== e.length) throw new l("Invalid name-value pair"); this.sO.push([zv(e[0]), zv(e[1])]) } } else for (var r in this.sO = [], t) g.prototype.hasOwnProperty.call(t, r) && this.sO.push([zv(r), zv(t[r])]); else (t = zv(t)).length > 0 && "?" === t[0] && (t = t.slice(1)), this.sO = Fv(t); var s } var n = t.prototype; return n.append = function (t, n) { t = zv(t), n = zv(n), this.sO.push([t, n]), Yv(this) }, n.delete = function (t) { t = zv(t); for (var n = this.sO, i = 0; i < n.length;) { n[i][0] === t ? n.splice(i, 1) : i++ } Yv(this) }, n.get = function (t) { t = zv(t); for (var n = this.sO, i = 0; i < n.length; i++) { var e = n[i]; if (e[0] === t) return e[1] } return null }, n.getAll = function (t) { t = zv(t); for (var n = this.sO, i = [], e = 0; e < n.length; e++) { var r = n[e]; r[0] === t && i.push(r[1]) } return i }, n.has = function (t) { t = zv(t); for (var n = this.sO, i = 0; i < n.length; i++) { if (n[i][0] === t) return !0 } return !1 }, n.set = function (t, n) { t = zv(t), n = zv(n); for (var i = this.sO, e = !1, r = 0; r < i.length;) { var s = i[r]; s[0] === t ? e ? i.splice(r, 1) : (s[1] = n, e = !0, r++) : r++ } e || i.push([t, n]), Yv(this) }, n.sort = function () { Cf(this.sO, Xv), Yv(this) }, n.toString = function () { return Uv(this.sO) }, n.entries = function () { return new il(this.sO, Jv) }, n.keys = function () { return new il(this.sO, tl) }, n.values = function () { return new il(this.sO, nl) }, n.forEach = function (t) { var n = this; this.sO.forEach(function (i) { return t(i[1], i[0], n) }) }, t }(), Kv = Zv.prototype.entries; Uf && (Zv.prototype[Symbol.iterator] = Kv); var Jv = function (t) { return [t[0], t[1]] }, tl = function (t) { return t[0] }, nl = function (t) { return t[1] }, il = function () { function t(t, n) { this.aO = 0, this.sO = t, this.hO = n } return t.prototype.next = function () { return this.aO < this.sO.length ? { done: !1, value: this.hO(this.sO[this.aO++]) } : { done: !0, value: void 0 } }, t }(), el = "null"; var rl = g.create(null); rl.ftp = 21, rl.file = 0, rl.gopher = 70, rl.http = 80, rl.https = 443, rl.ws = 80, rl.wss = 443; var sl = /^(?:\.|%2e)$/i, ul = /^(?:\.|%2e){2}$/i; function ol(t) { return sl.test(t) } function al(t) { return ul.test(t) } function hl(t) { return void 0 !== rl[t] } function cl(t) { return hl(t.cO) } function fl(t) { return "" !== t.fO || "" !== t.vO } function vl(t) { var n = t.length; if (!(n >= 2)) return !1; if (!dl(t.slice(0, 2))) return !1; if (2 !== n) { var i = t[2]; if (47 !== i && 92 !== i && 63 !== i && 35 !== i) return !1 } return !0 } function ll(t) { return 2 === t.length && Df.test(t[0]) && (":" === t[1] || "|" === t[1]) } function dl(t) { return 2 === t.length && ll(Jf(t)) } function gl(t) { return ll(t) && ":" === t[1] } function _l(t) { var n = t.lO; 0 !== n.length && ("file" === t.cO && 1 === n.length && gl(n[0]) || n.pop()) } function wl(t) { return null === t.dO || Bv === t.dO || t._O || "file" === t.cO } var yl = -1, pl = /\t|\n|\r/g, ml = /^[\x00-\x1f ]+|[\x00-\x1f ]+$/g; function kl(t, n, i, e) { void 0 === i && (i = null), void 0 === e && (e = null), i || (i = new Al, t = t.replace(ml, "")); var r = null !== e ? e : 0; n = n || null; for (var s = [], u = !1, o = !1, a = !1, h = uv(t = t.replace(pl, "")), c = h.length, f = 0; f <= c;) { var v = f < c ? h[f] : yl; switch (r) { case 0: if (!zf(v)) { if (null === e) { s.length = 0, r = 2; continue } throw new l("Invalid scheme") } s.push(Xf(v)), r = 1; break; case 1: if (Gf(v) || 43 === v || 45 === v || 46 === v) s.push(Xf(v)); else { if (58 !== v) { if (null === e) { s.length = 0, r = 2, f = 0; continue } throw new l("Invalid scheme") } var d = lv(s); if (null !== e) { if (hl(i.cO) && !hl(d)) return; if (!hl(i.cO) && hl(d)) return; if ((fl(i) || null !== i.gO) && "file" === d) return; if ("file" === i.cO && (i.dO === Bv || null === i.dO)) return } if (i.cO = d, null !== e) return void (cl(i) && i.gO === rl[i.cO] && (i.gO = null)); s.length = 0, "file" === i.cO ? r = 13 : cl(i) && n && n.cO === i.cO ? r = 3 : cl(i) ? r = 7 : 47 === h[f + 1] ? (r = 4, f += 1) : (i._O = !0, i.lO.push(""), r = 18) } break; case 2: if (!n || n._O && 35 !== v) throw new l("Invalid scheme"); n._O && 35 === v ? (i.cO = n.cO, i.lO = n.lO.slice(), i.oO = n.oO, i.wO = "", i._O = !0, r = 20) : "file" !== n.cO ? (r = 5, f -= 1) : (r = 13, f -= 1); break; case 3: 47 === v && 47 === h[f + 1] ? r = 8 : (r = 5, f -= 1); break; case 4: 47 === v ? r = 9 : (r = 17, f -= 1); break; case 5: i.cO = n.cO, yl === v ? (i.fO = n.fO, i.vO = n.vO, i.dO = n.dO, i.gO = n.gO, i.lO = n.lO.slice(), i.oO = n.oO) : 47 === v ? r = 6 : 63 === v ? (i.fO = n.fO, i.vO = n.vO, i.dO = n.dO, i.gO = n.gO, i.lO = n.lO.slice(), i.oO = "", r = 19) : 35 === v ? (i.fO = n.fO, i.vO = n.vO, i.dO = n.dO, i.gO = n.gO, i.lO = n.lO.slice(), i.oO = n.oO, i.wO = "", r = 20) : 92 === v && cl(i) ? r = 6 : (i.fO = n.fO, i.vO = n.vO, i.dO = n.dO, i.gO = n.gO, i.lO = n.lO.slice(), i.lO.pop(), r = 17, f -= 1); break; case 6: !cl(i) || 47 !== v && 92 !== v ? 47 === v ? r = 9 : (i.fO = n.fO, i.vO = n.vO, i.dO = n.dO, i.gO = n.gO, r = 17, f -= 1) : r = 8; break; case 7: if (47 !== v || 47 !== h[f + 1]) { r = 8; continue } r = 8, f += 1; break; case 8: 47 !== v && 92 !== v && (r = 9, f -= 1); break; case 9: if (64 === v) { u && s.unshift(37, 52, 48), u = !0; for (var g = 0; g < s.length; g++) { var _ = s[g]; if (58 !== _ || a) { var y = lv(Iv(_, Tv)); a ? i.vO += y : i.fO += y } else a = !0 } s.length = 0 } else if (yl === v || 47 === v || 63 === v || 35 === v || cl(i) && 92 === v) { if (u && 0 === s.length) throw new l("Invalid host"); f -= s.length + 1, s.length = 0, r = 10 } else s.push(v); break; case 10: case 11: if (null !== e && "file" === i.cO) f -= 1, r = 15; else if (58 !== v || o) if (yl === v || 47 === v || 63 === v || 35 === v || cl(i) && 92 === v) { if (f -= 1, cl(i) && 0 === s.length) throw new l("Invalid host"); if (null !== e && 0 === s.length && (fl(i) || null !== i.gO)) return; var p = Mv(lv(s), cl(i)); if (i.dO = p, s.length = 0, r = 16, null !== e) return } else 91 === v ? o = !0 : 93 === v && (o = !1), s.push(v); else { if (0 === s.length) throw new l("Invalid host"); var m = Mv(lv(s), cl(i)); if (i.dO = m, s.length = 0, r = 12, 11 === e) return } break; case 12: if (qf(v)) s.push(v); else { if (!(yl === v || 47 === v || 63 === v || 35 === v || cl(i) && 92 === v || null !== e)) throw new l("Invalid port"); if (0 !== s.length) { var k = w(lv(s), 10); if (k > 65535) throw new l("Invalid port"); i.gO = k === rl[i.cO] ? null : k, s.length = 0 } if (null !== e) return; r = 16, f -= 1 } break; case 13: i.cO = "file", 47 === v || 92 === v ? r = 14 : n && "file" === n.cO ? yl === v ? (i.dO = n.dO, i.lO = n.lO.slice(), i.oO = n.oO) : 63 === v ? (i.dO = n.dO, i.lO = n.lO.slice(), i.oO = "", r = 19) : 35 === v ? (i.dO = n.dO, i.lO = n.lO.slice(), i.oO = n.oO, i.wO = "", r = 20) : (vl(h.slice(f)) || (i.dO = n.dO, i.lO = n.lO.slice(), _l(i)), r = 17, f -= 1) : (r = 17, f -= 1); break; case 14: 47 === v || 92 === v ? r = 15 : (n && "file" === n.cO && !vl(h.slice(f)) && (gl(n.lO[0]) ? i.lO.push(n.lO[0]) : i.dO = n.dO), r = 17, f -= 1); break; case 15: if (yl === v || 47 === v || 92 === v || 63 === v || 35 === v) if (f -= 1, null === e && dl(s)) r = 17; else if (0 === s.length) { if (i.dO = Bv, null !== e) return; r = 16 } else { var b = Mv(lv(s), cl(i)); if (0 === b.iO && "localhost" === b.rO && (b = Bv), i.dO = b, null !== e) return; s.length = 0, r = 16 } else s.push(v); break; case 16: cl(i) ? (r = 17, 47 !== v && 92 !== v && (f -= 1)) : null === e && 63 === v ? (i.oO = "", r = 19) : null === e && 35 === v ? (i.wO = "", r = 20) : yl !== v && (r = 17, 47 !== v && (f -= 1)); break; case 17: if (yl === v || 47 === v || cl(i) && 92 === v || null === e && (63 === v || 35 === v)) { var A = lv(s); if (al(A) ? (_l(i), 47 === v || cl(i) && 92 === v || i.lO.push("")) : !ol(A) || 47 === v || cl(i) && 92 === v ? ol(A) || ("file" === i.cO && 0 === i.lO.length && dl(s) && (Bv !== i.dO && null !== i.dO && (i.dO = Bv), s[1] = 58, A = lv(s)), i.lO.push(A)) : i.lO.push(""), s.length = 0, "file" === i.cO && (yl === v || 63 === v || 35 === v)) for (; i.lO.length > 1 && "" === i.lO[0];)i.lO.shift(); 63 === v ? (i.oO = "", r = 19) : 35 === v && (i.wO = "", r = 20) } else s.push.apply(s, Iv(v, Av)); break; case 18: 63 === v ? (i.oO = "", r = 19) : 35 === v ? (i.wO = "", r = 20) : yl !== v && (i.lO[0] += lv(Iv(v, kv))); break; case 19: null === e && 35 === v ? (i.wO = "", r = 20) : yl !== v && (i.oO += lv(Iv(v, cl(i) ? Ev : Sv))); break; case 20: yl === v || 0 === v || (i.wO += lv(Iv(v, bv))) }f++ } return i } function bl(t, n, i, e) { try { kl(t, n, i, e) } catch (t) { } } var Al = function () { this.cO = "", this.fO = "", this.vO = "", this.dO = null, this.gO = null, this.lO = [], this.oO = null, this.wO = null, this._O = !1 }; function Tl(t) { switch (t.cO) { case "blob": var n; try { n = kl(t.lO[0], null) } catch (t) { return el } return Tl(n); case "ftp": case "gopher": case "http": case "https": case "ws": case "wss": return i = t.cO, e = t.dO, r = t.gO, i + "://" + Lv(e) + (null === r ? "" : ":" + r); case "file": default: return el }var i, e, r } var Sl = function () { function t(t, n) { var i, e, r = null; if (null != n) if (null != (i = n) && i instanceof Sl && "object" == typeof i.uO) r = n.uO; else try { r = kl(String(n), null) } catch (t) { throw new l("Invalid base URL: " + t.message) } try { e = kl(String(t), r) } catch (t) { throw new l("Invalid URL: " + t.message) } var s = e.oO; this.uO = e, this.oO = function (t) { var n = new Zv; return null !== t && Qv(n, t), n }(s), this.oO.uO = this } var n, i, e, r = t.prototype; return r.toString = function () { return this.href }, r.toJSON = function () { return this.href }, n = t, (i = [{ key: "href", get: function () { return function (t, n) { void 0 === n && (n = !1); var i = t.cO + ":"; if (null !== t.dO ? (i += "//", fl(t) && (i += t.fO, "" !== t.vO && (i += ":" + t.vO), i += "@"), i += Lv(t.dO), null !== t.gO && (i += ":" + t.gO)) : null === t.dO && "file" === t.cO && (i += "//"), t._O) i += t.lO[0]; else for (var e = 0, r = t.lO; e < r.length; e++)i += "/" + r[e]; return null !== t.oO && (i += "?" + t.oO), n || null === t.wO || (i += "#" + t.wO), i }(this.uO) }, set: function (t) { var n; try { n = kl(String(t), null) } catch (t) { throw new l("Invalid URL: " + t.message) } this.uO = n, $v(this.oO); var i = this.uO.oO; null !== i && Qv(this.oO, i) } }, { key: "origin", get: function () { return Tl(this.uO) } }, { key: "protocol", get: function () { return this.uO.cO + ":" }, set: function (t) { bl(t + ":", null, this.uO, 0) } }, { key: "username", get: function () { return this.uO.fO }, set: function (t) { wl(this.uO) || (this.uO.fO = Rv(t, Tv)) } }, { key: "password", get: function () { return this.uO.vO }, set: function (t) { wl(this.uO) || (this.uO.vO = Rv(t, Tv)) } }, { key: "host", get: function () { var t = this.uO, n = t.dO; if (null === n) return ""; var i = t.gO, e = Lv(n); return null !== i && (e += ":" + i), e }, set: function (t) { this.uO._O || bl(t, null, this.uO, 10) } }, { key: "hostname", get: function () { var t = this.uO.dO; return null === t ? "" : Lv(t) }, set: function (t) { this.uO._O || bl(t, null, this.uO, 11) } }, { key: "port", get: function () { var t = this.uO.gO; return null === t ? "" : "" + t }, set: function (t) { wl(this.uO) || ("" === t ? this.uO.gO = null : bl(t, null, this.uO, 12)) } }, { key: "pathname", get: function () { var t = this.uO.lO; return this.uO._O ? t[0] : 0 === t.length ? "" : "/" + t.join("/") }, set: function (t) { this.uO._O || (this.uO.lO.length = 0, bl(t, null, this.uO, 16)) } }, { key: "search", get: function () { var t = this.uO.oO; return null === t || "" === t ? "" : "?" + t }, set: function (t) { t = zv(t); var n = this.uO; if ("" === t) return n.oO = null, void $v(this.oO); "?" === t[0] && (t = t.slice(1)), n.oO = "", bl(t, null, n, 19), Qv(this.oO, t) } }, { key: "searchParams", get: function () { return this.oO } }, { key: "hash", get: function () { var t = this.uO.wO; return null === t || "" === t ? "" : "#" + t }, set: function (t) { "" !== t ? ("#" === t[0] && (t = t.slice(1)), this.uO.wO = "", bl(t, null, this.uO, 20)) : this.uO.wO = null } }]) && Rf(n.prototype, i), e && Rf(n, e), t }(); function El(t, n) { return new Sl(t, n) } function Il(t, n) { for (var i = 0, e = g.keys(n); i < e.length; i++) { var r = e[i]; t.searchParams.set(r, n[r]) } } function Rl(t, n) { return void 0 === n && (n = Ot.document && Ot.document.baseURI || Ot.location.href || ""), new Sl(t, n) } function Cl(t, n) { return t = Rl(t).href, n && !nn(t, "/") && (t += "/"), t } function Nl(t) { return Rl(t).hostname } var Dl = /cache:(.+)?(?=&|$)/, xl = "http://webcache.googleusercontent.com/search?q=cache:"; function Bl(t) { if (!tn(t, xl)) return ""; var n = Rl(t).search.match(Dl); return n && n.length > 1 ? n[1] : "" } var Ol, Pl = "1ADD53F3"; function Ml(t) { return { chromecast: Ll(t ? t.chromecast : void 0), strategy: function (t) { switch (t) { case "auto": return Ol.AUTO; case "manual": return Ol.MANUAL; case "disabled": return Ol.DISABLED; default: return Ol.MANUAL } }(t ? t.strategy : void 0) } } function Ll(t) { return { appID: t && t.appID ? Or(t.appID) : Pl } } function jl(t) { return (t = t || {}).position = function (t) { switch (t) { case "top-left": case "top-right": case "bottom-left": case "bottom-right": return t; default: return } }(t.position), t.visibility = function (t) { if (null !== t && !p(t)) return _o(t, 0, 1) }(t.visibility), t.retainPresentationModeOnSourceChange = xr(t.retainPresentationModeOnSourceChange), t } !function (t) { t.AUTO = "auto", t.MANUAL = "manual", t.DISABLED = "disabled" }(Ol || (Ol = {})); var Fl, Ul = function (t) { function n(n) { var i; return (i = t.call(this, es.Il) || this).currentTime = n, i } return rt(n, t), n }(Mn), Vl = function (t) { function n(n) { var i; return (i = t.call(this, es.Rl) || this).currentTime = n, i } return rt(n, t), n }(Mn), Hl = function (t) { function n(n, i) { var e; return (e = t.call(this, es.Tl) || this).currentTime = n, e.playbackRate = i, e } return rt(n, t), n }(Mn), zl = { yg: 0, Zy: NaN, SN: !1, Bo: void 0, RE: !1, rN: !0, _g: 1, Zf: eu.h_, pg: !1, Gx: 0, zx: 0, ux: 1 }; function ql(t) { var n, i, e = Er(t || {}); return e.libraryLocation && (e.libraryLocation = Cl(e.libraryLocation)), e.isEmbeddable = Boolean(e.isEmbeddable), e.cast = Ml(e.cast), e.ads = Sf(e.ads), e.analytics = If(e.analytics), e.mutedAutoplay = Gl(e.mutedAutoplay), e.allowNativeFullscreen = Boolean(e.allowNativeFullscreen), e.allowMixedContent = Boolean(e.allowMixedContent), e.persistVolume = Boolean(e.persistVolume), e.liveOffset = (n = e.liveOffset, Number(n) || void 0), e.hlsDateRange = (i = e.hlsDateRange, Boolean(i)), e.retainPlaybackRateOnSourceChange = Boolean(e.retainPlaybackRateOnSourceChange), e } function Gl(t) { switch (t) { case Fl.ALL: case Fl.CONTENT: return t; default: return Fl.NONE } } function Wl(t) { return { yg: t.yg, Zy: t.Zy, SN: t.SN, Bo: t.Bo, RE: t.RE, rN: t.rN, _g: t._g, Zf: t.Zf, pg: t.pg, Gx: t.Gx, zx: t.zx, ux: t.ux } } function Xl(t, n) { t.ux = n.ux, t.RE = n.RE } function $l(t, n, i) { if (n !== i) { var e = n.yg, r = n.Zy, s = n.RE, u = n.rN, o = n._g, a = n.Zf, h = n.pg, c = (n.zx, n.Gx, n.ux), f = i.yg, v = i.Zy, l = i.SN, d = i.Bo, g = i.RE, _ = i.rN, w = i._g, y = i.Zf, m = i.pg, k = (i.zx, i.Gx, i.ux); a !== eu.h_ && t._o(new xh(f, y)), _ && !u ? t._o(new Mh(f)) : !_ && u && t._o(new ru(f)), y >= eu.c_ && t._o(new Rh(f, y)), v === r || p(v) && p(r) || t._o(new Oh(v)), w !== o && t._o(new Hl(f, w)), f !== e && t._o(new Ph(f)), l && t._o(new Fh(f)), y >= eu.f_ && t._o(new Dh(f, y)), m && !h ? t._o(new Vl(f)) : !m && h && t._o(new Ul(f)), k === c && g === s || t._o(new su(f, k)), y >= eu.v_ && t._o(new Ch(f, y)), y >= eu.l_ && t._o(new jh(f, y)), y !== a && t._o(new Nh(f, y)), d && t._o(new ou(d)) } } function Ql(t) { switch (t) { case "inline": case "fullscreen": case "picture-in-picture": return t; default: return } } !function (t) { t.NONE = "none", t.ALL = "all", t.CONTENT = "content" }(Fl || (Fl = {})); var Yl = "yO", Zl = function (t) { function n() { return t.call(this, Yl) || this } return rt(n, t), n }(Mn), Kl = function (t) { function n(n) { var i; return (i = t.call(this, es.al) || this).currentSource = n, i } return rt(n, t), n }(Mn), Jl = function (t) { function n() { var n; return (n = t.apply(this, arguments) || this).pO = new fu, n } rt(n, t); var i = n.prototype; return i.pf = function (t) { t.mO = this, this.pO.pf(t), this._o(new lr(t)) }, i.kf = function (t) { t.mO = void 0, t.Yf = Vr.Wf, this.pO.kf(t), this._o(new gr(t)) }, i.kO = function (t) { }, i.bO = function (t) { }, i.bf = function () { var t = this.pO.Tf.slice(); this.pO.bf(); for (var n = 0; n < t.length; n++) { t[n].Af() } return Tt.resolve() }, i.Af = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.To(), t.next = 3, this.bf(); case 3: this.pO.Af(); case 4: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), n }(hr); function td(t, n, i) { void 0 === i && (i = !1); var e = ri(t, n, i), r = ri(t, n, i), s = i ? r : e, u = i ? e : r; return na.fromBits(u, s, !0) } var nd = function () { function t(t, n) { this.ei = t, this.AO = n } var n = t.prototype; return n.TO = function () { return Yn(this.ei, this.AO) }, n.SO = function () { return ii(this.ei, this.AO) }, n.EO = function () { return ri(this.ei, this.AO) }, n.IO = function () { return function (t, n, i) { void 0 === i && (i = !1); var e = t.getInt32(n.Yo, i); return n.Xo(4), e }(this.ei, this.AO) }, n.RO = function () { return td(this.ei, this.AO) }, n.NO = function (t) { return Kn(this.ei, this.AO, t) }, n.CO = function (t) { return function (t, n, i) { for (var e = [], r = 0; r < i; r++)e.push(ri(t, n)); return e }(this.ei, this.AO, t) }, n.DO = function (t) { return ai(this.ei, this.AO, t) }, n.xO = function () { return bi(this.ei, this.AO) }, n.iD = function (t) { this.AO.Xo(t) }, t }(), id = function (t) { function n(n, i) { var e; return (e = t.call(this) || this).OO = n, e.BO = i, e } return rt(n, t), n }(ot), ed = function () { function t() { } return t.PO = function (n, i) { void 0 === i && (i = !1); var e = [], r = n.ei, s = n.AO; try { for (; s.Yo < r.byteLength;) { var u = t.MO(r, s); e.push(u) } } catch (t) { if (!(t instanceof id)) throw t; if (i) throw new id(t.OO, e) } return e }, t.MO = function (t, n) { var i = n.Yo; if (!ti(t, n, 4)) throw new id(i); var e = ri(t, n); if (!ti(t, n, 4)) throw new id(i); var r, s = ai(t, n, 4), u = 0; if (1 === e) { if (!ti(t, n, 8)) throw new id(i); u = td(t, n).toNumber() } if ("uuid" === s) { if (!ti(t, n, 16)) throw new id(i); s = ai(t, n, 16) } switch (e) { case 0: r = t.byteLength - i; break; case 1: r = u; break; default: r = e }var o = n.Yo, a = i + r; if (a > t.byteLength) throw new id(i); var h = { Ou: s, Yo: i, ei: new nd(Si(t, i, a), new xi(o - i)) }; return n.$o(a), h }, t.LO = function (t, n, i) { var e = t.ei, r = t.AO, s = Ti(Ii(e), r.Yo, e.byteLength); return i && (s = Ni(s)), r.Xo(s.byteLength), { Ou: n, ei: s } }, t.jO = function (n, i, e) { var r = od(n.EO()); return { Ou: i, FO: r.version, UO: r.flags, ei: t.LO(n, i, e).ei } }, t }(); function rd(t, n) { var i = sd(t, n); if (!i) throw new v("Missing " + n + " atom"); return i } function sd(t, n) { for (var i = 0; i < t.length; i++) { var e = t[i]; if (e.Ou === n) return e.ei } } function ud(t, n) { for (var i = [], e = 0; e < t.length; e++) { var r = t[e]; r.Ou === n && i.push(r.ei) } return i } function od(t) { return { version: t >> 24, flags: new Xn(16777215 & t) } } var ad = function () { var t, n = function () { function t() { } return t.VO = function (n) { return !!t.HO[n] }, t.GO = function (n) { for (var i = [], e = ed.PO(new nd(n, new xi)), r = 0; r < e.length; r++) { var s = e[r]; t.VO(s.Ou) && i.push(t.HO[s.Ou](s.Yo, s.ei)) } return i }, t.zO = function (t) { var n = new nd(t, new xi); return ed.PO(n).some(function (t) { return "moof" === t.Ou }) }, t.qO = function (n) { return ud(ed.PO(new nd(n, new xi)), "pssh").map(t.WO) }, t.XO = function (n, i) { var e = ed.PO(i), r = rd(e, "mvhd"), s = ud(e, "trak"), u = sd(e, "mvex"); return { Ou: "moov", $O: t.QO(r), pO: s.map(t.YO), ZO: u ? t.KO(u) : void 0 } }, t.QO = function (t) { var n = od(t.EO()), i = n.version, e = n.flags, r = 1 === i ? t.RO() : t.EO(), s = 1 === i ? t.RO() : t.EO(), u = t.EO(), o = 1 === i ? t.RO() : t.EO(), a = t.EO(), h = t.SO() >> 8; t.iD(2), t.iD(8); var c = t.CO(9); return t.iD(24), { Ou: "mvhd", FO: i, UO: e, JO: r, tB: s, $p: u, Zy: o, nB: a, ux: h, iB: c, eB: t.EO() } }, t.YO = function (n) { var i = rd(ed.PO(n), "mdia"); return { Ou: "trak", $k: t.rB(i) } }, t.rB = function (n) { var i = ed.PO(n), e = rd(i, "mdhd"), r = rd(i, "hdlr"), s = rd(i, "minf"), u = t.sB(e), o = t.uB(r); return { Ou: "mdia", $O: u, oB: o, aB: t.hB(s, o.cB) } }, t.sB = function (t) { var n = od(t.EO()), i = n.version, e = n.flags, r = 1 === i ? t.RO() : t.EO(), s = 1 === i ? t.RO() : t.EO(), u = t.EO(), o = 1 === i ? t.RO() : t.EO(); t.SO(); return t.iD(2), { Ou: "mdhd", FO: i, UO: e, JO: r, tB: s, $p: u, Zy: o } }, t.uB = function (t) { var n = od(t.EO()), i = n.version, e = n.flags; t.iD(4); var r = t.DO(4); return t.iD(12), { Ou: "hdlr", FO: i, UO: e, cB: r, Fn: t.xO() } }, t.hB = function (n, i) { var e = rd(ed.PO(n), "stbl"); return { Ou: "minf", fB: t.vB(e, i) } }, t.vB = function (n, i) { var e = rd(ed.PO(n), "stsd"); return { Ou: "stbl", lB: t.dB(e, i) } }, t.dB = function (n, i) { for (var e = od(n.EO()), r = e.version, s = e.flags, u = (n.EO(), []), o = ed.PO(n), a = 0; a < o.length; a++) { var h = o[a]; "avc1" === h.Ou ? u.push(t._B(h.ei)) : "mp4a" === h.Ou ? u.push(t.gB(h.ei)) : "wvtt" === h.Ou && u.push(t.wB(h.ei)) } return { Ou: "stsd", FO: r, UO: s, yB: u } }, t.pB = function (t, n) { return t.iD(6), { Ou: n, mB: t.SO() } }, t.kB = function (n, i) { var e = t.pB(n, i); n.iD(8); var r = n.SO(), s = n.SO(); n.iD(2), n.iD(2); var u = n.EO() >>> 16; return Et(Et({}, e), { bB: r, AB: s, TB: u }) }, t.SB = function (n, i) { var e = t.pB(n, i); n.iD(2), n.iD(2), n.iD(12); var r = n.SO(), s = n.SO(), u = n.EO(), o = n.EO(); n.iD(4); var a = n.SO(); n.iD(32); var h = n.SO(); return n.iD(2), Et(Et({}, e), { qw: r, Ww: s, EB: u, IB: o, RB: a, NB: h }) }, t.gB = function (n) { var i = t.kB(n, "mp4a"), e = rd(ed.PO(n), "esds"), r = t.CB(e); return Et(Et({}, i), { DB: r }) }, t.wB = function (n) { var i = t.pB(n, "wvtt"), e = ed.PO(n), r = rd(e, "vttC"), s = t.xB(r), u = sd(e, "vlab"), o = u ? t.OB(u) : u; return Et(Et({}, i), { BB: s, PB: o }) }, t.xB = function (t) { return { Ou: "vttC", MB: t.xO() } }, t.OB = function (t) { return { Ou: "vlab", Hf: t.xO() } }, t.CB = function (t) { return ed.jO(t, "esds", !0) }, t._B = function (n) { var i = t.SB(n, "avc1"), e = ed.PO(n), r = rd(e, "avcC"), s = sd(e, "pasp"), u = t.LB(r), o = s ? t.jB(s) : void 0; return Et(Et({}, i), { FB: u, UB: o }) }, t.LB = function (t) { return ed.LO(t, "avcC", !0) }, t.jB = function (t) { return { Ou: "pasp", VB: t.EO(), HB: t.EO() } }, t.KO = function (n) { return { Ou: "mvex", pO: ud(ed.PO(n), "trex").map(t.GB) } }, t.GB = function (t) { var n = od(t.EO()); return { Ou: "trex", FO: n.version, UO: n.flags, zB: t.EO(), qB: t.EO(), WB: t.EO(), XB: t.EO(), $B: t.EO() } }, t.QB = function (n, i) { var e = ed.PO(i), r = rd(e, "mfhd"), s = ud(e, "traf"); return { Ou: "moof", YB: n, $O: t.ZB(r), pO: s.map(t.KB) } }, t.ZB = function (t) { var n = od(t.EO()); return { Ou: "mfhd", FO: n.version, UO: n.flags, Mg: t.EO() } }, t.KB = function (n) { var i = ed.PO(n), e = rd(i, "tfhd"), r = ud(i, "trun"), s = sd(i, "tfdt"), u = t.JB(e), o = r.map(function (n) { return t.tP(n, u) }), a = s ? t.nP(s) : void 0; return { Ou: "traf", $O: u, iP: o, eP: a } }, t.JB = function (t) { var n = od(t.EO()), i = n.version, e = n.flags, r = t.EO(), s = e.Ko(1) ? t.EO() : void 0, u = e.Ko(2) ? t.EO() : void 0, o = e.Ko(8) ? t.EO() : void 0, a = e.Ko(16) ? t.EO() : void 0, h = e.Ko(32) ? t.EO() : void 0; return { Ou: "tfhd", FO: i, UO: e, zB: r, rP: s, sP: u, WB: o, XB: a, $B: h } }, t.tP = function (n, i) { for (var e = od(n.EO()), r = e.version, s = e.flags, u = n.EO(), o = s.Ko(1) ? n.IO() : void 0, a = s.Ko(4) ? n.EO() : void 0, h = [], c = 0; c < u; c++) { var f = t.uP(n, s, r, i); 0 === c && void 0 !== a && (f.UO = a), h.push(f) } return { Ou: "trun", FO: r, UO: s, oP: u, YB: o, aP: a, hP: h } }, t.uP = function (t, n, i, e) { return { Zy: n.Ko(256) ? t.EO() : e.WB, qo: n.Ko(512) ? t.EO() : e.XB, UO: n.Ko(1024) ? t.EO() : e.$B, cP: n.Ko(2048) ? 0 === i ? t.EO() : t.IO() : void 0 } }, t.fP = function (t, n) { var i = n.ei, e = n.AO, r = od(ri(i, e)), s = r.version, u = r.flags, o = oi(i, e), a = oi(i, e), h = ri(i, e), c = ri(i, e), f = ri(i, e), v = ri(i, e), l = Ci(Ii(i), e.Yo, i.byteLength); return e.Xo(l.byteLength), { Ou: "emsg", FO: s, UO: u, vP: o, Hn: a, $p: h, lP: c, dP: f, Ff: v, _P: l } }, t.gP = function (t, n) { return ed.LO(n, "mdat", !1) }, t.WO = function (n) { var i = n.ei, e = n.AO, r = Ni(Ii(i)).buffer, s = od(ri(i, e)), u = s.version, o = s.flags, a = t.wP(i, e); if (u > 0) for (var h = ri(i, e), c = [], f = 0; f < h; f++) { for (var v = "", l = 0; l < 16; l++) { var d = Yn(i, e).toString(16); v += 1 === d.length ? "0" + d : d } c.push(v) } var g = ri(i, e), _ = new m(r, e.Yo, g); return e.Xo(i.byteLength), { Ou: "pssh", FO: u, UO: o, yP: a, pP: [], mP: g, ei: _, kP: r } }, t.wP = function (t, n) { for (var i = "", e = 0; e < 4; e++) { var r = Yn(t, n).toString(16); i += 1 === r.length ? "0" + r : r } i += "-"; for (var s = 0; s < 2; s++) { var u = Yn(t, n).toString(16); i += 1 === u.length ? "0" + u : u } i += "-"; for (var o = 0; o < 2; o++) { var a = Yn(t, n).toString(16); i += 1 === a.length ? "0" + a : a } i += "-"; for (var h = 0; h < 2; h++) { var c = Yn(t, n).toString(16); i += 1 === c.length ? "0" + c : c } i += "-"; for (var f = 0; f < 6; f++) { var v = Yn(t, n).toString(16); i += 1 === v.length ? "0" + v : v } return i.toLowerCase() }, t.bP = function (t, n) { var i, e, r = n.ei, s = n.AO, u = od(ri(r, s)), o = u.version, a = u.flags, h = ri(r, s), c = ri(r, s); 0 === o ? (i = na.fromBits(ri(r, s), 0, !0), e = na.fromBits(ri(r, s), 0, !0)) : (i = td(r, s), e = td(r, s)), s.Xo(2); for (var f = ii(r, s), v = [], l = 0; l < f; l += 1) { var d = ri(r, s), g = d >> 31 & 1, _ = 2147483647 & d, w = ri(r, s), y = ri(r, s), p = y >> 31 & 1, m = y >> 28 & 7, k = 268435455 & y; v.push({ AP: g, TP: _, Zy: w, SP: p, EP: m, IP: k }) } return { Ou: "sidx", FO: o, UO: a, RP: h, $p: c, NP: i, CP: e, DP: f, xP: v } }, t.nP = function (t) { var n = t.ei, i = t.AO, e = od(ri(n, i)), r = e.version; return { Ou: "tfdt", FO: r, UO: e.flags, eP: 0 === r ? na.fromBits(ri(n, i), 0, !0) : td(n, i) } }, t }(); return n.HO = ((t = {}).moov = n.XO, t.moof = n.QB, t.mdat = n.gP, t.sidx = n.bP, t.emsg = n.fP, t), n }(); function hd(t) { var n, i = { get track() { return t.df.vf }, get id() { return t.Ff }, get startTime() { return t.zk }, get endTime() { return t.OP }, get content() { return t.BP }, addEventListener: function (t, i) { t = Pr(t, Or), n.mo(t, i) }, removeEventListener: function (t, i) { t = Pr(t, Or), n.So(t, i) } }; return n = new kr(t, i), i } function cd() { } var fd = .02; function vd(t, n) { return wo(t.zk, n.zk, fd) && wo(t.OP, n.OP, fd) && t.Ff === n.Ff } var ld = function (t) { function n(n, i, e, r, s) { var u; return void 0 === s && (s = ""), (u = t.call(this) || this).cf = void 0, u.PP = void 0, u.MP = !1, u.LP = "", u.jP = -1, u.FP = n, u.UP = i, u.VP = e, u.HP = !!r, u.Bw = s, u } rt(n, t); var i = n.prototype; return i.lf = function () { return hd(this) }, i.Hl = function (t) { return this === t || Cr(this, t) && vd(this, t) }, i.Af = function () { this.To() }, T(n, [{ key: "zk", get: function () { return this.FP }, set: function (t) { this.FP = t } }, { key: "OP", get: function () { return this.UP }, set: function (t) { this.UP = t } }, { key: "Ff", get: function () { return this.Bw }, set: function (t) { this.Bw = t } }, { key: "vf", get: function () { return this.cf || (this.cf = this.lf()), this.cf } }, { key: "GP", get: function () { return this.MP }, set: function (t) { this.MP = t } }, { key: "df", get: function () { return this.PP }, set: function (t) { this.PP = t } }, { key: "BP", get: function () { return this.VP }, set: function (t) { this.VP = t } }, { key: "zP", get: function () { return this.LP }, set: function (t) { this.LP = t } }, { key: "qP", get: function () { return this.HP }, set: function (t) { this.HP = t } }]), n }(ar), dd = function (t) { function n(n, i, e, r, s, u, o) { var a; return (a = t.call(this, n, i, e, r) || this).WP = s, a.XP = u, a.$P = o || void 0, a } return rt(n, t), n.prototype.Hl = function (n) { return this === n || !!Cr(this, n) && (!!t.prototype.Hl.call(this, n) && (!!Ir(this.QP, n.QP) && (!!Ir(this.YP, n.YP) && (this.ZP && n.ZP ? !!this.ZP.isEqualNode(n.ZP) && (this.BP && n.BP ? !!this.BP.isEqualNode(n.BP) : this.BP === n.BP) : this.ZP === n.ZP)))) }, T(n, [{ key: "QP", get: function () { return this.WP } }, { key: "YP", get: function () { return this.XP } }, { key: "ZP", get: function () { return this.$P } }, { key: "vf", get: function () { var t, n, i; return this.cf || (this.cf = (i = { get track() { return t.df.vf }, get id() { return t.Ff }, get startTime() { return t.zk }, get endTime() { return t.OP }, get content() { return t.BP }, get styles() { return t.QP }, get regions() { return t.YP }, get metadata() { return t.ZP }, addEventListener: function (t, i) { n.mo(t, i) }, removeEventListener: function (t, i) { n.So(t, i) } }, n = new kr(t = this, i), i)), this.cf } }]), n }(ld), gd = function () { function t(t, n, i) { this.KP = t, this.JP = n, Ju(i) ? this.tM = function (t, n, i) { return i.removeAttribute("begin"), i.removeAttribute("dur"), i.removeAttribute("end"), i }(0, 0, i) : this.tM = i } return T(t, [{ key: "nM", get: function () { return this.tM.cloneNode(!0) } }, { key: "zk", get: function () { return this.KP } }, { key: "OP", get: function () { return this.JP } }]), t }(); var _d = { VIDEO_H264: "video/avc", VIDEO_H265: "video/hevc", VIDEO_MP4: "video/mp4", VIDEO_MPEG: "video/mpeg", VIDEO_MPEG2: "video/mpeg2", VIDEO_UNKNOWN: "video/x-unknown", AUDIO_AAC: "audio/mp4a-latm", AUDIO_MP4: "audio/mp4", AUDIO_UNKOWN: "audio/x-unknown", IMAGE_JPEG: "image/jpeg", APPLICATION_TTML_XML: "application/ttml+xml", APPLICATION_MP4: "application/mp4", TEXT_VTT: "text/vtt" }; function wd(t) { return Jt(t, _d.APPLICATION_MP4) || Jt(t, _d.VIDEO_MP4) || Jt(t, _d.AUDIO_MP4) } function yd(t, n) { return t.Ou === n } function pd(t, n) { for (var i = 0; i < t.length; i++) { var e = t[i]; if (yd(e, n)) return e } } var md, kd = /^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/, bd = /^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/, Ad = { iM: Eo.cm, eM: Eo.fm, rM: Eo.cm }; function Td(t, n, i, e) { void 0 === i && (i = Ad), void 0 === e && (e = _d.APPLICATION_TTML_XML); var r = [], s = new DataView(t); return e === _d.APPLICATION_MP4 ? r = function (t, n, i) { var e = pd(ad.GO(t), "mdat"); if (!e) return []; return Id(Ei(e.ei), n, i) }(s, n, i) : e === _d.APPLICATION_TTML_XML && (r = Id(s, n, i)), r } function Sd(t, n, i) { return void 0 === i && (i = Ad), Rd(t, n, i) } function Ed(t, n) { for (var i = function t(n) { var i = []; var e; if (Ju(n)) { (e = Wu(n, "region")) && i.push(e); for (var r = n.childNodes, s = 0; s < r.length; s++)i = i.concat(t(r[s])) } return i }(n.nM), e = {}, r = 0; r < i.length; r++) { var s = i[r]; e[s] = t[s] } return e } function Id(t, n, i) { return Rd(Ai(t, new xi), n, i) } function Rd(t, n, i) { var e = [], r = to(t); if (!r) return e; var s = r.documentElement; if ("tt" !== s.tagName) return e; var u = s && Yu(s, "head")[0], o = s && Yu(s, "body")[0], a = ["ebutts", "tts", "xml"]; if (!o || !u) return e; for (var h = function (t, n) { for (var i = {}, e = Yu(t, "styling")[0], r = e && Yu(e, "style") || [], s = 0; s < r.length; s++) { var u = r[s], o = Xu(u, "id", Gu); i[o] = Ku(u, n) } return i }(u, a), c = function (t, n) { var i = Er(t), e = Dd(n.getAttribute("tts:extent")); if (!e) return i; for (var r = 0, s = g.keys(i); r < s.length; r++) { var u = s[r], o = Dd(i[u].extent); if (o) { var a = Cd(o[0], e[0]), h = Cd(o[1], e[1]); i[u].extent = a + " " + h } var c = Dd(i[u].origin); if (c) { var f = Cd(c[0], e[0]), v = Cd(c[1], e[1]); i[u].origin = f + " " + v } } return i }(function (t, n) { for (var i = {}, e = Yu(t, "layout")[0], r = e && Yu(e, "region") || [], s = 0; s < r.length; s++) { var u = r[s], o = Xu(u, "id", Gu); i[o] = Ku(u, n); var a = Od(u, n); for (var h in a) i[o][h] = a[h] } return i }(u, a), s), f = Yu(u, "metadata")[0], v = function t(n, i, e, r) { var s = i; var u; var o = e; var a = []; var h; var c = []; Ju(n) && (s = Bd(Wu(n, "begin"), r) || s, u = Bd(Wu(n, "dur"), Eo.cm), o = Bd(Wu(n, "end"), r) || u && s.kd(u) || o); var f = n.childNodes; for (var v = 0; v < f.length; v++)("body" === n.nodeName || "div" === n.nodeName) && f.item(v).nodeType > 1 || (a = a.concat(t(f.item(v), s, o, r))); h = function (t, n, i) { var e = []; e.push(t, n); for (var r = 0; r < i.length; r++) { var s = i[r]; e.push(s.zk, s.OP) } e.sort(Io); for (var u = e.length, o = 0; o < u - 1; o++)e[o + 1].Hl(e[o]) && (mn(e, o + 1), o--, u = e.length); return e }(s, o, a); for (var l = 0; l < h.length - 1; l++) { var d = xd(h[l], h[l + 1], a), g = void 0; if (d.length <= 0 && (y = void 0, p = void 0, y = (w = n).nodeName.toUpperCase(), p = !!Wu(w, "smpte:backgroundImage"), "#TEXT" === y || "BR" === y || p)) g = n.cloneNode(!1), c.push(new gd(h[l], h[l + 1], g)); else if (d.length > 0) { g = n.cloneNode(!1); for (var _ = 0; _ < d.length; _++)g.appendChild(d[_].nM); c.push(new gd(h[l], h[l + 1], g)) } } var w, y, p; return c }(o, i.iM, i.eM, i.rM), l = 0; l < v.length; l++) { var d = v[l], _ = Ed(c, d); e.push(new dd(d.zk.um, d.OP.um, d.nM, !1, h, _, f)) } return e } function Cd(t, n) { var i = Nd(t), e = Nd(n); if (i && e && i === e) { var r = Number(t.slice(0, -i.length)), s = Number(n.slice(0, -e.length)); return p(r) || p(s) ? t : r / s * 100 + "%" } return t } function Nd(t) { return nn(t, "px") ? "px" : nn(t, "em") ? "em" : nn(t, "c") ? "c" : nn(t, "%") ? "%" : void 0 } function Dd(t) { if (t) { var n = t.split(" "); if (2 === n.length) return [n[0], n[1]] } } function xd(t, n, i) { for (var e = [], r = 0; r < i.length; r++) { var s = i[r].zk, u = i[r].OP; (s.Zp(t) && u.Xl(n) || s.Wl(n) && u.Zp(n) || s.Xl(t) && u.Jp(t)) && e.push(i[r]) } return e } function Bd(t, n) { if (kd.test(t)) { var i = kd.exec(t), e = Number(i[1]) || 0, r = Number(i[2]) || 0, s = Number(i[3]) || 0, u = i[6], o = u ? Number(u) * _.pow(.1, u.length) : 0; return new Eo(3600 * e + 60 * r + s + o).Od(n) } if (bd.test(t)) { var a = bd.exec(t), h = Number(a[1]), c = 0; switch (a[4]) { case "h": c = 3600 * h; break; case "m": c = 60 * h; break; case "s": c = h; break; case "ms": c = .001 * h; break; case "f": case "t": default: c = NaN }return new Eo(c).Od(n) } } function Od(t, n) { for (var i = {}, e = Yu(t, "style") || [], r = 0; r < e.length; r++) { var s = Ku(e[r], n); for (var u in s) i[u] = s[u] } return i } function Pd(t) { var n = function (t) { var n = to(t); if (n) return n.documentElement }(t); return n && "tt" === n.tagName } !function (t) { t.sM = "cue", t.uM = "region", t.oM = "stylesheet" }(md || (md = {})); var Md = { "line-left": "start", center: "middle", "line-right": "end" }, Ld = { start: "line-left", middle: "center", end: "line-right" }; function jd(t, n) { if ("auto" === t) switch (n) { case "start": case "left": return "line-left"; case "end": case "right": return "line-right"; default: return "center" }return t } function Fd(t, n) { if ("auto" === t) switch (n) { case "start": case "left": return 0; case "end": case "right": return 100; default: return 50 }return e = 50, r = "number" == typeof (i = t) ? i : y(i), p(r) ? e : r; var i, e, r } function Ud(t) { var n, i = { get align() { return t.aM }, get content() { return t.BP }, get endTime() { return t.OP }, get id() { return t.Ff }, get line() { return t.hM }, get lineAlign() { return t.cM }, get position() { return t.fM }, get positionAlign() { return t.vM }, get region() { return t.lM ? t.lM.vf : null }, get size() { return t.qo }, get snapToLines() { return t.dM }, get startTime() { return t.zk }, get text() { return this.content }, get track() { return t.df.vf }, get vertical() { return t._M }, addEventListener: function (t, i) { n.mo(t, i) }, removeEventListener: function (t, i) { n.So(t, i) } }; return n = new kr(t, i), i } function Vd(t, n) { return t.BP === n.BP && t.hM === n.hM && t.cM === n.cM && t.fM === n.fM && t.vM === n.vM && t.lM === n.lM && t.dM === n.dM && t.qo === n.qo && t.aM === n.aM && t._M === n._M } var Hd = function (t) { function n(n, i, e, r, s) { var u; return (u = t.call(this, n, i, e, r) || this).hM = "auto", u.cM = "start", u.fM = "auto", u.vM = "auto", u.lM = void 0, u.dM = !0, u.qo = 100, u.aM = "center", u._M = "", u.Ff = s || "", u } return rt(n, t), n.prototype.Hl = function (n) { return this === n || Cr(this, n) && t.prototype.Hl.call(this, n) && Vd(this, n) }, T(n, [{ key: "vf", get: function () { return this.cf || (this.cf = Ud(this)), this.cf } }, { key: "Ou", get: function () { return md.sM } }]), n }(ld); function zd(t) { var n = "number" == typeof t.hM ? t.hM : y(t.hM); return p(n) || t.dM || !(n < 0 || n > 100) ? p(n) ? t.dM ? -1 : 100 : n : 100 } function qd(t) { return Fd(t.fM, t.aM) } function Gd(t) { return jd(t.vM, t.aM) } function Wd(t) { var n = 100, i = Gd(t), e = qd(t); return "line-left" === i && (n = 100 - e), "line-right" === i && (n = e), "center" === i && e <= 50 && (n = 2 * e), "center" === i && e > 50 && (n = 2 * (100 - e)), t.qo < n ? t.qo : n } function Xd(t) { return { get id() { return t.Ff }, get identifier() { return t.Ff }, get lines() { return t.gM }, get regionAnchorX() { return t.wM }, get regionAnchorY() { return t.yM }, get scrollValue() { return t.pM }, get viewportAnchorX() { return t.mM }, get viewportAnchorY() { return t.kM }, get width() { return t.qw } } } var $d = function () { function t(t, n, i, e, r, s, u, o) { this.Ff = t, this.qw = n, this.gM = i, this.wM = e, this.yM = r, this.mM = s, this.kM = u, this.pM = o } return T(t, [{ key: "vf", get: function () { return this.cf || (this.cf = Xd(this)), this.cf } }, { key: "Ou", get: function () { return md.uM } }]), t }(), Qd = 9e4, Yd = _.pow(2, 33), Zd = ha.Sm(Yd, Qd), Kd = Zd.$m(2); function Jd(t) { return !!t && !t.gm() } function tg(t, n) { return t.im() || n.im() ? ha.Ql(t, n) : eg(t, n).Jp(ha.cm) ? t : n } function ng(t, n) { var i = t.Od(n); return i.Wl(ha.cm) && (i = i.kd(Zd)), i } function ig(t, n) { var i = t.kd(n); return i.Zp(Zd) && (i = i.Od(Zd)), i } function eg(t, n) { var i = t.Od(n); return t.im() || n.im() ? i : (i.Zp(Kd) ? i = i.Od(Zd) : i.Wl(Kd._m()) && (i = i.kd(Zd)), i) } function rg(t, n) { if (t || n) return t ? n ? ha.$l(t, n) : t : n } function sg(t, n) { if (t || n) return t ? n ? ha.Ql(t, n) : t : n } var ug = 6, og = ["WEBVTT ", "WEBVTT\t", "WEBVTT\n"], ag = [" ", "\t", "\n", "\f", "\r"], hg = /^\d*$/, cg = /.*[0-9]+.*/, fg = /^[\d.-]+$/, vg = /(^\.|\.$)/, lg = /(\D\.|\.\D)/; function dg(t) { var n = { Kf: [], YP: [], bM: [] }, i = gg(t), e = new xi; if (Tg(i), _g(i, function (t) { return "\n" !== t }, e), e.Yo >= i.length) return n; (e.Xo(1), "\n" !== i.charAt(e.Yo)) ? mg(wg(i, e, !1, !0, n), n) : e.Xo(1); for (_g(i, function (t) { return "\n" === t }, e); e.Yo < i.length;) { mg(wg(i, e, !1, !1, n), n), _g(i, function (t) { return "\n" === t }, e) } return n } function gg(t) { var n = Kt(t, "\0", " "), i = Kt(n, "\r\n", "\n"); return Kt(i, "\r", "\n") } function _g(t, n, i) { for (var e = i.Yo; i.Yo < t.length && n(t.charAt(i.Yo));)i.Xo(1); return t.substring(e, i.Yo) } function wg(t, n, i, e, r) { for (var s, u, o, a, h = 0, c = n.Yo, f = "", v = !1, l = !1; !v;)if (s = _g(t, function (t) { return "\n" !== t }, n), h++, n.Yo >= t.length ? v = !0 : n.Xo(1), Jt(s, "--\x3e")) if (!e && 1 === h || 2 === h && !l) { l = !0, c = n.Yo, u = new Hd(0, 0, "", !1, f); try { kg(s, r.YP, u), f = "" } catch (t) { console.warn(t), u = null } } else n.Xo(-(n.Yo - c)); else { if ("" === s) break; e && tn(s, "X-TIMESTAMP-MAP") && (r.AM = yg(s)), e || 2 !== h || i || (en("STYLE", f.replace(/ /g, "")) ? (o = { Ou: md.oM }, f = "") : en("REGION", f.replace(/ /g, "")) && (a = new $d("", 100, 3, 0, 100, 0, 100, ""), f = "")), f && (f += "\n"), f = f += s, c = n.Yo } if (u) return u.BP = f, u; if (o); else if (a) return function (t, n) { for (var i = t.split(/\s/), e = 0; e < i.length; e++) { var r = i[e]; if (0 !== r.length && Jt(r, ":") && ":" !== r.charAt(0) && ":" !== r.charAt(r.length - 1)) { var s = r.indexOf(":"), u = r.substring(0, s), o = r.substring(s + 1, r.length); switch (u.toUpperCase()) { case "ID": Pg(o, n); break; case "WIDTH": jg(o, n); break; case "LINES": Lg(o, n); break; case "REGIONANCHOR": var a = Og(o); a && (n.wM = a[0], n.yM = a[1]); break; case "VIEWPORTANCHOR": var h = Og(o); h && (n.mM = h[0], n.kM = h[1]); break; case "SCROLL": Mg(o, n) } } } }(f, a), a; return null } function yg(t) { var n, i = t.split("=")[1].trim().split(","), e = pg(i[0].trim(), "MPEGTS") ? i[0] : i[1], r = pg(i[0].trim(), "LOCAL") ? i[0] : i[1]; return { TM: (n = +e.split(/:(.*)/)[1].trim() || 0, ha.Sm(n, Qd)), SM: Ag(r.split(/:(.*)/)[1].trim(), new xi) || ha.cm } } function pg(t, n) { return tn(t, n) } function mg(t, n) { t && function (t) { return t.Ou === md.sM }(t) ? n.Kf.push(t) : t && function (t) { return t.Ou === md.uM }(t) ? n.YP.push(t) : t && function (t) { return t.Ou === md.oM }(t) && n.bM.push(t) } function kg(t, n, i) { var e = new xi; if (Sg(t, e), i.zk = Ag(t, e).Pm(), Sg(t, e), "--\x3e" !== t.substring(e.Yo, e.Yo + 3)) throw v("Something went wrong with parsing a WebVTT Cue"); e.Xo(3), Sg(t, e), i.OP = Ag(t, e).Pm(), function (t, n, i) { for (var e = t.split(/\s/), r = 0; r < e.length; r++) { var s = e[r]; if (0 !== s.length && Jt(s, ":") && ":" !== s.charAt(0) && ":" !== s.charAt(s.length - 1)) { var u = s.indexOf(":"), o = s.substring(0, u), a = s.substring(u + 1, s.length); switch (o.toUpperCase()) { case "REGION": Ng(a, n, i); break; case "VERTICAL": xg(a, n); break; case "D": Bg(a, n); break; case "LINE": case "L": Rg(a, n); break; case "POSITION": case "T": Cg(a, n); break; case "SIZE": case "S": Dg(a, n); break; case "ALIGN": case "A": Ig(a, n) } } } }(t.substring(e.Yo, t.length), i, n) } function bg(t) { return /^[0-9]$/.test(t) } function Ag(t, n) { var i, e, r, s, u = Kt(t, ",", "."), o = !1; if (n.Yo >= u.length || !bg(u.charAt(n.Yo))) throw new v("Something went wrong with parsing a WebVTT Cue timestamp"); var a = _g(u, bg, n), h = w(a, 10); if ((a.length > 2 || h > 59) && (o = !0), n.Yo >= u.length || ":" !== u.charAt(n.Yo)) throw new v("Something went wrong with parsing a WebVTT Cue timestamp"); n.Xo(1); var c = _g(u, bg, n); if (2 !== c.length) throw new v("Something went wrong with parsing a WebVTT Cue timestamp"); var f = w(c, 10); if (o || n.Yo < u.length && ":" === u.charAt(n.Yo)) { if (n.Yo >= u.length || ":" !== u.charAt(n.Yo)) throw new v("Something went wrong with parsing a WebVTT Cue timestamp"); n.Xo(1); var l = _g(u, bg, n); if (2 !== c.length) throw new v("Something went wrong with parsing a WebVTT Cue timestamp"); i = h, e = f, r = w(l, 10) } else i = 0, e = h, r = f; if (n.Yo >= u.length || "." !== u.charAt(n.Yo)) throw new v("Something went wrong with parsing a WebVTT Cue timestamp"); n.Xo(1); var d = _g(u, bg, n); if (s = w(d, 10), f > 59 || r > 59) throw new v("Something went wrong with parsing a WebVTT Cue timestamp"); var g = ha.Sm(60 * i * 60 + 60 * e + r, 1), _ = ha.Sm(s, 1e3); return g.kd(_) } function Tg(t) { if (t.length < ug) return !1; for (var n = 0; n < og.length; n++) { if (tn(t, og[n])) return !0 } return !1 } function Sg(t, n) { for (; n.Yo < t.length && (i = t.charAt(n.Yo), kn(ag, i));)n.Xo(1); var i } function Eg(t) { var n = t.lastIndexOf("%"); if (n > -1) { var i = y(t.substring(0, n)); if (!p(i) && i >= 0 && i <= 100) return i } return null } function Ig(t, n) { var i = t.toLowerCase(); switch (i) { case "start": case "center": case "end": case "left": case "right": n.aM = i; break; case "middle": n.aM = "center" } } function Rg(t, n) { var i = t, e = ""; if (Jt(t, ",") && (i = t.substring(0, t.indexOf(",")), e = t.substring(t.indexOf(",") + 1, t.length)), cg.test(i)) { var r; if (nn(i, "%")) { if (!(r = Eg(i))) return; r += "%" } else { if (!fg.test(t) || t.lastIndexOf("-") > 0 || t.indexOf(".") !== t.lastIndexOf(".") || !lg.test(t) || vg.test(t)) return; r = w(t) } switch (n.hM = r, n.dM = nn(i, "%"), e = t.toLowerCase()) { case "start": case "center": case "end": n.cM = e; break; case "middle": n.cM = "center" } } } function Cg(t, n) { var i = t, e = ""; Jt(t, ",") && (i = t.substring(0, t.indexOf(",")), e = t.substring(t.indexOf(",") + 1, t.length)); var r = Eg(i); if (r) switch (n.fM = r, e = e.toLowerCase()) { case "line-left": case "center": case "line-right": case "auto": n.vM = e; break; case "start": n.vM = "line-left"; break; case "middle": n.vM = "center"; break; case "end": n.vM = "line-right" } } function Ng(t, n, i) { for (var e = i.length - 1; e >= 0; e--)if (i[e].Ff === t) return void (n.lM = i[e]) } function Dg(t, n) { var i = Eg(t); i && (n.qo = i) } function xg(t, n) { switch (t.toLowerCase()) { case "rl": case "vertical:rl": case "vertical-rl": n._M = "rl"; break; case "lr": case "vertical:lr": case "vertical-lr": n._M = "lr"; break; default: n._M = "" } } function Bg(t, n) { "VERTICAL" === t.toUpperCase() ? n._M = "rl" : "VERTICAL-LR" === t.toUpperCase() && (n._M = "lr") } function Og(t) { if (t.indexOf(",") >= 0) { var n = Eg(t.substring(0, t.indexOf(","))), i = Eg(t.substring(t.indexOf(",") + 1, t.length)); return [_o(n || 0, 0, 100), _o(i || 100, 0, 100)] } return null } function Pg(t, n) { n.Ff = t } function Mg(t, n) { "up" === t.toLowerCase() && (n.pM = "up") } function Lg(t, n) { hg.test(t) && (n.gM = w(t)) } function jg(t, n) { var i = Eg(t); i && (n.qw = i) } function Fg(t) { return t === Xc.qx || t === Xc.Wx } function Ug(t) { return t.some(Vg) } function Vg(t) { return Jt(t, "stpp") } function Hg(t) { return t.some(zg) } function zg(t) { return Jt(t, "vtt") || Jt(t, "wvtt") } function qg(t, n) { return wd(t) && Hg(n) } function Gg(t, n) { return t === Xc.Yx || t === Xc.Qx && n === Xc.Yx } function Wg(t) { return Tg(gg(t)) ? "webvtt" : Pd(t) ? "ttml" : "srt" } function Xg(t, n, i, e) { for (var r = 0, s = t.Kf.Tf; r < s.length; r++) { var u = s[r]; if (u.zk > i) break; n <= u.OP && e.push(u) } } function $g(t, n) { return bo(t.Uf, n.Uf) } function Qg(t, n, i, e, r, s, u) { void 0 === r && (r = !1), void 0 === s && (s = 0), void 0 === u && (u = t.length); for (var o = s, a = u - 1; o <= a;) { var h = o + (a - o >> 1), c = e(i(t[h]), n); if (c < 0) o = h + 1; else if (c > 0) a = h - 1; else { if (!(r && h > s && 0 === e(i(t[h - 1]), n))) return h; a = h - 1 } } return ~o } function Yg(t, n) { return t.zk <= n && t.OP > n } function Zg(t, n) { return function (t, n) { return To(t.zk, n.zk, fd) }(t, n) || function (t, n) { return To(t.OP, n.OP, fd) }(t, n) } function Kg(t, n) { var i = Qg(t, n, G, Zg, !0); if (i < 0) return i; for (; i < t.length && 0 === Zg(n, t[i]); i++)if (t[i].Hl(n)) return i; return -(i + 1) } function Jg(t) { var n = t.df; if (!n) return -1; if (t instanceof ld) return n.EM(t); var i = n.Kf; if (!i) return -1; var e = Kg(i.Tf, t); return e >= 0 ? e : -1 } function t_(t, n) { var i = function (t, n, i) { for (var e = t.length, r = n.length, s = 0, u = 0, o = [], a = []; s < e && u < r;) { var h = t[s], c = n[u]; h === c ? (s++, u++) : i(c, h) <= 0 ? (o.push(c), u++) : (a.push(h), s++) } for (; s < e;)a.push(t[s]), s++; for (; u < r;)o.push(n[u]), u++; return { IM: o, RM: a } }(t, n, Zg); return function (t, n) { for (var i = n.length, e = 0; e < i; e++)t[e] = n[e]; t.length = i }(t, n), i } var n_ = function (t) { function n(n, i, e) { var r; return (r = t.call(this, n) || this).NM = i, r.Xp = e, r } return rt(n, t), n }(fr), i_ = function (t) { function n(n, i) { var e; return (e = t.call(this, n) || this).cue = i, e } return rt(n, t), n }(vr), e_ = function (t) { function n(n, i) { return t.call(this, "CM", n, i) || this } return rt(n, t), n.prototype.lf = function () { return new r_(this.NM.vf) }, n }(n_), r_ = function (t) { function n(n) { return t.call(this, "enter", n) || this } return rt(n, t), n }(i_), s_ = function (t) { function n(n, i) { return t.call(this, "DM", n, i) || this } return rt(n, t), n.prototype.lf = function () { return new u_(this.NM.vf) }, n }(n_), u_ = function (t) { function n(n) { return t.call(this, "exit", n) || this } return rt(n, t), n }(i_), o_ = function (t) { function n(n) { var i; return (i = t.call(this, "xM") || this).df = n, i } return rt(n, t), n.prototype.lf = function () { return new a_(this.df.vf) }, n }(fr), a_ = function (t) { function n(n) { var i; return (i = t.call(this, "cuechange") || this).track = n, i } return rt(n, t), n }(vr); function h_() { return e.Wc() } var c_ = 0; function f_(t) { var n = h_(), i = _.max(0, 16 - (n - c_)), e = a(function () { return t(n + i) }, i); return c_ = n + i, e } var v_ = h, l_ = t.requestAnimationFrame || t.webkitRequestAnimationFrame || t.mozRequestAnimationFrame, d_ = t.cancelAnimationFrame || t.webkitCancelAnimationFrame || t.mozCancelAnimationFrame || t.webkitCancelRequestAnimationFrame; l_ && d_ || (l_ = f_, d_ = v_), l_ = l_.bind(t), d_ = d_.bind(t); var g_ = new (function () { function t() { } var n = t.prototype; return n.OM = function (t) { return l_(t) }, n.BM = function (t) { d_(t) }, t }()), __ = function (t) { function n(n) { var i; return (i = t.call(this, "PM") || this).NM = n, i } return rt(n, t), n.prototype.lf = function () { return new w_(this.NM.vf) }, n }(fr), w_ = function (t) { function n(n) { var i; return (i = t.call(this, "entercue") || this).cue = n, i } return rt(n, t), n }(vr), y_ = function (t) { function n(n) { var i; return (i = t.call(this, "MM") || this).NM = n, i } return rt(n, t), n.prototype.lf = function () { return new p_(this.NM.vf) }, n }(fr), p_ = function (t) { function n(n) { var i; return (i = t.call(this, "exitcue") || this).cue = n, i } return rt(n, t), n }(vr), m_ = .1; function k_(t, n) { return Ao(t.Xp, n.Xp) || function (t, n) { return t.df === n.df ? bo(Jg(t), Jg(n)) : $g(t.df, n.df) }(t.NM, n.NM) || function (t, n) { return t === n ? 0 : "CM" === t ? -1 : 1 }(t.type, n.type) } var b_ = function () { function t(t, n) { var i = this; void 0 === n && (n = g_), this.m_ = void 0, this.j_ = [], this.LM = 0, this.jM = 0, this.FM = [], this.UM = !1, this.VM = void 0, this.HM = !1, this.GM = function () { i.LM = 0, i.zM(), i.qM() }, this.WM = function () { i.zM(), i.qM() }, this.XM = function () { i.UM = !0, i.$M(); var t = void 0 !== i.VM ? i.VM : i.jM, n = i.m_.yg; _.abs(t - n) > m_ && (i.VM = n, i.HM = !1) }, this.QM = function () { i.UM = !0; var t = i.m_.yg; _.abs(i.jM - t) <= m_ && (i.HM = !0), i.zM(), i.qM() }, this.YM = function () { i.zM(), i.qM() }, this.ZM = function () { i.KM() }, this.JM = function (t) { pn(i.FM, t.NM), i.KM() }, this.tL = n, void 0 !== t && this.wx(t) } var n = t.prototype; return n.wx = function (t) { this.m_ = t, t.mo(es.Dl, this.WM), t.mo(es.bl, this.WM), t.mo("playing", this.WM), t.mo(es.yl, this.WM), t.mo(es.Rl, this.XM), t.mo(es.Il, this.QM), this.KM() }, n.bf = function () { for (var t = 0, n = this.j_.slice(); t < n.length; t++) { var i = n[t]; this.kf(i) } this.$M(), this.m_ && (this.m_.So(es.Dl, this.WM), this.m_.So(es.bl, this.WM), this.m_.So("playing", this.WM), this.m_.So(es.yl, this.WM), this.m_.So(es.Rl, this.XM), this.m_.So(es.Il, this.QM)), this.m_ = void 0, this.LM = 0, this.jM = 0, this.UM = !1, this.VM = void 0, An(this.FM) }, n.pf = function (t) { kn(this.j_, t) || (this.j_.push(t), t.mo("nL", this.ZM), t.mo("iL", this.JM), t.mo("mf", this.YM), t.Kf.Sf && this.KM()) }, n.kf = function (t) { if (pn(this.j_, t) && (t.So("nL", this.ZM), t.So("iL", this.JM), t.So("mf", this.YM), t.Kf.Sf)) { for (var n = 0, i = t.Kf.Tf; n < i.length; n++) { var e = i[n]; pn(this.FM, e) } this.KM() } }, n.qM = function () { this.m_.pg || this.m_.rN ? this.$M() : this.KM() }, n.KM = function () { this.LM || (this.LM = this.tL.OM(this.GM)) }, n.$M = function () { this.LM && (this.tL.BM(this.LM), this.LM = 0) }, n.zM = function () { var t = this.j_; if (t.length && !this.m_.pg) { var n = this.UM && !this.HM ? this.VM : this.m_.yg, i = n - this.jM < -m_, e = this.UM || i, r = this.HM; this.UM && (this.VM = void 0, this.UM = !1, this.HM = !1); for (var s, u = this.jM, o = [], a = 0; a < t.length; a++) { var h = t[a]; if (h.Yf !== Vr.Wf) { h.eL(n, e); for (var c = 0, f = h.Jf.Tf; c < f.length; c++) { var v = f[c]; o.push(v) } } } if (e && !r) s = this.FM; else { s = []; for (var l = Eo.hm.um, d = 0; d < t.length; d++) { var g = t[d]; g.Yf !== Vr.Wf && Xg(g, u - l, n, s) } } for (var w = s.length - 1; w >= 0; w--)kn(o, s[w]) && mn(s, w); var y = []; if (!e || r) for (var p = s.length - 1; p >= 0; p--) { var m = s[p]; m.zk >= u && m.OP <= n && (y.push(m), mn(s, p)) } for (var k = [], b = [], A = 0; A < y.length; A++) { var T = y[A]; T.GP || k.push(new e_(T, T.zk)), k.push(new s_(T, _.max(T.zk, T.OP))) } for (var S = 0, E = s; S < E.length; S++) { var I = E[S]; I.GP && (k.push(new s_(I, _.max(I.zk, I.OP))), I.GP = !1) } for (var R = 0; R < o.length; R++) { var C = o[R]; C.GP || (k.push(new e_(C, C.zk)), C.GP = !0) } k.sort(k_); for (var N = 0; N < k.length; N++) { var D = k[N], x = D.NM; x._o(D); var B = x.df; "CM" === D.type ? B._o(new __(x)) : B._o(new y_(x)), kn(b, B) || b.push(B) } b.sort($g); for (var O = 0; O < b.length; O++) { var P = b[O]; P._o(new o_(P)) } this.jM = n, this.FM = o } }, n.Af = function () { this.bf() }, t }(), A_ = 0; function T_() { return A_++ } var S_ = 0; var E_, I_ = function () { function t(t) { this.cf = void 0, this.rL = t } var n = t.prototype; return n.lf = function () { return function (t) { for (var n = [], i = 0; i < t.Sf; i++)n[i] = t.Vo(i).vf; return n.item = function (n) { n |= 0; var i = t.Vo(n); return i && i.vf || void 0 }, g.defineProperty(n, "constructor", { value: cd }), n }(this) }, n.sL = function (t) { for (var n = this.rL, i = n.length - 1; i >= 0; i -= 1) { var e = n[i]; if (t.Hl(e)) return !0 } return !1 }, n.Vo = function (t) { return this.rL[t] }, T(t, [{ key: "Tf", get: function () { return this.rL } }, { key: "Sf", get: function () { return this.rL.length } }, { key: "vf", get: function () { if (this.cf) { var t = this.rL; this.cf.length = t.length; for (var n = 0; n < t.length; n++)this.cf[n] = t[n].vf } else this.cf = this.lf(); return this.cf } }]), t }(), R_ = function (t) { function n(n) { var i; return (i = t.call(this, "Lh") || this).df = n, i } return rt(n, t), n.prototype.lf = function () { return new C_(this.df.vf) }, n }(fr), C_ = function (t) { function n(n) { var i; return (i = t.call(this, "update") || this).track = n, i } return rt(n, t), n }(vr), N_ = function (t) { function n(n) { var i; return (i = t.call(this, "mf") || this).df = n, i } return rt(n, t), n.prototype.lf = function () { return new D_(this.df.vf) }, n }(fr), D_ = function (t) { function n(n) { var i; return (i = t.call(this, "change") || this).track = n, i } return rt(n, t), n }(vr), x_ = function (t) { function n(n, i) { var e; return (e = t.call(this, "uL") || this).df = n, e.Zf = i, e } return rt(n, t), n.prototype.lf = function () { return new B_(this.df.vf, $r(this.Zf)) }, n }(fr), B_ = function (t) { function n(n, i) { var e; return (e = t.call(this, "readystatechange") || this).track = n, e.readyState = i, e } return rt(n, t), n }(vr), O_ = function (t) { function n(n) { var i; return (i = t.call(this, "oL") || this).df = n, i } return rt(n, t), n.prototype.lf = function () { return new P_(this.df.vf) }, n }(fr), P_ = function (t) { function n(n) { var i; return (i = t.call(this, "typechange") || this).track = n, i } return rt(n, t), n }(vr), M_ = function (t) { function n(n) { var i; return (i = t.call(this, "nL") || this).NM = n, i } return rt(n, t), n.prototype.lf = function () { return new L_(this.NM.vf) }, n }(fr), L_ = function (t) { function n(n) { var i; return (i = t.call(this, "addcue") || this).cue = n, i } return rt(n, t), n }(vr), j_ = function (t) { function n(n) { var i; return (i = t.call(this, "iL") || this).NM = n, i } return rt(n, t), n.prototype.lf = function () { return new F_(this.NM.vf) }, n }(fr), F_ = function (t) { function n(n) { var i; return (i = t.call(this, "removecue") || this).cue = n, i } return rt(n, t), n }(vr); !function (t) { t[t.NONE = 0] = "NONE", t[t.LOADING = 1] = "LOADING", t[t.LOADED = 2] = "LOADED", t[t.ERROR = 3] = "ERROR" }(E_ || (E_ = {})); var U_ = function (t) { function n(n, i, e, r, s, u) { var o; return (o = t.call(this) || this).Bw = V_++ + "", o.aL = T_(), o.hL = !1, o.cL = Vr.Wf, o.nx = E_.NONE, o.fL = void 0, o.rL = [], o.vL = [], o.lL = 0, o.dL = 0, o._L = u || "", o.gL = n, o.wL = e, o.hL = Boolean(r), o.iO = s || "", o.yL = i || "", o.pL = new I_(o.rL), o.mL = new I_(o.vL), o } rt(n, t); var i = n.prototype; return i.kL = function (t) { return wn(this.pL.Tf, function (n) { return n.Ff === t }) }, i.lf = function () { return Gr(this) }, i.bL = function (t) { t = zr(t); var n = this.Yf; t !== n && (this.cL = t, t !== Vr.Wf && n === Vr.Wf ? this.mO && this.AL(this.mO) : t === Vr.Wf && (this.vL.forEach(function (t) { return t.GP = !1 }), An(this.vL), this.dL = 0, this.mO && this.TL(this.mO))) }, i.AL = function (t) { t.kO(this) }, i.TL = function (t) { t.bO(this) }, i.SL = function (t) { if (t && !t.df) { var n = Kg(this.Kf.Tf, t); if (!(n >= 0)) { t.df = this; var i = -(n + 1); this.rL.splice(i, 0, t), this.EL(i), t.jP = i, i < this.dL && (this.dL = i), this._o(new M_(t)) } } }, i.IL = function (t) { if (t && t.df === this) { var n = this.EM(t); if (!(n < 0)) { t.GP = !1; var i = this.vL, e = Kg(i, t); e >= 0 && mn(i, e), mn(this.rL, n), this.EL(n), t.jP = -1, this.dL > n && --this.dL, this._o(new j_(t)) } } }, i.eL = function (t, n) { var i = this.vL, e = this.rL, r = this.dL, s = !1; n && (r = 0); for (var u = i.length - 1; u >= 0; u--) { Yg(i[u], t) || (s = !0, mn(i, u)) } for (; r < e.length && e[r].zk <= t;) { var o = e[r]; Yg(o, t) && !kn(i, o) && (s = !0, i.push(o)), r++ } s && dn(i, Zg), this.dL = r }, i.EM = function (t) { return (-1 === t.jP || t.jP >= this.lL) && this.RL(), t.jP }, i.RL = function () { for (var t = this.rL, n = this.lL; n < t.length; n++)t[n].jP = n; this.lL = t.length }, i.EL = function (t) { t < this.lL && (this.lL = t) }, i.Af = function () { this.To(); for (var t = this.rL.slice(), n = 0; n < t.length; n++) { t[n].Af() } An(this.rL), An(this.vL) }, T(n, [{ key: "Jf", get: function () { return this.mL } }, { key: "Kf", get: function () { return this.pL } }, { key: "NL", get: function () { return this.hL }, set: function (t) { this.hL = t } }, { key: "vf", get: function () { return this.cf || (this.cf = this.lf()), this.cf } }, { key: "Ff", get: function () { return this.Bw } }, { key: "Uf", get: function () { return this.aL } }, { key: "Qf", get: function () { return this._L } }, { key: "Vf", get: function () { return this.gL } }, { key: "Hf", get: function () { return this.yL }, set: function (t) { t !== this.yL && (this.yL = t, this._o(new R_(this))) } }, { key: "Gf", get: function () { return this.wL } }, { key: "Yf", get: function () { return this.cL }, set: function (t) { this.bL(t), this._o(new N_(this)) } }, { key: "Zf", get: function () { return this.nx }, set: function (t) { this.nx !== t && (this.nx = t, this._o(new x_(this, this.nx))) } }, { key: "tv", get: function () { return this.fL }, set: function (t) { this.fL = t } }, { key: "mO", get: function () { return this.CL }, set: function (t) { this.CL = t } }, { key: "Ou", get: function () { return this.iO }, set: function (t) { this.iO !== t && (this.iO = t, this._o(new O_(this))) } }]), n }(ar), V_ = 0; var H_ = function (t) { function n(n, i) { var e; return (e = t.call(this, Xc.qx, n, i, !1) || this).Ou = "ttml", e } return rt(n, t), n }(U_), z_ = function (t) { function n(n, i) { var e; return (e = t.call(this) || this).DL = i, e.xL = Rt(), e.OL = function () { var t = St(At.mark(function t(n) { var i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if ((i = n.df).Ou) { t.next = 4; break } return t.next = 4, i.Ro("oL"); case 4: if ("id3" === i.Ou) { t.next = 6; break } return t.abrupt("return"); case 6: if (0 !== i.Kf.Sf) { t.next = 11; break } return t.next = 9, i.Ro("nL"); case 9: t.next = 6; break; case 11: e.BL(i); case 12: case "end": return t.stop() } }, t) })); return function (n) { return t.apply(this, arguments) } }(), e.PL = function (t) { var n = t.df; if ("id3" === n.Ou && e.xL.has("" + n.Uf)) { var i = e.xL.get("" + n.Uf); e.kf(i), e.ML.kf(i), n.So("nL", e.LL) } }, e.LL = function (t) { q_(t.NM) && e.jL(t.NM) }, e.ML = new b_(n), e.FL(), e } rt(n, t); var i = n.prototype; return i.FL = function () { this.DL.mo("_f", this.OL), this.DL.mo("gf", this.PL) }, i.UL = function () { this.DL.So("_f", this.OL), this.DL.So("gf", this.PL) }, i.BL = function (t) { var n = t.Kf.Tf[0]; if (q_(n)) { var i = function (t) { var n = t.match(G_); if (!n) return; return { df: n[1], Gf: n[2] } }(n.BP.description), e = i.df, r = i.Gf; if (!this.VL(e, r)) { var s = new H_(e, r); this.pf(s), this.ML.pf(s), this.xL.set("" + t.Uf, s); for (var u = 0, o = t.Kf.Tf; u < o.length; u++) { var a = o[u]; q_(a) && this.jL(a) } t.mo("nL", this.LL) } } }, i.VL = function (t, n) { return !!wn(this.pO.Tf, function (i) { return i.Hf === t && i.Gf === n }) }, i.jL = function (t) { if (t.df) for (var n = this.xL.get("" + t.df.Uf), i = Sd(t.BP.text, n, { iM: new Eo(0), eM: new Eo(1 / 0), rM: new Eo(-t.OP) }), e = 0; e < i.length; e++) { var r = i[e]; n.SL(r) } }, i.kO = function (n) { this.pO.Tf.indexOf(n) < 0 || t.prototype.kO.call(this, n) }, i.bf = function () { var n = St(At.mark(function n() { var i, e, r, s, u; return At.wrap(function (n) { for (; ;)switch (n.prev = n.next) { case 0: for (i = 0, e = this.DL.Tf; i < e.length; i++)e[i].So("nL", this.LL); for (r = 0, s = this.pO.Tf; r < s.length; r++)u = s[r], this.ML.kf(u); return this.xL.clear(), n.next = 5, t.prototype.bf.call(this); case 5: case "end": return n.stop() } }, n, this) })); return function () { return n.apply(this, arguments) } }(), i.Af = function () { var n = St(At.mark(function n() { return At.wrap(function (n) { for (; ;)switch (n.prev = n.next) { case 0: return this.UL(), this.ML.Af(), n.next = 4, t.prototype.Af.call(this); case 4: case "end": return n.stop() } }, n, this) })); return function () { return n.apply(this, arguments) } }(), n }(Jl); function q_(t) { return function (t) { return "TXXX" === t.id || "TXX" === t.id }(n = t.BP) && G_.test(n.description); var n } var G_ = /^Track:(.+),Lang:(.+)$/; var W_ = function (t) { function n(n) { var i; (i = t.call(this) || this).HL = [], i.OL = function (t) { i.pf(t.df) }, i.PL = function (t) { i.kf(t.df) }, i.Nf = function (t) { "_f" !== t.type && "gf" !== t.type && "mf" !== t.type && i.do(t) }; for (var e = 0; e < n.length; e++) { var r = n[e]; i.GL(r) } return i } rt(n, t); var i = n.prototype; return i.GL = function (t) { this.HL.push(t); for (var n = 0, i = t.Tf; n < i.length; n++) { var e = i[n]; this.pf(e) } this.zL(t) }, i.qL = function (t) { pn(this.HL, t), t.To(); for (var n = 0, i = t.Tf; n < i.length; n++) { var e = i[n]; this.kf(e) } }, i.zL = function (t) { t.mo("_f", this.OL), t.mo("gf", this.PL), t.uf(this.Nf) }, i.Af = function () { for (; this.HL.length;)this.qL(this.HL[0]); t.prototype.Af.call(this) }, i.lf = function () { return Xr(this) }, n }(wr); var X_, $_ = function (t) { function n(n) { var i; return (i = t.call(this) || this).WL = [], i.nI = !1, i.L_ = new Hr, i.M_ = new Hr, i.XL = new Yr, i.IE = !1, i.$L(n), n.uf(i.do), i.Ef = n, i.L_.xf = n.og, i.M_.xf = n.Tg, i.XL.xf = n.Ag, i.QL = new z_(st(i), i.XL), i.j_ = new W_([i.XL, i.QL.pO]), i } rt(n, t); var i = n.prototype; return i.sN = function () { this.Ef.sN() }, i.dN = function () { this.Ef.dN() }, i.bx = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.abrupt("return", ue(this.WL.map(function (t) { return t.bx() })).then(q)); case 1: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.G_ = function () { return this.Ef.G_() }, i.z_ = function () { var t = St(At.mark(function t(n, i) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return Rn(i), t.next = 3, this.Ef.z_(n, i); case 3: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.q_ = function () { return this.xf.q_() }, i.W_ = function () { this.xf.W_() }, i.X_ = function () { this.xf.X_() }, i.oI = function () { if (!this.nI) { for (var t = 0, n = this.WL; t < n.length; t++) { n[t].oI() } this.nI = !0 } }, i.U_ = function (t) { this.Ef.U_(t) }, i.V_ = function () { this.Ef.V_() }, i.B_ = function () { this.Ef.B_() }, i.Z_ = function () { this.Ef.Z_() }, i.Nx = function () { return this.Ef.Nx() }, i.H_ = function () { return this.Ef.H_() }, i._x = function () { for (var t = [], n = 0, i = this.WL; n < i.length; n++) { var e = i[n]; t.push.apply(t, e._x()) } return t }, i.Ex = function (t) { for (var n = !1, i = 0, e = this.WL; i < e.length; i++) { n = e[i].Ex(t) || n } return n }, i._o = function (n) { this.Ex(n) || t.prototype._o.call(this, n) }, i.$L = function (t) { this.WL.push(t) }, i.Ux = function (t) { pn(this.WL, t) }, i.YL = function (t) { if (t !== this.Ef) { var n = this.Ef; n.V_(), n.hf(this.do); var i = Wl(this), e = this.fg, r = this.H_(); this.Ef = t, this.L_.xf = t.og, this.M_.xf = t.Tg, this.XL.xf = t.Ag, $l(this, i, this); var s = this.fg; s !== e && this._o(new Kl(s)), this.H_() !== r && this._o(new Zl), t.uf(this.do), t.U_(n) } }, i.K_ = function () { }, i.Af = function () { var t = St(At.mark(function t() { var n, i, e; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: this.To(), this.Ef.V_(), n = 0, i = this.WL; case 3: if (!(n < i.length)) { t.next = 10; break } return e = i[n], t.next = 7, e.Af(); case 7: n++, t.next = 3; break; case 10: return this.L_.Af(), this.M_.Af(), this.XL.Af(), this.j_.Af(), t.next = 16, this.QL.Af(); case 16: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.bf = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.abrupt("return", ue(this.WL.map(function (t) { return t.bf() })).then(q)); case 1: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), T(n, [{ key: "og", get: function () { return this.L_ } }, { key: "Ag", get: function () { return this.j_ } }, { key: "Tg", get: function () { return this.M_ } }, { key: "hg", get: function () { return this.Ef.hg } }, { key: "cg", get: function () { return this.Ef.cg }, set: function (t) { this.Ef.cg = t } }, { key: "fg", get: function () { return this.Ef.fg } }, { key: "yg", get: function () { return this.Ef.yg }, set: function (t) { this.Ef.yg = t } }, { key: "Zy", get: function () { return this.Ef.Zy } }, { key: "oE", get: function () { return this.Ef.oE } }, { key: "SN", get: function () { return this.Ef.SN } }, { key: "Bo", get: function () { return this.Ef.Bo } }, { key: "vg", get: function () { return this.Ef.vg } }, { key: "A_", get: function () { return function (t) { for (var n = 0, i = 0, e = 0, r = 0; r < t.length; r++) { var s = t[r]; n += s.b_, i += s.k_, e += s.N_ } return { b_: n, k_: i, N_: e } }(this.WL.map(function (t) { return t.A_ })) } }, { key: "RE", get: function () { return this.Ef.RE }, set: function (t) { this.Ef.RE = t } }, { key: "dg", get: function () { return this.Ef.dg } }, { key: "rN", get: function () { return this.Ef.rN } }, { key: "_g", get: function () { return this.Ef._g }, set: function (t) { this.Ef._g = t } }, { key: "wg", get: function () { return this.Ef.wg } }, { key: "gg", get: function () { return this.Ef.gg }, set: function (t) { this.Ef.gg = t } }, { key: "Zf", get: function () { return this.Ef.Zf } }, { key: "jx", get: function () { return this.Ef.jx } }, { key: "pg", get: function () { return this.Ef.pg } }, { key: "Gx", get: function () { return this.Ef.Gx } }, { key: "zx", get: function () { return this.Ef.zx } }, { key: "ux", get: function () { return this.Ef.ux }, set: function (t) { this.Ef.ux = t } }, { key: "xf", get: function () { return this.Ef }, set: function (t) { this.YL(t) } }]), n }(hr); function Q_(t) { switch (t) { case X_.ZL: case "": return X_.ZL; case X_.Qx: return X_.Qx; case X_.Iw: default: return X_.Iw } } !function (t) { t.KL = "", t.Iw = "none", t.Qx = "metadata", t.ZL = "auto" }(X_ || (X_ = {})); var Y_ = function (t) { function n() { var n; return (n = t.apply(this, arguments) || this).JL = [], n.cf = void 0, n } rt(n, t); var i = n.prototype; return i.kd = function (t) { this.JL.push(t), this.cf && this.cf.push(t.vf) }, i.yf = function (t) { return this.JL[t] }, i.sL = function (t) { return M(t) ? bn(this.JL, t) : kn(this.JL, t) }, T(n, [{ key: "Sf", get: function () { return this.JL.length } }, { key: "vf", get: function () { return this.cf || (this.cf = function (t) { for (var n = [], i = 0; i < t.Sf; i++)n[i] = t.yf(i).vf; return n.item = function (n) { n |= 0; var i = t.yf(n); return i && i.vf || void 0 }, n }(this)), this.cf } }]), n }(hr), Z_ = 0; var K_ = function (t) { function n(n) { var i; return (i = t.call(this) || this).Ou = "audio", i.tj = !1, i.nj = n, i.aL = T_(), i.Bw = Z_++ + "", i.yL = n.label, i.JL = new Y_, i.ij(), i } rt(n, t); var i = n.prototype; return i.ej = function (t) { this.jf = t }, i.ij = function () { this.jf = this.rj }, T(n, [{ key: "Lf", get: function () { } }, { key: "jf", get: function () { return this.tj }, set: function (t) { this.tj !== t && (this.tj = t, this.rj = t, this._o(new N_(this))) } }, { key: "rj", get: function () { return !!this.nj.enabled }, set: function (t) { this.nj.enabled = t } }, { key: "vf", get: function () { return this.cf || (this.cf = jr(this)), this.cf } }, { key: "Ff", get: function () { return this.Bw } }, { key: "Uf", get: function () { return this.aL } }, { key: "Vf", get: function () { return this.nj.kind } }, { key: "Hf", get: function () { return this.yL }, set: function (t) { t !== this.yL && (this.yL = t, this._o(new R_(this))) } }, { key: "Gf", get: function () { return this.nj.language } }, { key: "Yf", get: function () { return this.jf ? "enabled" : "disabled" } }, { key: "sj", get: function () { return this.nj } }, { key: "zf", get: function () { return this.JL } }, { key: "qf", get: function () { }, set: function (t) { } }]), n }(hr), J_ = 0; var tw = function (t) { function n(n) { var i; return (i = t.call(this) || this).Ou = "video", i.tj = !1, i.nj = n, i.aL = T_(), i.Bw = J_++ + "", i.JL = new Y_, i.yL = n.label, i.ij(), i } rt(n, t); var i = n.prototype; return i.ij = function () { this.jf = this.rj }, i.ej = function (t) { this.jf = t }, T(n, [{ key: "Lf", get: function () { } }, { key: "jf", get: function () { return this.tj }, set: function (t) { this.tj !== t && (this.tj = t, this.rj = t, this._o(new N_(this))) } }, { key: "rj", get: function () { return !!this.nj.selected }, set: function (t) { this.nj.selected = t } }, { key: "vf", get: function () { return this.cf || (this.cf = jr(this)), this.cf } }, { key: "Ff", get: function () { return this.Bw } }, { key: "Uf", get: function () { return this.aL } }, { key: "Vf", get: function () { return "main" } }, { key: "Hf", get: function () { return this.yL }, set: function (t) { t !== this.yL && (this.yL = t, this._o(new R_(this))) } }, { key: "Gf", get: function () { return this.nj.language } }, { key: "Yf", get: function () { return this.jf ? "enabled" : "disabled" } }, { key: "sj", get: function () { return this.nj } }, { key: "zf", get: function () { return this.JL } }, { key: "qf", get: function () { }, set: function (t) { } }]), n }(hr), nw = function (t) { function n(n) { var i; return (i = t.call(this, "uj") || this).vg = n, i } return rt(n, t), n }(Mn), iw = function (t) { function n(n) { var i; return (i = t.call(this) || this).aj = new ie, i.OS = n, i } rt(n, t); var i = n.prototype; return i.hj = function (t) { if (t.src) { var n = t.kind || Xc.qx, i = new U_(n, t.label, t.srclang, t.default); return i.tv = Cl(t.src), i } }, i.pf = function (n) { t.prototype.pf.call(this, n) }, i.cj = function () { var t = St(At.mark(function t(n, i) { var e, r, s, u, o, a, h, c, f; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return n.Zf = E_.LOADING, e = new th({ Mk: n.tv, mT: Wa.dT, pT: "GET", _h: i }), t.prev = 2, t.next = 5, this.OS.HT(e); case 5: return r = t.sent, t.next = 8, r.ei(); case 8: for (s = t.sent, u = Wg(s), n.Ou = u, o = [], "webvtt" === u || "srt" === u ? (a = dg(s), o = a.Kf) : "ttml" === u && (o = Sd(s, n)), h = 0, c = o; h < c.length; h++)f = c[h], n.SL(f); n.Zf = E_.LOADED, t.next = 21; break; case 17: t.prev = 17, t.t0 = t.catch(2), Cn(t.t0), n.Zf = E_.ERROR; case 21: case "end": return t.stop() } }, t, this, [[2, 17]]) })); return function (n, i) { return t.apply(this, arguments) } }(), i.kO = function (t) { kn(this.pO.Tf, t) && t.Zf === E_.NONE && this.cj(t, this.aj._h).catch(Nn) }, i.Ph = function () { }, i.bf = function () { var n = St(At.mark(function n() { return At.wrap(function (n) { for (; ;)switch (n.prev = n.next) { case 0: return this.aj.eh(), this.aj = new ie, n.next = 4, t.prototype.bf.call(this); case 4: case "end": return n.stop() } }, n, this) })); return function () { return n.apply(this, arguments) } }(), n }(Jl); function ew(t, n) { for (var i = 0; i < t.length; i++) { var e = t[i]; if (e.Vf === n && e.NL) return e } } function rw(t, n) { sw(ew(t.Tf, n)) } function sw(t) { void 0 !== t && (t.Yf = Vr.$f) } function uw(t, n) { sw(ew(t.Tf, n) || function (t, n) { for (var i = 0; i < t.length; i++) { var e = t[i]; if (e.Vf === n) return e } }(t.Tf, n)) } function ow(t) { for (var n = 0; n < Zc.length; n++) { var i = Zc[n]; i === Xc.$x ? uw(t, i) : rw(t, i) } } var aw = function (t) { function n() { return t.call(this, es.El) || this } return rt(n, t), n }(Mn), hw = function () { function t(t) { var n = this; this.vj = [], this.lj = void 0, this.dj = new ie, this.Dr = function () { return 0 === n.vj.length ? n._j ? cw(n._j, n.dj._h).then(n.gj, n.gj) : n.gj() : n.vj.shift()().then(n.Dr) }, this.gj = function () { if (0 !== n.vj.length) return n.Dr(); n.lj = void 0 }, this._j = t } var n = t.prototype; return n.wj = function (t, n) { var i = this; return new Tt(function (e) { var r = new ie; r.lh(i.dj._h), n && r.lh(n); var s = function () { r.oo() }; i.vj.push(function () { var n = cw(t, r._h); return e(n), n.then(s, s) }), i.lj || (i.lj = i.Dr()) }) }, n.eh = function () { return this.yj(!0) }, n.Af = function () { return this._j = void 0, this.yj(!1) }, n.yj = function (t) { var n = this.lj; return this.dj.eh(), t && (this.dj = new ie), Tt.resolve(n) }, t }(); function cw(t, n) { return new Tt(function (i) { return i(t(n)) }) } var fw = function (t) { function n(n, i, e, r, s, u) { var o; return (o = t.call(this, es.il) || this).error = n, o.licenseAcquisitionURL = i, o.status = e, o.statusText = r, o.licenseAcquisitionMessage = s, o.systemCode = u, o } return rt(n, t), n }(Mn), vw = function (t) { function n(n, i, e, r, s, u, o) { var a; return (a = t.call(this, n, i) || this).pj = e, a.mj = r, a.bj = s, a.Aj = u, a.g_ = o, a } return rt(n, t), T(n, [{ key: "Tj", get: function () { return this.Aj } }, { key: "Sj", get: function () { return this.pj } }, { key: "name", get: function () { return "ContentProtectionError" } }, { key: "Ej", get: function () { return this.mj } }, { key: "Ij", get: function () { return this.bj } }, { key: "ph", get: function () { return this.g_ } }]), n }(ot), lw = function (t) { function n(n) { var i; return (i = t.call(this) || this).uu = !1, i.Rj = void 0, i.Nj = void 0, i.Cj = n, i } rt(n, t); var i = n.prototype; return i.wx = function (t, n) { if (this.uu) throw new v("Already initialized"); if (this.uu = !0, this.Rj = t, this.Dj = n, t) { if (!this.Cj.xj(t.Oj.Vk)) throw new v("Unsupported encryption scheme: " + t.Oj.Vk); var i = this.Cj.Bj(t.Oj.Vk); i.wx(t.Oj), this.Nj = i, this.Pj().catch(Nn) } }, i.Pj = function () { var t = St(At.mark(function t(n) { var i, e, r, s, u, o, a, h, c; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: i = this.Rj, e = this.Nj, r = !1, s = 0, u = i.Mj; case 4: if (!(s < u.length)) { t.next = 26; break } o = u[s], a = 0, h = o.Lj; case 7: if (!(a < h.length)) { t.next = 21; break } return c = h[a], t.prev = 9, t.next = 12, this.jj(e.Ou, c, n); case 12: r = !0, t.next = 18; break; case 15: t.prev = 15, t.t0 = t.catch(9), Cn(t.t0); case 18: a++, t.next = 7; break; case 21: if (!r) { t.next = 23; break } return t.abrupt("break", 26); case 23: s++, t.next = 4; break; case 26: case "end": return t.stop() } }, t, this, [[9, 15]]) })); return function (n) { return t.apply(this, arguments) } }(), i.Af = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.To(), t.next = 3, this.bf(); case 3: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.Fj = function (t) { if (!this.Rj || !this.Nj) return !1; var n = this.Nj.Uj(t); return Boolean(n[zt]) }, n }(Pn), dw = function () { function t() { } var n = t.prototype; return n.wx = function (t) { this.Vj = t.Fk }, n.Uj = function (t) { for (var n = {}, i = ad.qO(new DataView(t)), e = 0; e < i.length; e++) { var r = i[e]; n[r.yP] = r.kP } return n }, T(t, [{ key: "Ou", get: function () { return Ut } }, { key: "Fk", get: function () { return this.Vj } }]), t }(), gw = function () { function t() { } var n = t.prototype; return n.wx = function (t) { }, n.Uj = function (t) { var n; return (n = {})[qt] = t, n }, T(t, [{ key: "Ou", get: function () { return Vt } }, { key: "Fk", get: function () { } }]), t }(), _w = function (t) { function n() { return t.call(this, es.ol) || this } return rt(n, t), n }(Mn), ww = function (t) { function n(n) { var i; return (i = t.call(this, "Bl") || this).Hj = n, i } return rt(n, t), n }(Mn), yw = new hw, pw = function (t) { function n(n, i, r, s, u) { var o; return (o = t.call(this) || this).Gj = n, o.zj = i, o.Po = r, o.Lo = s, o.qj = u, o.uu = !1, o.Wj = !1, o.dj = new ie, o.Ih = function (t) { switch (t.xo) { case "license-request": o.Xj(t.Do, t.Oo).catch(function (t) { return o.cc(t) }); break; default: o.cc(new vw("Unsupported CDM message type: " + t.xo)) } }, o.$j = function (t) { o.Gj.Vh.Ho(function (t, n) { switch (t) { case "usable": e.gh(function () { o.Wj = !0, o._o(new _w) }, 100); break; case "expired": case "status-pending": break; case "output-restricted": case "internal-error": o._o(new ww(n)) } }) }, o.Qj = function (t) { o.cc(new vw("Unknown CDM error")) }, n.mo("Do", o.Ih), n.mo("Co", o.$j), n.mo("Bo", o.Qj), o.Fh = n.Fh.then(function () { return o.Yj() }), o } rt(n, t); var i = n.prototype; return i.Bh = function () { var t = this; return this.uu = !0, yw.wj(function (n) { return t.Zj(n) }, this.dj._h) }, i.Zj = function () { var t = St(At.mark(function t(n) { var i, e, r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, Rn(n), i = this.zj.Kj(this.Lo), t.next = 5, this.Gj.Bh(this.Po, this.Lo, i); case 5: if (!this.zj.Jj) { t.next = 8; break } return t.next = 8, this.zj.Ro("persistenttokenavailable", n); case 8: t.next = 17; break; case 10: throw t.prev = 10, t.t0 = t.catch(0), Cn(t.t0), e = t.t0 instanceof ce ? t.t0.ph : void 0, r = new vw("Error while performing the CDM request", t.t0, void 0, void 0, void 0, void 0, e), this.cc(r), r; case 17: case "end": return t.stop() } }, t, this, [[0, 10]]) })); return function (n) { return t.apply(this, arguments) } }(), i.Xj = function () { var t = St(At.mark(function t(n, i) { var e, r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (i && this.zj.tF(i), t.prev = 1, !Ki(n)) { t.next = 8; break } return t.next = 5, this.zj.nF(new m(n), this.dj._h); case 5: e = t.sent, t.next = 11; break; case 8: return t.next = 10, this.zj.iF(new m(n), this.dj._h); case 10: e = t.sent; case 11: t.next = 18; break; case 13: if (t.prev = 13, t.t0 = t.catch(1), !In(t.t0)) { t.next = 17; break } return t.abrupt("return"); case 17: throw t.t0; case 18: return t.prev = 18, t.next = 21, this.Gj.Lh(e); case 21: t.next = 27; break; case 23: throw t.prev = 23, t.t1 = t.catch(18), r = t.t1 instanceof ce ? t.t1.ph : void 0, new vw("Error while applying license response", t.t1, void 0, void 0, void 0, void 0, r); case 27: case "end": return t.stop() } }, t, this, [[1, 13], [18, 23]]) })); return function (n, i) { return t.apply(this, arguments) } }(), i.cc = function (t) { var n; n = t instanceof vw ? new fw(t.message, t.Sj, t.Ej, t.Ij, t.Tj, t.ph) : new fw(t.message), this._o(n), this.Oh() }, i.Yj = function () { this.Gj.So("Do", this.Ih), this.Gj.So("Co", this.$j), this.Gj.So("Bo", this.Qj), this.Wj = !1, this.dj.eh() }, i.Oh = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.To(), this.Yj(), t.next = 4, this.Gj.Oh().catch(q); case 4: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), T(n, [{ key: "eF", get: function () { return this.Wj } }]), n }(Pn), mw = [es.ol, es.il, es.Ol], kw = function (t) { function n(n, i, e) { var r; (r = t.call(this) || this).rF = [], r.Gh = n, r.Cj = e, r.sF = i; var s = i.uF.certificate; return s && se(n.Wh(s)), r } rt(n, t); var i = n.prototype; return i.oF = function (t, n, i) { var e = this, r = this.Gh.qh("temporary"), s = new pw(r, this.sF, t, n, i); return this.rF.push(s), s.mo(mw, this.do), s.Fh.then(function () { return e.aF(s) }), s }, i.hF = function (t, n, i) { if (i) return !1; for (var e = 0, r = this.rF; e < r.length; e++) { var s = r[e]; if (!s.qj && s.Po === t && Gi(s.Lo, n)) return !0 } return !1 }, i.aF = function (t) { t.So(mw, this.do), pn(this.rF, t) }, i.Af = function () { var t = St(At.mark(function t() { var n; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.To(), n = this.rF.slice(), this.rF.length = 0, t.next = 5, Tt.all(n.map(function (t) { return t.Oh() })); case 5: this.sF.Af(); case 6: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), T(n, [{ key: "cF", get: function () { return this.sF.cF } }, { key: "Kh", get: function () { return this.sF.Kh } }, { key: "uF", get: function () { return this.sF.uF } }, { key: "Fk", get: function () { return this.sF.Fk } }, { key: "eF", get: function () { return !!this.rF.length && this.rF.every(function (t) { return t.eF }) } }]), n }(Pn), bw = function (t) { function n() { return t.call(this, "persistenttokenavailable") || this } return rt(n, t), n }(Mn), Aw = function (t) { function n(n, i, e, r, s) { var u; return (u = t.call(this) || this).fF = void 0, u.Kh = n, u.cF = i, u.Fk = e, u.OS = r, u.vF = s, u.uF = u.lF(i), u } rt(n, t); var i = n.prototype; return i.dF = function () { return this.fF }, i.tF = function (t) { this.fF = t }, i._F = function () { return this.uF.licenseAcquisitionURL || this.dF() }, i.Kj = function (t) { }, i.gF = function () { var t = St(At.mark(function t(n, i, e, r) { var s, u, o, a, h; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return s = this.wF().aT(), u = this.TT, o = this.yF(), t.prev = 3, h = { Mk: o, mT: i, yT: s, wT: n, TT: u, pT: "POST", kT: 0, _h: r, Ou: "content-protection", bT: e }, t.next = 7, this.pF.HT(h); case 7: return a = t.sent, t.next = 10, a.mF(i); case 10: return t.abrupt("return", t.sent); case 13: return t.prev = 13, t.t0 = t.catch(3), Cn(t.t0), t.next = 18, this.kF(t.t0, o, r); case 18: return t.abrupt("return"); case 19: case "end": return t.stop() } }, t, this, [[3, 13]]) })); return function (n, i, e, r) { return t.apply(this, arguments) } }(), i.wF = function () { return new Qa(this.uF.headers || {}) }, i.kF = function () { var t = St(At.mark(function t(n, i, e) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: throw new vw("Error during license server request", n); case 1: case "end": return t.stop() } }, t) })); return function (n, i, e) { return t.apply(this, arguments) } }(), i.yF = function (t, n) { var i = this.uF.queryParameters; if (!n) { var e = this._F(); if (!e) throw new vw("The license request URL has not been correctly configured."); n = e } if (i || t) { var r = El(n); t && Il(r, t), i && Il(r, i), n = r.href } return n }, i.bF = function (t) { return function (t, n) { return Iw.apply(this, arguments) }(t, this.uF) }, i.AF = function () { var t = St(At.mark(function t(n, i, e) { var r, s, u; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, this.TF(n, e); case 2: return r = t.sent, t.next = 5, this.gF(r, this.vF, i, e); case 5: return s = t.sent, t.next = 8, this.bF(s); case 8: return u = t.sent, t.abrupt("return", u); case 10: case "end": return t.stop() } }, t, this) })); return function (n, i, e) { return t.apply(this, arguments) } }(), i.Af = function () { this.To() }, T(n, [{ key: "pF", get: function () { return this.OS } }, { key: "Jj", get: function () { return !1 } }, { key: "SF", get: function () { return "optional" } }, { key: "Jh", get: function () { return !1 } }, { key: "TT", get: function () { return Boolean(this.uF.useCredentials) } }]), n }(Pn); function Tw(t, n) { if (!t || !n || "function" != typeof n) return t; try { return n(t) } catch (t) { throw new vw("Error while preprocessing DRM data", t) } } function Sw(t, n) { return Ew.apply(this, arguments) } function Ew() { return (Ew = St(At.mark(function t(n, i) { var e, r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return e = Ni(n).buffer, r = i.licenseRequestProcessor, t.abrupt("return", Tw(e, r)); case 3: case "end": return t.stop() } }, t) }))).apply(this, arguments) } function Iw() { return (Iw = St(At.mark(function t(n, i) { var e; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return e = i.licenseResponseProcessor, t.abrupt("return", Tt.resolve(new m(Tw(n, e)))); case 2: case "end": return t.stop() } }, t) }))).apply(this, arguments) } var Rw, Cw = function (t) { function n(n, i, e, r) { return t.call(this, Xt, n, i, e, r) || this } rt(n, t); var i = n.prototype; return i.lF = function (t) { return t.widevine || {} }, i.nF = function () { var t = St(At.mark(function t(n, i) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!this.EF) { t.next = 2; break } return t.abrupt("return", this.EF); case 2: return t.abrupt("return", this.iF(new m(n), i)); case 3: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.iF = function (n, i) { return t.prototype.AF.call(this, n, "widevine-license", i) }, T(n, [{ key: "EF", get: function () { var t = this.uF.certificate; return t ? U(t) ? Ui(t) : new m(t) : null } }]), n }(Aw); !function (t) { t.Nu = "Widevine", t.Ru = "PlayreadyV2", t.IF = "PlayreadyV2", t.RF = "PlayreadyV3", t.Cu = "Fairplay" }(Rw || (Rw = {})); var Nw = { Widevine: { DRMProvider: "Google", DRMVersion: "1.4.8.86", DRMType: "Widevine" }, PlayreadyV2: { DRMProvider: "Microsoft", DRMVersion: "2.9", DRMType: "Playready" }, PlayreadyV3: { DRMProvider: "Microsoft", DRMVersion: "3", DRMType: "Playready" }, Fairplay: { DRMProvider: "Apple", DRMType: "FairPlay", DRMVersion: "1.0" } }; function Dw(t, n) { var i, r, s, u, o = Nw[n], a = t.accountName; return { CustomerName: t.customerName, AccountName: a, PortalId: t.portalId, FriendlyName: t.friendlyName, DeviceInfo: { FormatVersion: "1", DeviceType: "PC", OSType: null === (i = e.tf) || void 0 === i ? void 0 : i.if, OSVersion: null === (r = e.tf) || void 0 === r ? void 0 : r.nf, DRMProvider: o.DRMProvider, DRMVersion: o.DRMVersion, DRMType: o.DRMType, DeviceVendor: null === (s = e.tf) || void 0 === s ? void 0 : s.ef, DeviceModel: null === (u = e.tf) || void 0 === u ? void 0 : u.rf } } } function xw(t, n) { if (!t.accountName) throw new vw("Invalid Titanium " + n + " DRM configuration, accountName is not set."); if (!t.customerName) throw new vw("Invalid Titanium " + n + " DRM configuration, customerName is not set."); if (!t.portalId) throw new vw("Invalid Titanium " + n + " DRM configuration, portalId is not set."); throw new vw("Invalid Titanium " + n + " DRM configuration.") } function Bw(t, n, i) { var e; if (Qs(t)) e = { AuthToken: t.authToken, Payload: n }; else { if (!Ys(t)) throw xw(t, i); e = { LatensRegistration: Dw(t, i), Payload: n } } return Yi(JSON.stringify(e)) } function Ow(t, n, i) { return Pw.apply(this, arguments) } function Pw() { return (Pw = St(At.mark(function t(n, i, e) { var r, s, u, o; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (r = n.NF) { t.next = 3; break } throw new vw("Error during Titanium server request", n, i); case 3: return s = r, t.prev = 4, t.next = 7, s.CF(e); case 7: u = t.sent, o = Mw(u), t.next = 14; break; case 11: t.prev = 11, t.t0 = t.catch(4), o = ""; case 14: throw new vw("Error during Titanium server request", n, s.HT.Mk, s.Ej, s.Ij, o); case 15: case "end": return t.stop() } }, t, null, [[4, 11]]) }))).apply(this, arguments) } function Mw(t) { if (t) { if (t.WvProxyErr) return t.WvProxyErr.desc; if (t.DrmErr) return t.DrmErr.desc } } var Lw = function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, i, e, Xa.vT) || this).DF = !0, r } rt(n, t); var i = n.prototype; return i.kF = function (t, n, i) { return Ow(t, n, i) }, i.TF = function () { var t = St(At.mark(function t(n, i) { var e, r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (e = this.cF) { t.next = 3; break } throw new vw("Invalid Titanium Widevine DRM configuration."); case 3: return r = Hi(n), t.abrupt("return", Bw(e, r, Rw.Nu)); case 5: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.bF = function (t) { var n; if (!t.license) throw new vw("Could not process the response from the Titanium Widevine license server"); return n = Ui(t.license), Tt.resolve(n) }, i.xF = function (t) { return Tt.resolve(new m(t)) }, i.nF = function () { var t = St(At.mark(function t(n, i) { var e, r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.OF(), t.next = 3, this.TF(n, i); case 3: return e = t.sent, t.next = 6, this.gF(e, Xa.fT, "widevine-certificate", i); case 6: return r = t.sent, t.next = 9, this.xF(r); case 9: return t.abrupt("return", t.sent); case 10: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.iF = function () { var n = St(At.mark(function n(i, e) { var r; return At.wrap(function (n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, t.prototype.iF.call(this, i, e); case 2: return r = n.sent, this.OF(), n.abrupt("return", r); case 5: case "end": return n.stop() } }, n, this) })); return function (t, i) { return n.apply(this, arguments) } }(), i.OF = function () { this._o(new bw), this.DF = !1 }, T(n, [{ key: "Jj", get: function () { return this.DF } }, { key: "SF", get: function () { return "required" } }]), n }(Cw), jw = function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, i, e, Xa.fT) || this).tF("https://widevine-proxy.drm.technology/proxy"), r } return rt(n, t), n.prototype.TF = function () { var t = St(At.mark(function t(n, i) { var e, r, s, u; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, Sw(n, this.uF); case 2: if (e = t.sent, r = this.Fk, s = Di(new m(e)), u = this.BF) { t.next = 8; break } throw new vw("The Widevine vuDRM token has not been correctly configured."); case 8: return t.abrupt("return", JSON.stringify({ token: u, drm_info: s, kid: r })); case 9: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), T(n, [{ key: "BF", get: function () { if (Zs(this.cF)) return this.cF.token } }]), n }(Cw); function Fw(t, n) { return n = n || {}, t.ticket && t.sessionId && (n = Et(Et({}, n), { SessionId: t.sessionId, Ticket: t.ticket })), Et(Et({}, n), { CrmId: t.crmId, AccountId: t.accountId, ContentId: t.contentId }) } var Uw = function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, i, e, Xa.fT) || this).tF("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"), r } rt(n, t); var i = n.prototype; return i.TF = function (t, n) { return Sw(t, this.uF) }, i.yF = function (n, i) { return Ws(this.cF) && (n = Fw(this.cF, n)), t.prototype.yF.call(this, n, i) }, n }(Cw), Vw = "Conax-Custom-Data"; function Hw(t, n, i) { var e = t && Gs(t) && t; if (e && !i.has(Vw)) { var r = e.token || "", s = e.deviceId || "", u = JSON.stringify({ Version: "1.0.0", CxAuthenticationDataToken: r, CxClientInfo: { DeviceType: "Browser", DrmClientType: n + "-HTML5", DrmClientVersion: "1.0.0", CxDeviceId: s } }); i.set(Vw, u) } return i } var zw = function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, i, e, Xa.fT) || this).tF("https://connect.conax.com:8094/license"), r } rt(n, t); var i = n.prototype; return i.TF = function (t, n) { return Sw(t, this.uF) }, i.wF = function () { var n = t.prototype.wF.call(this); return Hw(this.cF, "Widevine", n) }, n }(Cw); function qw(t) { var n = wi(new m(t)); return Ui(JSON.parse(n).license) } function Gw(t) { return "string" == typeof t.token ? t.token : Yi(JSON.stringify({ userId: t.userId, sessionId: t.sessionId, merchant: t.merchant })) } function Ww(t, n, i) { var e; return e = i.token ? "x-dt-auth-token" : "dt-custom-data", t.set(e, n), t } var Xw = function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, i, e, Xa.fT) || this).tF("https://lic.drmtoday.com/license-proxy-widevine/cenc/"), r } rt(n, t); var i = n.prototype; return i.TF = function (t, n) { return Sw(t, this.uF) }, i.bF = function (t) { return Tt.resolve(qw(t)) }, i.wF = function () { return Ww(t.prototype.wF.call(this), this.BF, this.cF) }, T(n, [{ key: "BF", get: function () { return Gw(this.cF) } }]), n }(Cw), $w = function (t) { function n(n, i, e) { return t.call(this, n, i, e, Xa.fT) || this } rt(n, t); var i = n.prototype; return i.TF = function (t, n) { return Sw(t, this.uF) }, i.wF = function () { var n = t.prototype.wF.call(this), i = this.cF.token; return n.set("Authorization", "Bearer " + i), n }, n }(Cw); function Qw(t, n, i, e) { return Yw.apply(this, arguments) } function Yw() { return (Yw = St(At.mark(function t(n, i, e, r) { var s, u, o, a, h, c, f; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (Ks(n)) { t.next = 2; break } throw new vw("Invalid Xstream DRM Configuration"); case 2: return (s = new Qa).append("Cache-Control", "no-cache"), s.append("Content-Type", "application/json"), (u = n.sessionId) && s.append("XSSESSION", u), o = n.streamId, a = n.fairplay ? "persistent" === n.fairplay.licenseType ? "persistent" : "non-persistent" : n.widevine && "persistent" === n.widevine.licenseType ? "persistent" : "non-persistent", h = { drmType: i, licenseType: a, streamId: o }, c = { Mk: n.ticketAcquisitionURL, mT: Xa.vT, yT: s.aT(), pT: "POST", wT: JSON.stringify(h), _h: r }, t.next = 13, e.HT(c); case 13: return f = t.sent, t.next = 16, f.CF(); case 16: return t.abrupt("return", t.sent); case 17: case "end": return t.stop() } }, t) }))).apply(this, arguments) } var Zw = function (t) { function n(n, i, e) { return t.call(this, n, i, e, Xa.vT) || this } rt(n, t); var i = n.prototype; return i.wF = function () { var n = t.prototype.wF.call(this); return n.set("Content-Type", "application/json"), n }, i.TF = function () { var t = St(At.mark(function t(n, i) { var e, r, s, u; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return e = Qi(n.buffer), r = this.cF, t.next = 4, Qw(r, "widevine_modular", this.pF, i); case 4: return s = t.sent, this.tF(s.licenseServerUrl), u = yi(JSON.stringify({ payload: e, ticket: s.ticket })), t.abrupt("return", Sw(u, this.uF)); case 8: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.bF = function (t) { var n = t; return Tt.resolve(Ui(n.license)) }, n }(Cw), Kw = function (t) { function n(n, i, e) { return t.call(this, n, i, e, Xa.fT) || this } rt(n, t); var i = n.prototype; return i.TF = function (t, n) { return Sw(t, this.uF) }, i.wF = function () { if (!Js(this.cF)) throw new vw("Invalid Axinom configuration"); var n = t.prototype.wF.call(this); return n.set("X-AxDRM-Message", this.cF.token), n }, n }(Cw), Jw = function (t) { function n(n, i, e) { var r; return (r = t.call(this, Wt, n, i, e, Xa.fT) || this).PF = void 0, r } rt(n, t); var i = n.prototype; return i.lF = function (t) { return t.playready || {} }, i.wF = function () { var n = new Qa(this.PF); return n.cT(t.prototype.wF.call(this)), n }, i.MF = function (t) { return t.length >= 1 && t[0].Wn.length > 0 }, i.TF = function () { var t = St(At.mark(function t(n, i) { var r, s, u, o, a, h, c, f, v, l, d, g, _, w, y, p, m; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return a = null, t.next = 3, Sw(n, this.uF); case 3: h = t.sent, c = new DataView(h), f = di(c, new xi, !0), t.prev = 6, v = e.Mn(f), t.next = 13; break; case 10: return t.prev = 10, t.t0 = t.catch(6), t.abrupt("return", a); case 13: for (l = null === (r = v.qn("PlayReadyKeyMessage")[0]) || void 0 === r ? void 0 : r.qn("LicenseAcquisition")[0], d = null !== (s = null == l ? void 0 : l.qn("Challenge")) && void 0 !== s ? s : [], this.MF(d) && (a = $i(d[0].ni)), g = new Qa, _ = null !== (o = null === (u = null == l ? void 0 : l.qn("HttpHeaders")[0]) || void 0 === u ? void 0 : u.qn("HttpHeader")) && void 0 !== o ? o : [], w = 0; w < _.length; w++)y = _[w], p = y.qn("name")[0].ni, m = y.qn("value")[0].ni, g.append(p, m); return this.PF = g, t.abrupt("return", a); case 21: case "end": return t.stop() } }, t, this, [[6, 10]]) })); return function (n, i) { return t.apply(this, arguments) } }(), i.nF = function (t, n) { return Tt.resolve(t) }, i.iF = function (n, i) { return t.prototype.AF.call(this, n, "playready-license", i) }, n }(Aw), ty = function () { function t(n) { this.LF = n, this.jF = t.FF(n) } return t.FF = function (t) { return "3" === t.version ? Rw.RF : Rw.IF }, t.prototype.UF = function () { var t = {}; if (this.jF === Rw.RF) { var n = { LatensRegistration: Dw(this.LF, Rw.RF) }; t["X-TITANIUM-DRM-CDATA"] = Yi(JSON.stringify(n)) } return t }, T(t, [{ key: "VF", get: function () { return this.jF } }, { key: "Jh", get: function () { return this.jF === Rw.IF } }]), t }(); var ny = function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, i, e) || this).HF = new ty(r.cF), r } rt(n, t); var i = n.prototype; return i.Kj = function (t) { var n = this.cF; if (!this.cF) throw new vw("Invalid Titanium PlayReady DRM configuration."); if (Ys(n)) { var i = {}; return i.playready = { _c: iy(n, this.HF.VF) }, i } throw xw(n, Rw.Ru) }, i.wF = function () { var n = new Qa(this.HF.UF()); return n.cT(t.prototype.wF.call(this)), n }, i.kF = function () { var t = St(At.mark(function t(n, i, r) { var s, u, o, a, h, c, f, v; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (u = n.NF) { t.next = 3; break } throw new vw("Error during Titanium PlayReady license request", n, i); case 3: return t.prev = 3, t.next = 6, u.GF(r); case 6: h = t.sent, c = wi(new m(h)), (f = e.Mn(c)) && (v = la(f, "CustomData")).length > 0 && (o = JSON.parse(v[0].ni), a = null === (s = o.DrmErr) || void 0 === s ? void 0 : s.desc), t.next = 14; break; case 12: t.prev = 12, t.t0 = t.catch(3); case 14: throw new vw("Error during Titanium PlayReady license request", n, i, u.Ej, u.Ij, a); case 15: case "end": return t.stop() } }, t, null, [[3, 12]]) })); return function (n, i, e) { return t.apply(this, arguments) } }(), i.MF = function (t) { if (1 !== t.length) throw new vw("PlayReady license message incorrectly formatted, Challenge not found."); return !0 }, T(n, [{ key: "Jh", get: function () { return this.HF.Jh } }]), n }(Jw); function iy(t, n) { var i = Dw(t, n), e = i.DeviceInfo.FormatVersion, r = Yi('<LatensRegistration formatversion="' + e + '"><AccountName>' + i.AccountName + "</AccountName><CustomerName>" + i.CustomerName + "</CustomerName><PortalID>" + i.PortalId + '</PortalID><DeviceInfo formatversion="' + e + '"><DeviceType>' + i.DeviceInfo.DeviceType + "</DeviceType><OSType>" + i.DeviceInfo.OSType + "</OSType><OSVersion>" + i.DeviceInfo.OSVersion + "</OSVersion><DRMProvider>" + i.DeviceInfo.DRMProvider + "</DRMProvider><DRMVersion>" + i.DeviceInfo.DRMVersion + "</DRMVersion><DRMType>" + i.DeviceInfo.DRMType + "</DRMType><DeviceVendor>" + i.DeviceInfo.DeviceVendor + "</DeviceVendor><DeviceModel>" + i.DeviceInfo.DeviceModel + "</DeviceModel></DeviceInfo></LatensRegistration>"), s = mi(("<TitaniumCustomData>" + r + "</TitaniumCustomData>").replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&apos;").replace(/&lt;/g, "<").replace(/&gt;/g, ">"), !0); return mi('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">' + Hi(s) + "</CustomData></LicenseAcquisition></PlayReadyCDMData>", !0) } var ey = function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, i, e) || this).tF("https://playready-license.drm.technology/rightsmanager.asmx"), r } rt(n, t); var i = n.prototype; return i.MF = function (t) { if (1 !== t.length) throw new vw("Vudrm PlayReady license message incorrectly formatted, Challenge not found."); return !0 }, i.yF = function (n, i) { var e = Et(Et({}, n || {}), { token: this.BF }); return t.prototype.yF.call(this, e, i) }, T(n, [{ key: "BF", get: function () { if (Zs(this.cF)) return this.cF.token } }]), n }(Jw), ry = function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, i, e) || this).tF("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"), r } return rt(n, t), n.prototype.yF = function (n, i) { return Ws(this.cF) && (n = Fw(this.cF, n)), t.prototype.yF.call(this, n, i) }, n }(Jw), sy = function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, i, e) || this).tF("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"), r } return rt(n, t), n.prototype.wF = function () { var n = t.prototype.wF.call(this); return Hw(this.cF, "PlayReady", n) }, n }(Jw), uy = function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, i, e) || this).tF("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"), r } rt(n, t); var i = n.prototype; return i.bF = function (n) { return 1 === (tn(wi(new m(n)), "<?xml") ? 0 : 1) ? Tt.resolve(qw(n)) : Tt.resolve(t.prototype.bF.call(this, new m(n))) }, i.wF = function () { return Ww(t.prototype.wF.call(this), this.BF, this.cF) }, T(n, [{ key: "BF", get: function () { return Gw(this.cF) } }]), n }(Jw); var oy, ay = function (t) { function n(n, i, e) { return t.call(this, n, i, e) || this } rt(n, t); var i = n.prototype; return i.wF = function () { var n = t.prototype.wF.call(this); return this.zF && n.set("Ticket", this.zF), n.set("Content-Type", "text/xml"), n }, i.TF = function () { var n = St(At.mark(function n(i, e) { var r, s; return At.wrap(function (n) { for (; ;)switch (n.prev = n.next) { case 0: return r = this.cF, n.next = 3, Qw(r, "playready", this.pF, e); case 3: return s = n.sent, this.tF(s.licenseServerUrl), this.zF = s.ticket, n.abrupt("return", t.prototype.TF.call(this, i, e)); case 7: case "end": return n.stop() } }, n, this) })); return function (t, i) { return n.apply(this, arguments) } }(), n }(Jw), hy = function (t) { function n() { return t.apply(this, arguments) || this } return rt(n, t), n.prototype.wF = function () { if (!Js(this.cF)) throw new vw("Invalid Axinom configuration"); var n = t.prototype.wF.call(this); return n.set("X-AxDRM-Message", this.cF.token), n }, n }(Jw); !function (t) { t.vT = "application/json", t.qF = "application/x-www-form-urlencoded", t.WF = "application/octet-stream", t.dT = "text/plain;charset=UTF-8" }(oy || (oy = {})); var cy = function (t) { function n(n, i, e, r) { var s; return (s = t.call(this, $t, n, i, e, r) || this).XF = "", s.QF = void 0, s } rt(n, t); var i = n.prototype; return i.YF = function () { return this.uF.certificateURL || this.QF }, i.ZF = function (t) { this.QF = t }, i.TF = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.abrupt("return", this.KF(n, this.XF)); case 1: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.KF = function () { var t = St(At.mark(function t(n, i) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.abrupt("return", "spc=" + encodeURIComponent(Hi(n)) + "&assetId=" + encodeURIComponent(i)); case 1: case "end": return t.stop() } }, t) })); return function (n, i) { return t.apply(this, arguments) } }(), i.lF = function (t) { return t.fairplay || {} }, i.JF = function (t) { var n = t.indexOf("?"); if (n >= 0) return t.substr(n + 1); var i = t.split("/"); return i[i.length - 1] }, i.Kj = function (t) { var n, i, e, r, s = (n = new m(t), i = Ei(n), e = new xi, r = ri(i, e, !0), pi(Kn(i, e, r), !0)), u = this.JF(s); this.XF = u; var o = {}; return o.fairplay = { Ac: u }, o }, i.wF = function () { var n = t.prototype.wF.call(this); return n.set("Content-Type", this.tU), n }, i.nF = function () { var t = St(At.mark(function t(n, i) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!this.EF) { t.next = 2; break } return t.abrupt("return", this.EF); case 2: return t.next = 4, this.nU(i); case 4: return t.abrupt("return", t.sent); case 5: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.iF = function (n, i) { return t.prototype.AF.call(this, n, "fairplay-license", i) }, i.nU = function () { var t = St(At.mark(function t(n) { var i, e, r, s, u; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return i = this.YF(), e = this.wF(), r = { Mk: i, mT: Xa.fT, yT: e.aT(), pT: "GET", TT: !1, wT: null, kT: 0, _h: n, Ou: "content-protection", bT: "fairplay-certificate" }, t.next = 5, this.pF.HT(r); case 5: return s = t.sent, t.next = 8, s.GF(); case 8: return u = t.sent, t.abrupt("return", new m(u)); case 10: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.bF = function (t) { var n; if ("string" == typeof t) { var i = t.trim(); "<ckc>" === i.substr(0, 5) && "</ckc>" === i.substr(-6) && (i = i.slice(5, -6)), n = Ui(i) } else n = new m(t); return Tt.resolve(n) }, i.yF = function (n, i) { return tn(i = t.prototype.yF.call(this, n, i), "skd:") && (i = i.substr("skd:".length)), i }, T(n, [{ key: "EF", get: function () { var t = this.uF.certificate; return t ? U(t) ? Ui(t) : t : null } }, { key: "tU", get: function () { return oy.qF } }]), n }(Aw); var fy = function (t) { function n(n, i, e) { return t.call(this, n, i, e, Xa.fT) || this } rt(n, t); var i = n.prototype; return i.JF = function (t) { var n = t.split("://", 1), i = n[0].slice(-3), e = (n = t.split(";", 2)).length > 1 ? n[1] : ""; return "skd" === i.toLowerCase() ? e : "" }, i.TF = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.abrupt("return", n); case 1: case "end": return t.stop() } }, t) })); return function (n) { return t.apply(this, arguments) } }(), i.bF = function (t) { return Tt.resolve(new m(t)) }, i.yF = function (n, i) { var e = n || {}; return e.p1 = it(), t.prototype.yF.call(this, e, i) }, T(n, [{ key: "tU", get: function () { return oy.WF } }]), n }(cy), vy = function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, i, e, Xa.fT) || this).tF("https://fairplay-license.drm.technology/license"), r.ZF("https://fairplay-license.drm.technology/certificate"), r } rt(n, t); var i = n.prototype; return i.KF = function () { var t = St(At.mark(function t(n, i) { var e; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return e = { token: this.BF, contentId: i, payload: Hi(n) }, t.abrupt("return", JSON.stringify(e)); case 2: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.bF = function (t) { return Tt.resolve(new m(t)) }, i.wF = function () { var n = t.prototype.wF.call(this); return n.set("x-vudrm-token", this.BF), n }, T(n, [{ key: "tU", get: function () { return oy.vT } }, { key: "BF", get: function () { if (!Zs(this.cF)) throw new vw("Token is required for FairPlay VuDrm."); return this.cF.token } }]), n }(cy), ly = "Verimatrix Fairplay license response incorrectly formatted. Invalid json.", dy = "Verimatrix Fairplay license response incorrectly formatted. Ckc not found.", gy = function (t) { function n(n, i, e) { return t.call(this, n, i, e, Xa.fT) || this } return rt(n, t), n.prototype.bF = function (n) { var i = function (t) { var n; try { n = JSON.parse(t).ckc } catch (t) { throw new vw(ly) } if (!n) throw new vw(dy); return n }(wi(new DataView(n))); return t.prototype.bF.call(this, i) }, n }(cy); var _y = function (t) { function n(n, i, e) { return t.call(this, n, i, e, Xa.vT) || this } rt(n, t); var i = n.prototype; return i.TF = function () { var t = St(At.mark(function t(n) { var i, e; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (i = this.cF) { t.next = 3; break } throw new vw("Invalid Titanium Fairplay DRM configuration."); case 3: return e = Hi(n), t.abrupt("return", Bw(i, e, Rw.Cu)); case 5: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.bF = function (t) { try { var n; if (U(t)) { var i = t.trim(); n = JSON.parse(i) } else n = t; if (n.license) { var e = $i(n.license); return Tt.resolve(new m(e)) } return Tt.reject(new vw("No license received from the Titanium Fairplay license server")) } catch (t) { return Tt.reject(new vw("Could not process the response from the Titanium Fairplay license server")) } }, i.kF = function (t, n, i) { return Ow(t, n, i) }, T(n, [{ key: "tU", get: function () { return oy.vT } }]), n }(cy), wy = function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, i, e, Xa.fT) || this).tF("https://emeademo.dev.ott.irdeto.com/streaming/getckc"), r.ZF("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"), r } rt(n, t); var i = n.prototype; return i.YF = function () { var n = t.prototype.YF.call(this); if (!n) return n; var i = El(n), e = this.cF; return Ws(e) && Il(i, { accountId: e.accountId, applicationId: e.applicationId || "" }), i.href }, i.JF = function (n) { return Ws(this.cF) ? this.cF.contentId : t.prototype.JF.call(this, n) }, i.TF = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.abrupt("return", n); case 1: case "end": return t.stop() } }, t) })); return function (n) { return t.apply(this, arguments) } }(), i.bF = function (t) { return Tt.resolve(new m(t)) }, i.yF = function (n, i) { return Ws(this.cF) && (n = function (t, n) { return Et(Et({}, Fw(t, n)), { KeyId: t.keyId }) }(this.cF, n)), t.prototype.yF.call(this, n, i) }, T(n, [{ key: "tU", get: function () { return oy.WF } }]), n }(cy), yy = function (t) { function n(n, i, e) { var r; if (r = t.call(this, n, i, e, Xa.dT) || this, !Gs(n)) throw new vw("Invalid Conax configuration"); return r.tF("https://connect.conax.com:8097/license"), r } rt(n, t); var i = n.prototype; return i.wF = function () { var n = t.prototype.wF.call(this); return Hw(this.cF, "FairPlay", n) }, i.nU = function () { var t = St(At.mark(function t(n) { var i, e, r, s; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return i = this.YF(), e = { Mk: i, mT: Xa.fT, yT: {}, pT: "GET", TT: !1, wT: null, kT: 0, _h: n, Ou: "content-protection", bT: "fairplay-certificate" }, t.next = 4, this.pF.HT(e); case 4: return r = t.sent, t.next = 7, r.GF(); case 7: return s = t.sent, t.abrupt("return", new m(s)); case 9: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.TF = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.abrupt("return", n); case 1: case "end": return t.stop() } }, t) })); return function (n) { return t.apply(this, arguments) } }(), i.JF = function (t) { var n, i = t.indexOf("?"); return 0 === t.indexOf("skd://") ? (n = i >= 0 ? t.substring("skd://".length, i) : t.substring("skd://".length), wi(Ui(n))) : "unknown" }, i.bF = function (t) { try { var n = JSON.parse(t); return Tt.resolve(new m($i(n.CkcMessage))) } catch (t) { return Tt.reject("CFLRW-66") } }, n }(cy), py = function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, i, e, Xa.dT) || this).tF(js[jt.Cu]), r } rt(n, t); var i = n.prototype; return i.JF = function (t) { if (0 === t.indexOf("skd://")) return t.substring("skd://".length, 40); throw new vw("Error while determining the KeyOS Content ID.") }, i.KF = function () { var t = St(At.mark(function t(n, i) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.abrupt("return", "spc=" + Hi(n) + "&assetId=" + i); case 1: case "end": return t.stop() } }, t) })); return function (n, i) { return t.apply(this, arguments) } }(), n }(cy), my = function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, i, e, Xa.dT) || this).tF("https://lic.drmtoday.com/license-server-fairplay/"), r } rt(n, t); var i = n.prototype; return i.KF = function () { var t = St(At.mark(function t(n, i) { var e; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (e = "spc=" + encodeURIComponent(Hi(n)) + "&" + encodeURI(i), "persistent" !== this.uF.licenseType) { t.next = 3; break } return t.abrupt("return", e + "&offline=true"); case 3: return t.abrupt("return", e); case 4: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.wF = function () { return Ww(t.prototype.wF.call(this), this.BF, this.cF) }, T(n, [{ key: "BF", get: function () { return Gw(this.cF) } }]), n }(cy), ky = function (t) { function n(n, i, e) { return t.call(this, n, i, e, Xa.fT) || this } rt(n, t); var i = n.prototype; return i.JF = function (t) { if (tn(t, "skd:") && (t = "http:" + t.substring(4)), tn(t, "http:") || tn(t, "https:")) return El(t).hostname; throw v("Could not parse ExpressPlay FairPlay content ID.") }, i.TF = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.abrupt("return", n); case 1: case "end": return t.stop() } }, t) })); return function (n) { return t.apply(this, arguments) } }(), i.bF = function (t) { return Tt.resolve(new m(t)) }, T(n, [{ key: "tU", get: function () { return oy.WF } }]), n }(cy), by = function (t) { function n(n, i, e) { return t.call(this, n, i, e, Xa.dT) || this } return rt(n, t), n.prototype.wF = function () { var n = t.prototype.wF.call(this), i = this.cF.token; return n.set("Authorization", "Bearer " + i), n }, n }(cy), Ay = function (t) { function n(n, i, e) { var r; if (r = t.call(this, n, i, e, Xa.vT) || this, !Ks(n)) throw new v("Invalid Xstream DRM configuration"); return r } rt(n, t); var i = n.prototype; return i.nU = function () { var t = St(At.mark(function t(n) { var i, e, r, s, u; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return i = this.YF(), e = this.wF(), r = { Mk: i, mT: Xa.vT, yT: e.aT(), pT: "POST", _h: n, Ou: "content-protection", bT: "fairplay-certificate" }, t.next = 5, this.pF.HT(r); case 5: return s = t.sent, t.next = 8, s.CF(); case 8: return u = t.sent, t.abrupt("return", new m(Ui(u.certificate))); case 10: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.iF = function () { var t = St(At.mark(function t(n, i, e) { var r, s, u, o, a, h, c; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return void 0 === e && (e = Xa.dT), r = Hi(n), s = this.cF, t.next = 5, Qw(s, "fairplay", this.pF, i); case 5: return u = t.sent, o = yi(JSON.stringify({ spc: r, ticket: u.ticket })), a = { Mk: this._F(), mT: Xa.vT, yT: this.wF().aT(), pT: "POST", wT: o, kT: 0, _h: i, Ou: "content-protection", bT: "fairplay-license" }, t.next = 10, this.pF.HT(a); case 10: return h = t.sent, t.next = 13, h.CF(); case 13: return c = t.sent, t.abrupt("return", Ui(c.licence)); case 15: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), T(n, [{ key: "tU", get: function () { return oy.vT } }]), n }(cy), Ty = function (t) { function n(n, i, e) { return t.call(this, n, i, e, Xa.dT) || this } rt(n, t); var i = n.prototype; return i.KF = function () { var t = St(At.mark(function t(n, i) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.abrupt("return", Hi(n)); case 1: case "end": return t.stop() } }, t) })); return function (n, i) { return t.apply(this, arguments) } }(), i.bF = function (n) { if (0 === n.length) throw new vw("Vimond license request error."); return t.prototype.bF.call(this, n) }, i.wF = function () { var n = t.prototype.wF.call(this); return n.set("Content-Type", "text/plain"), n }, n }(cy), Sy = function (t) { function n(n, i, e) { return t.call(this, n, i, e, Xa.fT) || this } rt(n, t); var i = n.prototype; return i.KF = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.abrupt("return", n); case 1: case "end": return t.stop() } }, t) })); return function (n) { return t.apply(this, arguments) } }(), i.bF = function (t) { return Tt.resolve(new m(t)) }, i.wF = function () { if (!Js(this.cF)) throw new vw("Invalid Axinom configuration"); var n = t.prototype.wF.call(this); return n.set("X-AxDRM-Message", this.cF.token), n }, T(n, [{ key: "tU", get: function () { return oy.vT } }]), n }(cy), Ey = function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, i, e, Xa.vT) || this).iU = void 0, r } rt(n, t); var i = n.prototype; return i.KF = function () { var t = St(At.mark(function t(n, i) { var e; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return e = { spc: Hi(n) }, t.abrupt("return", JSON.stringify(e)); case 2: case "end": return t.stop() } }, t) })); return function (n, i) { return t.apply(this, arguments) } }(), i.JF = function (t) { var n = El(t); if (this.iU = t, n.searchParams.has("b")) return n.searchParams.get("b"); throw new vw("Error during license server request: Could not extract content id") }, i.yF = function (n, i) { var e = this._F(); return !e && this.iU && (e = this.iU), e && (e = e.replace("skd://", "https://")), t.prototype.yF.call(this, n, i || e) }, i.bF = function () { var t = St(At.mark(function t(n) { var i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (t.prev = 0, !(i = U(n) ? JSON.parse(n.trim()) : n).ckc) { t.next = 4; break } return t.abrupt("return", Ui(i.ckc)); case 4: t.next = 9; break; case 6: throw t.prev = 6, t.t0 = t.catch(0), new vw("Could not process the response from the Uplynk Fairplay license server"); case 9: throw new vw("No license received from the Uplynk Fairplay license server"); case 10: case "end": return t.stop() } }, t, null, [[0, 6]]) })); return function (n) { return t.apply(this, arguments) } }(), T(n, [{ key: "tU", get: function () { return oy.dT } }]), n }(cy), Iy = function () { function t(t, n) { this.eU = t, this.rU = n } var n = t.prototype; return n.sU = function (t) { return this.eU(t) }, n.uU = function (t, n) { throw new l(n + " must be " + this.rU + ". (Received: " + t + ")") }, t }(), Ry = new Iy(z, "a number"), Cy = new Iy(U, "a string"), Ny = new Iy(V, "a boolean"); var Dy, xy = (Dy = { responseCode: Ry, isException: Ny, description: Cy, title: Cy, correlationId: Cy }, { sU: function (t) { if (!j(t)) return !1; for (var n = 0, i = g.keys(Dy); n < i.length; n++) { var e = i[n]; if (!Dy[e].sU(t[e])) return !1 } return !0 }, uU: function (t, n) { if (!j(t)) throw new l(n + " must be an object."); for (var i = 0, e = g.keys(Dy); i < e.length; i++) { var r = e[i], s = Dy[r]; if (!s.sU(t[r])) return s.uU(t[r], n + "." + r) } throw new l } }); function By(t, n, i, e, r) { return Oy.apply(this, arguments) } function Oy() { return (Oy = St(At.mark(function t(n, i, e, r, s) { var u; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return u = Py(n, i, e, s), t.next = 3, My(u, r); case 3: return t.abrupt("return", t.sent); case 4: case "end": return t.stop() } }, t) }))).apply(this, arguments) } function Py(t, n, i, e) { var r = { token: n.token, account: n.accountId, form: "json" }, s = decodeURIComponent(function (t, n) { var i = El(t); return Il(i, n), i.toString() }(i, r)), u = new Qa({}); u.append("Content-Type", "application/json"); var o = Hi(t), a = { getFairplayLicense: { releasePid: n.releasePid, spcMessage: o } }; return { Mk: s, mT: Xa.dT, yT: u.aT(), pT: "POST", wT: JSON.stringify(a), _h: e, Ou: "content-protection", bT: "fairplay-license" } } function My(t, n) { return Ly.apply(this, arguments) } function Ly() { return (Ly = St(At.mark(function t(n, i) { var e, r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, i.HT(n); case 2: return e = t.sent, t.next = 5, e.CF(); case 5: if (r = t.sent, !xy.sU(r)) { t.next = 8; break } throw new vw(r.description, void 0, n.Mk, r.responseCode); case 8: return t.abrupt("return", Ui(r.getFairplayLicenseResponse.ckcResponse)); case 9: case "end": return t.stop() } }, t) }))).apply(this, arguments) } var jy = function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, i, e, Xa.fT) || this).oU = n, r } rt(n, t); var i = n.prototype; return i.JF = function (n) { var i = n.replace("FairPlay", this.oU.releasePid); return t.prototype.JF.call(this, i) }, i.iF = function () { var t = St(At.mark(function t(n, i) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, By(n, this.oU, this._F(), this.pF, i); case 2: return t.abrupt("return", t.sent); case 3: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), n }(cy), Fy = function (t) { function n(n, i, e) { return t.call(this, Qt, n, i, e, Xa.fT) || this } rt(n, t); var i = n.prototype; return i.lF = function (t) { return t.clearkey || {} }, i.TF = function () { var t = St(At.mark(function t(n, i) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.abrupt("return", Sw(n, this.uF)); case 1: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.gF = function () { var n = St(At.mark(function n(i, e, r, s) { var u, o; return At.wrap(function (n) { for (; ;)switch (n.prev = n.next) { case 0: if (u = this.uF, !this._F()) { n.next = 5; break } return n.abrupt("return", t.prototype.gF.call(this, i, this.vF, r, s)); case 5: if (!u.keys || !u.keys.length) { n.next = 10; break } return o = { keys: u.keys.map(function (t) { return t || (t = {}), { kty: "oct", kid: t.id, k: t.value } }) }, n.abrupt("return", yi(JSON.stringify(o)).buffer); case 10: throw new vw("The clearkey license has not been configured correctly."); case 11: case "end": return n.stop() } }, n, this) })); return function (t, i, e, r) { return n.apply(this, arguments) } }(), i.nF = function (t, n) { return Tt.resolve(new m(0)) }, i.iF = function (n, i) { return t.prototype.AF.call(this, n, "clearkey-license", i) }, n }(Aw), Uy = function (t) { function n() { return t.apply(this, arguments) || this } return rt(n, t), n.prototype.TF = function () { var t = St(At.mark(function t(n, i) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.abrupt("return", Sw(n, this.uF)); case 1: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), n }(Cw), Vy = function () { function t() { } var n = t.prototype; return n.Bj = function (t) { var n = t.toLowerCase(); return n === Ft ? new dw : n === Gt ? new gw : void 0 }, n.aU = function (t, n) { return new kw(t, n, this) }, n.hU = function (t, n, i, e) { switch (t.Ou) { case jt.Nu: return this.cU(n, i, e); case jt.Ru: return this.fU(n, i, e); case jt.Cu: return this.vU(n, i, e); case jt.Du: default: return this.lU(n, i, e) } }, n.cU = function (t, n, i) { switch (t.integration) { case bs: return new Lw(t, n, i); case Es: return new jw(t, n, i); case Ss: return new Uw(t, n, i); case As: return new zw(t, n, i); case Cs: return new Xw(t, n, i); case Ds: return new $w(t, n, i); case xs: return new Zw(t, n, i); case Os: return new Kw(t, n, i); case Rs: default: return new Uy(t, n, i, Xa.fT) } }, n.fU = function (t, n, i) { switch (t.integration) { case bs: return new ny(t, n, i); case Es: return new ey(t, n, i); case Ss: return new ry(t, n, i); case As: return new sy(t, n, i); case Cs: return new uy(t, n, i); case xs: return new ay(t, n, i); case Os: return new hy(t, n, i); case Rs: default: return new Jw(t, n, i) } }, n.vU = function (t, n, i) { switch (t.integration) { case Ts: return new fy(t, n, i); case Es: return new vy(t, n, i); case Is: return new gy(t, n, i); case bs: return new _y(t, n, i); case Ss: return new wy(t, n, i); case As: return new yy(t, n, i); case Rs: return new py(t, n, i); case Cs: return new my(t, n, i); case Ns: return new ky(t, n, i); case Ds: return new by(t, n, i); case xs: return new Ay(t, n, i); case Bs: return new Ty(t, n, i); case Os: return new Sy(t, n, i); case Ps: return new Ey(t, n, i); case Ms: return new jy(t, n, i); default: return new cy(t, n, i, Xa.dT) } }, n.lU = function (t, n, i) { return new Fy(t, n, i) }, n.xj = function (t) { var n = t.toLowerCase(); return n === Ft || n === Gt }, n.dU = function (t) { return t.Ou === jt.Ru || t.Ou === jt.Nu || t.Ou === jt.Cu || t.Ou === jt.Du }, t }(), Hy = function (t) { function n(n, i, e, r) { var s; return void 0 === r && (r = new Vy), (s = t.call(this, r) || this).Ah = void 0, s._U = new hw, s.gU = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, t.next = 3, s.jj(n.Po, n.Lo); case 3: t.next = 8; break; case 5: t.prev = 5, t.t0 = t.catch(0), In(t.t0) || s.cc(t.t0); case 8: case "end": return t.stop() } }, t, null, [[0, 5]]) })); return function (n) { return t.apply(this, arguments) } }(), s.wU = function (t) { s._o(t) }, s.yU = function (t) { s._o(t); var n = new au(uu.ENCRYPTED, t.error, void 0, t.systemCode); s._o(new Vh(n)) }, s.pU = n, s.OS = i, s.Uu = e, s.pU.mo("Mo", s.gU), s } rt(n, t); var i = n.prototype; return i.eF = function () { return !!this.uu && (!this.Rj || (!this.Rj.Mj.length || !!this.Ah && this.Ah.eF)) }, i.jj = function () { var t = St(At.mark(function t(n, i, r) { var s, u, o, a, h, c, f, v, l, d, g; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (Rn(r), i.byteLength) { t.next = 3; break } return t.abrupt("return"); case 3: if (this.uu && this.Rj && this.Rj.Mj.length) { t.next = 5; break } throw new vw("Missing configuration for encrypted content"); case 5: if (s = this.Rj, u = this.Nj, n === u.Ou) { t.next = 9; break } throw new vw("Unexpected initialization data type for content protection: " + n); case 9: o = u.Uj(i), h = 0, c = s.Mj; case 11: if (!(h < c.length)) { t.next = 35; break } if (f = c[h], Rn(r), !(v = o[f.Kh.Pu])) { t.next = 32; break } return t.prev = 16, t.next = 19, this.mU(f.Kh, r); case 19: if (l = t.sent, d = this.pU.vg, !this.kU(l, n, v, d)) { t.next = 25; break } return g = l.oF(n, v, d), t.next = 25, g.Bh(); case 25: return t.abrupt("return"); case 28: t.prev = 28, t.t0 = t.catch(16), Cn(t.t0), a = t.t0; case 32: h++, t.next = 11; break; case 35: return t.next = 37, e.Yu(); case 37: if (!t.sent) { t.next = 41; break } throw new vw("Encrypted content over an insecure connection is not supported", a); case 41: throw new vw("Cannot create content decryption session", a); case 42: case "end": return t.stop() } }, t, this, [[16, 28]]) })); return function (n, i, e) { return t.apply(this, arguments) } }(), i.kU = function (t, n, i, e) { return !t.hF(n, i, e) }, i.mU = function (t, n) { var i = this; return this._U.wj(function (n) { return i.bU(t, n) }, n) }, i.bU = function () { var t = St(At.mark(function t(n, i) { var e, r, s, u, o, a, h, c, f; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (Rn(i), this.uu) { t.next = 3; break } throw new v("Not initialized"); case 3: if (!this.Ah) { t.next = 7; break } if (this.Ah.Kh === n) { t.next = 6; break } throw new v("Internal key system error"); case 6: return t.abrupt("return", this.Ah); case 7: if (this.Cj.dU(n)) { t.next = 9; break } throw new v("Unsupported " + n.Lu + " key system"); case 9: if (e = this.AU(n)) { t.next = 12; break } throw new v("Missing configuration for " + n.Lu + " key system"); case 12: return r = this.Rj, s = this.Nj, u = this.Cj.hU(e.Kh, r.cF, s.Fk, this.OS), o = s.Ou, a = zy(r, o, u.SF, u.Jh, "SW_SECURE_CRYPTO"), h = zy(r, o, u.SF, u.Jh, void 0), t.prev = 18, Rn(i), t.next = 22, this.Dj.TU(n, [a]); case 22: c = t.sent, t.next = 32; break; case 25: return t.prev = 25, t.t0 = t.catch(18), Cn(t.t0), Rn(i), t.next = 31, this.Dj.TU(n, [h]); case 31: c = t.sent; case 32: return (f = this.Cj.aU(c, u)).mo(es.ol, this.wU), f.mo(es.il, this.yU), f.mo(es.Ol, this.do), this.Ah = f, t.abrupt("return", f); case 38: case "end": return t.stop() } }, t, this, [[18, 25]]) })); return function (n, i) { return t.apply(this, arguments) } }(), i.AU = function (t) { if (this.Rj) for (var n = 0, i = this.Rj.Mj; n < i.length; n++) { var e = i[n]; if (e.Kh === t) return e } }, i.cc = function (t) { var n; n = t instanceof vw ? new fw(t.message, t.Sj, t.Ej, t.Ij, t.Tj) : new fw(t.message), this.yU(n) }, i.SU = function () { var t = St(At.mark(function t() { var n; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, this._U.eh(); case 2: if (!(n = this.Ah)) { t.next = 8; break } return n.So(es.Ol, this.do), this.Ah = void 0, t.next = 8, n.Af(); case 8: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.bf = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.uu = !1, this.Rj = void 0, this.Nj = void 0, t.next = 5, this.SU(); case 5: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.Af = function () { var n = St(At.mark(function n() { return At.wrap(function (n) { for (; ;)switch (n.prev = n.next) { case 0: return this.pU.So("Mo", this.gU), n.next = 3, t.prototype.Af.call(this); case 3: return n.next = 5, this._U.Af(); case 5: case "end": return n.stop() } }, n, this) })); return function () { return n.apply(this, arguments) } }(), n }(lw); function zy(t, n, i, e, r) { return { initDataTypes: [n], audioCapabilities: qy(t.EU, r), videoCapabilities: qy(t.IU, r), persistentState: i, Jh: e } } function qy(t, n) { return t.length ? t.map(function (t) { return { contentType: t, robustness: n } }) : void 0 } var Gy = t, Wy = Gy.MediaSource, Xy = Gy.WebKitMediaSource, $y = Gy.TextTrack, Qy = s && s.createElement("video"), Yy = (s && s.documentElement.style, x.zt && x.En && x.In <= 26), Zy = (x.hn, !!k), Ky = !(!Wy && !Xy), Jy = !!$y, tp = (s && (s.fullscreenEnabled || s.webkitFullscreenEnabled || s.mozFullScreenEnabled || s.msFullscreenEnabled) || x.in, x.pn && x.An, Qy && Qy.canPlayType && ("" !== Qy.canPlayType("application/vnd.apple.mpegURL") || x.Xt && !x.pn && x.$t >= 4)), np = Qy && Qy.canPlayType && "" !== Qy.canPlayType("video/mp4") && !Yy, ip = Ky && !x.Tn && !x._n && !x.dn && ((Wy || Xy).isTypeSupported ? (Wy || Xy).isTypeSupported('audio/mp4; codecs="mp4a.40.34"') : Qy && Qy.canPlayType && "" !== Qy.canPlayType('audio/mp4; codecs="mp4a.40.34"')), ep = Ky && !x.Tn && (ip || ((Wy || Xy).isTypeSupported ? (Wy || Xy).isTypeSupported("audio/mpeg") : Qy && Qy.canPlayType && "" !== Qy.canPlayType("audio/mpeg"))), rp = Ky && !(x.yn && x.zt) && ((Wy || Xy).isTypeSupported ? (Wy || Xy).isTypeSupported('video/mp4; codecs="avc1.4d401e"') : np), sp = (x.Tn || x._n || x.dn, x.wn), up = sp && !1, op = !x.Tn, ap = x._n && x.qt && x.Wt <= 6.1, hp = Qy && "onresize" in Qy; try { r && r.top !== r.self } catch (t) { !0 } var cp, fp = .001, vp = 1e4, lp = 3, dp = ["canplay", "canplaythrough", "loadeddata", "loadedmetadata", "readystatechange", "waiting", "playing"], gp = function (t) { function n(n, i) { var e; return void 0 === i && (i = !1), (e = t.call(this) || this).RU = n, e.NU = i, e.CU = eu.h_, e.DU = !0, e.xU = !1, e.OU = !1, e.BU = function (t) { var n = t.readyState; n !== e.CU && e._o(t), n === eu.h_ && (e.xU = !1, e.OU = !1), e.PU(n), e.MU(n), e.LU(n), e.maybeDispatchCanPlayThroughEvent(n), e.jU(n), e.FU(n), e.CU = n }, e.UU = function () { e.FU(e.CU), e.jU(e.CU), e.DU = e.RU.rN }, e.VU = function () { e.DU = e.RU.rN }, e.RU.mo("readystatechange", e.BU), e.RU.mo(es.bl, e.UU), e.RU.mo(es.yl, e.VU), e.NU && e.RU.mo("playing", e.do), e } rt(n, t); var i = n.prototype; return i.PU = function (t) { !this.OU && t >= eu.c_ && (this.OU = !0, this._o(new Rh(this.RU.yg, t))) }, i.MU = function (t) { !this.xU && t >= eu.f_ && (this.xU = !0, this._o(new Dh(this.RU.yg, t))) }, i.jU = function (t) { this.NU || (t >= eu.v_ && this.CU < eu.v_ && !this.RU.rN || this.HU && t >= eu.v_) && this._o(new Bh(this.RU.yg)) }, i.FU = function (t) { !this.GU(t) || this.RU.SN || this.RU.Bo || this._o(new Lh(this.RU.yg)) }, i.LU = function (t) { this.CU <= eu.f_ && t >= eu.v_ && this._o(new Ch(this.RU.yg, t)) }, i.maybeDispatchCanPlayThroughEvent = function (t) { t === eu.l_ && this._o(new jh(this.RU.yg, t)) }, i.GU = function (t) { var n = !this.RU.rN && t <= eu.f_, i = !this.DU && this.CU <= eu.f_; return n && !i }, i.bf = function () { this.CU = eu.h_, this.DU = !0, this.xU = !1, this.OU = !1 }, i.Af = function () { this.To(), this.NU && this.RU.So("playing", this.do), this.RU.So(es.bl, this.UU), this.RU.So(es.yl, this.VU), this.RU.So("readystatechange", this.BU) }, T(n, [{ key: "HU", get: function () { return !this.RU.rN && this.DU } }]), n }(ar), _p = [].concat(mw, ["error"]); function wp() { return cp || (cp = Ot && Ot.document && Ot.document.createElement("video")), cp } var yp = function () { var t = function (t) { function n(n, i, e, r, s, u, o) { var a; return void 0 === u && (u = new Vy), void 0 === o && (o = rr()), (a = t.call(this) || this).Dj = void 0, a.zU = new Yr, a.qU = new Yr, a.Jg = void 0, a.WU = [], a.XU = void 0, a.$U = function (t) { var n = t.error, i = n instanceof au ? n.code : uu.DECODE; a.Jg = new au(i, "Something went wrong during native playback.", n.message), a._o(new ou(a.Jg)) }, a.QU = function () { a._o(new Ph(a.yg, a.cg)) }, a.YU = function (t) { a.rN || (a.XU = void 0), a._o(t) }, a.ZU = function (t) { a.XU = void 0, a._o(t) }, a.KU = function () { a._o(new nw(a.vg)) }, a.JU = function () { a.zx > 0 && a.Gx > 0 && a._o(new aw) }, a.tV = function (t) { a.L_.pf(new K_(t.track)) }, a.nV = function (t) { var n = pp(a.L_, t.track); n && a.L_.kf(n) }, a.iV = function () { a.eV(a.L_) }, a.rV = function (t) { a.M_.pf(new tw(t.track)) }, a.sV = function (t) { var n = pp(a.M_, t.track); n && a.M_.kf(n) }, a.uV = function () { a.eV(a.M_) }, a.oV = function (t) { "contentprotectionerror" === t.type && (a.Jg = new au(uu.ENCRYPTED, t.error)), a.do(t) }, a.aV = i, a.OS = e, a.Uu = o, a.pU = a.aV.hV("video"), a.cV = a.pU.fV.preload, a.Cj = u, a.vV = new gp(a.pU, !0), a.vV.mo(dp, a.do), a.lV = new Hy(a.pU, a.OS, a.Uu, a.Cj), a.lV.mo(_p, a.oV), a.dV(), a.L_ = new cu, a.M_ = new cu, a._V(), a.gV = new iw(a.OS), a.j_ = new W_([a.zU, a.qU]), a.B_(), a } rt(n, t); var i = n.prototype; return i.Z_ = function () { this.pU.Z_() }, i.B_ = function () { this.pU.B_() }, n.wV = function (t) { return !t.type || !(!wp().canPlayType || !wp().canPlayType(t.type)) }, i.z_ = function () { var t = St(At.mark(function t(n, i, e) { var r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return Rn(e), r = { Ou: 0, tv: n.src, bA: n.type, yV: [], gg: this.cV, pV: n.crossOrigin, jC: i.metadata && i.metadata.title }, t.next = 4, this.pU.Ph(r); case 4: return this.Dj = t.sent, Rn(e), t.next = 8, this.lV.bf(); case 8: this.lV.wx(this.mV(n), this.Dj), this.zU.xf = this.Dj.kV, this.qU.xf = this.Dj.bV, i.textTracks && this.AV(i.textTracks), ow(this.Ag); case 13: case "end": return t.stop() } }, t, this) })); return function (n, i, e) { return t.apply(this, arguments) } }(), i.AV = function (t) { for (var n = 0; n < t.length; n++) { var i = t[n]; if (x.in && Jy && !Gg(i.kind, i.label)) { var e = s.createElement("track"); e.kind = i.kind || "subtitles", e.label = i.label || "", e.src = i.src, i.srclang && (e.srclang = i.srclang), e.default = !!i.default, this.WU.push(e), this.pU.fV.appendChild(e) } else { if (void 0 === i.src) continue; var r = this.Dj.TV(i.kind || Xc.qx, i.label, i.srclang); r.NL = !!i.default, r.tv = i.src, this.gV.pf(r) } } }, i.sN = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, t.next = 3, this.pU.sN(); case 3: t.next = 7; break; case 5: t.prev = 5, t.t0 = t.catch(0); case 7: if (this.SV) { t.next = 12; break } return t.next = 10, this.pU.Ro(es.Al); case 10: t.next = 7; break; case 12: case "end": return t.stop() } }, t, this, [[0, 5]]) })); return function () { return t.apply(this, arguments) } }(), i.dN = function () { this.pU.dN() }, i.q_ = function () { return void 0 !== this.pU.fV.webkitShowPlaybackTargetPicker }, i.W_ = function () { this.pU.fV.webkitShowPlaybackTargetPicker && this.pU.fV.webkitShowPlaybackTargetPicker() }, i.X_ = function () { this.pU.fV.webkitShowPlaybackTargetPicker && this.pU.fV.webkitShowPlaybackTargetPicker() }, i.Nx = function () { return this.pU.fV }, i.H_ = function () { return this.pU.fV }, i.EV = function () { if (this.pU.IV) { var t = this.pU.IV.getTime(); return function (n) { return (n.getTime() - t) / 1e3 } } }, i.bf = function () { var t = St(At.mark(function t() { var n, i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.Jg = void 0, this.Dj && (this.Dj = void 0), this.qU.bf(), t.next = 5, this.pU.bf(); case 5: for (this.vV.bf(), n = 0, i = this.WU; n < i.length; n++)Le(i[n]); return An(this.WU), t.next = 10, this.lV.bf(); case 10: return this.gg = this.cV, this.og.bf(), this.Tg.bf(), t.next = 15, this.gV.bf(); case 15: this.XU = void 0; case 16: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.Af = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, this.bf(); case 2: return this.To(), this.RV(), this.NV(), t.next = 7, this.lV.Af(); case 7: return this.vV.Af(), this.aV.CV(this.pU), this.L_.Af(), this.M_.Af(), this.j_.Af(), t.next = 14, this.gV.Af(); case 14: this.Jg = void 0; case 15: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.dV = function () { this.pU.mo(es.bl, this.do), this.pU.mo(es.yl, this.do), this.pU.mo(es.Dl, this.QU), this.pU.mo(es.Al, this.do), this.pU.mo(es.dl, this.do), this.pU.mo(es.Rl, this.do), this.pU.mo(es.Il, this.YU), this.pU.mo(es.ll, this.do), this.pU.mo(es.Tl, this.do), this.pU.mo(es.xl, this.do), this.pU.mo(es.cl, this.do), this.pU.mo(es.El, this.JU), this.pU.mo("playing", this.ZU), this.pU.mo("error", this.$U), this.pU.fV.addEventListener("webkitcurrentplaybacktargetiswirelesschanged", this.KU) }, i.RV = function () { this.pU.So(es.bl, this.do), this.pU.So(es.yl, this.do), this.pU.So(es.Dl, this.QU), this.pU.So(es.Al, this.do), this.pU.So(es.dl, this.do), this.pU.So(es.Rl, this.do), this.pU.So(es.Il, this.YU), this.pU.So(es.ll, this.do), this.pU.So(es.Tl, this.do), this.pU.So(es.xl, this.do), this.pU.So(es.cl, this.do), this.pU.So(es.El, this.JU), this.pU.So("playing", this.ZU), this.pU.So("error", this.$U), this.pU.fV.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged", this.KU) }, i.mV = function (t) { if (t.contentProtection && t.contentProtection.fairplay) { return { cF: t.contentProtection || {}, Oj: { Vk: Gt }, Mj: [{ Kh: $t, Lj: [] }], EU: [], IU: ["video/mp4"] } } }, i._V = function () { var t = this.pU.fV.audioTracks, n = this.pU.fV.videoTracks; t && (t.addEventListener("addtrack", this.tV), t.addEventListener("removetrack", this.nV), t.addEventListener("change", this.iV)), n && (n.addEventListener("addtrack", this.rV), n.addEventListener("removetrack", this.sV), n.addEventListener("change", this.uV)) }, i.NV = function () { var t = this.pU.fV.audioTracks, n = this.pU.fV.videoTracks; t && (t.removeEventListener("addtrack", this.tV), t.removeEventListener("removetrack", this.nV), t.removeEventListener("change", this.iV)), n && (n.removeEventListener("addtrack", this.rV), n.removeEventListener("removetrack", this.sV), n.removeEventListener("change", this.uV)) }, i.eV = function (t) { for (var n = 0; n < t.Sf; n++) { t.yf(n).ij() } }, i.K_ = function () { this.lV.SU().then(q) }, T(n, [{ key: "SV", get: function () { var t = this.pU.hg, n = new Eo(this.yg), i = new Eo(.01); return t.fd(n, i) } }, { key: "og", get: function () { return this.L_ } }, { key: "hg", get: function () { return this.pU.hg.Jl() } }, { key: "cg", get: function () { return this.pU.cg }, set: function (t) { t && this.pU.DV(t) } }, { key: "yg", get: function () { return void 0 !== this.XU ? this.XU : this.pU.yg }, set: function (t) { this.vg && (this.XU = t), this.pU.$o(t) } }, { key: "Zy", get: function () { return this.pU.Zy } }, { key: "SN", get: function () { return this.pU.SN } }, { key: "Bo", get: function () { return this.Jg } }, { key: "vg", get: function () { return this.pU.vg } }, { key: "A_", get: function () { return this.pU.xV() } }, { key: "RE", get: function () { return this.pU.RE }, set: function (t) { this.pU.RE = t } }, { key: "dg", get: function () { return !0 } }, { key: "rN", get: function () { return this.pU.rN } }, { key: "_g", get: function () { return this.pU._g }, set: function (t) { this.pU._g = t } }, { key: "wg", get: function () { return this.pU.fV.played } }, { key: "gg", get: function () { return this.cV }, set: function (t) { this.cV = t, this.Dj && (this.Dj.gg = t) } }, { key: "Zf", get: function () { return this.pU.Zf } }, { key: "jx", get: function () { return this.pU.jx.Jl() } }, { key: "pg", get: function () { return this.pU.pg } }, { key: "Ag", get: function () { return this.j_ } }, { key: "Tg", get: function () { return this.M_ } }, { key: "Gx", get: function () { return this.pU.Gx } }, { key: "zx", get: function () { return this.pU.zx } }, { key: "ux", get: function () { return this.pU.ux }, set: function (t) { this.pU.ux = t } }]), n }(hr); return t.MA = 4, t }(); function pp(t, n) { for (var i = 0, e = t.Tf; i < e.length; i++) { var r = e[i]; if (r.sj === n) return r } } var mp = function () { var t = function () { function t() { this.OV = [] } t.BV = function () { return this.q }; var n = t.prototype; return n.PV = function (t) { this.OV.push(t) }, n.MV = function () { for (var t = yp, n = 0, i = this.OV; n < i.length; n++) { t = (0, i[n])(t) } return t }, t }(); return t.q = new t, t }(); function kp(t) { Tp.q.LV(t) } function bp(t, n) { return Tp.q.jV(t, n) } function Ap(t, n) { return bo(t.MA, n.MA) } var Tp = function () { var t = function () { function t() { this.FV = mp.BV(), this.UV = [] } var n = t.prototype; return n.VV = function (t) { this.FV = t }, n.HV = function () { return this.FV }, n.LV = function (t) { this.UV.push(t), this.UV.sort(Ap) }, n.GV = function () { var t = St(At.mark(function t(n, i) { var e, r, s, u; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: e = 0, r = this.UV; case 1: if (!(e < r.length)) { t.next = 17; break } if (s = r[e], !H(u = s.wV(n, i))) { t.next = 10; break } return t.next = 7, u; case 7: t.t0 = t.sent, t.next = 11; break; case 10: t.t0 = Boolean(u); case 11: if (!t.t0) { t.next = 14; break } return t.abrupt("return", s); case 14: e++, t.next = 1; break; case 17: return t.abrupt("return", void 0); case 18: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), n.jV = function () { var t = St(At.mark(function t(n, i) { var e, r, s, u, o, a; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: e = 0; case 1: if (!(e < n.length)) { t.next = 11; break } return r = n[e], t.next = 5, this.GV(r, i); case 5: if (!(s = t.sent)) { t.next = 8; break } return t.abrupt("return", { UD: r, C_: s }); case 8: e++, t.next = 1; break; case 11: u = this.FV.MV(), o = 0; case 13: if (!(o < n.length)) { t.next = 20; break } if (a = n[o], !u.wV(a, i)) { t.next = 17; break } return t.abrupt("return", { UD: a, C_: u }); case 17: o++, t.next = 13; break; case 20: return t.abrupt("return", { UD: n[0], C_: u }); case 21: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), t }(); return t.q = new t, t }(), Sp = function () { function t(t) { this.zV = Ot && Ot.document && Ot.document.createElement("div"), $e(this.zV), t.appendChild(this.zV) } return t.prototype.Af = function () { Le(this.zV) }, t }(), Ep = function (t) { function n(n, i, e) { return void 0 === e && (e = ""), t.call(this, Xc.Qx, i || "", "", !1, e, n) || this } return rt(n, t), n.qV = function (t, n) { return t + " " + n }, n }(U_); function Ip(t) { var n, i = { get track() { return t.df.vf }, get id() { return t.Ff }, get startTime() { return t.zk }, get endTime() { return t.OP }, get content() { return t.BP }, addEventListener: function (t, i) { t = Pr(t, Or), n.mo(t, i) }, removeEventListener: function (t, i) { t = Pr(t, Or), n.So(t, i) } }; return n = new kr(t, i), i } function Rp(t, n) { return t.BP === n.BP } function Cp(t, n, i) { for (var e = t[n].zk, r = n; r >= 0 && t[r].zk === e; r--)t[r].OP = i } var Np = function (t) { function n(n, i) { return t.call(this, n, 1 / 0, i, !1) || this } return rt(n, t), n.prototype.Hl = function (n) { return this === n || Cr(this, n) && t.prototype.Hl.call(this, n) && Rp(this, n) }, T(n, [{ key: "vf", get: function () { return this.cf || (this.cf = Ip(this)), this.cf } }]), n }(ld), Dp = function (t) { function n(n) { var i; return (i = t.call(this, 0, n.BP) || this).WV = n, i.OP = i.WV.zk, i } return rt(n, t), T(n, [{ key: "Ff", get: function () { return this.WV.Ff }, set: function (t) { this.WV.Ff = t } }, { key: "qP", get: function () { return this.WV.qP }, set: function (t) { this.WV.qP = t } }, { key: "zP", get: function () { return this.WV.zP }, set: function (t) { this.WV.zP = t } }]), n }(Np); function xp(t) { return void 0 === t.XV && (t.XV = new Dp(t)), t.XV } var Bp = function (t) { function n(n, i) { var e; (e = t.call(this, n.Qf, n.Hf) || this).Ou = "id3", e.$V = function (t) { e.LL(t.NM) }, e.QV = function (t) { var n = t.NM; if (void 0 !== n.XV) { var i = n.XV; n.XV = void 0, e.IL(i), i.Af() } }, e.YV = function (t) { var n = xp(t.NM); n.GP || e.ZV(n), e.KV(n) }, e.JV = function (t) { var n = t.NM, i = xp(n); e.tH.yg < n.zk && e.ZV(i) }, e.nH = function () { var t = e.iH, n = e.Yf; if (e.iH = n, n === Vr.Wf) e.vL.forEach(function (t) { return t.GP = !1 }), An(e.vL); else if (t === Vr.Wf) for (var i = e.tH.yg, r = 0, s = e.rL; r < s.length; r++) { var u = s[r]; i < u.OP && e.ZV(u) } }, e.tH = i, e.eH = n, e.iH = n.Yf, n.mo("nL", e.$V), n.mo("iL", e.QV), n.mo("PM", e.YV), n.mo("MM", e.JV), n.mo("mf", e.nH); for (var r = 0, s = e.eH.Kf.Tf; r < s.length; r++) { var u = s[r]; e.LL(u) } return e } rt(n, t); var i = n.prototype; return i.ZV = function (t) { var n = Kg(this.vL, t); if (!(n >= 0)) { var i = -(n + 1); this.vL.splice(i, 0, t), t.GP = !0, t._o(new e_(t, this.tH.yg)), this._o(new __(t)), this._o(new o_(this)) } }, i.KV = function (t) { var n = Kg(this.vL, t); n >= 0 && mn(this.vL, n), t.GP = !1, t._o(new s_(t, this.tH.yg)), this._o(new y_(t)), this._o(new o_(this)) }, i.Af = function () { this.eH.So("nL", this.$V), this.eH.So("iL", this.QV), this.eH.So("PM", this.YV), this.eH.So("MM", this.JV), this.eH.So("mf", this.nH), t.prototype.Af.call(this) }, i.LL = function (t) { var n = xp(t); (this.SL(n), this.Yf !== Vr.Wf) && (this.tH.yg < n.OP && this.ZV(n)) }, T(n, [{ key: "Vf", get: function () { return this.eH.Vf } }, { key: "Hf", get: function () { return this.eH.Hf }, set: function (t) { this.eH.Hf = t } }, { key: "Gf", get: function () { return this.eH.Gf } }, { key: "Ff", get: function () { return this.eH.Ff } }, { key: "Uf", get: function () { return this.eH.Uf } }, { key: "Qf", get: function () { return this.eH.Qf } }, { key: "Yf", get: function () { return this.eH.Yf }, set: function (t) { this.eH.Yf = t } }, { key: "Zf", get: function () { return this.eH.Zf } }, { key: "tv", get: function () { return this.eH.tv } }]), n }(Ep), Op = function (t) { function n(n) { var i; return (i = t.call(this) || this).tH = n, i } rt(n, t); var i = n.prototype; return i.pf = function (n) { if ("id3" === n.Ou) { var i = n; return i.XV || (i.XV = new Bp(i, this.tH)), t.prototype.pf.call(this, i.XV) } return t.prototype.pf.call(this, n) }, i.kf = function (n) { if ("id3" === n.Ou) { var i = n; return !!i.XV && t.prototype.kf.call(this, i.XV) } return t.prototype.kf.call(this, n) }, n }(Yr), Pp = function (t) { function n(n, i, e, r) { var s; return (s = t.call(this) || this).rH = void 0, s.cV = X_.Iw, s.sH = void 0, s.uH = !0, s.L_ = new Hr, s.M_ = new Hr, s.j_ = new Op(st(s)), s.oH = n, s.gc = i, s.OS = e, s.aH = r, s.hH = new Dt, s.hH.cH(s.oH), s.fH = new Sp(s.oH), s.vH = Tp.q.HV().MV(), s.m_ = s.lH(s.vH), s.m_.gg = s.gg, s.dH(), s } rt(n, t); var i = n.prototype; return i.dN = function () { this.m_.dN() }, i.sN = function () { this.m_.sN() }, i.bx = function () { return this.z_({ sources: [] }) }, i.oI = function () { this.hH._H() }, i.U_ = function (t) { Xl(this, t) }, i.V_ = function () { }, i.Ex = function (t) { return !1 }, i.lH = function (t) { return new t(this.oH, this.hH, this.OS, this.gc, this.aH) }, i.dH = function () { this.L_.xf = this.m_.og, this.M_.xf = this.m_.Tg, this.j_.xf = this.m_.Ag, this.m_.uf(this.do) }, i.gH = function () { this.m_.hf(this.do), this.L_.xf = void 0, this.M_.xf = void 0, this.j_.xf = void 0 }, i.G_ = function () { return this.sH }, i.z_ = function () { var t = St(At.mark(function t(n, i) { var e, r, s, u, o, a; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (Rn(i), this.sH = n, n) { t.next = 4; break } return t.abrupt("return"); case 4: if (!rf(e = n.sources.filter(af))) { t.next = 7; break } return t.abrupt("return"); case 7: return t.next = 9, bp(e, n); case 9: if (r = t.sent, Rn(i), s = r.UD, u = r.C_, o = this.H_(), a = Wl(this), this.vH === u && !this.Bo) { t.next = 25; break } return this.gH(), t.next = 19, this.m_.Af(); case 19: Rn(i), this.vH = u, this.m_ = this.lH(u), Mp(this.m_, a), $l(this, a, this), this.dH(); case 25: return this.m_.gg = this.gg, this.uH ? this.m_.B_() : this.m_.Z_(), t.next = 29, this.m_.z_(s, n, i); case 29: Rn(i), this.wH(s), this.H_() !== o && this._o(new Zl); case 32: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.wH = function (t) { this.rH !== t && (this.rH = t, this._o(new Kl(t))) }, i.q_ = function () { return this.m_.q_() }, i.W_ = function () { this.m_.W_() }, i.X_ = function () { this.m_.X_() }, i.Nx = function () { return this.m_.Nx() }, i.H_ = function () { return this.m_.H_() }, i._x = function () { return this.hH.yH.map(function (t) { return t.fV }) }, i.K_ = function () { this.m_.K_() }, i.bf = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.sH = void 0, this.wH(void 0), t.next = 4, this.m_.bf(); case 4: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.Af = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.To(), t.next = 3, this.bf(); case 3: return t.next = 5, this.m_.Af(); case 5: this.hH.Af(), this.fH.Af(), this.L_.Af(), this.M_.Af(), this.j_.Af(); case 10: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.B_ = function () { this.uH = !0, this.m_.B_() }, i.Z_ = function () { this.uH = !1, this.m_.Z_() }, T(n, [{ key: "og", get: function () { return this.L_ } }, { key: "hg", get: function () { return this.m_.hg } }, { key: "oE", get: function () { return this.oH } }, { key: "Bo", get: function () { return this.m_.Bo || null } }, { key: "cg", get: function () { return this.m_.cg }, set: function (t) { this.m_.cg = t } }, { key: "fg", get: function () { return this.rH } }, { key: "yg", get: function () { return this.m_.yg }, set: function (t) { this.m_.yg = t } }, { key: "Zy", get: function () { return this.m_.Zy } }, { key: "SN", get: function () { return this.m_.SN } }, { key: "vg", get: function () { return this.m_.vg } }, { key: "A_", get: function () { return this.m_.A_ } }, { key: "RE", get: function () { return this.m_.RE }, set: function (t) { this.m_.RE = t } }, { key: "dg", get: function () { return this.m_.dg } }, { key: "rN", get: function () { return this.m_.rN } }, { key: "_g", get: function () { return this.m_._g }, set: function (t) { this.m_._g = t } }, { key: "wg", get: function () { return this.m_.wg } }, { key: "gg", get: function () { return this.cV }, set: function (t) { this.cV = t, this.m_ && (this.m_.gg = this.cV) } }, { key: "Zf", get: function () { return this.m_.Zf } }, { key: "jx", get: function () { return this.m_.jx } }, { key: "pg", get: function () { return this.m_.pg } }, { key: "Ag", get: function () { return this.j_ } }, { key: "Gx", get: function () { return this.m_.Gx } }, { key: "Tg", get: function () { return this.M_ } }, { key: "zx", get: function () { return this.m_.zx } }, { key: "ux", get: function () { return this.m_.ux }, set: function (t) { this.m_.ux = t } }]), n }(hr); function Mp(t, n) { t.RE !== n.RE && (t.RE = n.RE), t.ux !== n.ux && (t.ux = n.ux), t._g !== n._g && (t._g = n._g) } var Lp = function (t) { function n(n, i) { var e; return (e = t.call(this) || this).oH = n, e.pH = i, e.mH = new cu, e.kH = new fu, e } rt(n, t); var i = n.prototype; return i.Ex = function (t) { return !0 }, i.Z_ = function () { }, i.sN = function () { throw this._o(new ou(this.pH.message)), this.pH }, i.dN = function () { }, i.G_ = function () { }, i.z_ = function () { var t = St(At.mark(function t(n, i) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: throw Rn(i), this._o(new ou(this.pH.message)), this.pH; case 3: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.B_ = function () { }, i.bx = function () { return Tt.resolve() }, i.Nx = function () { }, i.H_ = function () { }, i._x = function () { return [] }, i.oI = function () { }, i.U_ = function (t) { }, i.V_ = function () { }, i.q_ = function () { return !1 }, i.W_ = function () { }, i.X_ = function () { }, i.K_ = function () { }, i.bf = function () { return Tt.resolve() }, i.Af = function () { return this.To(), this.mH.Af(), this.kH.Af(), Tt.resolve() }, T(n, [{ key: "og", get: function () { return this.mH } }, { key: "hg", get: function () { return hs.Vd().Jl() } }, { key: "cg", get: function () { return new Date(NaN) }, set: function (t) { } }, { key: "fg", get: function () { } }, { key: "yg", get: function () { return 0 }, set: function (t) { } }, { key: "Zy", get: function () { return 0 } }, { key: "oE", get: function () { return this.oH } }, { key: "SN", get: function () { return !0 } }, { key: "Bo", get: function () { return this.pH } }, { key: "A_", get: function () { return { b_: 0, k_: 0, N_: 0 } } }, { key: "RE", get: function () { return !1 }, set: function (t) { } }, { key: "dg", get: function () { return !0 } }, { key: "rN", get: function () { return !0 } }, { key: "_g", get: function () { return 0 }, set: function (t) { } }, { key: "wg", get: function () { return hs.Vd().Jl() } }, { key: "gg", get: function () { return X_.Iw }, set: function (t) { } }, { key: "Zf", get: function () { return eu.h_ } }, { key: "jx", get: function () { return hs.Vd().Jl() } }, { key: "pg", get: function () { return !1 } }, { key: "Ag", get: function () { return this.kH } }, { key: "Gx", get: function () { return 0 } }, { key: "Tg", get: function () { return this.mH } }, { key: "zx", get: function () { return 0 } }, { key: "ux", get: function () { return 1 }, set: function (t) { } }, { key: "vg", get: function () { return !1 } }]), n }(hr); var jp, Fp = function () { var t = function () { function t(t) { this.bH = t } var n = t.prototype; return n.AH = function (t) { var n, i, e, r, s, u, o, a = []; if (!t) return ""; for (n = 0; n < t.length; n += 4)i = (o = this.bH.indexOf(t.charAt(n)) << 18 | this.bH.indexOf(t.charAt(n + 1)) << 12 | (s = this.bH.indexOf(t.charAt(n + 2))) << 6 | (u = this.bH.indexOf(t.charAt(n + 3)))) >>> 16 & 255, e = o >>> 8 & 255, r = 255 & o, a[n / 4] = String.fromCharCode(i, e, r), 64 === u && (a[n / 4] = String.fromCharCode(i, e)), 64 === s && (a[n / 4] = String.fromCharCode(i)); return a.join("") }, n.TH = function (t) { var n, i, e, r, s, u, o, a = [], h = ""; if ((u = t.length % 3) > 0) for (; u++ < 3;)h += this.bH.charAt(64), t += "\0"; for (u = 0; u < t.length; u += 3)i = (n = t.charCodeAt(u) << 16 | t.charCodeAt(u + 1) << 8 | t.charCodeAt(u + 2)) >> 18 & 63, e = n >> 12 & 63, r = n >> 6 & 63, s = 63 & n, a[u / 3] = this.bH.charAt(i) + this.bH.charAt(e) + this.bH.charAt(r) + this.bH.charAt(s); return (o = a.join("")).slice(0, o.length - h.length) + h }, t }(); return t.SM = new t(function () { var t, n, i, e, r = [], s = ["object", "$", "undefined", "function", "Cannot find module '", "MODULE_NOT_FOUND", "*", "com.widevine.alpha", "urn:mpeg:dash:mp4protection:2011", "^", "urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed", "__proto__", "@@iterator", "getUTCHours", "setUTCFullYear", "25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?", "SegmentBase", "RateChangeEvent", "Symbol(", "Symbol.", '; codecs="']; for (t = 0; t < s.length; t += 1)for (n = s[t], i = 0; i < n.length; i += 1)e = n.charAt(i), -1 === r.indexOf(e) && r.push(e); return r.join("") }()), t.SH = new t(t.SM.AH("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")), t }(), Up = /[^\x00-\x7E]/g; function Vp(t, n, i) { return JSON.stringify(t, n, i).replace(Up, Hp) } function Hp(t) { return "\\u" + sn(t.charCodeAt(0).toString(16), 4, "0") } var zp = ["http:", "https:", "ftp:", "ws:", "wss:"]; function qp() { try { return Ot.top.location.href } catch (t) { return Ot && Ot.document && Ot.document.referrer } } var Gp, Wp, Xp = function (t) { function n(n) { var i; return (i = t.call(this, "EH") || this).Bo = n, i } return rt(n, t), n }(Mn); !function (t) { t[t.IH = 0] = "IH", t[t.RH = 1] = "RH" }(Gp || (Gp = {})), function (t) { t[t.NH = 0] = "NH", t[t.IH = 1] = "IH", t[t.CH = 2] = "CH", t[t.RH = 3] = "RH" }(Wp || (Wp = {})); var $p, Qp = function (t, n, i, e) { this.DH = t, this.xH = n, this.OH = i, this.BH = e }; !function (t) { t.NH = "expired", t.PH = "invaliddomain", t.MH = "invalidsource", t.ep = "error" }($p || ($p = {})); var Yp = function () { var t = function (t) { function n(i, e, r, s, u, o, a, h) { var c; void 0 === a && (a = Fp.SM), void 0 === h && (h = Fp.SH), (c = t.call(this) || this).LH = void 0, c.jH = void 0, c.FH = i, c.UH = o, c.VH = e, c.HH = r, c.GH = s, c.OS = u, c.zH = a, c.qH = h; var f = Rl(c.UH.Mk); return c.WH = n.XH(f) && !n.$H(f) && !n.QH(f), c } rt(n, t); var i = n.prototype; return i.YH = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.LH || (this.LH = this.ZH()), t.abrupt("return", this.LH); case 2: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.ZH = function () { var t = St(At.mark(function t() { var n, i, e; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (n = this.KH, (i = this.JH(n)) !== Wp.IH) { t.next = 4; break } return t.abrupt("return", Gp.IH); case 4: if (i !== Wp.RH) { t.next = 6; break } return t.abrupt("return", Gp.RH); case 6: return t.next = 8, this.tG(); case 8: (e = t.sent) && (n = e), i = this.JH(n), t.t0 = i, t.next = t.t0 === Wp.IH ? 14 : t.t0 === Wp.RH ? 15 : t.t0 === Wp.NH ? 16 : t.t0 === Wp.CH ? 17 : 18; break; case 14: return t.abrupt("return", Gp.IH); case 15: return t.abrupt("return", Gp.RH); case 16: return t.abrupt("return", this.nG($p.NH)); case 17: return t.abrupt("return", this.nG($p.PH)); case 18: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.iG = function () { var t = St(At.mark(function t(n) { var i, e, r, s, u = this; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!Jc(n)) { t.next = 2; break } return t.abrupt("return"); case 2: return t.next = 4, this.YH(); case 4: if (t.sent !== Gp.IH) { t.next = 7; break } return t.abrupt("return"); case 7: return i = [], nf(n.sources) ? i = [n.sources] : L(n.sources) && (i = n.sources), e = i.map(function (t) { return u.eG(t) }), t.next = 12, Tt.all(e); case 12: for (r = t.sent, s = 0; s < r.length; s++)r[s] || this.nG($p.MH); case 14: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.tG = function () { return this.jH || (this.jH = this.rG()), this.jH }, i.rG = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, t.next = 3, this.sG(); case 3: return t.abrupt("return", t.sent); case 6: if (t.prev = 6, t.t0 = t.catch(0), !!this.WH) { t.next = 13; break } return t.abrupt("return", n.uG); case 13: return t.abrupt("return", void 0); case 14: case "end": return t.stop() } }, t, this, [[0, 6]]) })); return function () { return t.apply(this, arguments) } }(), i.JH = function (t) { return t === n.uG ? Wp.IH : n.oG(t.BH) ? this.aG(t) ? Wp.IH : n.hG(t) ? Wp.CH : Wp.RH : Wp.NH }, n.oG = function (t) { var n = +new Date, i = +new Date(+t); return !!i && n <= i }, i.aG = function (t) { return !(!Zp(t.xH) && !Zp(t.OH)) || !!(this.WH && this.cG(t.xH) && this.fG(t.xH)) }, n.hG = function (t) { return 0 === t.OH.length }, i.sG = function () { var t = St(At.mark(function t() { var i, e, r, s, u; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return i = { licensekey: this.zH.AH(this.FH.DH), url: this.UH.Mk, topFrameUrl: this.vG() || "", version: this.HH, embeddable: this.VH }, e = new th({ Mk: n.lG, TT: !1, mT: Wa.dT, wT: this.qH.TH(Vp(i)), yT: { "Content-Type": oy.qF }, kT: 4e3, pT: "POST" }), t.next = 4, this.OS.HT(e); case 4: return r = t.sent, t.next = 7, r.ei(); case 7: if (s = t.sent, Kp(u = JSON.parse(this.qH.AH(s)))) { t.next = 11; break } throw new l; case 11: return t.abrupt("return", new Qp(u.licensekey, u.domains, u.sourcedomains, u.expirationdate)); case 12: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.cG = function (t) { return n.dG(this.UH.Mk, t) }, i.fG = function (t) { if (!this.UH._G) return !0; if (this.VH) return !0; var i = this.vG(); return !!i && n.dG(i, t) }, i.vG = function () { if (this.UH._G) { var t = u.ancestorOrigins; return t && t.length > 0 ? t[t.length - 1] : this.UH.gG ? this.UH.gG : void 0 } }, i.eG = function () { var t = St(At.mark(function t(i) { var e; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!n.checkSourceValid(i, this.KH.OH)) { t.next = 2; break } return t.abrupt("return", !0); case 2: return t.next = 4, this.tG(); case 4: if (!(e = t.sent)) { t.next = 7; break } return t.abrupt("return", n.checkSourceValid(i, e.OH)); case 7: return t.abrupt("return", !1); case 8: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), n.wG = function (t, n) { if (!t) return !1; if ("*" === (n = n.trim())) return !0; if (n === (t = t.replace(/\.+$/, ""))) return !0; var i = "\\.", e = "25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?", r = "(\\*|" + e + ")", s = new RegExp("ip-range\\(" + r + i + r + i + r + i + r + "\\)"), u = n.match(s), o = function (t) { return "*" === t ? "(" + e + ")" : t }; if (null !== u && 5 === u.length) { var a = new RegExp("^" + u[1] + i + o(u[2]) + i + o(u[3]) + i + o(u[4]) + "$"); return null !== t.match(a) } return n = "." + n, -1 !== t.indexOf(n, t.length - n.length) }, n.checkSourceValid = function (t, n) { var i = this.yG(t); return this.dG(i, n) }, n.yG = function (t) { return U(t) ? t : of(t) && t.src || "" }, n.dG = function (t, i) { var e = Rl(t); if (!n.XH(e)) return !0; for (var r = 0; r < i.length; r++) { var s = i[r]; if (this.wG(e.hostname, s)) return !0; if (this.wG(Bl(t), s)) return !0 } return !1 }, n.XH = function (t) { return -1 !== zp.indexOf(t.protocol) }, n.$H = function (t) { return n.wG(t.hostname, "localhost") }, n.QH = function (t) { return n.wG(t.hostname, "theoplayer.doubleclick.net") }, i.nG = function (t) { var n = Jp.pG(t), i = new au(uu.LICENSE_INVALID, n); throw tt(i.message + " Please contact support@theoplayer.com."), this.GH.mG(n), this._o(new Xp(i)), i }, T(n, [{ key: "KH", get: function () { var t = this, n = this.FH, i = this.zH.AH(n.DH), e = n.xH.map(function (n) { return t.zH.AH(n) }), r = n.OH.map(function (n) { return t.zH.AH(n) }), s = this.zH.AH(n.BH); return new Qp(i, e, r, s) } }]), n }(hr); return t.lG = "https://licenseapi.theoplayer.com/api/v1/check", t.uG = new Qp("dummy_online_license_key", ["*"], ["*"], ""), t }(); function Zp(t) { return t.some(function (t) { return "*" === t }) } function Kp(t) { var n = t; return F(n) && U(n.licensekey) && M(n.domains) && n.domains.every(U) && M(n.sourcedomains) && n.sourcedomains.every(U) && U(n.expirationdate) } for (var Jp = function () { var t = function () { function t() { } return t.pG = function (t) { return t === $p.PH ? this.kG : t === $p.MH ? this.bG : t === $p.NH ? this.AG : this.TG }, t }(); return t.TG = "The license for this player is invalid.", t.AG = "The usage license for this video player has expired.", t.kG = "The current domain is incompatible with the license for this player.", t.bG = "The provided video source is incompatible with the license for this player.", t }(), tm = new Array(256), nm = 0; nm < 256; nm += 1)tm[nm] = (nm < 16 ? "0" : "") + nm.toString(16); function im() { var t = it(), n = (4294967296 * _.random() | 0) + t & 3029421624, i = (4294967296 * _.random() | 0) + t & 3595553209, e = (4294967296 * _.random() | 0) + t & 1130486254, r = (4294967296 * _.random() | 0) + t & 1284287105; return tm[255 & n] + tm[n >>> 8 & 255] + tm[n >>> 16 & 255] + tm[n >>> 24 & 255] + "-" + tm[255 & i] + tm[i >>> 8 & 255] + "-" + tm[i >>> 16 & 15 | 64] + tm[i >>> 24 & 255] + "-" + tm[63 & e | 128] + tm[e >>> 8 & 255] + "-" + tm[e >>> 16 & 255] + tm[e >>> 24 & 255] + tm[255 & r] + tm[r >>> 8 & 255] + tm[r >>> 16 & 255] + tm[r >>> 24 & 255] } var em, rm = "theoplayer-session-id"; function sm() { if (!em) { var t = vs.Vo(rm); t ? em = t : (em = im(), vs.zd(rm, em)) } return em } function um(t) { var n = [t.Mg, t.SG, t.EG]; switch (t.SG) { case 1: case 6: n.push(t.tv); break; case 4: n.push(t.yg), n.push(t.Bo); break; case 5: n.push(t.Bo) }return n } var om = 0, am = 1, hm = 6e4; function cm(t) { var n, i, e = (n = function (t) { return [t.IG, t.Hh, t.DH, t.FO, t.RG, t.oA, t.HA.map(um)] }(t), i = [], Vp(n, function (t, n) { if (j(n)) { if (-1 !== i.indexOf(n)) return null; i.push(n) } return n })); return Fp.SH.TH(e) } var fm = function () { function t(t, n, i, e, r) { var s = this; void 0 === e && (e = om), void 0 === r && (r = am), this.NG = [], this.CG = null, this.DG = 0, this.xG = "unknown", this.OG = 0, this.BG = function () { h_() - s.DG > hm && s.PG() }, this.MG = function () { s.PG(!0) }, this.OS = i, this.LG = t, this.jF = n, this.jG = e, this.FG = r, Bt.UG(this.MG), c(this.BG, hm) } var n = t.prototype; return n.VG = function () { return !!this.RG }, n.HG = function (t) { var n = { SG: 1, EG: it(), tv: t }; this.GG(n) }, n.zG = function (t, n) { var i = { SG: 4, EG: it(), yg: n, Bo: t }; this.GG(i) }, n.mG = function (t) { var n = { SG: 5, EG: it(), Bo: t }; this.GG(n) }, n.GG = function (t) { var n; "a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH" === this.LG && 5 !== t.SG || (1 === t.SG ? this.qG() : this.VG() || this.qG(), t.Mg = this.OG++, this.NG.push(t), 1 === (n = t.SG) || 5 === n ? this.PG() : this.NG.length > this.jG && this.WG()) }, n.PG = function (t) { for (void 0 === t && (t = !1); this.NG.length > 0;)this.WG(t) }, n.XG = function (t) { return { IG: it(), Hh: sm(), DH: this.LG || "dev", FO: this.jF, RG: this.CG, oA: this.xG, HA: t } }, n.WG = function (t) { void 0 === t && (t = !1); var n = this.NG.splice(0, this.FG), i = this.XG(n); t ? this.$G(i) : this.QG(i), this.DG = h_() }, n.QG = function () { var t = St(At.mark(function t(n) { var i, e, r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return i = cm(n), e = new th({ Mk: "https://license.theoplayer.com", wT: i, TT: !1, mT: Wa.dT, yT: { "Content-Type": oy.qF }, kT: 4e3, pT: "POST" }), t.prev = 2, t.next = 5, this.OS.HT(e); case 5: return r = t.sent, t.next = 8, r.GF(); case 8: t.next = 13; break; case 10: t.prev = 10, t.t0 = t.catch(2), (new Image).src = "https://licensing.theoplayer.com/t?" + i; case 13: case "end": return t.stop() } }, t, this, [[2, 10]]) })); return function (n) { return t.apply(this, arguments) } }(), n.$G = function (t) { var n = cm(t); this.OS.$G({ Mk: "https://license.theoplayer.com", wT: n, bA: oy.qF }) }, n.qG = function () { this.VG() && this.PG(), this.CG = im(), this.OG = 0 }, n.Af = function () { Bt.YG(this.MG), this.PG() }, T(t, [{ key: "HA", get: function () { return this.NG } }, { key: "RG", get: function () { return this.CG } }]), t }(); var vm = function () { var n, i = t.Blob; if (i) try { return new i, n = i, function (t, i) { return new n(t, i) } } catch (t) { } var e, r = t.BlobBuilder || t.WebKitBlobBuilder || t.MozBlobBuilder || t.MSBlobBuilder; return r ? (e = r, function (t, n) { var i = new e; if (t) for (var r = 0; r < t.length; r++) { var s = t[r]; i.append(s) } return i.getBlob(n && n.type || "") }) : null }(), lm = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? Symbol : function (t) { return "Symbol(" + t + ")" }; function dm() { } var gm = Number.isNaN || function (t) { return t != t }, _m = dm; function wm(t) { return "object" == typeof t && null !== t || "function" == typeof t } function ym(t) { return t.slice() } function pm(t) { return !1 !== function (t) { if ("number" != typeof t) return !1; if (gm(t)) return !1; if (t < 0) return !1; return !0 }(t) && t !== 1 / 0 } function mm(t, n, i) { if ("function" != typeof t) throw new l("Argument is not a function"); return Function.prototype.apply.call(t, n, i) } function km(t, n, i, e) { var r = t[n]; if (void 0 !== r) { if ("function" != typeof r) throw new l(r + " is not a method"); switch (i) { case 0: return function () { return Am(r, t, e) }; case 1: return function (n) { var i = [n].concat(e); return Am(r, t, i) } } } return function () { return xm(void 0) } } function bm(t, n, i) { var e = t[n]; if (void 0 !== e) return mm(e, t, i) } function Am(t, n, i) { try { return xm(mm(t, n, i)) } catch (t) { return Bm(t) } } function Tm(t) { return t } function Sm(t) { if (t = Number(t), gm(t) || t < 0) throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN"); return t } function Em(t) { if (void 0 === t) return function () { return 1 }; if ("function" != typeof t) throw new l("size property of a queuing strategy must be a function"); return function (n) { return t(n) } } var Im = Tt, Rm = Tt.prototype.then, Cm = Tt.resolve.bind(Im), Nm = Tt.reject.bind(Im); function Dm(t) { return new Im(t) } function xm(t) { return Cm(t) } function Bm(t) { return Nm(t) } function Om(t, n, i) { return Rm.call(t, n, i) } function Pm(t, n, i) { Om(Om(t, n, i), void 0, _m) } function Mm(t, n) { Pm(t, n) } function Lm(t, n) { Pm(t, void 0, n) } function jm(t, n, i) { return Om(t, n, i) } function Fm(t) { Om(t, void 0, _m) } var Um = function () { function t() { this.ZG = 0, this.KG = 0, this.Hs = { JG: [], tz: void 0 }, this.nz = this.Hs, this.ZG = 0, this.KG = 0 } return g.defineProperty(t.prototype, "length", { get: function () { return this.KG }, enumerable: !0, configurable: !0 }), t.prototype.push = function (t) { var n = this.nz, i = n; 16383 === n.JG.length && (i = { JG: [], tz: void 0 }), n.JG.push(t), i !== n && (this.nz = i, n.tz = i), ++this.KG }, t.prototype.shift = function () { var t = this.Hs, n = t, i = this.ZG, e = i + 1, r = t.JG, s = r[i]; return 16384 === e && (n = t.tz, e = 0), --this.KG, this.ZG = e, t !== n && (this.Hs = n), r[i] = void 0, s }, t.prototype.forEach = function (t) { for (var n = this.ZG, i = this.Hs, e = i.JG; !(n === e.length && void 0 === i.tz || n === e.length && (n = 0, 0 === (e = (i = i.tz).JG).length));)t(e[n]), ++n }, t.prototype.peek = function () { var t = this.Hs, n = this.ZG; return t.JG[n] }, t }(); function Vm(t, n, i) { var e = null; !0 === i && (e = g.prototype); var r = g.create(e); return r.value = t, r.done = n, r } function Hm(t, n) { t.iz = !0, t.ez = n, n.rz = t, "readable" === n.sz ? Wm(t) : "closed" === n.sz ? function (t) { Wm(t), Qm(t) }(t) : Xm(t, n.oz) } function zm(t, n) { return Jb(t.ez, n) } function qm(t) { "readable" === t.ez.sz ? $m(t, new l("Reader was released and can no longer be used to monitor the stream's closedness")) : function (t, n) { Xm(t, n) }(t, new l("Reader was released and can no longer be used to monitor the stream's closedness")), t.ez.rz = void 0, t.ez = void 0 } function Gm(t) { return new l("Cannot " + t + " a stream using a released reader") } function Wm(t) { t.Dh = Dm(function (n, i) { t.cz = n, t.fz = i }) } function Xm(t, n) { Wm(t), $m(t, n) } function $m(t, n) { Fm(t.Dh), t.fz(n), t.cz = void 0, t.fz = void 0 } function Qm(t) { t.cz(void 0), t.cz = void 0, t.fz = void 0 } var Ym = lm("[[CancelSteps]]"), Zm = lm("[[PullSteps]]"); function Km(t, n) { void 0 === n && (n = !1); var i = new sk(t); return i.iz = n, i } function Jm(t) { return Dm(function (n, i) { var e = { Wr: n, xi: i }; t.rz.vz.push(e) }) } function tk(t, n, i) { var e = t.rz; e.vz.shift().Wr(Vm(n, i, e.iz)) } function nk(t) { return t.rz.vz.length } function ik(t) { var n = t.rz; return void 0 !== n && !!uk(n) } var ek, rk, sk = function () { function t(t) { if (!1 === Zb(t)) throw new l("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance"); if (!0 === Kb(t)) throw new l("This stream has already been locked for exclusive reading by another reader"); Hm(this, t), this.vz = new Um } return g.defineProperty(t.prototype, "closed", { get: function () { return uk(this) ? this.Dh : Bm(ak("closed")) }, enumerable: !0, configurable: !0 }), t.prototype.cancel = function (t) { return uk(this) ? void 0 === this.ez ? Bm(Gm("cancel")) : zm(this, t) : Bm(ak("cancel")) }, t.prototype.read = function () { return uk(this) ? void 0 === this.ez ? Bm(Gm("read from")) : ok(this) : Bm(ak("read")) }, t.prototype.releaseLock = function () { if (!uk(this)) throw ak("releaseLock"); if (void 0 !== this.ez) { if (this.vz.length > 0) throw new l("Tried to release a reader lock when that reader has pending read() calls un-settled"); qm(this) } }, t }(); function uk(t) { return !!wm(t) && !!g.prototype.hasOwnProperty.call(t, "vz") } function ok(t) { var n = t.ez; return n.lz = !0, "closed" === n.sz ? xm(Vm(void 0, !0, t.iz)) : "errored" === n.sz ? Bm(n.oz) : n._z[Zm]() } function ak(t) { return new l("ReadableStreamDefaultReader.prototype." + t + " can only be used on a ReadableStreamDefaultReader") } "symbol" == typeof lm.asyncIterator && ((ek = {})[lm.asyncIterator] = function () { return this }, rk = ek, g.defineProperty(rk, lm.asyncIterator, { enumerable: !1 })); var hk = { next: function () { if (!1 === ck(this)) return Bm(fk("next")); var t = this.gz; return void 0 === t.ez ? Bm(Gm("iterate")) : jm(ok(t), function (n) { var i = n.done; return i && qm(t), Vm(n.value, i, !0) }) }, return: function (t) { if (!1 === ck(this)) return Bm(fk("next")); var n = this.gz; if (void 0 === n.ez) return Bm(Gm("finish iterating")); if (n.vz.length > 0) return Bm(new l("Tried to release a reader lock when that reader has pending read() calls un-settled")); if (!1 === this.wz) { var i = zm(n, t); return qm(n), jm(i, function () { return Vm(t, !0, !0) }) } return qm(n), xm(Vm(t, !0, !0)) } }; function ck(t) { return !!wm(t) && !!g.prototype.hasOwnProperty.call(t, "gz") } function fk(t) { return new l("ReadableStreamAsyncIterator." + t + " can only be used on a ReadableSteamAsyncIterator") } function vk(t) { var n = t.Ur.shift(); return t.yz -= n.size, t.yz < 0 && (t.yz = 0), n.value } function lk(t, n, i) { if (!pm(i = Number(i))) throw new RangeError("Size must be a finite, non-NaN, non-negative number."); t.Ur.push({ value: n, size: i }), t.yz += i } function dk(t) { t.Ur = new Um, t.yz = 0 } void 0 !== rk && g.setPrototypeOf(hk, rk), g.defineProperty(hk, "next", { enumerable: !1 }), g.defineProperty(hk, "return", { enumerable: !1 }); var gk = lm("[[AbortSteps]]"), _k = lm("[[ErrorSteps]]"), wk = function () { function t(t, n) { void 0 === t && (t = {}), void 0 === n && (n = {}), pk(this); var i = n.size, e = n.highWaterMark; if (void 0 !== t.type) throw new RangeError("Invalid type is specified"); var r = Em(i); void 0 === e && (e = 1), function (t, n, i, e) { var r = g.create(Lk.prototype); var s = km(n, "write", 1, [r]), u = km(n, "close", 0, []), o = km(n, "abort", 1, []); jk(t, r, function () { return bm(n, "start", [r]) }, s, u, o, i, e) }(this, t, e = Sm(e), r) } return g.defineProperty(t.prototype, "locked", { get: function () { if (!1 === mk(this)) throw Gk("locked"); return kk(this) }, enumerable: !0, configurable: !0 }), t.prototype.abort = function (t) { return !1 === mk(this) ? Bm(Gk("abort")) : !0 === kk(this) ? Bm(new l("Cannot abort a stream that already has a writer")) : bk(this, t) }, t.prototype.close = function () { return !1 === mk(this) ? Bm(Gk("close")) : !0 === kk(this) ? Bm(new l("Cannot close a stream that already has a writer")) : !0 === Ik(this) ? Bm(new l("Cannot close an already-closing stream")) : Ak(this) }, t.prototype.getWriter = function () { if (!1 === mk(this)) throw Gk("getWriter"); return yk(this) }, t }(); function yk(t) { return new Nk(t) } function pk(t) { t.sz = "writable", t.oz = void 0, t.pz = void 0, t.mz = void 0, t.kz = new Um, t.bz = void 0, t.Az = void 0, t.Tz = void 0, t.Sz = void 0, t.Ez = !1 } function mk(t) { return !!wm(t) && !!g.prototype.hasOwnProperty.call(t, "mz") } function kk(t) { return void 0 !== t.pz } function bk(t, n) { var i = t.sz; if ("closed" === i || "errored" === i) return xm(void 0); if (void 0 !== t.Sz) return t.Sz.rr; var e = !1; "erroring" === i && (e = !0, n = void 0); var r = Dm(function (i, r) { t.Sz = { rr: void 0, Wr: i, xi: r, Pr: n, Iz: e } }); return t.Sz.rr = r, !1 === e && Sk(t, n), r } function Ak(t) { var n = t.sz; if ("closed" === n || "errored" === n) return Bm(new l("The stream (in " + n + " state) is not in the writable state and cannot be closed")); var i, e = Dm(function (n, i) { var e = { Wr: n, xi: i }; t.Az = e }), r = t.pz; return void 0 !== r && !0 === t.Ez && "writable" === n && ib(r), lk(i = t.mz, "close", 0), Vk(i), e } function Tk(t, n) { "writable" !== t.sz ? Ek(t) : Sk(t, n) } function Sk(t, n) { var i = t.mz; t.sz = "erroring", t.oz = n; var e = t.pz; void 0 !== e && Ok(e, n), !1 === function (t) { if (void 0 === t.bz && void 0 === t.Tz) return !1; return !0 }(t) && !0 === i.Rz && Ek(t) } function Ek(t) { t.sz = "errored", t.mz[_k](); var n = t.oz; if (t.kz.forEach(function (t) { t.xi(n) }), t.kz = new Um, void 0 !== t.Sz) { var i = t.Sz; if (t.Sz = void 0, !0 === i.Iz) return i.xi(n), void Rk(t); Pm(t.mz[gk](i.Pr), function () { i.Wr(), Rk(t) }, function (n) { i.xi(n), Rk(t) }) } else Rk(t) } function Ik(t) { return void 0 !== t.Az || void 0 !== t.Tz } function Rk(t) { void 0 !== t.Az && (t.Az.xi(t.oz), t.Az = void 0); var n = t.pz; void 0 !== n && Yk(n, t.oz) } function Ck(t, n) { var i = t.pz; void 0 !== i && n !== t.Ez && (!0 === n ? function (t) { Kk(t) }(i) : ib(i)), t.Ez = n } var Nk = function () { function t(t) { if (!1 === mk(t)) throw new l("WritableStreamDefaultWriter can only be constructed with a WritableStream instance"); if (!0 === kk(t)) throw new l("This stream has already been locked for exclusive writing by another writer"); this.Nz = t, t.pz = this; var n, i = t.sz; if ("writable" === i) !1 === Ik(t) && !0 === t.Ez ? Kk(this) : tb(this), $k(this); else if ("erroring" === i) Jk(this, t.oz), $k(this); else if ("closed" === i) tb(this), $k(n = this), Zk(n); else { var e = t.oz; Jk(this, e), Qk(this, e) } } return g.defineProperty(t.prototype, "closed", { get: function () { return !1 === Dk(this) ? Bm(Wk("closed")) : this.Dh }, enumerable: !0, configurable: !0 }), g.defineProperty(t.prototype, "desiredSize", { get: function () { if (!1 === Dk(this)) throw Wk("desiredSize"); if (void 0 === this.Nz) throw Xk("desiredSize"); return function (t) { var n = t.Nz, i = n.sz; if ("errored" === i || "erroring" === i) return null; if ("closed" === i) return 0; return Uk(n.mz) }(this) }, enumerable: !0, configurable: !0 }), g.defineProperty(t.prototype, "ready", { get: function () { return !1 === Dk(this) ? Bm(Wk("ready")) : this.Cz }, enumerable: !0, configurable: !0 }), t.prototype.abort = function (t) { return !1 === Dk(this) ? Bm(Wk("abort")) : void 0 === this.Nz ? Bm(Xk("abort")) : function (t, n) { return bk(t.Nz, n) }(this, t) }, t.prototype.close = function () { if (!1 === Dk(this)) return Bm(Wk("close")); var t = this.Nz; return void 0 === t ? Bm(Xk("close")) : !0 === Ik(t) ? Bm(new l("Cannot close an already-closing stream")) : xk(this) }, t.prototype.releaseLock = function () { if (!1 === Dk(this)) throw Wk("releaseLock"); void 0 !== this.Nz && Pk(this) }, t.prototype.write = function (t) { return !1 === Dk(this) ? Bm(Wk("write")) : void 0 === this.Nz ? Bm(Xk("write to")) : Mk(this, t) }, t }(); function Dk(t) { return !!wm(t) && !!g.prototype.hasOwnProperty.call(t, "Nz") } function xk(t) { return Ak(t.Nz) } function Bk(t, n) { "pending" === t.Dz ? Yk(t, n) : function (t, n) { Qk(t, n) }(t, n) } function Ok(t, n) { "pending" === t.xz ? nb(t, n) : function (t, n) { Jk(t, n) }(t, n) } function Pk(t) { var n = t.Nz, i = new l("Writer was released and can no longer be used to monitor the stream's closedness"); Ok(t, i), Bk(t, i), n.pz = void 0, t.Nz = void 0 } function Mk(t, n) { var i = t.Nz, e = i.mz, r = function (t, n) { try { return t.Oz(n) } catch (n) { return Hk(t, n), 1 } }(e, n); if (i !== t.Nz) return Bm(Xk("write to")); var s = i.sz; if ("errored" === s) return Bm(i.oz); if (!0 === Ik(i) || "closed" === s) return Bm(new l("The stream is closing or closed and cannot be written to")); if ("erroring" === s) return Bm(i.oz); var u = function (t) { return Dm(function (n, i) { var e = { Wr: n, xi: i }; t.kz.push(e) }) }(i); return function (t, n, i) { var e = { chunk: n }; try { lk(t, e, i) } catch (n) { return void Hk(t, n) } var r = t.Bz; if (!1 === Ik(r) && "writable" === r.sz) { var s = zk(t); Ck(r, s) } Vk(t) }(e, n, r), u } var Lk = function () { function t() { throw new l("WritableStreamDefaultController cannot be constructed explicitly") } return t.prototype.error = function (t) { if (!1 === function (t) { if (!wm(t)) return !1; if (!g.prototype.hasOwnProperty.call(t, "Bz")) return !1; return !0 }(this)) throw new l("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController"); "writable" === this.Bz.sz && qk(this, t) }, t.prototype[gk] = function (t) { var n = this.Pz(t); return Fk(this), n }, t.prototype[_k] = function () { dk(this) }, t }(); function jk(t, n, i, e, r, s, u, o) { n.Bz = t, t.mz = n, n.Ur = void 0, n.yz = void 0, dk(n), n.Rz = !1, n.Oz = o, n.Mz = u, n.Lz = e, n.jz = r, n.Pz = s; var a = zk(n); Ck(t, a), Pm(xm(i()), function () { n.Rz = !0, Vk(n) }, function (i) { n.Rz = !0, Tk(t, i) }) } function Fk(t) { t.Lz = void 0, t.jz = void 0, t.Pz = void 0, t.Oz = void 0 } function Uk(t) { return t.Mz - t.yz } function Vk(t) { var n = t.Bz; if (!1 !== t.Rz && void 0 === n.bz) if ("erroring" !== n.sz) { if (0 !== t.Ur.length) { var i = t.Ur.peek().value; "close" === i ? function (t) { var n = t.Bz; (function (t) { t.Tz = t.Az, t.Az = void 0 })(n), vk(t); var i = t.jz(); Fk(t), Pm(i, function () { !function (t) { t.Tz.Wr(void 0), t.Tz = void 0, "erroring" === t.sz && (t.oz = void 0, void 0 !== t.Sz && (t.Sz.Wr(), t.Sz = void 0)), t.sz = "closed"; var n = t.pz; void 0 !== n && Zk(n) }(n) }, function (t) { !function (t, n) { t.Tz.xi(n), t.Tz = void 0, void 0 !== t.Sz && (t.Sz.xi(n), t.Sz = void 0), Tk(t, n) }(n, t) }) }(t) : function (t, n) { var i = t.Bz; (function (t) { t.bz = t.kz.shift() })(i), Pm(t.Lz(n), function () { !function (t) { t.bz.Wr(void 0), t.bz = void 0 }(i); var n = i.sz; if (vk(t), !1 === Ik(i) && "writable" === n) { var e = zk(t); Ck(i, e) } Vk(t) }, function (n) { "writable" === i.sz && Fk(t), function (t, n) { t.bz.xi(n), t.bz = void 0, Tk(t, n) }(i, n) }) }(t, i.chunk) } } else Ek(n) } function Hk(t, n) { "writable" === t.Bz.sz && qk(t, n) } function zk(t) { return Uk(t) <= 0 } function qk(t, n) { var i = t.Bz; Fk(t), Sk(i, n) } function Gk(t) { return new l("WritableStream.prototype." + t + " can only be used on a WritableStream") } function Wk(t) { return new l("WritableStreamDefaultWriter.prototype." + t + " can only be used on a WritableStreamDefaultWriter") } function Xk(t) { return new l("Cannot " + t + " a stream using a released writer") } function $k(t) { t.Dh = Dm(function (n, i) { t.cz = n, t.fz = i, t.Dz = "pending" }) } function Qk(t, n) { $k(t), Yk(t, n) } function Yk(t, n) { Fm(t.Dh), t.fz(n), t.cz = void 0, t.fz = void 0, t.Dz = "rejected" } function Zk(t) { t.cz(void 0), t.cz = void 0, t.fz = void 0, t.Dz = "resolved" } function Kk(t) { t.Cz = Dm(function (n, i) { t.Fz = n, t.Uz = i }), t.xz = "pending" } function Jk(t, n) { Kk(t), nb(t, n) } function tb(t) { Kk(t), ib(t) } function nb(t, n) { Fm(t.Cz), t.Uz(n), t.Fz = void 0, t.Uz = void 0, t.xz = "rejected" } function ib(t) { t.Fz(void 0), t.Fz = void 0, t.Uz = void 0, t.xz = "fulfilled" } function eb(t) { if ("object" != typeof t || null === t) return !1; try { return "boolean" == typeof t.aborted } catch (t) { return !1 } } var rb = "undefined" != typeof DOMException ? DOMException : void 0; var sb, ub = function (t) { if ("function" != typeof t && "object" != typeof t) return !1; try { return new t, !0 } catch (t) { return !1 } }(rb) ? rb : ((sb = function (t, n) { this.message = t || "", this.name = n || "Error", v.captureStackTrace && v.captureStackTrace(this, this.constructor) }).prototype = g.create(v.prototype), g.defineProperty(sb.prototype, "constructor", { value: sb, writable: !0, configurable: !0 }), sb); function ob(t, n, i, e, r, s) { var u = Km(t), o = yk(n); t.lz = !0; var a = !1, h = xm(void 0); return Dm(function (c, f) { var v, d, g, _; if (void 0 !== s) { if (v = function () { var i = new ub("Aborted", "AbortError"), s = []; !1 === e && s.push(function () { return "writable" === n.sz ? bk(n, i) : xm(void 0) }), !1 === r && s.push(function () { return "readable" === t.sz ? Jb(t, i) : xm(void 0) }), m(function () { return Tt.all(s.map(function (t) { return t() })) }, !0, i) }, !0 === s.aborted) return void v(); s.addEventListener("abort", v) } if (p(t, u.Dh, function (t) { !1 === e ? m(function () { return bk(n, t) }, !0, t) : k(!0, t) }), p(n, o.Dh, function (n) { !1 === r ? m(function () { return Jb(t, n) }, !0, n) : k(!0, n) }), d = t, g = u.Dh, _ = function () { !1 === i ? m(function () { return function (t) { var n = t.Nz, i = n.sz; return !0 === Ik(n) || "closed" === i ? xm(void 0) : "errored" === i ? Bm(n.oz) : xk(t) }(o) }) : k() }, "closed" === d.sz ? _() : Mm(g, _), !0 === Ik(n) || "closed" === n.sz) { var w = new l("the destination writable stream closed before all data could be piped to it"); !1 === r ? m(function () { return Jb(t, w) }, !0, w) : k(!0, w) } function y() { var t = h; return Om(h, function () { return t !== h ? y() : void 0 }) } function p(t, n, i) { "errored" === t.sz ? i(t.oz) : Lm(n, i) } function m(t, i, e) { function r() { Pm(t(), function () { return b(i, e) }, function (t) { return b(!0, t) }) } !0 !== a && (a = !0, "writable" === n.sz && !1 === Ik(n) ? Mm(y(), r) : r()) } function k(t, i) { !0 !== a && (a = !0, "writable" === n.sz && !1 === Ik(n) ? Mm(y(), function () { return b(t, i) }) : b(t, i)) } function b(t, n) { Pk(o), qm(u), void 0 !== s && s.removeEventListener("abort", v), t ? f(n) : c(void 0) } Fm(Dm(function (t, n) { !function i(e) { e ? t() : Om(!0 === a ? xm(!0) : Om(o.Cz, function () { return Om(ok(u), function (t) { return !0 === t.done || (h = Om(Mk(o, t.value), void 0, dm), !1) }) }), i, n) }(!1) })) }) } var ab = function () { function t() { throw new l } return g.defineProperty(t.prototype, "desiredSize", { get: function () { if (!1 === hb(this)) throw pb("desiredSize"); return _b(this) }, enumerable: !0, configurable: !0 }), t.prototype.close = function () { if (!1 === hb(this)) throw pb("close"); if (!1 === wb(this)) throw new l("The stream is not in a state that permits close"); lb(this) }, t.prototype.enqueue = function (t) { if (!1 === hb(this)) throw pb("enqueue"); if (!1 === wb(this)) throw new l("The stream is not in a state that permits enqueue"); return db(this, t) }, t.prototype.error = function (t) { if (!1 === hb(this)) throw pb("error"); gb(this, t) }, t.prototype[Ym] = function (t) { dk(this); var n = this.Vz(t); return vb(this), n }, t.prototype[Zm] = function () { var t = this.Hz; if (this.Ur.length > 0) { var n = vk(this); return !0 === this.Gz && 0 === this.Ur.length ? (vb(this), tA(t)) : cb(this), xm(Vm(n, !1, t.rz.iz)) } var i = Jm(t); return cb(this), i }, t }(); function hb(t) { return !!wm(t) && !!g.prototype.hasOwnProperty.call(t, "Hz") } function cb(t) { !1 !== fb(t) && (!0 !== t.zz ? (t.zz = !0, Pm(t.qz(), function () { t.zz = !1, !0 === t.Wz && (t.Wz = !1, cb(t)) }, function (n) { gb(t, n) })) : t.Wz = !0) } function fb(t) { var n = t.Hz; return !1 !== wb(t) && (!1 !== t.Rz && (!0 === Kb(n) && nk(n) > 0 || _b(t) > 0)) } function vb(t) { t.qz = void 0, t.Vz = void 0, t.Oz = void 0 } function lb(t) { var n = t.Hz; t.Gz = !0, 0 === t.Ur.length && (vb(t), tA(n)) } function db(t, n) { var i = t.Hz; if (!0 === Kb(i) && nk(i) > 0) tk(i, n, !1); else { var e = void 0; try { e = t.Oz(n) } catch (n) { throw gb(t, n), n } try { lk(t, n, e) } catch (n) { throw gb(t, n), n } } cb(t) } function gb(t, n) { var i = t.Hz; "readable" === i.sz && (dk(t), vb(t), nA(i, n)) } function _b(t) { var n = t.Hz.sz; return "errored" === n ? null : "closed" === n ? 0 : t.Mz - t.yz } function wb(t) { var n = t.Hz.sz; return !1 === t.Gz && "readable" === n } function yb(t, n, i, e, r, s, u) { n.Hz = t, n.Ur = void 0, n.yz = void 0, dk(n), n.Rz = !1, n.Gz = !1, n.Wz = !1, n.zz = !1, n.Oz = u, n.Mz = s, n.qz = e, n.Vz = r, t._z = n, Pm(xm(i()), function () { n.Rz = !0, cb(n) }, function (t) { gb(n, t) }) } function pb(t) { return new l("ReadableStreamDefaultController.prototype." + t + " can only be used on a ReadableStreamDefaultController") } var mb = Number.isInteger || function (t) { return "number" == typeof t && isFinite(t) && _.floor(t) === t }, kb = function () { function t() { throw new l("ReadableStreamBYOBRequest cannot be used directly") } return g.defineProperty(t.prototype, "view", { get: function () { if (!1 === Tb(this)) throw Ub("view"); return this.tM }, enumerable: !0, configurable: !0 }), t.prototype.respond = function (t) { if (!1 === Tb(this)) throw Ub("respond"); if (void 0 === this.Xz) throw new l("This BYOB request has been invalidated"); this.tM.buffer, function (t, n) { if (!1 === pm(n = Number(n))) throw new RangeError("bytesWritten must be a finite"); Ob(t, n) }(this.Xz, t) }, t.prototype.respondWithNewView = function (t) { if (!1 === Tb(this)) throw Ub("respond"); if (void 0 === this.Xz) throw new l("This BYOB request has been invalidated"); if (!ArrayBuffer.isView(t)) throw new l("You can only respond with array buffer views"); t.buffer, function (t, n) { var i = t.$z.peek(); if (i.byteOffset + i.bytesFilled !== n.byteOffset) throw new RangeError("The region specified by view does not match byobRequest"); if (i.byteLength !== n.byteLength) throw new RangeError("The buffer of view has different capacity than byobRequest"); i.buffer = n.buffer, Ob(t, n.byteLength) }(this.Xz, t) }, t }(), bb = function () { function t() { throw new l("ReadableByteStreamController constructor cannot be used directly") } return g.defineProperty(t.prototype, "byobRequest", { get: function () { if (!1 === Ab(this)) throw Vb("byobRequest"); if (void 0 === this.Qz && this.$z.length > 0) { var t = this.$z.peek(), n = new m(t.buffer, t.byteOffset + t.bytesFilled, t.byteLength - t.bytesFilled), i = g.create(kb.prototype); !function (t, n, i) { t.Xz = n, t.tM = i }(i, this, n), this.Qz = i } return this.Qz }, enumerable: !0, configurable: !0 }), g.defineProperty(t.prototype, "desiredSize", { get: function () { if (!1 === Ab(this)) throw Vb("desiredSize"); return jb(this) }, enumerable: !0, configurable: !0 }), t.prototype.close = function () { if (!1 === Ab(this)) throw Vb("close"); if (!0 === this.Gz) throw new l("The stream has already been closed; do not close it again!"); var t = this.Yz.sz; if ("readable" !== t) throw new l("The stream (in " + t + " state) is not in the readable state and cannot be closed"); !function (t) { var n = t.Yz; if (t.yz > 0) return void (t.Gz = !0); if (t.$z.length > 0) { var i = t.$z.peek(); if (i.bytesFilled > 0) { var e = new l("Insufficient bytes to fill elements in the given buffer"); throw Lb(t, e), e } } Mb(t), tA(n) }(this) }, t.prototype.enqueue = function (t) { if (!1 === Ab(this)) throw Vb("enqueue"); if (!0 === this.Gz) throw new l("stream is closed or draining"); var n = this.Yz.sz; if ("readable" !== n) throw new l("The stream (in " + n + " state) is not in the readable state and cannot be enqueued to"); if (!ArrayBuffer.isView(t)) throw new l("You can only enqueue array buffer views when using a ReadableByteStreamController"); t.buffer, function (t, n) { var i = t.Yz, e = n.buffer, r = n.byteOffset, s = n.byteLength, u = Tm(e); if (!0 === ik(i)) if (0 === nk(i)) Rb(t, u, r, s); else { var o = new m(u, r, s); tk(i, o, !1) } else !0 === qb(i) ? (Rb(t, u, r, s), Bb(t)) : Rb(t, u, r, s); Sb(t) }(this, t) }, t.prototype.error = function (t) { if (!1 === Ab(this)) throw Vb("error"); Lb(this, t) }, t.prototype[Ym] = function (t) { this.$z.length > 0 && (this.$z.peek().bytesFilled = 0); dk(this); var n = this.Vz(t); return Mb(this), n }, t.prototype[Zm] = function () { var t = this.Yz; if (this.yz > 0) { var n = this.Ur.shift(); this.yz -= n.byteLength, Db(this); var i = void 0; try { i = new m(n.buffer, n.byteOffset, n.byteLength) } catch (t) { return Bm(t) } return xm(Vm(i, !1, t.rz.iz)) } var e = this.Zz; if (void 0 !== e) { var r = void 0; try { r = new ArrayBuffer(e) } catch (t) { return Bm(t) } var s = { buffer: r, byteOffset: 0, byteLength: e, bytesFilled: 0, elementSize: 1, ctor: m, readerType: "default" }; this.$z.push(s) } var u = Jm(t); return Sb(this), u }, t }(); function Ab(t) { return !!wm(t) && !!g.prototype.hasOwnProperty.call(t, "Yz") } function Tb(t) { return !!wm(t) && !!g.prototype.hasOwnProperty.call(t, "Xz") } function Sb(t) { !1 !== function (t) { var n = t.Yz; if ("readable" !== n.sz) return !1; if (!0 === t.Gz) return !1; if (!1 === t.Rz) return !1; if (!0 === ik(n) && nk(n) > 0) return !0; if (!0 === qb(n) && zb(n) > 0) return !0; if (jb(t) > 0) return !0; return !1 }(t) && (!0 !== t.zz ? (t.zz = !0, Pm(t.qz(), function () { t.zz = !1, !0 === t.Wz && (t.Wz = !1, Sb(t)) }, function (n) { Lb(t, n) })) : t.Wz = !0) } function Eb(t, n) { var i = !1; "closed" === t.sz && (i = !0); var e = Ib(n); "default" === n.readerType ? tk(t, e, i) : function (t, n, i) { var e = t.rz; e.Kz.shift().Wr(Vm(n, i, e.iz)) }(t, e, i) } function Ib(t) { var n = t.bytesFilled, i = t.elementSize; return new t.ctor(t.buffer, t.byteOffset, n / i) } function Rb(t, n, i, e) { t.Ur.push({ buffer: n, byteOffset: i, byteLength: e }), t.yz += e } function Cb(t, n) { var i = n.elementSize, e = n.bytesFilled - n.bytesFilled % i, r = _.min(t.yz, n.byteLength - n.bytesFilled), s = n.bytesFilled + r, u = s - s % i, o = r, a = !1; u > e && (o = u - n.bytesFilled, a = !0); for (var h, c, f, v, l, d = t.Ur; o > 0;) { var g = d.peek(), w = _.min(o, g.byteLength), y = n.byteOffset + n.bytesFilled; h = n.buffer, c = y, f = g.buffer, v = g.byteOffset, l = w, new m(h).set(new m(f, v, l), c), g.byteLength === w ? d.shift() : (g.byteOffset += w, g.byteLength -= w), t.yz -= w, Nb(t, w, n), o -= w } return a } function Nb(t, n, i) { xb(t), i.bytesFilled += n } function Db(t) { 0 === t.yz && !0 === t.Gz ? (Mb(t), tA(t.Yz)) : Sb(t) } function xb(t) { void 0 !== t.Qz && (t.Qz.Xz = void 0, t.Qz.tM = void 0, t.Qz = void 0) } function Bb(t) { for (; t.$z.length > 0;) { if (0 === t.yz) return; var n = t.$z.peek(); !0 === Cb(t, n) && (Pb(t), Eb(t.Yz, n)) } } function Ob(t, n) { var i = t.$z.peek(); if ("closed" === t.Yz.sz) { if (0 !== n) throw new l("bytesWritten must be 0 when calling respond() on a closed stream"); !function (t, n) { n.buffer = Tm(n.buffer); var i = t.Yz; if (!0 === qb(i)) for (; zb(i) > 0;)Eb(i, Pb(t)) }(t, i) } else !function (t, n, i) { if (i.bytesFilled + n > i.byteLength) throw new RangeError("bytesWritten out of range"); if (Nb(t, n, i), !(i.bytesFilled < i.elementSize)) { Pb(t); var e = i.bytesFilled % i.elementSize; if (e > 0) { var r = i.byteOffset + i.bytesFilled, s = i.buffer.slice(r - e, r); Rb(t, s, 0, s.byteLength) } i.buffer = Tm(i.buffer), i.bytesFilled -= e, Eb(t.Yz, i), Bb(t) } }(t, n, i); Sb(t) } function Pb(t) { var n = t.$z.shift(); return xb(t), n } function Mb(t) { t.qz = void 0, t.Vz = void 0 } function Lb(t, n) { var i = t.Yz; "readable" === i.sz && (!function (t) { xb(t), t.$z = new Um }(t), dk(t), Mb(t), nA(i, n)) } function jb(t) { var n = t.Yz.sz; return "errored" === n ? null : "closed" === n ? 0 : t.Mz - t.yz } function Fb(t, n, i) { var e = g.create(bb.prototype); var r = km(n, "pull", 0, [e]), s = km(n, "cancel", 1, []), u = n.autoAllocateChunkSize; if (void 0 !== u && (u = Number(u), !1 === mb(u) || u <= 0)) throw new RangeError("autoAllocateChunkSize must be a positive integer"); !function (t, n, i, e, r, s, u) { n.Yz = t, n.Wz = !1, n.zz = !1, n.Qz = void 0, n.Ur = n.yz = void 0, dk(n), n.Gz = !1, n.Rz = !1, n.Mz = Sm(s), n.qz = e, n.Vz = r, n.Zz = u, n.$z = new Um, t._z = n, Pm(xm(i()), function () { n.Rz = !0, Sb(n) }, function (t) { Lb(n, t) }) }(t, e, function () { return bm(n, "start", [e]) }, r, s, i, u) } function Ub(t) { return new l("ReadableStreamBYOBRequest.prototype." + t + " can only be used on a ReadableStreamBYOBRequest") } function Vb(t) { return new l("ReadableByteStreamController.prototype." + t + " can only be used on a ReadableByteStreamController") } function Hb(t) { return Dm(function (n, i) { var e = { Wr: n, xi: i }; t.rz.Kz.push(e) }) } function zb(t) { return t.rz.Kz.length } function qb(t) { var n = t.rz; return void 0 !== n && !!Wb(n) } var Gb = function () { function t(t) { if (!Zb(t)) throw new l("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source"); if (!1 === Ab(t._z)) throw new l("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source"); if (Kb(t)) throw new l("This stream has already been locked for exclusive reading by another reader"); Hm(this, t), this.Kz = new Um } return g.defineProperty(t.prototype, "closed", { get: function () { return Wb(this) ? this.Dh : Bm(Xb("closed")) }, enumerable: !0, configurable: !0 }), t.prototype.cancel = function (t) { return Wb(this) ? void 0 === this.ez ? Bm(Gm("cancel")) : zm(this, t) : Bm(Xb("cancel")) }, t.prototype.read = function (t) { return Wb(this) ? void 0 === this.ez ? Bm(Gm("read from")) : ArrayBuffer.isView(t) ? (t.buffer, 0 === t.byteLength ? Bm(new l("view must have non-zero byteLength")) : function (t, n) { var i = t.ez; if (i.lz = !0, "errored" === i.sz) return Bm(i.oz); return function (t, n) { var i = t.Yz, e = 1; n.constructor !== DataView && (e = n.constructor.BYTES_PER_ELEMENT); var r = n.constructor, s = { buffer: Tm(n.buffer), byteOffset: n.byteOffset, byteLength: n.byteLength, bytesFilled: 0, elementSize: e, ctor: r, readerType: "byob" }; if (t.$z.length > 0) return t.$z.push(s), Hb(i); if ("closed" === i.sz) return xm(Vm(new r(s.buffer, s.byteOffset, 0), !0, i.rz.iz)); if (t.yz > 0) { if (!0 === Cb(t, s)) { var u = Ib(s); return Db(t), xm(Vm(u, !1, i.rz.iz)) } if (!0 === t.Gz) { var o = new l("Insufficient bytes to fill elements in the given buffer"); return Lb(t, o), Bm(o) } } t.$z.push(s); var a = Hb(i); return Sb(t), a }(i._z, n) }(this, t)) : Bm(new l("view must be an array buffer view")) : Bm(Xb("read")) }, t.prototype.releaseLock = function () { if (!Wb(this)) throw Xb("releaseLock"); if (void 0 !== this.ez) { if (this.Kz.length > 0) throw new l("Tried to release a reader lock when that reader has pending read() calls un-settled"); qm(this) } }, t }(); function Wb(t) { return !!wm(t) && !!g.prototype.hasOwnProperty.call(t, "Kz") } function Xb(t) { return new l("ReadableStreamBYOBReader.prototype." + t + " can only be used on a ReadableStreamBYOBReader") } var $b = function () { function t(t, n) { void 0 === t && (t = {}), void 0 === n && (n = {}), Yb(this); var i = n.size, e = n.highWaterMark, r = t.type; if ("bytes" === String(r)) { if (void 0 !== i) throw new RangeError("The strategy for a byte stream cannot have a size function"); void 0 === e && (e = 0), Fb(this, t, e = Sm(e)) } else { if (void 0 !== r) throw new RangeError("Invalid type is specified"); var s = Em(i); void 0 === e && (e = 1), function (t, n, i, e) { var r = g.create(ab.prototype), s = km(n, "pull", 0, [r]), u = km(n, "cancel", 1, []); yb(t, r, function () { return bm(n, "start", [r]) }, s, u, i, e) }(this, t, e = Sm(e), s) } } return g.defineProperty(t.prototype, "locked", { get: function () { if (!1 === Zb(this)) throw iA("locked"); return Kb(this) }, enumerable: !0, configurable: !0 }), t.prototype.cancel = function (t) { return !1 === Zb(this) ? Bm(iA("cancel")) : !0 === Kb(this) ? Bm(new l("Cannot cancel a stream that already has a reader")) : Jb(this, t) }, t.prototype.getReader = function (t) { var n = (void 0 === t ? {} : t).mode; if (!1 === Zb(this)) throw iA("getReader"); if (void 0 === n) return Km(this, !0); if ("byob" === (n = String(n))) return function (t, n) { void 0 === n && (n = !1); var i = new Gb(t); return i.iz = n, i }(this, !0); throw new RangeError("Invalid mode is specified") }, t.prototype.pipeThrough = function (t, n) { var i = t.writable, e = t.readable, r = void 0 === n ? {} : n, s = r.preventClose, u = r.preventAbort, o = r.preventCancel, a = r.signal; if (!1 === Zb(this)) throw iA("pipeThrough"); if (!1 === mk(i)) throw new l("writable argument to pipeThrough must be a WritableStream"); if (!1 === Zb(e)) throw new l("readable argument to pipeThrough must be a ReadableStream"); if (s = Boolean(s), u = Boolean(u), o = Boolean(o), void 0 !== a && !eb(a)) throw new l("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal"); if (!0 === Kb(this)) throw new l("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream"); if (!0 === kk(i)) throw new l("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream"); return Fm(ob(this, i, s, u, o, a)), e }, t.prototype.pipeTo = function (t, n) { var i = void 0 === n ? {} : n, e = i.preventClose, r = i.preventAbort, s = i.preventCancel, u = i.signal; return !1 === Zb(this) ? Bm(iA("pipeTo")) : !1 === mk(t) ? Bm(new l("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")) : (e = Boolean(e), r = Boolean(r), s = Boolean(s), void 0 === u || eb(u) ? !0 === Kb(this) ? Bm(new l("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")) : !0 === kk(t) ? Bm(new l("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")) : ob(this, t, e, r, s, u) : Bm(new l("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal"))) }, t.prototype.tee = function () { if (!1 === Zb(this)) throw iA("tee"); var t = function (t, n) { var i, e, r, s, u, o = Km(t), a = !1, h = !1, c = !1, f = Dm(function (t) { u = t }); function v() { return !0 === a ? xm(void 0) : (a = !0, Fm(jm(ok(o), function (t) { if (a = !1, !0 === t.done) return !1 === h && lb(r._z), void (!1 === c && lb(s._z)); var n = t.value, i = n, e = n; !1 === h && db(r._z, i), !1 === c && db(s._z, e) })), xm(void 0)) } function l() { } return r = Qb(l, v, function (n) { if (h = !0, i = n, !0 === c) { var r = ym([i, e]), s = Jb(t, r); u(s) } return f }), s = Qb(l, v, function (n) { if (c = !0, e = n, !0 === h) { var r = ym([i, e]), s = Jb(t, r); u(s) } return f }), Lm(o.Dh, function (t) { gb(r._z, t), gb(s._z, t) }), [r, s] }(this); return ym(t) }, t.prototype.getIterator = function (t) { var n = (void 0 === t ? {} : t).preventCancel, i = void 0 !== n && n; if (!1 === Zb(this)) throw iA("getIterator"); return function (t, n) { void 0 === n && (n = !1); var i = Km(t), e = g.create(hk); return e.gz = i, e.wz = Boolean(n), e }(this, i) }, t }(); function Qb(t, n, i, e, r) { void 0 === e && (e = 1), void 0 === r && (r = function () { return 1 }); var s = g.create($b.prototype); return Yb(s), yb(s, g.create(ab.prototype), t, n, i, e, r), s } function Yb(t) { t.sz = "readable", t.rz = void 0, t.oz = void 0, t.lz = !1 } function Zb(t) { return !!wm(t) && !!g.prototype.hasOwnProperty.call(t, "_z") } function Kb(t) { return void 0 !== t.rz } function Jb(t, n) { return t.lz = !0, "closed" === t.sz ? xm(void 0) : "errored" === t.sz ? Bm(t.oz) : (tA(t), jm(t._z[Ym](n), dm)) } function tA(t) { t.sz = "closed"; var n = t.rz; void 0 !== n && (uk(n) && (n.vz.forEach(function (t) { t.Wr(Vm(void 0, !0, n.iz)) }), n.vz = new Um), Qm(n)) } function nA(t, n) { t.sz = "errored", t.oz = n; var i = t.rz; void 0 !== i && (uk(i) ? (i.vz.forEach(function (t) { t.xi(n) }), i.vz = new Um) : (i.Kz.forEach(function (t) { t.xi(n) }), i.Kz = new Um), $m(i, n)) } function iA(t) { return new l("ReadableStream.prototype." + t + " can only be used on a ReadableStream") } "symbol" == typeof lm.asyncIterator && g.defineProperty($b.prototype, lm.asyncIterator, { value: $b.prototype.getIterator, enumerable: !1, writable: !0, configurable: !0 }); var eA = function () { function t(t) { var n = t.highWaterMark; this.highWaterMark = n } return t.prototype.size = function () { return 1 }, t }(), rA = function () { function t(t, n, i) { void 0 === t && (t = {}), void 0 === n && (n = {}), void 0 === i && (i = {}); var e = n.size, r = n.highWaterMark, s = i.size, u = i.highWaterMark; if (void 0 !== t.writableType) throw new RangeError("Invalid writable type specified"); var o = Em(e); if (void 0 === r && (r = 1), r = Sm(r), void 0 !== t.readableType) throw new RangeError("Invalid readable type specified"); var a, h = Em(s); void 0 === u && (u = 0), u = Sm(u), function (t, n, i, e, r, s) { function u() { return n } t.Jz = function (t, n, i, e, r, s) { void 0 === r && (r = 1), void 0 === s && (s = function () { return 1 }); var u = g.create(wk.prototype); return pk(u), jk(u, g.create(Lk.prototype), t, n, i, e, r, s), u }(u, function (n) { return function (t, n) { var i = t.tq; if (!0 === t.Ez) { var e = t.nq; return jm(e, function () { var e = t.Jz, r = e.sz; if ("erroring" === r) throw e.oz; return lA(i, n) }) } return lA(i, n) }(t, n) }, function () { return function (t) { var n = t.iq, i = t.tq, e = i.rq(); return fA(i), jm(e, function () { if ("errored" === n.sz) throw n.oz; var t = n._z; !0 === wb(t) && lb(t) }, function (i) { throw uA(t, i), n.oz }) }(t) }, function (n) { return function (t, n) { return uA(t, n), xm(void 0) }(t, n) }, i, e), t.iq = Qb(u, function () { return function (t) { return aA(t, !1), t.nq }(t) }, function (n) { return oA(t, n), xm(void 0) }, r, s), t.Ez = void 0, t.nq = void 0, t.uq = void 0, aA(t, !0), t.tq = void 0 }(this, Dm(function (t) { a = t }), r, o, u, h), function (t, n) { var i = g.create(hA.prototype), e = function (t) { try { return vA(i, t), xm(void 0) } catch (t) { return Bm(t) } }, r = n.transform; if (void 0 !== r) { if ("function" != typeof r) throw new l("transform is not a method"); e = function (t) { return Am(r, n, [t, i]) } } var s = km(n, "flush", 0, [i]); !function (t, n, i, e) { n.oq = t, t.tq = n, n.aq = i, n.rq = e }(t, i, e, s) }(this, t); var c = bm(t, "start", [this.tq]); a(c) } return g.defineProperty(t.prototype, "readable", { get: function () { if (!1 === sA(this)) throw gA("readable"); return this.iq }, enumerable: !0, configurable: !0 }), g.defineProperty(t.prototype, "writable", { get: function () { if (!1 === sA(this)) throw gA("writable"); return this.Jz }, enumerable: !0, configurable: !0 }), t }(); function sA(t) { return !!wm(t) && !!g.prototype.hasOwnProperty.call(t, "tq") } function uA(t, n) { gb(t.iq._z, n), oA(t, n) } function oA(t, n) { fA(t.tq), Hk(t.Jz.mz, n), !0 === t.Ez && aA(t, !1) } function aA(t, n) { void 0 !== t.nq && t.uq(), t.nq = Dm(function (n) { t.uq = n }), t.Ez = n } var hA = function () { function t() { throw new l("TransformStreamDefaultController instances cannot be created directly") } return g.defineProperty(t.prototype, "desiredSize", { get: function () { if (!1 === cA(this)) throw dA("desiredSize"); return _b(this.oq.iq._z) }, enumerable: !0, configurable: !0 }), t.prototype.enqueue = function (t) { if (!1 === cA(this)) throw dA("enqueue"); vA(this, t) }, t.prototype.error = function (t) { if (!1 === cA(this)) throw dA("error"); var n; n = t, uA(this.oq, n) }, t.prototype.terminate = function () { if (!1 === cA(this)) throw dA("terminate"); !function (t) { var n = t.oq, i = n.iq._z; !0 === wb(i) && lb(i); var e = new l("TransformStream terminated"); oA(n, e) }(this) }, t }(); function cA(t) { return !!wm(t) && !!g.prototype.hasOwnProperty.call(t, "oq") } function fA(t) { t.aq = void 0, t.rq = void 0 } function vA(t, n) { var i = t.oq, e = i.iq._z; if (!1 === wb(e)) throw new l("Readable side is not in a state that permits enqueue"); try { db(e, n) } catch (t) { throw oA(i, t), i.iq.oz } (function (t) { return !0 !== fb(t) })(e) !== i.Ez && aA(i, !0) } function lA(t, n) { return jm(t.aq(n), void 0, function (n) { throw uA(t.oq, n), n }) } function dA(t) { return new l("TransformStreamDefaultController.prototype." + t + " can only be used on a TransformStreamDefaultController") } function gA(t) { return new l("TransformStream.prototype." + t + " can only be used on a TransformStream") } var _A = function (t) { function n(n) { var i; return (i = t.call(this, "" + n.join("\n"), n[0]) || this).causes = n, i } return rt(n, t), T(n, [{ key: "name", get: function () { return "AggregateError" } }]), n }(ot); function wA(t) { return n = [t], new $b({ start: function (t) { for (var i = 0; i < n.length; i++) { var e = n[i]; t.enqueue(e) } t.close() } }); var n } function yA(t) { return wA(new m(t)) } function pA(t, n) { var i = t.getReader(), e = new Oi, r = function () { s(); var t = new En; i.cancel(t).catch(q), e.ih(t) }, s = function () { n && (n.Ju(r), n = void 0) }; n && (n.Ku ? r() : n.uo(r)); var u = []; return Tt.resolve(i.read()).then(function t(n) { return n.done ? (s(), Tt.resolve(u)) : (u.push(n.value), Tt.resolve(i.read()).then(t)) }).then(function (t) { s(), e.nh(t) }, function (t) { s(), e.ih(t) }), e._a } function mA(t, n) { return pA(t, n).then(function (t) { return Xi(t).buffer }) } function kA(t, n) { var i = new rA, e = i.readable, r = i.writable, s = r.getWriter(), u = function () { n && n.eh() }; return s.closed.then(u, u), t.then(function (t) { return n = void 0, s.releaseLock(), t.pipeTo(r).catch(q) }, function (t) { return n = void 0, s.releaseLock(), r.abort(t).catch(q) }), e } function bA(t) { var n = new rA, i = n.readable, e = n.writable; return t.pipeTo(e, { preventCancel: !0 }).catch(function (t) { var n; n = M(t) ? t[0] === t[1] || In(t[0]) && In(t[1]) ? t[0] : new _A(t) : t, e.abort(n).catch(q) }), i.tee() } function AA(t) { return new Tt(function (n, i) { t.onload = function () { n(t.result) }, t.onerror = function () { i(t.error) } }) } function TA(t) { var n = new FileReader, i = AA(n); return n.readAsArrayBuffer(t), i } function SA(t) { var n = new FileReader, i = AA(n); return n.readAsText(t), i } function EA(t) { return n = t, (new XMLSerializer).serializeToString(n); var n } function IA(t) { return no(t, "text/xml") } function RA(t, n, i) { return pA(t, i).then(function (t) { return vm(t, { type: n }) }) } var CA = "content-type", NA = "text/plain;charset=UTF-8", DA = "application/xml;charset=UTF-8", xA = function () { function t() { } var n = t.prototype; return n.CF = function (t) { return this.hq(t).then(JSON.parse) }, n.cq = function (t) { return this.hq(t).then(IA) }, n.mF = function (t, n) { switch (t) { case Wa.fT: return this.GF(n); case Wa._T: return this.fq(n); case Wa.gT: return this.cq(n); case Wa.vT: return this.CF(n); case Wa.lT: return this.vq(); case Wa.dT: return this.hq(n); default: throw new l } }, t }(); function BA(t, n, i) { if (t instanceof xA) return t; var e, r = (i.get(CA) || "").toLowerCase(); t instanceof $b ? e = { Ou: 0, vq: t, bA: r } : e = { Ou: 1, _a: Tt.resolve(t).then(function (t) { return function (t, n) { if (t) { if ("string" == typeof t) return { Ou: Wa.dT, wT: t, bA: n || NA }; if (t instanceof ArrayBuffer || qi(t)) return { Ou: Wa.fT, wT: GA(t), bA: n }; if (t instanceof Blob) return { Ou: Wa._T, wT: t, bA: t.type || n }; if (t instanceof Document) return { Ou: Wa.gT, wT: t, bA: n || DA }; if (F(t) || M(t)) return { Ou: Wa.vT, wT: t, bA: n }; throw new l("Unsupported BodyInit type") } return { Ou: Wa.dT, wT: null, bA: n } }(t, r) }), lq: n }; return new OA(e) } var OA = function (t) { function n(n) { var i; return (i = t.call(this) || this).dq = !1, i._q = new Oi, i._q._a.catch(q), i.gq(n), i } rt(n, t); var i = n.prototype; return i.wq = function () { return this._q._a }, i.hq = function (t) { return this.yq(PA, t) }, i.CF = function (t) { return this.yq(LA, t) }, i.fq = function (t) { return this.yq(FA, t) }, i.GF = function (t) { return this.yq(VA, t) }, i.vq = function () { return this.pq(0 === (t = this.mq).Ou ? t.vq : kA(t._a.then(HA).then(yA), t.lq)); var t }, i.cq = function (t) { return this.yq(zA, t) }, i.yq = function (t, n) { if (this.dq) return Tt.reject(new l("Already used")); this.dq = !0; var i = t(this.mq, n); return this._q.nh(i.then(q)), i }, i.pq = function (t) { if (this.dq) throw new l("Already used"); if (t.locked) throw new l("Body stream is locked"); this.dq = !0; var n = new rA, i = Tt.resolve(t.pipeTo(n.writable)); return this._q.nh(i), n.readable }, i.gq = function (t) { this.mq = t, 1 === t.Ou && t._a.catch(q) }, i.kq = function () { if (this.dq) throw new l("Already used"); var t = function (t) { if (0 === t.Ou) { var n = t.vq.tee(), i = n[0], e = n[1]; return [{ Ou: t.Ou, vq: i, bA: t.bA }, { Ou: t.Ou, vq: e, bA: t.bA }] } var r = t.lq.dh(), s = r[0], u = r[1]; return [{ Ou: t.Ou, _a: t._a, lq: s }, { Ou: t.Ou, _a: t._a, lq: u }] }(this.mq), i = t[0], e = t[1]; return this.gq(i), new n(e) }, T(n, [{ key: "bq", get: function () { return this.dq } }]), n }(xA); function PA(t, n) { return 0 === t.Ou ? RA(t.vq, t.bA, n).then(SA) : (n && t.lq.lh(n), xn(t._a.then(MA), t.lq)) } function MA(t) { switch (t.Ou) { case Wa.dT: return Tt.resolve(t.wT || ""); case Wa.fT: return n = t.wT, SA(vm([n])); case Wa._T: return SA(t.wT); case Wa.gT: return Tt.resolve(t.wT).then(EA); case Wa.vT: return Tt.resolve(t.wT).then(JSON.stringify) }var n } function LA(t, n) { return 0 === t.Ou ? PA(t, n).then(JSON.parse) : (n && t.lq.lh(n), xn(t._a.then(jA), t.lq)) } function jA(t) { return t.Ou === Wa.vT ? Tt.resolve(t.wT) : MA(t).then(JSON.parse) } function FA(t, n) { return 0 === t.Ou ? RA(t.vq, t.bA, n) : (n && t.lq.lh(n), xn(t._a.then(UA), t.lq)) } function UA(t) { return t.Ou === Wa._T ? Tt.resolve(t.wT) : t.Ou === Wa.fT ? Tt.resolve(vm([t.wT], { type: t.bA })) : MA(t).then(function (n) { return vm([n], { type: t.bA }) }) } function VA(t, n) { return 0 === t.Ou ? mA(t.vq, n) : (n && t.lq.lh(n), xn(t._a.then(HA), t.lq)) } function HA(t) { return t.Ou === Wa.fT ? Tt.resolve(t.wT) : UA(t).then(TA) } function zA(t, n) { return 0 === t.Ou ? PA(t, n).then(IA) : (n && t.lq.lh(n), xn(t._a.then(qA), t.lq)) } function qA(t) { return t.Ou === Wa.gT ? Tt.resolve(t.wT) : MA(t).then(IA) } function GA(t) { return t instanceof ArrayBuffer ? t : Ni(Ii(t)).buffer } function WA(t) { return t.Ej >= 200 && t.Ej <= 299 || 304 === t.Ej } var XA = function (t) { function n(n, i) { var e, r, s, u, o, a; i ? (r = i.yT, s = i.mT, u = i.Ej, o = i.Ij, a = i.Aq) : (r = [], s = Wa.dT, u = 200, o = "OK", a = !1); var h = n.HT, c = new Qa(n.yT || r), f = n.mT || s, v = n.Tq || (i && i.HT === h ? i.Tq : h.Mk), l = BA(void 0 !== n.ei ? n.ei : i ? i.Sq : null, n.lq || new ie, c); return (e = t.call(this, l) || this).yT = c, e.HT = h, e.Tq = v, e.mT = f, e.Ej = void 0 !== n.Ej ? n.Ej : u, e.Ij = void 0 !== n.Ij ? String(n.Ij) : o, e.Aq = n.Aq || a, e } rt(n, t); var i = n.prototype; return i.ei = function (t) { return this.mF(this.mT, t) }, i.Qo = function () { return new n({ ei: this.kq(), HT: this.HT }, this) }, n }(function (t) { function n(n) { var i; return (i = t.call(this) || this).Sq = n, i } rt(n, t); var i = n.prototype; return i.wq = function () { return this.Sq.wq() }, i.hq = function (t) { return this.Sq.hq(t) }, i.CF = function (t) { return this.Sq.CF(t) }, i.fq = function (t) { return this.Sq.fq(t) }, i.GF = function (t) { return this.Sq.GF(t) }, i.cq = function (t) { return this.Sq.cq(t) }, i.vq = function () { return this.Sq.vq() }, i.kq = function () { return this.Sq.kq() }, T(n, [{ key: "bq", get: function () { return this.Sq.bq } }]), n }(xA)), $A = function (t) { function n(n, i, e) { var r; return (r = t.call(this, i, e) || this).Eq = n, r } return rt(n, t), T(n, [{ key: "HT", get: function () { return this.Eq } }]), n }(ot); var QA = function (t) { function n(n, i) { return t.call(this, n, "Error while opening " + n.Mk + ". Invalid URL.", i) || this } return rt(n, t), T(n, [{ key: "name", get: function () { return "Iq" } }]), n }($A); var YA = function (t) { function n(n, i) { var e; return (e = t.call(this, n.HT, function (t) { return "Error while loading " + t.HT.Mk + ", status code " + t.Ej }(n), i) || this).Rq = n, e } return rt(n, t), T(n, [{ key: "name", get: function () { return "Nq" } }, { key: "NF", get: function () { return this.Rq } }]), n }($A); var ZA = function (t) { function n(n, i) { return t.call(this, n, function (t) { return "Request for " + t.Mk + " timed out after " + t.kT + " seconds." }(n), i) || this } return rt(n, t), T(n, [{ key: "name", get: function () { return "Cq" } }]), n }($A), KA = function (t, n) { return (KA = g.setPrototypeOf || { __proto__: [] } instanceof Array && function (t, n) { t.__proto__ = n } || function (t, n) { for (var i in n) n.hasOwnProperty(i) && (t[i] = n[i]) })(t, n) }; function JA(t, n) { function i() { this.constructor = t } KA(t, n), t.prototype = null === n ? g.create(n) : (i.prototype = n.prototype, new i) } var tT = "object" == typeof r ? r : "object" == typeof t ? t : "object" == typeof global ? global : null; var nT = function () { var t = tT.Blob; if (t) try { return new t, function (t, n) { return new tT.Blob(t, n) } } catch (t) { } var n, i = tT.BlobBuilder || tT.WebKitBlobBuilder || tT.MozBlobBuilder || tT.MSBlobBuilder; return i ? (n = i, function (t, i) { var e = new n; if (t) for (var r = 0, s = t; r < s.length; r++) { var u = s[r]; e.append(u) } return e.getBlob(i && i.type || "") }) : null }(), iT = "function" == typeof $b ? $b : void 0; function eT(t) { return t && "function" == typeof t.getReader } function rT(t) { if ("function" != typeof t) return !1; try { var n = !1, i = new t({ start: function () { n = !0 } }); return !!n && eT(i) } catch (t) { return !1 } } var sT = function () { function t(t, n) { this.rz = t, this.Dq = n } return t.prototype.pull = function (t) { var n = this; return this.rz.read().then(function (i) { n.Dq && n.Dq(i), i.done ? t.close() : t.enqueue(i.value) }) }, t.prototype.cancel = function (t) { return this.rz.cancel(t) }, t }(); function uT(t, n) { return n.constructor === t ? n : new t(new sT(n.getReader()), { highWaterMark: 0 }) } var oT = function () { function t(t, n) { this.xq = t, this.oe = n } return t.prototype.pull = function (t) { return this.xq().then(function (n) { t.enqueue(new m(n)), t.close() }) }, t.prototype.cancel = function (t) { this.oe && this.oe(t) }, t }(); function aT(t, n, i) { return new t(new oT(n, i), { highWaterMark: 0 }) } var hT = { searchParams: "URLSearchParams" in tT, iterable: "Symbol" in tT && "iterator" in Symbol, blob: "FileReader" in tT && !!nT, formData: "FormData" in tT, arrayBuffer: "ArrayBuffer" in tT, stream: rT(iT), streamRequest: "Request" in tT && "body" in tT.Request.prototype, streamResponse: "Response" in tT && "body" in tT.Response.prototype, abort: "AbortController" in tT && "Request" in tT && "signal" in tT.Request.prototype, encoding: "TextEncoder" in tT && "TextDecoder" in tT, url: "URL" in tT && function (t) { try { return new tT.URL(t).toString() === t } catch (t) { return !1 } }("http://example.com/"), firefox: "navigator" in tT && /Firefox\//.test(tT.navigator.userAgent) }; function cT(t) { if ("string" != typeof t && (t = String(t)), /[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t)) throw new l("Invalid character in header field name"); return t } function fT(t) { return "string" != typeof t && (t = String(t)), t } function vT(t) { var n = { next: function () { var n = t.shift(); return { done: void 0 === n, value: n } } }; return hT.iterable && (n[Symbol.iterator] = function () { return n }), n } var lT = function () { function t(n) { var i, e = this; this.oT = {}, n instanceof t ? n.asList().forEach(function (t) { var n = t[0], i = t[1]; e.append(n, i) }) : Array.isArray(n) ? n.forEach(function (t) { e.append(t[0], t[1]) }) : (i = n, hT.iterable && i && i[Symbol.iterator] ? Array.from(n).forEach(function (t) { e.append(t[0], t[1]) }) : n && g.getOwnPropertyNames(n).forEach(function (t) { e.append(t, n[t]) })) } return t.prototype.append = function (t, n) { t = cT(t), n = fT(n); var i = t.toLowerCase(); if (this.oT.hasOwnProperty(i)) { var e = this.oT[i], r = e[1]; e[1] = r ? r + ", " + n : n } else this.oT[i] = [t, n] }, t.prototype.delete = function (t) { var n = cT(t).toLowerCase(); delete this.oT[n] }, t.prototype.get = function (t) { var n = cT(t).toLowerCase(); return this.oT.hasOwnProperty(n) ? this.oT[n][1] : null }, t.prototype.has = function (t) { var n = cT(t).toLowerCase(); return this.oT.hasOwnProperty(n) }, t.prototype.set = function (t, n) { var i = (t = cT(t)).toLowerCase(); this.oT[i] = [t, fT(n)] }, t.prototype.forEach = function (t, n) { for (var i in this.oT) this.oT.hasOwnProperty(i) && t.call(n, this.oT[i][1], i, this) }, t.prototype.keys = function () { var t = []; return this.forEach(function (n, i) { t.push(i) }), vT(t) }, t.prototype.values = function () { var t = []; return this.forEach(function (n) { t.push(n) }), vT(t) }, t.prototype.entries = function () { var t = []; return this.forEach(function (n, i) { t.push([i, n]) }), vT(t) }, t.prototype.asList = function () { var t = []; for (var n in this.oT) if (this.oT.hasOwnProperty(n)) { var i = this.oT[n], e = i[0], r = i[1]; t.push([e, r]) } return t }, t }(); function dT() { } hT.iterable && (lT.prototype[Symbol.iterator] = lT.prototype.entries); var gT, _T, wT, yT = _.min, pT = String.fromCharCode, mT = 16384; function kT(t) { for (var n = [], i = 0, e = t; i < e.length; i++) { var r = e[i]; r > 65535 && (r -= 65536, n.push(r >>> 10 & 1023 | 55296), r = 56320 | 1023 & r), n.push(r) } return function (t) { for (var n = t.length, i = [], e = 0; e < n; e += mT) { var r = yT(e + mT, n); i.push(pT.apply(null, t.slice(e, r))) } return i.join("") }(n) } function bT(t) { if (t >= 55296 && t <= 57343) throw new v("Lone surrogate U+" + t.toString(16).toUpperCase() + " is not a scalar value") } function AT(t, n) { return t >> n & 63 | 128 } function TT(t, n) { 0 != (4294967168 & t) ? (0 == (4294965248 & t) ? n.push(t >> 6 & 31 | 192) : 0 == (4294901760 & t) ? (bT(t), n.push(t >> 12 & 15 | 224), n.push(AT(t, 6))) : 0 == (4292870144 & t) && (n.push(t >> 18 & 7 | 240), n.push(AT(t, 12)), n.push(AT(t, 6))), n.push(63 & t | 128)) : n.push(t) } function ST() { if (wT >= _T) throw new v("Invalid byte index"); var t = 255 & gT[wT]; if (wT++, 128 == (192 & t)) return 63 & t; throw new v("Invalid continuation byte") } function ET() { var t, n; if (wT > _T) throw new v("Invalid byte index"); if (wT === _T) return !1; if (t = 255 & gT[wT], wT++, 0 == (128 & t)) return t; if (192 == (224 & t)) { if ((n = (31 & t) << 6 | ST()) >= 128) return n; throw new v("Invalid continuation byte") } if (224 == (240 & t)) { if ((n = (15 & t) << 12 | ST() << 6 | ST()) >= 2048) return bT(n), n; throw new v("Invalid continuation byte") } if (240 == (248 & t) && (n = (7 & t) << 18 | ST() << 12 | ST() << 6 | ST()) >= 65536 && n <= 1114111) return n; throw new v("Invalid UTF-8 detected") } var IT = ["[object Int8Array]", "[object Uint8Array]", "[object Uint8ClampedArray]", "[object Int16Array]", "[object Uint16Array]", "[object Int32Array]", "[object Uint32Array]", "[object Float32Array]", "[object Float64Array]"]; function RT(t) { return t && URLSearchParams.prototype.isPrototypeOf(t) } function CT(t) { return t && ArrayBuffer.prototype.isPrototypeOf(t) } function NT(t) { return t && DataView.prototype.isPrototypeOf(t) } var DT, xT = ArrayBuffer.isView || function (t) { return t && (IT.indexOf(g.prototype.toString.call(t)) > -1 || NT(t)) }; function BT(t) { if (t.bodyUsed) return Tt.reject(new l("Already used")); t.bodyUsed = !0 } function OT(t) { return new Tt(function (n, i) { t.onload = function () { n(t.result) }, t.onerror = function () { i(t.error) } }) } function PT(t) { return hT.encoding ? new tT.TextDecoder("utf-8").decode(new m(t)) : kT(function (t) { _T = (gT = t).length, wT = 0; for (var n, i = []; !1 !== (n = ET());)i.push(n); return i }(new m(t))) } function MT(t) { return hT.encoding ? (new tT.TextEncoder).encode(t).buffer : new m(function (t) { for (var n = [], i = 0, e = t; i < e.length; i++)TT(e[i], n); return n }(function (t) { for (var n = [], i = 0, e = t.length; i < e;) { var r = t.charCodeAt(i++); if (r >= 55296 && r <= 56319 && i < e) { var s = t.charCodeAt(i++); 56320 == (64512 & s) ? n.push(((1023 & r) << 10) + (1023 & s) + 65536) : (n.push(r), i--) } else n.push(r) } return n }(t))).buffer } function LT(t) { var n = t.getReader(), i = [], e = function (t) { var r = t.done, s = t.value; return r ? Tt.resolve(i) : (i.push(s), n.read().then(e)) }; return n.read().then(e) } function jT(t) { return LT(t).then(function (t) { return function (t) { for (var n = 0, i = 0, e = t; i < e.length; i++)n += (a = e[i]).byteLength; for (var r = new m(n), s = 0, u = 0, o = t; u < o.length; u++) { var a = o[u]; r.set(a, s), s += a.byteLength } return r }(t).buffer }) } function FT(t) { return t.slice ? t.slice(0) : UT(new m(t)) } function UT(t) { if (t.slice) return t.slice(0).buffer; var n = new m(t.byteLength); return n.set(new m(t.buffer, t.byteOffset, t.byteLength)), n.buffer } function VT(t) { var n = new FormData; return t.trim().split("&").forEach(function (t) { if (t) { var i = t.split("="), e = i.shift().replace(/\+/g, " "), r = i.join("=").replace(/\+/g, " "); n.append(decodeURIComponent(e), decodeURIComponent(r)) } }), n } function HT(t) { var n = t; if (n.bodyUsed) throw new l("Already used"); if (n.Oq === DT.Bq) { if (!n.Pq.tee) throw new v("could not clone ReadableStream body"); var i = n.Pq.tee(), e = i[0], r = i[1]; return n.body = e, n.Pq = e, n.Mq = e, r } return n.Oq === DT.fT ? FT(n.Pq) : n.Oq === DT.Lq ? n.Pq.then(HT) : n.Mq } !function (t) { t[t.dT = 0] = "dT", t[t._T = 1] = "_T", t[t.jq = 2] = "jq", t[t.fT = 3] = "fT", t[t.Bq = 4] = "Bq", t[t.Lq = 5] = "Lq" }(DT || (DT = {})); var zT = function () { function t(n, i) { this.bodyUsed = !1; var e, r, s, u = this; if (this.Mq = n || null, n) if ("string" == typeof n) this.Oq = DT.dT, this.Pq = n; else if ((s = n) && "function" == typeof s.then) this.Oq = DT.Lq, this.Pq = Tt.resolve(n).then(function (n) { return new t(n, i) }), this.Pq.catch(dT); else if (hT.blob && function (t) { return t && Blob.prototype.isPrototypeOf(t) }(n)) this.Oq = DT._T, this.Pq = n; else if (hT.formData && function (t) { return t && FormData.prototype.isPrototypeOf(t) }(n)) this.Oq = DT.jq, this.Pq = n; else if (hT.searchParams && RT(n)) this.Oq = DT.dT, this.Pq = n.toString(); else if (hT.arrayBuffer && (CT(n) || xT(n))) NT(n) && (this.Mq = new m((r = n).buffer, r.byteOffset, r.byteLength)), this.Oq = DT.fT, this.Pq = CT(e = n) ? FT(e) : UT(e); else { if (!hT.stream || !eT(n)) throw new v("unsupported BodyInit type"); n = uT(iT, n), this.Oq = DT.Bq, this.Pq = n, this.Mq = n } else this.Oq = DT.dT, this.Pq = ""; this.Fq = "", i.has("content-type") ? this.Fq = (i.get("content-type") || "").toLowerCase() : ("string" == typeof n ? this.Fq = "text/plain;charset=UTF-8" : u.Oq === DT._T && u.Pq.type ? this.Fq = u.Pq.type : hT.searchParams && RT(n) && (this.Fq = "application/x-www-form-urlencoded;charset=UTF-8"), this.Fq && i.set("content-type", this.Fq)), hT.stream && (null == n ? this.body = null : u.Oq === DT.Bq ? this.body = u.Pq : this.body = aT(iT, function () { return u.arrayBuffer() }, function () { u.bodyUsed = !0 })) } return t.prototype.text = function () { var t, n, i, e = BT(this); return e || (this.Oq === DT._T ? (t = this.Pq, n = new FileReader, i = OT(n), n.readAsText(t), i) : this.Oq === DT.fT ? Tt.resolve(this.Pq).then(PT) : this.Oq === DT.Bq ? jT(this.Pq).then(PT) : this.Oq === DT.Lq ? this.Pq.then(function (t) { return t.text() }) : this.Oq === DT.jq ? Tt.reject(new v("could not read FormData body as text")) : Tt.resolve(this.Pq)) }, t.prototype.json = function () { return this.text().then(JSON.parse) }, t }(); hT.blob && (zT.prototype.blob = function () { var t, n, i = BT(this); return i || (this.Oq === DT._T ? Tt.resolve(this.Pq) : this.Oq === DT.fT ? Tt.resolve(nT([this.Pq], { type: this.Fq })) : this.Oq === DT.Bq ? (t = this.Pq, n = this.Fq, LT(t).then(function (t) { return nT(t, { type: n || "" }) })) : this.Oq === DT.Lq ? this.Pq.then(function (t) { return t.blob() }) : this.Oq === DT.jq ? Tt.reject(new v("could not read FormData body as Blob")) : Tt.resolve(nT([this.Pq], { type: this.Fq }))) }), hT.arrayBuffer && (zT.prototype.arrayBuffer = function () { var t, n, i; return this.Oq === DT.fT ? BT(this) || Tt.resolve(this.Pq) : this.Oq === DT._T ? BT(this) || (t = this.Pq, n = new FileReader, i = OT(n), n.readAsArrayBuffer(t), i) : this.Oq === DT.Bq ? jT(this.Pq) : this.Oq === DT.Lq ? BT(this) || this.Pq.then(function (t) { return t.arrayBuffer() }) : this.Oq === DT.jq ? Tt.reject(new v("could not read FormData body as ArrayBuffer")) : Tt.resolve(this.Pq).then(MT) }), hT.formData && (zT.prototype.formData = function () { return this.Oq === DT.jq ? BT(this) || Tt.resolve(this.Pq) : this.text().then(VT) }); var qT = [301, 302, 303, 307, 308], GT = function (t) { function n(n, i) { var e = this, r = new lT((i = i || {}).headers); return (e = t.call(this, n || null, r) || this).type = "default", e.status = void 0 === i.status ? 200 : i.status, e.ok = e.status >= 200 && e.status < 300, e.statusText = void 0 !== i.statusText ? String(i.statusText) : "", e.headers = r, e.url = i.url || "", e } return JA(n, t), n.prototype.clone = function () { return new n(HT(this), { status: this.status, statusText: this.statusText, headers: new lT(this.headers), url: this.url }) }, n.error = function () { var t = new n(null, { status: 0, statusText: "" }); return t.type = "error", t }, n.redirect = function (t, i) { if (-1 === qT.indexOf(i)) throw new RangeError("Invalid status code"); return new n(null, { status: i, headers: { location: t } }) }, n }(zT); var WT, XT = function (t, n) { return t(n = { exports: {} }, n.exports), n.exports }(function (t, n) { function i(t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") } function e(t, n) { for (var i = 0; i < n.length; i++) { var e = n[i]; e.enumerable = e.enumerable || !1, e.configurable = !0, "value" in e && (e.writable = !0), g.defineProperty(t, e.key, e) } } function r(t, n, i) { return n && e(t.prototype, n), i && e(t, i), t } function u(t) { return (u = g.setPrototypeOf ? g.getPrototypeOf : function (t) { return t.__proto__ || g.getPrototypeOf(t) })(t) } function o(t, n) { return (o = g.setPrototypeOf || function (t, n) { return t.__proto__ = n, t })(t, n) } function h(t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function c(t, n, i) { return (c = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function (t, n, i) { var e = function (t, n) { for (; !g.prototype.hasOwnProperty.call(t, n) && null !== (t = u(t));); return t }(t, n); if (e) { var r = g.getOwnPropertyDescriptor(e, n); return r.get ? r.get.call(i) : r.value } })(t, n, i || t) } g.defineProperty(n, "__esModule", { value: !0 }); var f = function () { function t() { i(this, t), g.defineProperty(this, "listeners", { value: {}, writable: !0, configurable: !0 }) } return r(t, [{ key: "addEventListener", value: function (t, n) { t in this.listeners || (this.listeners[t] = []), this.listeners[t].push(n) } }, { key: "removeEventListener", value: function (t, n) { if (t in this.listeners) for (var i = this.listeners[t], e = 0, r = i.length; e < r; e++)if (i[e] === n) return void i.splice(e, 1) } }, { key: "dispatchEvent", value: function (t) { var n = this; if (t.type in this.listeners) { for (var i = function (i) { a(function () { return i.call(n, t) }) }, e = this.listeners[t.type], r = 0, s = e.length; r < s; r++)i(e[r]); return !t.defaultPrevented } } }]), t }(), v = function (t) { function n() { var t, e, r; return i(this, n), e = this, (t = !(r = u(n).call(this)) || "object" != typeof r && "function" != typeof r ? h(e) : r).listeners || f.call(h(t)), g.defineProperty(h(t), "aborted", { value: !1, writable: !0, configurable: !0 }), g.defineProperty(h(t), "onabort", { value: null, writable: !0, configurable: !0 }), t } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function"); t.prototype = g.create(n && n.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), n && o(t, n) }(n, f), r(n, [{ key: "toString", value: function () { return "[object AbortSignal]" } }, { key: "dispatchEvent", value: function (t) { "abort" === t.type && (this.aborted = !0, "function" == typeof this.onabort && this.onabort.call(this, t)), c(u(n.prototype), "dispatchEvent", this).call(this, t) } }]), n }(), d = function () { function t() { i(this, t), g.defineProperty(this, "signal", { value: new v, writable: !0, configurable: !0 }) } return r(t, [{ key: "abort", value: function () { var t; try { t = new Event("abort") } catch (n) { void 0 !== s ? s.createEvent ? (t = s.createEvent("Event")).initEvent("abort", !1, !1) : (t = s.createEventObject()).type = "abort" : t = { type: "abort", bubbles: !1, cancelable: !1 } } this.signal.dispatchEvent(t) } }, { key: "toString", value: function () { return "[object AbortController]" } }]), t }(); "undefined" != typeof Symbol && Symbol.toStringTag && (d.prototype[Symbol.toStringTag] = "AbortController", v.prototype[Symbol.toStringTag] = "AbortSignal"), n.AbortSignal = v, n.AbortController = d, n.default = d }); (WT = XT) && WT.__esModule && g.prototype.hasOwnProperty.call(WT, "default") && WT.default; XT.AbortSignal; var $T = XT.AbortController, QT = tT.DOMException; try { new QT } catch (t) { (QT = function (t, n) { v.call(this, t), this.name = n || "Error", v.captureStackTrace && v.captureStackTrace(this, this.constructor) }).prototype = g.create(v.prototype), QT.prototype.constructor = QT } var YT = $T; var ZT, KT = "moz-chunked-arraybuffer"; function JT(t) { try { var n = new b; return n.open("GET", "."), n.responseType = t, n.responseType === t } catch (t) { } return !1 } !function (t) { t[t.UNSENT = 0] = "UNSENT", t[t.OPENED = 1] = "OPENED", t[t.HEADERS_RECEIVED = 2] = "HEADERS_RECEIVED", t[t.LOADING = 3] = "LOADING", t[t.DONE = 4] = "DONE" }(ZT || (ZT = {})); var tS = function () { function t(t, n) { var i = this; this.Uq = !1, this.Eq = t, this.Vq = n, this.Hq = new b, this.Gq = new Tt(function (t, n) { i.zq = t, i.qq = n }) } return t.prototype.send = function () { var t = this; return this.Wq().then(function (n) { return t.Xq(n, t.Vq), t.Gq }) }, t.prototype.Wq = function () { var t = this.Eq; return t.Oq === DT.Bq ? t.arrayBuffer() : Tt.resolve(t.Mq) }, t.prototype.$q = function (t) { this.Eq.onprogress && this.Eq.onprogress(t.loaded, t.lengthComputable ? t.total : void 0) }, t.prototype.Qq = function (t) { this.qq(t) }, t.prototype.Yq = function () { this.Qq(new l("Network request failed")) }, t.prototype.Zq = function () { this.Qq(new l("Network request failed")) }, t.prototype.Kq = function () { this.Qq(new QT("Aborted", "AbortError")) }, t.prototype.Xq = function (t, n) { var i = this, e = this.Eq, r = this.Hq, s = function () { return i.Jq() }; if (e.signal.aborted) return this.Kq(); r.onreadystatechange = function () { if (r.readyState >= ZT.HEADERS_RECEIVED && !i.Uq) { var t = function (t) { var n = new lT; return t.replace(/\r?\n[\t ]+/g, " ").split(/\r?\n/).forEach(function (t) { var i = t.split(":"), e = i.shift().trim(); if (e) { var r = i.join(":").trim(); n.append(e, r) } }), n }(r.getAllResponseHeaders() || ""), n = { status: r.status, statusText: r.statusText, headers: t, url: r.responseURL || t.get("X-Request-URL") }; i.Uq = !0, i.tW(n) } }, r.onprogress = function (t) { return i.$q(t) }, r.onload = function () { return i.nW() }, r.onerror = function () { return i.Yq() }, r.ontimeout = function () { return i.Zq() }, r.onabort = function () { return i.Kq() }, r.open(e.method, e.url, !0), r.withCredentials = "include" === e.credentials, "responseType" in r && n && (r.responseType = n), e.headers.asList().forEach(function (t) { var n = t[0], i = t[1]; r.setRequestHeader(n, i) }), e.signal.addEventListener("abort", s), r.onloadend = function () { e.signal.removeEventListener("abort", s) }, t ? r.send(t) : r.send() }, t.prototype.Jq = function () { this.Hq.abort() }, t }(), nS = function (t) { function n(n, i) { var e = t.call(this, n, i) || this; return e.iW = void 0, e.eW = void 0, e } return JA(n, t), n.prototype.tW = function (t) { var n = this; this.iW = new Tt(function (t, i) { n.eW = t, n.rW = i }), this.zq(new GT(this.iW, t)) }, n.prototype.nW = function () { var t = this.Hq.response || this.Hq.responseText; this.eW(t) }, n.prototype.Qq = function (n) { t.prototype.Qq.call(this, n), this.rW && this.rW(n) }, n }(tS), iS = function (t) { function n(n) { var i = t.call(this, n, KT) || this; return i.sW = void 0, i.uW = void 0, i.oW = !1, i } return JA(n, t), n.prototype.tW = function (t) { var n = this; this.sW = new iT({ start: function (t) { n.uW = t }, cancel: function () { n.oW = !0, n.Jq() } }), this.zq(new GT(this.sW, t)) }, n.prototype.$q = function (n) { this.oW || this.uW.enqueue(new m(this.Hq.response)), t.prototype.$q.call(this, n) }, n.prototype.nW = function () { this.uW.close() }, n.prototype.Qq = function (n) { t.prototype.Qq.call(this, n), this.uW && !this.oW && (this.oW = !0, this.uW.error(n)) }, n }(tS), eS = function () { var t = hT.firefox && JT(KT); return eS = function () { return t }, t }, rS = function () { var t; return t = hT.arrayBuffer && JT("arraybuffer") ? "arraybuffer" : hT.blob && JT("blob") ? "blob" : "", rS = function () { return t }, t }; function sS(t) { return (hT.stream && eS() ? new iS(t) : new nS(t, rS())).send() } var uS = tT.fetch, oS = tT.Request, aS = (tT.Response, tT.AbortController); var hS = ["http:", "https:"]; var cS = function () { try { if (hT.streamRequest) { var t = new oS("about:blank", { body: "", method: "POST" }).body; if (t && rT(t.constructor)) return t.constructor } } catch (t) { } }(); function fS(t, n, i) { var e; if (hT.stream) { var r = void 0; if (hT.streamResponse) { var s = t.body; r = s && uT(iT, s) } else r = aT(iT, function () { return t.arrayBuffer() }, function () { n.abort() }); r && i && (r = function (t, n, i) { var e = 0; return function (t, n, i) { return new t(new sT(n.getReader(), i), { highWaterMark: 0 }) }(iT, t, function (t) { var r = t.done, s = t.value; r ? i = void 0 === i ? e : i : e += s.byteLength, n(e, i) }) }(r, i, vS(t.headers))), e = r } else { var u = t.arrayBuffer(); i && (u = function (t, n, i) { return Tt.resolve().then(function () { return n(0, i), t }).then(function (t) { var e = t.byteLength; return n(e, i = void 0 === i ? e : i), t }) }(u, i, vS(t.headers))), e = u } return new GT(e, t) } function vS(t) { return t.has("content-length") ? Number(t.get("content-length")) : void 0 } function lS(t) { var n = new aS; return function (t, n) { var i, e = t; return i = e.Oq === DT.Bq ? hT.streamRequest && cS ? Tt.resolve(uT(cS, e.Pq)) : t.arrayBuffer() : Tt.resolve(t.Mq), t.signal && function (t, n) { if (!t.signal.aborted) if (n.aborted) t.abort(); else { var i = function () { n.removeEventListener("abort", i), t.signal.removeEventListener("abort", i), t.abort() }; n.addEventListener("abort", i), t.signal.addEventListener("abort", i) } }(n, t.signal), i.then(function (i) { return new oS(t.url, { body: i || void 0, credentials: t.credentials, headers: (e = t.headers, (e instanceof lT ? e : new lT(e)).asList()), method: t.method, mode: t.mode, referrer: t.referrer, referrerPolicy: t.referrerPolicy, signal: n.signal }); var e }) }(t, n).then(uS).then(function (i) { return fS(i, n, t.onprogress) }) } var dS = ["DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT"]; var gS = function (t) { function n(i, e) { var r, s, u, o, a, h, c, f, v, d = this, g = (e = e || {}).body || null; if (i instanceof n) { if (i.bodyUsed) throw new l("Already used"); r = i.url, s = i.credentials, e.headers || (u = new lT(i.headers)), o = i.method, a = i.mode, h = i.referrer, c = i.referrerPolicy, f = i.signal, v = i.onprogress, g || null == i.Mq || (g = i.Mq, i.bodyUsed = !0) } else r = String(i), s = "same-origin", o = "GET", a = "cors", h = "about:client", c = "", f = null, v = null; if (!e.headers && u || (u = new lT(e.headers)), e && (h = "about:client", c = ""), (d = t.call(this, g, u) || this).url = r, d.headers = u, d.credentials = e.credentials || s, d.method = function (t) { var n = t.toUpperCase(); return dS.indexOf(n) > -1 ? n : t }(e.method || o), d.mode = e.mode || a, d.signal = e.signal || f || (new YT).signal, d.referrer = void 0 !== e.referrer ? e.referrer : h, d.referrerPolicy = void 0 !== e.referrerPolicy ? e.referrerPolicy : c, d.onprogress = e.onprogress || v, ("GET" === d.method || "HEAD" === d.method) && g) throw new l("Body not allowed for GET or HEAD requests"); return d } return JA(n, t), n.prototype.clone = function () { return new n(this, { body: HT(this) }) }, n }(zT), _S = "function" == typeof uS && hT.abort && hT.stream && hT.streamResponse && hT.url; function wS(t, n) { return new Tt(function (i) { var e = new gS(t, n); i((_S && function (t) { try { return hS.indexOf(new tT.URL(t, tT.location.href).protocol) >= 0 } catch (t) { return !1 } }(e.url) ? lS : sS)(e)) }) } wS.polyfill = !0; var yS = function () { function t(t) { this.dj = new ie, this.Rq = void 0, this.aW = !1, this.Eq = t, this.dj.lh(t._h), this.NF = this.hW() } var n = t.prototype; return n.hW = function () { var t = St(At.mark(function t() { var n, i, e, r, s, u, o, h, c = this; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: (n = this.Eq).kT && a(function () { c.aW = !0, c.dj.eh() }, n.kT), t.prev = 2, i = wS(n.Mk, { method: n.pT, headers: n.yT.aT(), body: n.wT, credentials: n.TT ? "include" : "same-origin", signal: kS(this.dj._h), onprogress: n.ST }), t.next = 9; break; case 6: throw t.prev = 6, t.t0 = t.catch(2), new QA(n, t.t0); case 9: return t.prev = 9, t.next = 12, i; case 12: e = t.sent, t.next = 20; break; case 15: throw t.prev = 15, t.t1 = t.catch(9), In(r = this.cW(t.t1)) && this.dj.eh(), r; case 20: if (s = e.url || n.Mk, u = 0 === e.status && "file:" === Rl(s).protocol ? 200 : e.status, o = new pS(this, e, this.dj), h = new XA({ ei: o, HT: n, mT: n.mT, yT: new Qa(e.headers.asList()), Ej: u, Ij: e.statusText, Tq: s }), this.Rq = h, !WA(h)) { t.next = 29; break } return t.abrupt("return", h); case 29: throw new YA(h); case 30: case "end": return t.stop() } }, t, this, [[2, 6], [9, 15]]) })); return function () { return t.apply(this, arguments) } }(), n.cW = function (t) { return In(t) ? this.aW ? new ZA(this.Eq) : new En(t.message, t) : this.Rq ? new YA(this.Rq, t) : new QA(this.Eq, t) }, t }(), pS = function (t) { function n(n, i, e) { var r; return (r = t.call(this) || this)._q = new Oi, r.Ye = n, r.fW = i, r.dj = e, r._q._a.catch(q), r } rt(n, t); var i = n.prototype; return i.wq = function () { return this._q._a }, i.hq = function (t) { return this.yq(this.fW.text(), t) }, i.GF = function (t) { return this.yq(this.fW.arrayBuffer(), t) }, i.fq = function (t) { return this.yq(this.fW.blob(), t) }, i.vq = function () { var t = this.fW.body; return t ? this.pq(t) : kA(this.GF().then(yA), this.dj) }, i.kq = function () { var t = this.fW.clone(), i = this.dj.dh(), e = i[0], r = i[1]; return this.dj = e, new n(this.Ye, t, r) }, i.yq = function (t, n) { var i = this; n && this.dj.lh(n); var e = Tt.resolve(t).catch(function (t) { throw i.Ye.cW(t) }); return e = xn(e, this.dj), this._q.nh(e.then(q)), e }, i.pq = function (t) { var n = this, i = new rA, e = Tt.resolve(t.pipeTo(i.writable, { preventAbort: !0 })).catch(function (t) { var e = n.Ye.cW(t); throw i.writable.abort(e).catch(q), e }); return e = xn(e, this.dj), this._q.nh(e.then(q)), i.readable }, T(n, [{ key: "bq", get: function () { return this.fW.bodyUsed } }]), n }(xA), mS = "abort"; function kS(t) { var n = new YT; if (t.Ku) n.abort(); else if (!t.rh) { var i = function () { e(), n.abort() }, e = function e() { n.signal.removeEventListener(mS, i), t.Ju(i), t.Ju(e) }; n.signal.addEventListener(mS, i), t.uo(i), t.ah(e) } return n.signal } var bS = function () { function t() { } var n = t.prototype; return n.HT = function (t) { return new yS(t).NF }, n.$G = function (t) { if (Mt && Mt.sendBeacon) Mt.sendBeacon(t.Mk, vm([t.wT], { type: t.bA })); else { var n = t.bA ? { "Content-type": t.bA } : void 0; se(this.HT(new th({ pT: "POST", Mk: t.Mk, wT: t.wT, yT: n }))) } }, n.Af = function () { }, t }(), AS = function () { function t() { } var n = t.prototype; return n.HT = function (t) { var n = function (t) { return new XA({ ei: null, yT: {}, HT: t, Tq: t.Mk, mT: t.mT, Ej: 0, Ij: "offline" }) }(new th(t)); return Tt.resolve(n) }, n.$G = function (t) { }, n.Af = function () { }, t }(); var TS = function () { var t = function () { function t(t, n) { void 0 === n && (n = !0), this.vW = t, this.lW = n } var n = t.prototype; return n.HT = function (t) { return this.vW.HT(this.dW(t)) }, n.$G = function (t) { return this.vW.$G(this._W(t)) }, n.dW = function (n) { var i = new th(n); if (!this.lW) { var e = t.gW(i.Mk); i = new th({ Mk: e }, i) } return i }, n._W = function (n) { var i = n.Mk; return this.lW || (i = t.gW(i)), { Mk: i, wT: n.wT } }, t.gW = function (t) { return s && s.location && "https:" === s.location.protocol && tn(t, "http://") ? t.replace(":", "s:") : t }, n.Af = function () { this.vW.Af() }, T(t, null, [{ key: "wW", get: function () { return t.yW } }, { key: "pW", get: function () { return t.mW } }]), t }(); return t.yW = new t(new bS), t.mW = new t(new AS), t }(); var SS = !x.in && !x._n; function ES(t, n, i) { var e = t.getImageData(n, i, 1, 1).data; return 0 === e[0] && 0 === e[1] && 0 === e[2] && 0 === e[3] } var IS, RS = function () { function t(t) { this.cf = void 0, this.kW = void 0, this.C_ = t } var n = t.prototype; return n.bW = function (t) { if (!t || !t.drawImage) return !1; var n = this.C_.Nx(); if (!n) return !1; for (var i = arguments.length, e = new Array(i > 1 ? i - 1 : 0), r = 1; r < i; r++)e[r - 1] = arguments[r]; return t.drawImage.apply(t, [n].concat(e)), !0 }, n.AW = function (t, n, i, e, r, u) { if (!t || !t.texImage2D) return !1; var o = this.C_, a = o.Nx(); if (!a) return !1; if (!SS) { this.kW || (this.kW = s.createElement("canvas")); var h = this.kW, c = h.getContext("2d"), f = o.zx, l = o.Gx, d = h.width, g = h.height; c.clearRect(0, 0, h.width, h.height), d === f && g === l || (h.width = f, h.height = l), c.drawImage(a, 0, 0, f, l); var _ = !1; f > 0 && ES(c, f - 1, 0) && (h.width = d, _ = !0), l > 0 && ES(c, 0, l - 1) && (h.height = g, _ = !0), _ && c.drawImage(a, 0, 0, f, l), a = h } try { t.texImage2D(n, i, e, r, u, a) } catch (t) { throw new v("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations") } return !0 }, T(t, [{ key: "vf", get: function () { return this.cf || (this.cf = (t = this, { drawImage: function (n) { for (var i = arguments.length, e = new Array(i > 1 ? i - 1 : 0), r = 1; r < i; r++)e[r - 1] = arguments[r]; return t.bW.apply(t, [n].concat(e)) }, texImage2D: function (n, i, e, r, s, u) { return t.AW(n, i, e, r, s, u) } })); var t } }]), t }(), CS = function (t) { function n(n, i) { var e; return (e = t.call(this, "TW") || this).qw = n, e.Ww = i, e } return rt(n, t), n.prototype.lf = function () { return new NS(this.qw, this.Ww) }, n }(cr), NS = function (t) { function n(n, i) { var e; return (e = t.call(this, "dimensionchange") || this).width = n, e.height = i, e } return rt(n, t), n }(Mn), DS = function (t, n) { this.oE = t, this.SW = n }, xS = function (t) { function n(n, i) { var e; return (e = t.call(this, n, i) || this).EW = 0, e.IW = 0, e.RW = function (t) { if (t.length > 0) { var n = t[t.length - 1].contentRect; e.IW = n.width, e.EW = n.height, e.SW(e.IW, e.EW) } }, e.NW = new Ot.ResizeObserver(e.RW), e.NW.observe(e.oE), e } return rt(n, t), n.prototype.Af = function () { this.NW.disconnect() }, T(n, [{ key: "DW", get: function () { return this.EW } }, { key: "xW", get: function () { return this.IW } }]), n }(DS); function BS() { return IS || (IS = Ot && Ot.document && Ot.document.createElement("span")), IS } var OS = ["Webkit", "Moz", "O", "ms"], PS = function () { var t = !1; try { if (void 0 !== Ot && "function" == typeof Ot.addEventListener) { var n = g.defineProperty({}, "passive", { get: function () { t = !0 } }); Ot.addEventListener("testPassiveEventSupport", q, n), Ot.removeEventListener("testPassiveEventSupport", q, n) } } catch (t) { } return t }(), MS = Rt(); function LS(t) { return MS.has(t) || MS.set(t, function (t) { var n = BS(); if (!n || !n.style) return t; if (void 0 !== n.style[t]) return t; for (var i = t.charAt(0).toUpperCase() + t.slice(1), e = 0; e < OS.length; e++) { var r = OS[e], s = r + i; if (void 0 !== n.style[s]) return s } return t }(t)), MS.get(t) } function jS(t) { var n = t.style; n.position = "absolute", n.left = n.right = n.bottom = n.top = "0", n.overflow = "scroll", n.zIndex = "-1", n.visibility = "hidden" } function FS(t) { var n = t.style; n.position = "absolute", n.left = n.top = "0", n[LS("transition")] = "0s" } var US = function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, i) || this).OW = void 0, r.BW = 0, r.IW = NaN, r.EW = NaN, r.PW = void 0, r.bf = function () { r.MW.style.width = 1e5 + "px", r.MW.style.height = 1e5 + "px", r.LW.scrollLeft = 1e5, r.LW.scrollTop = 1e5, r.jW.scrollLeft = 1e5, r.jW.scrollTop = 1e5, 0 === r.jW.scrollTop && l_(r.bf) }, r.FW = function () { var t = r.xW, n = r.DW; r.SW(t, n), r.IW = t, r.EW = n, r.bf(), r.BW = 0 }, r.UW = function () { if (!r.BW) { var t = r.xW, n = r.DW; t === r.IW && n === r.EW || (r.BW = l_(r.FW)) } }, r.VW = function () { r.PW || (r.PW = a(r.HW, 66)) }, r.HW = function () { r.PW = void 0, r.GW() }, r.GW = function () { r.UW() }, r.Xh(e), r } rt(n, t); var i = n.prototype; return i.zW = function () { var t, n = this.oE, i = s.createElement("div"); return this.LW = s.createElement("div"), this.MW = s.createElement("div"), this.jW = s.createElement("div"), this.qW = s.createElement("div"), jS(this.LW), jS(this.jW), FS(this.MW), FS(t = this.qW), t.style.width = "200%", t.style.height = "200%", i.appendChild(this.LW), i.appendChild(this.jW), this.LW.appendChild(this.MW), this.jW.appendChild(this.qW), n && n.appendChild(i), this.UW(), this.LW.addEventListener("scroll", this.UW), this.jW.addEventListener("scroll", this.UW), i }, i.Xh = function (t) { var n = this.oE, i = function (t, n) { return r.getComputedStyle(t, void 0).getPropertyValue(n) || t.style[n] }(n, "position"); t || "static" !== i || (n.style.position = "relative"), this.OW = this.zW(), r && r.addEventListener("resize", this.VW) }, i.Af = function () { this.OW && (d_(this.BW), this.BW = 0, this.LW.removeEventListener("scroll", this.UW), this.jW.removeEventListener("scroll", this.UW), Le(this.OW), this.OW = void 0, r && r.removeEventListener("resize", this.VW)) }, T(n, [{ key: "DW", get: function () { return this.oE && this.oE.getBoundingClientRect().height || this.EW || 0 } }, { key: "xW", get: function () { return this.oE && this.oE.getBoundingClientRect().width || this.IW || 0 } }]), n }(DS), VS = function (t) { function n(n) { var i; return (i = t.call(this) || this).NW = void 0, i.RW = function (t, n) { i._o(new CS(t, n)) }, i.oE = n, i } rt(n, t); var i = n.prototype; return i.Xh = function (t) { this.NW || ("function" == typeof Ot.ResizeObserver ? this.NW = new xS(this.oE, this.RW) : this.NW = new US(this.oE, this.RW, t)) }, i.Af = function () { this.To(), this.NW && (this.NW.Af(), this.NW = void 0) }, T(n, [{ key: "DW", get: function () { return this.NW ? this.NW.DW : 0 } }, { key: "xW", get: function () { return this.NW ? this.NW.xW : 0 } }]), n }(hr), HS = function (t) { function n() { return t.call(this, "fullscreenchange") || this } return rt(n, t), n }(Mn), zS = function (t) { function n() { return t.call(this, "fullscreenerror") || this } return rt(n, t), n }(Mn); var qS = function () { if (s) for (var t = [["requestFullscreen", "exitFullscreen", "fullscreenElement", "fullscreenEnabled", "fullscreenchange", "fullscreenerror"], ["webkitRequestFullscreen", "webkitExitFullscreen", "webkitFullscreenElement", "webkitFullscreenEnabled", "webkitfullscreenchange", "webkitfullscreenerror"], ["webkitRequestFullScreen", "webkitCancelFullScreen", "webkitCurrentFullScreenElement", "webkitCancelFullScreen", "webkitfullscreenchange", "webkitfullscreenerror"], ["mozRequestFullScreen", "mozCancelFullScreen", "mozFullScreenElement", "mozFullScreenEnabled", "mozfullscreenchange", "mozfullscreenerror"], ["msRequestFullscreen", "msExitFullscreen", "msFullscreenElement", "msFullscreenEnabled", "MSFullscreenChange", "MSFullscreenError"]], n = 0; n < t.length; n++) { var i = t[n]; if (i[1] in s) return { WW: i[0], XW: i[1], $W: i[2], QW: i[3], YW: i[4], ZW: i[5] } } }(), GS = function (t) { function n() { return t.call(this, "fullscreensupportchange") || this } return rt(n, t), n }(Mn), WS = function (t) { function n(i) { var e; return (e = t.call(this) || this).KW = !1, e.JW = function () { return e.tX() }, e.nX = function () { return e.iX() }, e.oE = i, e.eX = n.rX(i), s.addEventListener(qS.YW, e.JW), e.tX(), e } rt(n, t), n.rX = function (t) { return Boolean(qS && s[qS.QW] && qS.WW in t) }; var i = n.prototype; return i.CM = function () { var t = this.oE[qS.WW](); t && t.then ? t.then(this.JW, this.nX) : (s.removeEventListener(qS.ZW, this.nX), s.addEventListener(qS.ZW, this.nX)) }, i.DM = function () { var t = s[qS.XW](); t && t.then ? t.then(this.JW, this.nX) : (s.removeEventListener(qS.ZW, this.nX), s.addEventListener(qS.ZW, this.nX)) }, i.tX = function () { var t = this.KW, n = this.oE === s[qS.$W]; this.KW = n, t !== n && this._o(new HS) }, i.iX = function () { this._o(new zS) }, i.Af = function () { this.To(), s.removeEventListener(qS.YW, this.JW), s.removeEventListener(qS.ZW, this.nX) }, n }(hr), XS = function (t) { function n(i) { var e; return (e = t.call(this) || this).KW = !1, e.JW = function () { return e.tX() }, e.oE = i, e.eX = n.rX(i), e.oE.addEventListener("webkitbeginfullscreen", e.JW), e.oE.addEventListener("webkitendfullscreen", e.JW), e.oE.addEventListener("webkitpresentationmodechanged", e.JW), e.tX(), e } rt(n, t), n.rX = function (t) { return x.in && ("webkitEnterFullscreen" in t || "webkitSupportsPresentationMode" in t) }; var i = n.prototype; return i.CM = function () { var t = this; this.oE.webkitSupportsPresentationMode && this.oE.webkitSupportsPresentationMode("fullscreen") ? x.in ? requestAnimationFrame(function () { return t.oE.webkitSetPresentationMode("fullscreen") }) : this.oE.webkitSetPresentationMode("fullscreen") : this.oE.webkitEnterFullscreen() }, i.DM = function () { this.oE.webkitSupportsPresentationMode && this.oE.webkitSupportsPresentationMode("inline") ? this.oE.webkitSetPresentationMode("inline") : this.oE.webkitExitFullscreen() }, i.tX = function () { var t, n = this.KW; t = this.oE.webkitPresentationMode ? "fullscreen" === this.oE.webkitPresentationMode : !!this.oE.webkitDisplayingFullscreen, this.KW = t, n !== t && this._o(new HS) }, i.Af = function () { this.To(), this.oE.removeEventListener("webkitbeginfullscreen", this.JW), this.oE.removeEventListener("webkitendfullscreen", this.JW), this.oE.removeEventListener("webkitpresentationmodechanged", this.JW) }, n }(hr), $S = function (t) { function n() { var n; return (n = t.apply(this, arguments) || this).sX = [], n.uX = void 0, n.oX = !1, n.tX = function () { var t = n.oX, i = n.aX(); t !== i && (n.oX = i, n._o(new HS)) }, n } rt(n, t); var i = n.prototype; return i.CM = function () { this.uX ? this.uX.CM() : this._o(new zS) }, i.DM = function () { for (var t = 0, n = this.sX; t < n.length; t++) { var i = n[t]; i.KW && i.DM() } }, i.hX = function (t) { this.uX = t }, i.cX = function (t) { this.sX.push(t), t.mo("fullscreenchange", this.tX), t.mo("fullscreenerror", this.do), this.tX() }, i.fX = function (t) { pn(this.sX, t), t.So("fullscreenchange", this.tX), t.So("fullscreenerror", this.do) }, i.aX = function () { for (var t = 0, n = this.sX; t < n.length; t++) { if (n[t].KW) return !0 } return !1 }, i.bf = function () { this.uX = void 0, this.oX = !1; for (var t = this.sX.slice(), n = 0; n < t.length; n++) { var i = t[n]; this.fX(i), i.Af() } this.tX() }, i.Af = function () { this.To(), this.bf() }, T(n, [{ key: "eX", get: function () { return !!this.uX && this.uX.eX } }, { key: "KW", get: function () { return this.oX } }]), n }(hr), QS = function (t) { function n(n) { var i; return (i = t.call(this) || this).vX = void 0, i.lX = !1, i.dX = function () { return i.Lh() }, i.tX = function (t) { i.lX || i._o(t) }, i.C_ = n, i._X = Boolean(n.MB.allowNativeFullscreen), i.gX = new $S, i.gX.mo("fullscreenchange", i.tX), i.gX.mo("fullscreenerror", i.do), i.C_.mo(Yl, i.dX), i.Lh(), i } rt(n, t); var i = n.prototype; return i.CM = function () { this.gX.CM() }, i.DM = function () { this.gX.DM() }, i.Lh = function () { var t = this.vX, n = this.C_.H_(); if (t !== n) { this.lX = !0; var i = this.gX, e = this.KW, r = this.eX; e && this.DM(), i.bf(), this.vX = n; for (var s = this.wX(n), u = 0; u < s.length; u++) { var o = s[u]; i.cX(o) } this._X && s.length > 0 ? i.hX(s[0]) : i.hX(void 0), e && !this.KW && this.eX ? this.CM() : this.DM(), this.lX = !1, r !== this.eX && this._o(new GS), e !== this.KW && this._o(new HS) } }, i.wX = function (t) { var n = []; return t && (WS.rX(t) && n.push(new WS(t)), XS.rX(t) && n.push(new XS(t))), n }, i.Af = function () { this.To(), this.gX.Af(), this.C_.So(Yl, this.dX) }, T(n, [{ key: "eX", get: function () { return this.gX.eX } }, { key: "KW", get: function () { return this.gX.KW } }]), n }(hr), YS = function (t) { function n(n) { var i; return (i = t.call(this, "presentationmodechange") || this).presentationMode = n, i } return rt(n, t), n }(Mn); var ZS = function (t) { function n(n) { var i; return (i = t.call(this) || this).yX = !1, i.oX = !1, i.cf = void 0, i.tX = function () { return i.pX() }, i.iX = function () { return i.mX() }, i.kX = n, i.cL = i.bX = i.AX = i.TX = "inline", i.kX.mo("fullscreenchange", i.tX), i.kX.mo("fullscreenerror", i.iX), i.SX(), i } rt(n, t); var i = n.prototype; return i.lf = function () { return t = this, i = { get currentMode() { return t.EX() }, requestMode: function (n) { var i = Ql(n); i && t.IX(i) }, supportsMode: function (n) { var i = Ql(n); return !!i && t.RX(i) }, addEventListener: function (t, i) { n.mo(t, i) }, removeEventListener: function (t, i) { n.So(t, i) } }, (n = new vu(i, !0)).Pf(t), i; var t, n, i }, i.IX = function (t) { this.bL(t, t) }, i.bL = function (t, n) { this.bX !== n && (this.yX = !0, this.cL = t, this.NX(n, this.bX), "fullscreen" !== t && (this.AX = t), this.yX = !1, this.SX()) }, i.EX = function () { return this.oX ? "fullscreen" : "inline" }, i.RX = function (t) { switch (t) { case "fullscreen": return this.kX.eX; case "inline": return !0 }return !1 }, i.SX = function () { if (!this.yX) { var t = this.bX, n = this.EX(); this.bX = n, "fullscreen" !== n && (this.TX = n), t !== n && this._o(new YS(n)) } }, i.NX = function (t, n) { var i = "fullscreen" === t; this.oX = i, i !== this.kX.KW && (i ? this.kX.CM() : this.kX.DM()) }, i.pX = function () { if (!this.yX) { var t = this.kX.KW; this.oX = t, t ? this.bL("fullscreen", "fullscreen") : t || "fullscreen" !== this.cL ? this.SX() : this.bL(this.AX, this.TX) } }, i.mX = function () { this.pX(), this._o(new ou("Failed to enter fullscreen.")) }, i.Af = function () { this.kX.Af(), this.To() }, T(n, [{ key: "vf", get: function () { return this.cf || (this.cf = this.lf()), this.cf } }]), n }(ar); function KS(t) { var n, i = function (t) { var n; return { get url() { return t.Mk }, get method() { return t.pT }, get headers() { return n || (n = t.yT.aT()), n }, get body() { return t.wT }, get useCredentials() { return t.TT }, get type() { return eE(t.Ou) }, get subType() { return sE(t.bT) }, get mediaType() { return oE(t.AT) }, get responseType() { return tE(t.mT) } } }(t.HT); return { get closed() { return !t.CX }, get request() { return i }, get url() { return t.Mk }, get status() { return t.Ej }, get statusText() { return t.Ij }, get headers() { return n || (n = t.yT.aT()), n }, get body() { return t.wT }, respondWith: function (n) { return t.DX(n) }, waitUntil: function (n) { return t.xX(n) } } } function JS(t) { switch (t.toLowerCase()) { case "arraybuffer": return Wa.fT; case "blob": return Wa._T; case "document": return Wa.gT; case "json": return Wa.vT; case "stream": return Wa.lT; case "text": default: return Wa.dT } } function tE(t) { return t } function nE(t) { switch (t.toUpperCase()) { case "GET": default: return "GET"; case "POST": return "POST"; case "PUT": return "PUT"; case "DELETE": return "DELETE"; case "HEAD": return "HEAD"; case "OPTIONS": return "OPTIONS" } } function iE(t) { switch (t.toLowerCase()) { case "manifest": return "manifest"; case "segment": return "segment"; case "content-protection": return "content-protection"; default: return "" } } function eE(t) { return t } function rE(t) { switch (t.toLowerCase()) { case "initialization-segment": return "initialization-segment"; case "fairplay-license": return "fairplay-license"; case "fairplay-certificate": return "fairplay-certificate"; case "widevine-license": return "widevine-license"; case "widevine-certificate": return "widevine-certificate"; case "playready-license": return "playready-license"; case "clearkey-license": return "clearkey-license"; case "aes128-key": return "aes128-key"; default: return "" } } function sE(t) { return t } function uE(t) { switch (t.toLowerCase()) { case "audio": return "audio"; case "video": return "video"; case "text": return "text"; case "image": return "image"; case "": default: return "" } } function oE(t) { return t } var aE = function () { function t(t, n) { this.OX = t, this.BX = n, this.PX = new Oi, this.MX = [], this.cf = void 0, this.LX = !1, this.Rq = void 0, this.jX = 0 } var n = t.prototype; return n.FX = function () { this.LX = !0, this.PX.nh(null) }, n.UX = function () { this.PX.ih(this.MX) }, n.DX = function (t) { if (!this.CX) throw new l("Cannot respond more than once"); if (!j(t)) throw new l("Expected valid response"); this.Rq = this.VX(t), this.FX() }, n.HX = function () { try { var t = this.BX(this.vf); t ? this.xX(t) : this.GX || this.zX || this.FX() } catch (t) { this.UX() } }, n.xX = function (t) { if (this.zX) throw new v("Request has been redirected or a response already exists"); if (H(t)) this.qX(t); else { if ("function" != typeof t) throw new l("Expected promise or function"); var n = new Oi; try { var i = t(function (t) { t ? n.ih(t) : n.nh(void 0) }); H(i) && n.nh(i) } catch (t) { n.ih(t) } this.qX(n._a) } }, n.qX = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, this.jX++, t.next = 4, n; case 4: this.jX--, this.GX || this.zX || (this.MX.length ? this.UX() : this.FX()), t.next = 13; break; case 8: t.prev = 8, t.t0 = t.catch(0), this.jX--, this.MX.push(t.t0), this.GX || this.zX || this.UX(); case 13: case "end": return t.stop() } }, t, this, [[0, 8]]) })); return function (n) { return t.apply(this, arguments) } }(), T(t, [{ key: "WX", get: function () { return this.PX._a } }, { key: "vf", get: function () { return this.cf || (this.cf = this.XX()), this.cf } }, { key: "zX", get: function () { return this.LX } }, { key: "CX", get: function () { return !this.LX } }, { key: "GX", get: function () { return this.jX > 0 } }, { key: "NF", get: function () { return this.Rq } }]), t }(), hE = function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, i) || this).$X = e, r.HX(), r } rt(n, t), n.QX = function (t, n, i) { var e = void 0 === t.body ? i : t.body; return new XA({ ei: e, HT: n.HT, mT: n.HT.mT, yT: t.headers, Ej: t.status, Ij: t.statusText, Tq: t.url, Aq: !0 }, n) }; var i = n.prototype; return i.XX = function () { return KS(this) }, i.VX = function (t) { return n.QX(t, this.OX, this.$X) }, T(n, [{ key: "wT", get: function () { return this.$X } }, { key: "yT", get: function () { return this.OX.yT } }, { key: "HT", get: function () { return this.OX.HT } }, { key: "NF", get: function () { return this.Rq } }, { key: "Ej", get: function () { return this.OX.Ej } }, { key: "Ij", get: function () { return this.OX.Ij } }, { key: "Mk", get: function () { return this.OX.Tq } }]), n }(aE), cE = function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, i) || this).YX = void 0, r.ZX = e, r.HX(), r } rt(n, t); var i = n.prototype; return i.XX = function () { return t = this, { get url() { return t.Mk }, get method() { return t.pT }, get headers() { return n || (n = t.yT.aT()), n }, get body() { return t.wT }, get closed() { return !t.CX }, get useCredentials() { return t.TT }, get type() { return eE(t.Ou) }, get subType() { return sE(t.bT) }, get mediaType() { return oE(t.AT) }, get responseType() { return tE(t.mT) }, redirect: function (n) { return t.KX(n) }, respondWith: function (n) { return t.DX(n) }, waitUntil: function (n) { return t.xX(n) } }; var t, n }, i.VX = function (t) { var n = this.OX.wT, i = new XA({ ei: n, yT: {}, HT: this.OX, Tq: this.OX.Mk, mT: this.OX.mT, Ej: 200, Ij: "OK" }); return hE.QX(t, i, n) }, i.KX = function (t) { if (!this.CX) throw new l("Cannot redirect, already redirected or has a response"); var n; n = U(t) ? { url: t } : t, this.YX = function (t, n) { return new th({ Mk: void 0 === t.url ? n.Mk : t.url, pT: void 0 !== t.method ? nE(t.method) : void 0, yT: t.headers, wT: t.body, TT: t.useCredentials, Ou: void 0 !== t.type ? iE(t.type) : void 0, bT: void 0 !== t.subType ? rE(t.subType) : void 0, AT: void 0 !== t.mediaType ? uE(t.mediaType) : void 0, mT: void 0 !== t.responseType ? JS(t.responseType) : void 0 }, n) }(n, this.OX), this.FX() }, T(n, [{ key: "wT", get: function () { return this.OX.wT } }, { key: "CX", get: function () { return this.ZX && !this.LX } }, { key: "yT", get: function () { return this.OX.yT } }, { key: "pT", get: function () { return this.OX.pT } }, { key: "JX", get: function () { return this.YX } }, { key: "NF", get: function () { return this.Rq } }, { key: "mT", get: function () { return this.OX.mT } }, { key: "kT", get: function () { return this.OX.kT } }, { key: "_h", get: function () { return this.OX._h } }, { key: "Ou", get: function () { return this.OX.Ou } }, { key: "bT", get: function () { return this.OX.bT } }, { key: "AT", get: function () { return this.OX.AT } }, { key: "Mk", get: function () { return this.OX.Mk } }, { key: "TT", get: function () { return this.OX.TT } }, { key: "ST", get: function () { return this.OX.ST } }]), n }(aE); var fE = function (t) { function n(n, i) { var e; void 0 === i && (i = !0); var r = new vE(n); return (e = t.call(this, r, i) || this).t$ = r, e } rt(n, t); var i = n.prototype; return i.n$ = function (t) { this.t$.n$(t) }, i.i$ = function (t) { this.t$.i$(t) }, i.e$ = function (t) { this.t$.e$(t) }, i.r$ = function (t) { this.t$.r$(t) }, i.s$ = function (t) { this.t$.s$(t) }, n }(TS), vE = function () { function t(t) { this.u$ = [], this.o$ = [], this.vW = t } var n = t.prototype; return n.HT = function () { var t = St(At.mark(function t(n) { var i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, t.next = 3, this.a$(n, n._h); case 3: i = t.sent, t.next = 13; break; case 6: if (t.prev = 6, t.t0 = t.catch(0), !(t.t0 instanceof $A)) { t.next = 12; break } return t.next = 11, this.h$(t.t0, n._h); case 11: return t.abrupt("return", t.sent); case 12: throw t.t0; case 13: return t.next = 15, this.c$(i, n._h); case 15: return t.abrupt("return", t.sent); case 16: case "end": return t.stop() } }, t, this, [[0, 6]]) })); return function (n) { return t.apply(this, arguments) } }(), n.$G = function (t) { return this.vW.$G(t) }, n.a$ = function () { var t = St(At.mark(function t(n, i) { var e, r, s, u, o; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: Rn(i), e = void 0, r = 0, s = this.u$.slice(); case 3: if (!(r < s.length)) { t.next = 21; break } if (u = s[r], Rn(i), (o = new cE(n, u, !e)).zX) { t.next = 17; break } return t.prev = 8, t.next = 11, o.WX; case 11: t.next = 17; break; case 13: return t.prev = 13, t.t0 = t.catch(8), t.abrupt("continue", 18); case 17: o.JX && !e ? n = o.JX : o.NF && !e && (e = o.NF); case 18: r++, t.next = 3; break; case 21: if (!e) { t.next = 23; break } return t.abrupt("return", e); case 23: return t.abrupt("return", this.vW.HT(n)); case 24: case "end": return t.stop() } }, t, this, [[8, 13]]) })); return function (n, i) { return t.apply(this, arguments) } }(), n.h$ = function (t, n) { var i; return i = t instanceof YA ? t.NF : new XA({ ei: null, HT: t.HT, Ej: 0, Ij: "" }), this.c$(i, n) }, n.c$ = function () { var t = St(At.mark(function t(n, i) { var e, r, s, u, o; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: e = 0, r = this.o$.slice(); case 1: if (!(e < r.length)) { t.next = 22; break } return s = r[e], Rn(i), t.next = 6, n.Qo().ei(i); case 6: if (u = t.sent, (o = new hE(n, s, u)).zX) { t.next = 18; break } return t.prev = 9, t.next = 12, o.WX; case 12: t.next = 18; break; case 14: return t.prev = 14, t.t0 = t.catch(9), t.abrupt("continue", 19); case 18: n = o.NF || n; case 19: e++, t.next = 1; break; case 22: if (!WA(n)) { t.next = 26; break } return t.abrupt("return", n); case 26: throw new YA(n); case 27: case "end": return t.stop() } }, t, this, [[9, 14]]) })); return function (n, i) { return t.apply(this, arguments) } }(), n.n$ = function (t) { this.u$.unshift(t) }, n.i$ = function (t) { this.u$.push(t) }, n.e$ = function (t) { pn(this.u$, t) }, n.r$ = function (t) { this.o$.unshift(t) }, n.s$ = function (t) { pn(this.o$, t) }, n.Af = function () { this.vW.Af(), An(this.u$), An(this.o$) }, t }(), lE = function () { function t(t) { this.OS = t } var n = t.prototype; return n.n$ = function (t) { this.OS.n$(t) }, n.e$ = function (t) { this.OS.e$(t) }, n.r$ = function (t) { this.OS.r$(t) }, n.s$ = function (t) { this.OS.s$(t) }, T(t, [{ key: "vf", get: function () { var t; return this.cf || (this.cf = (t = this, { addRequestInterceptor: function (n) { t.n$(n) }, removeRequestInterceptor: function (n) { t.e$(n) }, addResponseInterceptor: function (n) { t.r$(n) }, removeResponseInterceptor: function (n) { t.s$(n) } })), this.cf } }]), t }(), dE = function (t) { function n(n, i) { var e; return (e = t.call(this, i) || this).f$ = n, e.OS = i, e.f$.mo("online", e.do), e.f$.mo("offline", e.do), e } rt(n, t); var i = n.prototype; return i.n$ = function (t) { this.OS.n$(t) }, i.e$ = function (t) { this.OS.e$(t) }, i.r$ = function (t) { this.OS.r$(t) }, i.s$ = function (t) { this.OS.s$(t) }, i.Af = function () { this.To(), this.f$.So("online", this.do), this.f$.So("offline", this.do) }, T(n, [{ key: "vf", get: function () { var t; return this.cf || (this.cf = (t = this, { get online() { return t.dg }, addRequestInterceptor: function (n) { t.n$(n) }, removeRequestInterceptor: function (n) { t.e$(n) }, addResponseInterceptor: function (n) { t.r$(n) }, removeResponseInterceptor: function (n) { t.s$(n) }, addEventListener: function (n, i) { t.mo(n, i) }, removeEventListener: function (n, i) { t.So(n, i) } })), this.cf } }, { key: "dg", get: function () { return this.f$.dg } }]), n }(ar), gE = 60; function _E(t) { var n, i, e, r = Er(mE); return U(t) ? r.type = wE(t) : j(t) && function (t) { switch (t) { case "performance": case "quality": case "bandwidth": return !0; default: return !1 } }(t.type) && (r.type = wE(t.type)), j(t) && j(t.metadata) && (r.metadata = (n = t.metadata, i = {}, e = Br(n.bitrate), p(e) || (i.bitrate = e), i)), r } function wE(t) { switch (t) { case "bandwidth": return "bandwidth"; case "performance": return "performance"; case "quality": return "quality" } } var yE = function (t) { function n(n) { var i; return (i = t.call(this, "l$") || this).v$ = n, i } return rt(n, t), n }(Mn), pE = function (t) { function n(n) { var i; return (i = t.call(this, "_$") || this).d$ = n, i } return rt(n, t), n }(Mn), mE = { type: "bandwidth" }, kE = 20, bE = function (t) { function n() { var n, i; return (n = t.apply(this, arguments) || this).cf = (i = st(n), { get strategy() { return { metadata: (t = i.d$).metadata, type: (n = t.type, n) }; var t, n }, set strategy(t) { i.d$ = _E(t) }, get targetBuffer() { return i.v$ }, set targetBuffer(t) { var n = Br(t); p(n) || (i.v$ = n > gE ? gE : n) } }), n.g$ = mE, n.w$ = kE, n } return rt(n, t), T(n, [{ key: "y$", get: function () { switch (this.g$.type) { case "performance": return 0; case "quality": return 1 / 0; case "bandwidth": return this.g$.metadata && void 0 !== this.g$.metadata.bitrate ? this.g$.metadata.bitrate : 8 * ds.s_(); default: return 8 * ds.s_() } } }, { key: "vf", get: function () { return this.cf } }, { key: "d$", get: function () { return this.g$ }, set: function (t) { this.g$ = t, this._o(new pE(t)) } }, { key: "v$", get: function () { return this.w$ }, set: function (t) { this.w$ = t, this._o(new yE(t)) } }]), n }(Pn), AE = function (t) { function n() { return t.call(this, "mf") || this } return rt(n, t), n.prototype.lf = function () { return new TE }, n }(cr), TE = function (t) { function n() { return t.call(this, "change") || this } return rt(n, t), n }(Mn); var SE = Eo.cm, EE = new Eo(-1 / 0), IE = Eo.fm, RE = function (t) { function n(n, i) { return t.call(this, n, i) || this } rt(n, t); var i = n.prototype; return i.Gl = function (t, n) { return t.Wl(n) ? -1 : t.Hl(n) ? 0 : 1 }, i.kd = function (t, n) { return t.kd(n) }, i.Od = function (t, n) { return t.Od(n) }, i.ld = function (t, n) { return t.ld(n) }, i.hd = function () { return SE }, i.vd = function () { return IE }, i.yd = function () { return EE }, n.Fd = function (t) { for (var i = [], e = 0; e < t.length; e++)i.push(new Eo(t.start(e)), new Eo(t.end(e))); return new n(i) }, n.p$ = function (t) { for (var i = [], e = [], r = 0; r < t.Sf; r++)i.push(new Eo(t.Ll(r))), i.push(new Eo(t.Fl(r))), e.push(t.jl(r)), e.push(t.Ul(r)); return new n(i, e) }, n.Ud = function (t) { return new n([t, t], [!0, !0]) }, i.ud = function (t, i) { return new n(t, i) }, i.ed = function (t) { return t.um }, n.Vd = function () { return CE }, n }(as), CE = new RE([]), NE = function (t) { function n() { var n; return (n = t.apply(this, arguments) || this).FP = 0, n.UP = 1 / 0, n } rt(n, t); var i = n.prototype; return i.bf = function () { 0 === this.FP && this.UP === 1 / 0 || (this.FP = 0, this.UP = 1 / 0, this._o(new AE)) }, i.m$ = function () { return new RE([new Eo(this.zk), new Eo(this.OP)], [!0, !0]) }, T(n, [{ key: "zk", get: function () { return this.FP }, set: function (t) { if (this.OP <= t) throw new v("Start time of a clip should be smaller than the end time."); this.FP !== t && (this.FP = t, this._o(new AE)) } }, { key: "OP", get: function () { return this.UP }, set: function (t) { if (t <= this.zk) throw new v("End time of a clip should be larger than the start time."); this.UP !== t && (this.UP = t, this._o(new AE)) } }, { key: "vf", get: function () { var t, n, i; return this.cf || (this.cf = (i = { get startTime() { return t.zk }, set startTime(n) { t.zk = n }, get endTime() { return t.OP }, set endTime(n) { t.OP = n }, addEventListener: function (t, i) { n.mo(t, i) }, removeEventListener: function (t, i) { n.So(t, i) } }, n = new mr(t = this, i), i)), this.cf } }]), n }(ar), DE = function (t) { function n(n) { var i; return (i = t.call(this) || this).k$ = n, i.b$ = function (t) { i.A$(t) || i._o(t) }, i.k$.uf(i.b$), i } rt(n, t); var i = n.prototype; return i.T$ = function () { return this.k$.og }, i._x = function () { return this.k$._x() }, i.S$ = function () { return this.k$.hg }, i.E$ = function () { return this.k$.fg }, i.I$ = function () { return this.k$.cg }, i.R$ = function (t) { this.k$.cg = t }, i.N$ = function () { return this.k$.yg }, i.C$ = function (t) { this.k$.yg = t }, i.pC = function () { return this.k$.Zy }, i.D$ = function () { return this.k$.oE }, i.x$ = function () { return this.k$.SN }, i.O$ = function () { return this.k$.Bo }, i.B$ = function () { return this.k$.vg }, i.P$ = function () { return this.k$.RE }, i.M$ = function (t) { this.k$.RE = t }, i.L$ = function () { return this.k$.dg }, i.j$ = function () { return this.k$.rN }, i.F$ = function () { return this.k$._g }, i.U$ = function (t) { this.k$._g = t }, i.V$ = function () { return this.k$.wg }, i.H$ = function () { return this.k$.gg }, i.G$ = function (t) { this.k$.gg = t }, i.z$ = function () { return this.k$.Zf }, i.q$ = function () { return this.k$.jx }, i.W$ = function () { return this.k$.pg }, i.G_ = function () { return this.k$.G_() }, i.z_ = function () { var t = St(At.mark(function t(n, i) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return Rn(i), t.next = 3, this.k$.z_(n, i); case 3: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.X$ = function () { return this.k$.Ag }, i.Q$ = function () { return this.k$.Gx }, i.Y$ = function () { return this.k$.Tg }, i.Z$ = function () { return this.k$.zx }, i.NN = function () { return this.k$.ux }, i.hN = function (t) { this.k$.ux = t }, i.H_ = function () { return this.k$.H_() }, i.Nx = function () { return this.k$.Nx() }, i.U_ = function (t) { this.k$.U_(t) }, i.V_ = function () { this.k$.V_() }, i.Z_ = function () { this.k$.Z_() }, i.oI = function () { this.k$.oI() }, i.dN = function () { this.k$.dN() }, i.sN = function () { this.k$.sN() }, i.B_ = function () { this.k$.B_() }, i.bx = function () { return this.k$.bx() }, i.q_ = function () { return this.k$.q_() }, i.W_ = function () { this.k$.W_() }, i.X_ = function () { this.k$.X_() }, i.bf = function () { return this.k$.bf() }, i.Af = function () { return this.k$.Af() }, i.K_ = function () { this.k$.K_() }, i.Ex = function (t) { return this.k$.Ex(t) }, i.A$ = function (t) { return !1 }, T(n, [{ key: "og", get: function () { return this.T$() } }, { key: "hg", get: function () { return this.S$() } }, { key: "cg", get: function () { return this.I$() }, set: function (t) { this.R$(t) } }, { key: "fg", get: function () { return this.E$() } }, { key: "yg", get: function () { return this.N$() }, set: function (t) { this.C$(t) } }, { key: "Zy", get: function () { return this.pC() } }, { key: "oE", get: function () { return this.D$() } }, { key: "SN", get: function () { return this.x$() } }, { key: "Bo", get: function () { return this.O$() } }, { key: "vg", get: function () { return this.B$() } }, { key: "A_", get: function () { return this.k$.A_ } }, { key: "RE", get: function () { return this.P$() }, set: function (t) { this.M$(t) } }, { key: "dg", get: function () { return this.L$() } }, { key: "rN", get: function () { return this.j$() } }, { key: "_g", get: function () { return this.F$() }, set: function (t) { this.U$(t) } }, { key: "wg", get: function () { return this.V$() } }, { key: "gg", get: function () { return this.H$() }, set: function (t) { this.G$(t) } }, { key: "Zf", get: function () { return this.z$() } }, { key: "jx", get: function () { return this.q$() } }, { key: "pg", get: function () { return this.W$() } }, { key: "Ag", get: function () { return this.X$() } }, { key: "Gx", get: function () { return this.Q$() } }, { key: "Tg", get: function () { return this.Y$() } }, { key: "zx", get: function () { return this.Z$() } }, { key: "ux", get: function () { return this.NN() }, set: function (t) { this.hN(t) } }]), n }(hr), xE = function () { var t = function (t) { function n(i, e) { var r; return (r = t.call(this, i) || this).K$ = !1, r.J$ = void 0, r.tQ = !1, r.nQ = void 0, r.iQ = !1, r.eQ = function () { r.rQ(), r.sQ() }, r.QU = function () { r.uQ(), r.sQ(), r.yg >= r.OP - n.oQ && !r.SN && (r.J$ = l_(r.QU)) }, r.aQ = function () { r.iQ = !0 }, r.hQ = function () { r.iQ && (r.iQ = !1, r.sQ()) }, r.cQ = e, r.cQ.mo("mf", r.eQ), r.k$.mo("timeupdate", r.QU), r } rt(n, t); var i = n.prototype; return i.C$ = function (n) { var i = this.cQ.m$().od(new Eo(n)).um; this.fQ(), t.prototype.C$.call(this, i), this.vQ() }, i.x$ = function () { return t.prototype.x$.call(this) || this.K$ }, i.q$ = function () { return RE.Fd(t.prototype.q$.call(this)).dd(this.cQ.m$()).Jl() }, i.sN = function () { this.x$() ? this.C$(this.lQ.start(0)) : this.rQ(), t.prototype.sN.call(this), this.sQ() }, i.z_ = function () { var n = St(At.mark(function n(i, e) { return At.wrap(function (n) { for (; ;)switch (n.prev = n.next) { case 0: return Rn(e), this.K$ = !1, this.cQ.bf(), n.next = 5, t.prototype.z_.call(this, i, e); case 5: case "end": return n.stop() } }, n, this) })); return function (t, i) { return n.apply(this, arguments) } }(), i.F$ = function () { return this.tQ ? this.nQ : t.prototype.F$.call(this) }, i.U$ = function (n) { this.nQ = n, this._o(new Hl(this.yg, n)), this.tQ || t.prototype.U$.call(this, n) }, i.Af = function () { return this.cQ.So("mf", this.eQ), this.k$.So("timeupdate", this.QU), this.uQ(), t.prototype.Af.call(this) }, i.fQ = function () { this.tQ || (this.tQ = !0, this.nQ = t.prototype.F$.call(this), t.prototype.U$.call(this, 0)) }, i.vQ = function () { this.tQ && (t.prototype.U$.call(this, this.nQ), this.tQ = !1) }, i.A$ = function (n) { switch (n.type) { case "seeking": return this._o(n), this.aQ(), !0; case "seeked": case "emptied": return this._o(n), this.hQ(), !0; case "ended": if (this.dQ) return !0; break; case "ratechange": if (this.tQ || this.nQ === this._g) return !0 }return t.prototype.A$.call(this, n) }, i.uQ = function () { this.J$ && (d_(this.J$), this.J$ = void 0) }, i.sQ = function () { this.pg || this.iQ || (this.dQ && !this.K$ && this.yg >= this.cQ.OP - n.hm ? (this.K$ = !0, this._o(new Fh(this.yg)), this.dN()) : this.K$ && this.yg < this.cQ.OP && (this.K$ = !1, this.sN())) }, i.rQ = function () { var t = this.lQ, i = RE.Fd(t).od(new Eo(this.yg)).um; wo(this.yg, i, n.hm) || this.C$(i) }, T(n, [{ key: "lQ", get: function () { return this.q$().length ? this.q$() : this.cQ.m$().Jl() } }, { key: "_Q", get: function () { return this.cQ.zk > 0 } }, { key: "dQ", get: function () { return this.cQ.OP < this.Zy } }, { key: "OP", get: function () { return _.min(this.cQ.OP, this.Zy) } }]), n }(DE); return t.oQ = 1, t.hm = .001, t }(), BE = function () { function t() { this.gQ = !1 } return T(t, [{ key: "wQ", get: function () { return this.gQ }, set: function (t) { this.gQ = t } }]), t }(), OE = function (t) { function n(n, i) { var e; return (e = t.call(this, n) || this).yQ = !1, e.pQ = !1, e.gQ = i, e } rt(n, t); var i = n.prototype; return i.x$ = function () { return !this.gQ.wQ && t.prototype.x$.call(this) }, i.dN = function () { this.pQ = !0, t.prototype.dN.call(this) }, i.sN = function () { this.pQ = !1, t.prototype.sN.call(this) }, i.A$ = function (n) { if (this.gQ.wQ) switch (n.type) { case "ended": return this.yg = 0, this.pQ || (this.pg ? this.yQ = !0 : this.sN()), !0; case "seeked": this.yQ && (this.yQ = !1, this.sN()); break; case "pause": if (this.yQ || t.prototype.x$.call(this)) return !0 }return t.prototype.A$.call(this, n) }, n }(DE), PE = function (t) { function n() { return t.call(this, "mQ") || this } return rt(n, t), n.prototype.lf = function () { return new ME }, n }(cr), ME = function (t) { function n() { return t.call(this, "castingchange") || this } return rt(n, t), n }(Mn); var LE, jE, FE = function (t) { function n() { var n; return (n = t.apply(this, arguments) || this).kQ = [], n.cf = void 0, n.bQ = function () { return n._o(new PE) }, n } rt(n, t); var i = n.prototype; return i.AQ = function (t) { this.kQ.push(t), t.mo("statechange", this.bQ) }, i.Af = function () { var t = this; this.kQ.forEach(function (n) { n.So("statechange", t.bQ) }), An(this.kQ) }, T(n, [{ key: "TQ", get: function () { return this.kQ.some(function (t) { return t.TQ }) } }, { key: "vf", get: function () { var t, n, i; return this.cf || (this.cf = (i = { get casting() { return t.TQ }, addEventListener: function (t, i) { n.mo(t, i) }, removeEventListener: function (t, i) { n.So(t, i) } }, n = new kr(t = this, i), i)), this.cf } }]), n }(hr), UE = function (t) { function n(n, i) { var e; (e = t.call(this) || this).WS = !1, e.nI = !1, e.SQ = !1, e.EQ = function (t) { if (!e.SQ) { e.SQ = !0; var n = e.IQ; e.T_.xf = new Lp(e.oE, t.Bo), se(n.Af()) } }, e.RQ = function (t) { e._o(t.vf) }, e.NQ = function (t) { "online" !== t.type && "offline" !== t.type && e._o(t) }; var s = Br(i.uid); p(s) ? e.aL = S_++ : e.aL = s, e.MB = i, e.CQ = new bE; var u = TS.wW, o = new Qp("NessaeD[NOo- en?aMYYNOg5iOs4aO*-NOn@aHp?N$'h $l?", [".$hsF|b9_Ess*rS:F]Y\"", "fp\"\""], [".$hsF|b9_Ess*rS:F]Y\"", "fp\"\""], "CO_3CHnH el3Ceo3Co\"\""); e.DQ = new fm("NessaeD[NOo- en?aMYYNOg5iOs4aO*-NOn@aHp?N$'h $l?", "2.74.0", u), e.pF = new fE(u, i.allowMixedContent), e.xQ = new Yp(o, i.isEmbeddable, "2.74.0", e.DQ, u, (jp || (jp = { Mk: Pt.href, _G: Ot.parent && Ot.parent !== r, gG: qp() }), jp)), e.xQ.mo("EH", e.EQ), e.OQ = new VS(n), e.OQ.mo("TW", e.RQ), e.cQ = new NE, e.gQ = new BE; var a = new Pp(n, i, e.pF, e.CQ); a = new xE(a, e.BQ), a = new OE(a, e.wQ), e.IQ = a, e.T_ = new $_(e.IQ), e.T_.uf(e.NQ), e.PQ = new du(st(e)), e.MQ = new dE(e.T_, e.pF), e.LQ = new RS(st(e)), e.jQ = new QS(st(e)), e.FQ = new ZS(e.jQ), e.xQ.YH().catch(q), e.OQ.Xh(); var h = new Dt(1, ["video"]); return e.uI = new xt(h), e.UQ = new FE, e } rt(n, t); var i = n.prototype; return i.M$ = function (t) { this.T_.RE = t, t || this.rN || this.oI() }, i.hN = function (t) { this.T_.ux = t }, i.VQ = function () { $l(this, zl, this) }, i.sN = function () { this.T_.sN() }, i.dN = function () { this.T_.dN() }, i.z_ = function () { var t = St(At.mark(function t(n, i) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!n) { t.next = 5; break } return se(this.xQ.iG(n)), n = VE(n), t.next = 5, this.T_.z_(n, i); case 5: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.oI = function () { this.nI || (this.T_.oI(), this.uI.oI(), this.nI = !0) }, i.HQ = function () { return "fullscreen" === this.FQ.EX() }, i.KW = function () { return this.HQ() }, i.B_ = function () { this.T_.B_() }, i.Z_ = function () { this.T_.Z_() }, i.Nx = function () { return this.T_.Nx() }, i.H_ = function () { return this.T_.H_() }, i.bf = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, this.T_.bx(); case 2: return t.next = 4, this.T_.bf(); case 4: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.Af = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.To(), this.UQ.Af(), this.pF.Af(), this.MQ.Af(), this.jQ.Af(), this.FQ.Af(), this.OQ.Af(), this.DQ.Af(), this.xQ.To(), this.uI.Af(), t.next = 12, this.T_.Af(); case 12: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), T(n, [{ key: "IE", get: function () { return this.WS }, set: function (t) { this.WS = t, this.T_.IE = t } }, { key: "GQ", get: function () { return this.uI } }, { key: "og", get: function () { return this.T_.og } }, { key: "zQ", get: function () { return this.UQ } }, { key: "x_", get: function () { return this.OQ } }, { key: "A_", get: function () { return this.PQ } }, { key: "qQ", get: function () { return this.MQ } }, { key: "Ag", get: function () { return this.T_.Ag } }, { key: "Tg", get: function () { return this.T_.Tg } }, { key: "hg", get: function () { return this.T_.hg } }, { key: "BQ", get: function () { return this.cQ } }, { key: "wQ", get: function () { return this.gQ } }, { key: "yg", get: function () { return this.T_.yg }, set: function (t) { this.T_.yg = t } }, { key: "cg", get: function () { return this.T_.cg }, set: function (t) { this.T_.cg = t } }, { key: "fg", get: function () { return this.T_.fg } }, { key: "Zy", get: function () { return this.T_.Zy } }, { key: "oE", get: function () { return this.T_.oE } }, { key: "SN", get: function () { return this.T_.SN } }, { key: "Bo", get: function () { return this.T_.Bo } }, { key: "RE", get: function () { return this.T_.RE }, set: function (t) { t = Boolean(t), this.M$(t) } }, { key: "rN", get: function () { return this.T_.rN } }, { key: "_g", get: function () { return this.T_._g }, set: function (t) { this.T_._g = t } }, { key: "wg", get: function () { return this.T_.wg } }, { key: "gg", get: function () { return this.T_.gg }, set: function (t) { this.T_.gg = Q_(t) } }, { key: "Zf", get: function () { return this.T_.Zf } }, { key: "jx", get: function () { return this.T_.jx } }, { key: "pg", get: function () { return this.T_.pg } }, { key: "Uf", get: function () { return this.aL } }, { key: "Gx", get: function () { return this.T_.Gx } }, { key: "zx", get: function () { return this.T_.zx } }, { key: "ux", get: function () { return this.T_.ux }, set: function (t) { t = _o(+t, 0, 1) || 0, this.hN(t) } }]), n }(hr); function VE(t) { t.sources; var n = t.sources.filter(function (t) { return void 0 === t.integration }); return t.sources = n, t } !function (t) { t[t.WQ = 0] = "WQ", t[t.XQ = 1] = "XQ" }(LE || (LE = {})), function (t) { t[t.$Q = 0] = "$Q" }(jE || (jE = {})); var HE = {}, zE = {}; function qE(t, n) { (HE[n] || (HE[n] = [])).push(t) } function GE(t, n) { (zE[n] || (zE[n] = [])).push(t) } function WE(t, n) { var i = t; if (HE[n]) for (var e = 0, r = HE[n]; e < r.length; e++) { i = (0, r[e])(i) } return i } var XE = [], $E = []; function QE(t) { for (var n = 0; n < XE.length; n++) { (0, XE[n])(t) } } var YE = t.CustomEvent; var ZE, KE = function () { try { var t = new YE("cat", { detail: { foo: "bar" } }); return "cat" === t.type && "bar" === t.detail.foo } catch (t) { } return !1 }() ? function (t, n) { return new CustomEvent(t, n) } : function (t, n) { var i = s.createEvent("CustomEvent"); return n ? i.initCustomEvent(t, n.bubbles, n.cancelable, n.detail) : i.initCustomEvent(t, !1, !1, void 0), i }; (ZE = Tt) && ZE.config({ warnings: !1, longStackTraces: !1 }); var JE, tI, nI, iI, eI, rI, sI = ZE ? (iI = ZE.setScheduler(q), JE = iI, eI = { OM: function (t) { tI = t, JE(nI) }, PG: nI = function () { var t = tI; t && (tI = void 0, t()) } }, ZE.setScheduler(eI.OM), eI.PG) : q, uI = function () { function t(t, n) { var i = this; this.QQ = !1, this.YQ = function (t) { i.ZQ.zG(t.error, i.yg) }, this.KQ = function () { i.ZQ.HG(i.JQ), i.m_.removeEventListener("play", i.KQ), i.QQ = !1 }, this.tY = function () { i.QQ || (i.m_.addEventListener("play", i.KQ), i.QQ = !0) }, this.ZQ = n, this.m_ = t, this.m_.addEventListener("error", this.YQ), this.m_.addEventListener("sourcechange", this.tY), this.tY() } return t.prototype.bf = function () { }, T(t, [{ key: "yg", get: function () { var t = this.m_.currentTime; return "number" == typeof t && isFinite(t) ? t : "now" } }, { key: "JQ", get: function () { return this.m_.src || "" } }]), t }(); rI = function (t) { new uI(t.vf, t.DQ) }, XE.push(rI); var oI = function () { var t = function () { function t() { } return t.qd = function () { return t.q || (t.q = aI.tc() ? new aI : new fs), t.q }, t.zo = function (n) { t.qd().zo(n) }, t.Gd = function () { t.qd().Gd() }, t.Vo = function (n) { return t.qd().Vo(n) }, t.zd = function (n, i) { t.qd().zd(n, i) }, t.nY = function (n) { var i = t.Vo(n); if (void 0 !== i) return y(i) }, t.iY = function (n) { return "true" === t.Vo(n) }, t }(); return t.q = void 0, t }(), aI = function (n) { function i() { return n.apply(this, arguments) || this } rt(i, n), i.tc = function () { try { return t.localStorage.setItem("foobar", "foobar"), t.localStorage.removeItem("foobar"), !0 } catch (t) { } return !1 }; var e = i.prototype; return e.zo = function (n) { t.localStorage.removeItem(n) }, e.Gd = function () { t.localStorage.clear() }, e.Vo = function (n) { return t.localStorage[n] }, e.zd = function (n, i) { t.localStorage[n] = i }, i }(oI), hI = "theoplayer-stored-volume", cI = "theoplayer-stored-mutedstate"; qE(function (t) { return function (t) { function n(n, i) { var e; if (e = t.call(this, n, i) || this, i.persistVolume) { var r = oI.nY(hI); (void 0 === r || p(r)) && (r = 1); var s = oI.iY(cI) || !1; e.ux = r, e.RE = s } return e } rt(n, t); var i = n.prototype; return i.M$ = function (n) { this.MB.persistVolume && oI.zd(cI, n), t.prototype.M$.call(this, n) }, i.hN = function (n) { this.MB.persistVolume && oI.zd(hI, n), t.prototype.hN.call(this, n) }, n }(t) }, LE.XQ); var fI = new (function () { function t() { this.eY = [], this.cf = void 0 } var n = t.prototype; return n.yf = function (t) { return this.eY[t] }, n.rY = function (t) { this.eY.push(t), this.vf.push(t.vf) }, n.Mh = function (t) { var n = this.eY.indexOf(t); n < 0 || (mn(this.eY, n), this.cf && mn(this.cf, n)) }, n.sY = function (t) { for (var n = 0, i = this.eY; n < i.length; n++) { var e = i[n]; if (e.Uf === t) return e } }, T(t, [{ key: "Sf", get: function () { return this.eY.length } }, { key: "vf", get: function () { return this.cf || (this.cf = function (t) { for (var n = [], i = 0; i < t.Sf; i++)n[i] = t.yf(i).vf; return n.getPlayerByUID = function (n) { var i = t.sY(n); return i && i.vf }, n }(this)), this.cf } }]), t }()); var vI, lI = function (t) { function n(n) { var i; return (i = t.call(this, es.Cl) || this).source = n, i } return rt(n, t), n }(Mn), dI = function (t) { function n() { var n; return (n = t.call(this) || this).uY = 0, n.tx = !0, n.oY = !1, n.aY = 1, n } rt(n, t); var i = n.prototype; return i.sN = function () { this.tx && (this.tx = !1, this._o(new ru(this.yg)), this._o(new Lh(this.yg))) }, i.dN = function () { this.tx || (this.tx = !0, this._o(new Ph(this.yg, this.cg)), this._o(new Mh(this.yg))) }, i.bf = function () { this.uY = 0, this.oY = !1, this.aY = 1, this.dN(), this._o(new xh(this.uY)) }, i.Af = function () { this.To() }, i.Z_ = function () { }, i.B_ = function () { }, i.uf = function (t) { this.mo("emptied", t), this.mo("pause", t), this.mo("play", t), this.mo("seeking", t), this.mo("timeupdate", t), this.mo("waiting", t) }, i.hf = function (t) { this.So("emptied", t), this.So("pause", t), this.So("play", t), this.So("seeking", t), this.So("timeupdate", t), this.So("waiting", t) }, T(n, [{ key: "cg", get: function () { }, set: function (t) { } }, { key: "yg", get: function () { return this.uY }, set: function (t) { this.uY !== t && (this.uY = t, this.oY = !0, this._o(new Vl(this.yg))) } }, { key: "rN", get: function () { return this.tx } }, { key: "_g", get: function () { return this.aY }, set: function (t) { this.aY !== t && (this.aY = t, this._o(new Hl(this.yg, this._g))) } }, { key: "Zf", get: function () { return eu.h_ } }, { key: "pg", get: function () { return this.oY } }]), n }(Pn), gI = function (t) { function n() { return t.call(this, es.hl) || this } return rt(n, t), n }(Mn), _I = { zIndex: "1", display: "inline-block", verticalAlign: "middle", backgroundRepeat: "no-repeat", backgroundPosition: "50% 50%", backgroundSize: "contain", cursor: "pointer", margin: "0", padding: "0", position: "absolute", top: "0", right: "0", bottom: "0", left: "0", height: "100%" }, wI = { visibility: "hidden" }, yI = { visibility: "visible" }, pI = function () { function t(t) { var n, i = this; this.hY = !1, this.cY = function (t) { i.hY = !1, i.fY = t.source && t.source.poster, i.Lh() }, this.UU = function () { i.hY = !0, i.Z_() }, this.m_ = t, this.dH(), this.zV = ((n = Ot && Ot.document && Ot.document.createElement("div")).className = "theoplayer-poster", Xe(_I, n), n), t.oE.appendChild(this.zV) } var n = t.prototype; return n.Lh = function () { var t = this.m_.rN, n = this.hY; this.Mk ? this.zV.style.backgroundImage = 'url("' + on(this.Mk) + '")' : this.zV.style.backgroundImage = "", t && this.Mk && !n ? this.B_() : this.Z_() }, n.B_ = function () { Xe(wI, this.m_.oE), Xe(yI, this.zV) }, n.Z_ = function () { Xe(wI, this.zV), Xe(yI, this.m_.oE) }, n.dH = function () { this.m_.mo("sourcechange", this.cY), this.m_.mo("play", this.UU) }, n.Af = function () { this.m_.So("sourcechange", this.cY), this.m_.So("play", this.UU), Le(this.zV) }, T(t, [{ key: "Mk", get: function () { return void 0 !== this.fY ? this.fY : void 0 !== this.vY ? this.vY : void 0 } }, { key: "lY", set: function (t) { this.vY = t, this.Lh() } }]), t }(); function mI(t) { return function (n) { function i(i, e) { var r; return (r = n.call(this, i) || this).dY = new t(i, e), r._Y = new dI, r.m_ = r.dY, r.gY = new pI(st(r)), r._U = new hw, r.wY = !1, r.yY = [], r.uH = !0, r.sH = void 0, r.dH(), r } rt(i, n); var e = i.prototype; return e.wj = function () { var t = St(At.mark(function t(n, i) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.abrupt("return", this._U.wj(n, i).catch(Nn)); case 1: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), e.pY = function () { var t = St(At.mark(function t(n, i) { var e, r = this; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return Rn(i), e = function (t) { r.yY.push(t) }, this.dY.uf(e), t.next = 5, this.dY.z_(n, i); case 5: this.dY.hf(e); case 6: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), e.mY = function () { var t = St(At.mark(function t() { var n, i, e; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if ((n = this.G_()) && !Jc(n) && this.IE && this.rN) { t.next = 3; break } return t.abrupt("return"); case 3: return i = n.mutedAutoplay || this.MB.mutedAutoplay, t.next = 6, this.GQ.bI(); case 6: e = t.sent, t.t0 = e, t.next = "all" === t.t0 ? 10 : "muted" === t.t0 ? 12 : 14; break; case 10: return this.kY(), t.abrupt("break", 14); case 12: return (this.RE || i === Fl.ALL) && (this.RE = !0, this.sN()), t.abrupt("break", 14); case 14: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), e.z_ = function (t) { var n = this, i = this.sH; i && !Jc(i) && this._o(new xh(0, 0)), this.bf(), this.sH = t, se(this.wj(function () { var i = St(At.mark(function i(e) { return At.wrap(function (i) { for (; ;)switch (i.prev = i.next) { case 0: return Rn(e), i.prev = 1, i.next = 4, n.pY(t, e); case 4: i.next = 10; break; case 6: throw i.prev = 6, i.t0 = i.catch(1), n.sH = void 0, i.t0; case 10: return i.next = 12, n.bY(); case 12: case "end": return i.stop() } }, i, null, [[1, 6]]) })); return function (t) { return i.apply(this, arguments) } }())) }, e.bY = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.AY(this.dY), this._o(new lI(this.G_())), t.next = 4, this.mY(); case 4: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), e.C$ = function (t) { this.m_.yg = t }, e.O$ = function () { return this.dY.Bo }, e.sN = function () { this.m_.sN() }, e.kY = function () { this.RE || this.oI(), this.sN() }, e.oI = function () { this.dY.oI() }, e.dN = function () { this.m_.dN() }, e.bx = function () { this.z_(void 0) }, e.B_ = function () { this.uH = !0, this.m_.B_() }, e.Z_ = function () { this.uH = !1, this.m_.Z_() }, e.VQ = function () { this.dY.VQ() }, e.hN = function (t) { this.dY.hN(t) }, e.M$ = function (t) { this.dY.M$(t) }, e.TY = function (t) { this.SY = t, t.rY(this) }, e.HQ = function () { return this.dY.HQ() }, e.KW = function () { return this.dY.KW() }, e.G_ = function () { return this.sH }, e.Nx = function () { return this.dY.Nx() }, e.H_ = function () { return this.dY.H_() }, e.N$ = function () { return this.dY.yg }, e.pC = function () { return this.dY.Zy }, e.S$ = function () { return this.dY.hg }, e.V$ = function () { return this.dY.wg }, e.q$ = function () { return this.dY.jx }, e.bf = function () { var t = this; this.sH = void 0, An(this.yY), this._Y.bf(), this.AY(this._Y), this._U.eh(), se(this._U.wj(function () { var n = St(At.mark(function n(i) { return At.wrap(function (n) { for (; ;)switch (n.prev = n.next) { case 0: return Rn(i), n.next = 3, t.dY.bf(); case 3: case "end": return n.stop() } }, n) })); return function (t) { return n.apply(this, arguments) } }())) }, e.Af = function () { var t = this; this._o(new gI), this.gY.Af(), this.gH(), this.bf(), se(this.wj(St(At.mark(function n() { return At.wrap(function (n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, t.dY.Af(); case 2: t.SY && (t.SY.Mh(t), t.SY = void 0), t._U.Af(); case 4: case "end": return n.stop() } }, n) })))), this.To() }, e.AY = function (t) { if (this.m_ !== t) { var n = this.m_.rN, i = this.m_.yg, e = this.m_._g; this.gH(), t === this.dY ? (t.yg !== i && (t.yg = i), t._g !== e && (t._g = e), n ? t.dN() : t.sN()) : this.MB.retainPlaybackRateOnSourceChange ? t._g = e : 1 !== e && this._o(new Hl(this.N$(), 1)), this.m_ = t, this.dH(); for (var r = 0, s = this.yY; r < s.length; r++) { var u = s[r]; this._o(u) } An(this.yY), this.uH ? t.B_() : t.Z_() } }, e.dH = function () { this.m_.uf(this.do) }, e.gH = function () { this.m_.hf(this.do) }, e.lf = function () { return t = this, e = function (n) { i = n; var e = Ef(n, t.MB); t.z_(e) }, r = { get abr() { return t.CQ.vf }, get audioTracks() { return t.og.vf }, get autoplay() { return t.IE }, set autoplay(n) { t.IE = Boolean(n) }, get buffered() { return t.S$() }, get canvas() { return t.LQ.vf }, get clip() { return t.BQ.vf }, get currentProgramDateTime() { var n; return null !== (n = t.cg) && void 0 !== n ? n : null }, set currentProgramDateTime(n) { t.cg = null != n ? n : void 0 }, get currentTime() { return t.N$() }, set currentTime(n) { t.C$(Number(n)) }, get duration() { return t.pC() }, get element() { return t.oE }, get ended() { return t.SN }, get error() { return t.O$() }, get loop() { return t.wQ.wQ }, set loop(n) { t.wQ.wQ = Boolean(n) }, get metrics() { return t.A_.vf }, get muted() { return t.RE }, set muted(n) { t.M$(n) }, get network() { return t.qQ.vf }, get paused() { return t.rN }, get playbackRate() { return t._g }, set playbackRate(n) { var i = Number(n); if (i < 0) throw new RangeError("playbackRate must be a positive number"); t._g = i }, get played() { return t.V$() }, get poster() { return t.EY }, set poster(n) { t.EY = Or(n) }, get preload() { return t.gg }, set preload(n) { t.gg = n }, get presentation() { return t.FQ.vf }, get readyState() { return t.Zf }, get seekable() { return t.q$() }, get seeking() { return t.pg }, get source() { return i }, set source(t) { e(t) }, get src() { return cf(t.G_()) }, set src(t) { e({ sources: t }) }, get textTracks() { return t.Ag.vf }, get uid() { return t.Uf }, get videoHeight() { return t.Gx }, get videoTracks() { return t.Tg.vf }, get videoWidth() { return t.zx }, get volume() { return t.ux }, set volume(n) { t.hN(Number(n)) }, destroy: function () { t.Af(), t = null, i = void 0 }, play: function () { t.kY() }, pause: function () { t.dN() }, stop: function () { i = void 0, t.bx() }, prepareWithUserAction: function () { t.oI() }, addEventListener: function (t, i) { n.mo(t, i) }, removeEventListener: function (t, i) { n.So(t, i) }, setSource: function (t) { e(t) } }, (n = new lu(r, !0)).Pf(t), r; var t, n, i, e, r }, T(i, [{ key: "DQ", get: function () { return this.dY.DQ } }, { key: "LQ", get: function () { return this.dY.LQ } }, { key: "MB", get: function () { return this.dY.MB } }, { key: "IQ", get: function () { return this.dY.IQ } }, { key: "pF", get: function () { return this.dY.pF } }, { key: "jQ", get: function () { return this.dY.jQ } }, { key: "FQ", get: function () { return this.dY.FQ } }, { key: "OQ", get: function () { return this.dY.OQ } }, { key: "T_", get: function () { return this.dY.T_ } }, { key: "CQ", get: function () { return this.dY.CQ } }, { key: "IE", get: function () { return this.dY.IE }, set: function (t) { this.dY.IE = t, this.mY() } }, { key: "GQ", get: function () { return this.dY.GQ } }, { key: "og", get: function () { return this.dY.og } }, { key: "zQ", get: function () { return this.dY.zQ } }, { key: "x_", get: function () { return this.dY.OQ } }, { key: "vf", get: function () { return this.lf() } }, { key: "A_", get: function () { return this.dY.A_ } }, { key: "qQ", get: function () { return this.dY.qQ } }, { key: "Ag", get: function () { return this.dY.Ag } }, { key: "Tg", get: function () { return this.dY.Tg } }, { key: "BQ", get: function () { return this.dY.BQ } }, { key: "wQ", get: function () { return this.dY.wQ } }, { key: "cg", get: function () { return this.m_.cg }, set: function (t) { this.m_.cg = t } }, { key: "fg", get: function () { return this.dY.fg } }, { key: "oE", get: function () { return this.dY.oE } }, { key: "SN", get: function () { return this.dY.SN } }, { key: "RE", get: function () { return this.dY.RE }, set: function (t) { this.dY.RE = t } }, { key: "rN", get: function () { return this.m_.rN } }, { key: "EY", get: function () { return this.gY.Mk || "" }, set: function (t) { this.gY.lY = t } }, { key: "_g", get: function () { return this.dY._g }, set: function (t) { this.m_._g = t } }, { key: "gg", get: function () { return this.dY.gg }, set: function (t) { this.dY.gg = Q_(t) } }, { key: "Zf", get: function () { return this.m_.Zf } }, { key: "pg", get: function () { return this.m_.pg } }, { key: "Uf", get: function () { return this.dY.Uf } }, { key: "Gx", get: function () { return this.dY.Gx } }, { key: "zx", get: function () { return this.dY.zx } }, { key: "ux", get: function () { return this.dY.ux }, set: function (t) { this.dY.ux = t } }]), i }(hr) } function kI() { return vI || (vI = WE(vI = mI(UE), LE.WQ), vI = WE(vI, LE.XQ)), vI } function bI(t, n) { var i = ql(n), e = new (kI())(t, i), r = e.vf; return e.VQ(), e.TY(fI), g.defineProperty(r, "constructor", { value: bI }), r = Tr(r), QE(e), r } re(function () { t.dispatchEvent && t.dispatchEvent(KE("theoplayerready")) }); var AI = fI.vf, TI = !!("ontouchstart" in t || t.DocumentTouch && s instanceof t.DocumentTouch) || !(!o || !o.msMaxTouchPoints), SI = Je(), EI = !(!SI || !SI.webkitShowPlaybackTargetPicker), II = function () { function t() { this.IY = new Eo(2, 1), this.RY = !1, this.Gt = TI, this.hn = !1, this.NY = !0, this.CY = !1 } var n = t.prototype; return n.DY = function (t, n) { return !0 }, n.xY = function (t) { return t.Zp(Eo.hm.nm(2)) }, T(t, [{ key: "OY", get: function () { return r.devicePixelRatio || 1 } }, { key: "BY", get: function () { return EI } }]), t }(), RI = function () { var t = Ke(); if (!t) return !1; var n = t.muted; return t.muted = !n, t.muted !== n }(), CI = function () { if (x.Kt) return !1; var t = Ke(); if (!t) return !1; var n = t.volume; return t.volume = n / 2 + .1, n !== t.volume }(); var NI = function (t) { function n(n) { var i; return (i = t.call(this) || this).PY = n || null, i.PY && (i.IY = i.PY.IY, i.RY = i.PY.RY, i.Gt = i.PY.Gt, i.NY = RI && i.PY.NY, i.CY = x.Rn), i } rt(n, t); var i = n.prototype; return i.DY = function (n, i) { return this.PY ? this.PY.DY(n, i) : t.prototype.DY.call(this, n, i) }, i.xY = function (n) { return this.PY ? this.PY.xY(n) : t.prototype.xY.call(this, n) }, n }(II), DI = function (t) { function n(n) { var i; return (i = t.call(this, n) || this).RY = !0, i.hn = !0, i } return rt(n, t), n }(NI), xI = function (t) { function n() { return t.apply(this, arguments) || this } return rt(n, t), n }(II), BI = function (t) { function n() { return t.apply(this, arguments) || this } return rt(n, t), n.prototype.DY = function (t, n) { if (t && t.MY && n && n.MY) { var i = OI(t.MY, "mp4a.40.2") && OI(n.MY, "mp4a.40.5"), e = OI(t.MY, "mp4a.40.5") && OI(n.MY, "mp4a.40.2"), r = OI(t.MY, "mp4a.40.2") && OI(n.MY, "mp4a.40.34"), s = OI(t.MY, "mp4a.40.34") && OI(n.MY, "mp4a.40.2"), u = OI(t.MY, "mp4a.40.5") && OI(n.MY, "mp4a.40.34"), o = OI(t.MY, "mp4a.40.34") && OI(n.MY, "mp4a.40.5"); return !(i || e || r || s || u || o) } return !0 }, n }(xI); function OI(t, n) { return t.indexOf(n) > -1 } var PI, MI, LI = function (t) { function n() { return t.apply(this, arguments) || this } return rt(n, t), n.prototype.xY = function (t) { return t.Zp(new Eo(2)) }, n }(xI), jI = function (t) { function n() { var n; return (n = t.call(this) || this).RY = x.Sn >= 11, n.NY = x.Tn && !(x.in && x.Sn < 10), n } return rt(n, t), n }(xI); var FI = x.pn ? new BI : x.dn || x._n ? new LI : x.Tn ? new jI : null; PI = x.hn ? new DI(FI) : new NI(FI); var UI = function (t) { function n(n) { var i; return (i = t.call(this) || this).PP = void 0, i.cf = void 0, i.MP = !1, i.LP = "", i.LY = function () { i.GP = !0 }, i.jY = function () { i.GP = !1 }, i.FY = n, i.FY.addEventListener("enter", i.LY), i.FY.addEventListener("exit", i.jY), i } rt(n, t); var i = n.prototype; return i.lf = function () { return hd(this) }, i.Hl = function (t) { return this === t || Cr(this, t) && vd(this, t) }, i.Af = function () { this.To(), this.FY.removeEventListener("enter", this.LY), this.FY.removeEventListener("exit", this.jY) }, T(n, [{ key: "zk", get: function () { return this.FY.startTime }, set: function (t) { this.FY.startTime = t } }, { key: "OP", get: function () { return this.FY.endTime }, set: function (t) { this.FY.endTime = t } }, { key: "BP", get: function () { return this.FY.text }, set: function (t) { this.FY.text = t + "" } }, { key: "qP", get: function () { return !!this.FY.pauseOnExit }, set: function (t) { this.FY.pauseOnExit = !!t } }, { key: "df", get: function () { return this.PP }, set: function (t) { this.PP = t } }, { key: "Ff", get: function () { return this.FY.id || "" }, set: function (t) { this.FY.id = t || "" } }, { key: "vf", get: function () { return this.cf || (this.cf = this.lf()), this.cf } }, { key: "zP", get: function () { return this.LP }, set: function (t) { this.LP = t } }, { key: "GP", get: function () { return this.MP }, set: function (t) { this.GP !== t && (this.MP = t, t ? (this._o(new e_(this, this.zk)), this.PP._o(new __(this))) : (this._o(new s_(this, this.OP)), this.PP._o(new y_(this)))) } }]), n }(ar); function VI(t) { if (t) { var n = t.THEOplayerVTTRegion; return n || (n = new zI(t), t.THEOplayerVTTRegion = n), n } } var HI, zI = function () { function t(t) { this.cf = void 0, this.UY = t } return T(t, [{ key: "VY", get: function () { return this.UY } }, { key: "Ff", get: function () { return this.UY.id || "" } }, { key: "qw", get: function () { return +this.UY.width || 0 }, set: function (t) { this.UY.width = t || 0 } }, { key: "gM", get: function () { return +this.UY.lines || 0 }, set: function (t) { this.UY.lines = t || 0 } }, { key: "wM", get: function () { return +this.UY.regionAnchorX || 0 }, set: function (t) { this.UY.regionAnchorX = t || 0 } }, { key: "yM", get: function () { return +this.UY.regionAnchorY || 0 }, set: function (t) { this.UY.regionAnchorY = t || 0 } }, { key: "mM", get: function () { return +this.UY.viewportAnchorX || 0 }, set: function (t) { this.UY.viewportAnchorX = t || 0 } }, { key: "kM", get: function () { return +this.UY.viewportAnchorY || 0 }, set: function (t) { this.UY.viewportAnchorY = t || 0 } }, { key: "pM", get: function () { return this.UY.scroll || "" } }, { key: "vf", get: function () { return this.cf || (this.cf = Xd(this)), this.cf } }]), t }(), qI = function (t) { function n(n) { return t.call(this, n) || this } return rt(n, t), T(n, [{ key: "_M", get: function () { return this.FY.vertical || "" }, set: function (t) { this.FY.vertical = t || "" } }, { key: "dM", get: function () { return !!this.FY.snapToLines }, set: function (t) { this.FY.snapToLines = !!t } }, { key: "hM", get: function () { return this.FY.line }, set: function (t) { this.FY.line = t } }, { key: "qo", get: function () { return +this.FY.size }, set: function (t) { this.FY.size = _o(t, 0, 100) } }]), n }(UI), GI = function (t) { function n(n) { var i; return (i = t.call(this, n) || this).cf = void 0, i } return rt(n, t), n.prototype.Hl = function (n) { return this === n || Cr(this, n) && t.prototype.Hl.call(this, n) && Vd(this, n) }, T(n, [{ key: "lM", get: function () { return VI(this.FY.region) } }, { key: "cM", get: function () { return this.FY.lineAlign || "start" }, set: function (t) { this.FY.lineAlign = t || "start" } }, { key: "fM", get: function () { return this.FY.position }, set: function (t) { this.FY.position = t } }, { key: "vM", get: function () { return this.FY.positionAlign || "auto" }, set: function (t) { this.FY.positionAlign = t || "auto" } }, { key: "aM", get: function () { return this.FY.align || "center" }, set: function (t) { this.FY.align = t || "center" } }, { key: "vf", get: function () { return this.cf || (this.cf = Ud(this)), this.cf } }]), n }(qI), WI = function (t) { function n(n) { var i; return (i = t.call(this, n) || this).cf = void 0, i } return rt(n, t), n.prototype.Hl = function (n) { return this === n || Cr(this, n) && t.prototype.Hl.call(this, n) && Vd(this, n) }, T(n, [{ key: "lM", get: function () { return VI(this.VY) } }, { key: "VY", get: function () { return t = this.FY.track, n = this.FY.regionId, (i = t && t.regions) && i.getRegionById(n) || void 0; var t, n, i } }, { key: "cM", get: function () { return "middle" === (t = this.FY.lineAlign || "start") ? "center" : t; var t }, set: function (t) { var n; this.FY.lineAlign = "center" === (n = t || "start") ? "middle" : n } }, { key: "fM", get: function () { return this.FY.position }, set: function (t) { var n, i; this.FY.position = (n = t, i = this.aM, Fd(n, i)) } }, { key: "vM", get: function () { return t = this.FY.positionAlign || "middle", Ld[t]; var t }, set: function (t) { var n, i; this.FY.positionAlign = (n = t || "center", i = this.aM, Md[jd(n, i)]) } }, { key: "aM", get: function () { return "middle" === (t = this.FY.align || "middle") ? "center" : t; var t }, set: function (t) { var n; this.FY.align = "center" === (n = t || "center") ? "middle" : n } }, { key: "vf", get: function () { return this.cf || (this.cf = Ud(this)), this.cf } }]), n }(qI), XI = function (t) { function n(n, i) { var e; return (e = t.call(this, n) || this).HY = i, e } return rt(n, t), n.prototype.Hl = function (n) { return this === n || Cr(this, n) && t.prototype.Hl.call(this, n) && Rp(this, n) }, T(n, [{ key: "BP", get: function () { return this.HY } }, { key: "vf", get: function () { return this.cf || (this.cf = Ip(this)), this.cf } }]), n }(UI); function $I(t) { switch (t) { case 0: case 1: case 2: case 3: return !0 }return !1 } function QI(t) { switch (t) { case 0: return ci; case 1: return li; case 2: return di; case 3: return bi } } function YI(t, n) { var i = n.Yo, e = t.byteLength, r = Ii(t); return n.Xo(e - i), Ci(r, i, e).buffer } function ZI(t, n) { return { id: t || "", data: n instanceof ArrayBuffer ? n : void 0 } } function KI(t, n, i) { var e = Yn(t, n); if ($I(e)) { var r = QI(e); return { id: i, language: ai(t, n, 3), description: r(t, n), text: r(t, n) } } } function JI(t, n, i) { var e = Yn(t, n); if ($I(e)) { var r = QI(e); return { id: i, mimeType: ci(t, n), fileName: r(t, n), description: r(t, n), data: YI(t, n) } } } function tR(t, n, i) { var e = Yn(t, n); if ($I(e)) { for (var r = QI(e), s = []; n.Yo < t.byteLength;)s.push({ involvement: r(t, n), involvee: r(t, n) }); return { id: i, entries: s } } } function nR(t, n, i) { var e = Yn(t, n); if ($I(e)) { for (var r = QI(e), s = ai(t, n, 3), u = Yn(t, n), o = Yn(t, n), a = r(t, n), h = !1, c = []; n.Yo < t.byteLength;) { var f = void 0; if (1 === e) { var v = vi(t, n); void 0 === v ? v = h : h = v, f = di(t, n, v) } else f = r(t, n); if (!f || n.Yo + 4 > t.byteLength) break; c.push({ text: f, timestamp: ri(t, n) }) } return { id: i, language: s, format: u, contentType: o, description: a, entries: c } } } function iR(t, n, i) { return { id: i, ownerIdentifier: ci(t, n), identifier: YI(t, n) } } function eR(t, n, i) { var e = Yn(t, n); if ($I(e)) { var r = QI(e); return { id: i, language: ai(t, n, 3), description: r(t, n), text: r(t, n) } } } function rR(t, n, i) { var e = Yn(t, n); if ($I(e)) return { id: i, text: QI(e)(t, n) } } function sR(t, n, i) { return { id: i, url: ci(t, n) } } function uR(t, n, i) { var e = Yn(t, n); if ($I(e)) { var r = QI(e); return { id: i, description: r(t, n), text: r(t, n) } } } function oR(t, n, i) { var e = Yn(t, n); if ($I(e)) return { id: i, description: QI(e)(t, n), url: ci(t, n) } } function aR(t, n, i) { switch (i) { case "COM": return KI(t, n, i); case "GEO": return JI(t, n, i); case "IPL": return tR(t, n, i); case "PIC": return function (t, n, i) { var e = Yn(t, n); if ($I(e)) { var r, s, u = QI(e), o = ai(t, n, 3), a = Yn(t, n), h = u(t, n); return "--\x3e" === o ? (r = o, s = ci(t, n)) : (r = "image/" + o.toLowerCase(), s = YI(t, n)), { id: i, mimeType: r, pictureType: a, description: h, data: s } } }(t, n, i); case "SLT": return nR(t, n, i); case "TXX": return uR(t, n, i); case "UFI": return iR(t, n, i); case "ULT": return eR(t, n, i); case "WXX": return oR(t, n, i); default: if ("T" === i.charAt(0)) return rR(t, n, i); if ("W" === i.charAt(0)) return sR(t, n, i) } } function hR(t, n, i) { switch (i) { case "APIC": return function (t, n, i) { var e = Yn(t, n); if ($I(e)) { var r = QI(e), s = ci(t, n); return { id: i, mimeType: s, pictureType: Yn(t, n), description: r(t, n), data: "--\x3e" === s ? ci(t, n) : YI(t, n) } } }(t, n, i); case "COMM": return KI(t, n, i); case "COMR": return function (t, n, i) { var e = Yn(t, n); if ($I(e)) { var r, s, u = QI(e), o = ci(t, n), a = ai(t, n, 8), h = ci(t, n), c = Yn(t, n), f = u(t, n), v = u(t, n); return n.Yo < t.byteLength && (r = ci(t, n) || "image/", s = YI(t, n)), { id: i, price: o, validUntil: a, contactURL: h, receivedAs: c, nameOfSeller: f, description: v, pictureMimeType: r, sellerLogo: s } } }(t, n, i); case "GEOB": return JI(t, n, i); case "IPLS": return tR(t, n, i); case "PRIV": return function (t, n, i) { return { id: i, ownerIdentifier: ci(t, n), data: YI(t, n) } }(t, n, i); case "POSS": return function (t, n, i) { return { id: i, format: Yn(t, n), position: ri(t, n) } }(t, n, i); case "SYLT": return nR(t, n, i); case "TXXX": return uR(t, n, i); case "UFID": return iR(t, n, i); case "USER": return function (t, n, i) { var e = Yn(t, n); if ($I(e)) { var r = QI(e); return { id: i, language: ai(t, n, 3), text: r(t, n) } } }(t, n, i); case "USLT": return eR(t, n, i); case "WXXX": return oR(t, n, i); case "YMID": case "YTYP": case "YSEQ": case "YDUR": case "YCSP": return rR(t, n, i); default: var e = i.charAt(0); if ("T" === e) return rR(t, n, i); if ("W" === e) return sR(t, n, i) } } !function (t) { t[t.V22 = 2] = "V22", t[t.V23 = 3] = "V23", t[t.V24 = 4] = "V24" }(HI || (HI = {})); var cR = 10; function fR(t, n) { return (127 & Yn(t, n)) << 21 | (127 & Yn(t, n)) << 14 | (127 & Yn(t, n)) << 7 | 127 & Yn(t, n) } function vR(t, n) { switch (t) { case HI.V24: return { GY: Qn(n, 0), zY: Qn(n, 1), qY: Qn(n, 2), WY: Qn(n, 3) }; case HI.V23: return { GY: Qn(n, 0), zY: Qn(n, 1), qY: Qn(n, 2) }; case HI.V22: return { GY: Qn(n, 0), XY: Qn(n, 1) } } } function lR(t, n, i) { switch (i.FO) { case HI.V23: i.UO.zY && function (t, n) { var i = n.Yo, e = ri(t, n) + 4, r = 32768 & ii(t, n); n.$o(i + e), r && ri(t, n) }(t, n); break; case HI.V24: i.UO.zY && function (t, n) { var i = n.Yo, e = fR(t, n); n.$o(i + e) }(t, n) } } function dR(t, n) { if (t.byteLength - n.Yo < cR) return null; if (73 !== Yn(t, n) || 68 !== Yn(t, n) || 51 !== Yn(t, n)) return null; var i = Yn(t, n), e = Yn(t, n); if (!function (t) { switch (t) { case HI.V22: case HI.V23: case HI.V24: return !0 }return !1 }(i)) return null; var r = Yn(t, n), s = fR(t, n); return { FO: i, $Y: e, UO: vR(i, r), QY: s } } function gR(t, n, i) { switch (i.FO) { case HI.V22: return function (t, n, i) { return { Ff: ai(t, n, 3), qo: ni(t, n, 3) } }(t, n); case HI.V23: return function (t, n, i) { var e = ai(t, n, 4), r = ri(t, n), s = (Yn(t, n), Yn(t, n)); return { Ff: e, qo: r, UO: { XY: Qn(s, 0), YY: Qn(s, 1), groupingIdentity: Qn(s, 2) } } }(t, n); case HI.V24: return function (t, n, i) { var e = ai(t, n, 4), r = fR(t, n), s = (Yn(t, n), Yn(t, n)); return { Ff: e, qo: r, UO: { groupingIdentity: Qn(s, 1), XY: Qn(s, 4), YY: Qn(s, 5), GY: Qn(s, 6), ZY: Qn(s, 7) } } }(t, n) } } function _R(t) { for (var n = new m(t.byteLength), i = 0, e = 0; e < t.byteLength; e++) { var r = t.getUint8(e); 255 === r && e++, n[i] = r, i++ } return new DataView(n, 0, i) } function wR(t, n) { var i = dR(t, n = n || new xi); return i ? { $O: i, KY: function (t, n, i) { var e = [], r = n.Yo, s = Si(t, r, r + i.QY), u = new xi; switch (n.Xo(i.QY), i.FO) { case HI.V22: case HI.V23: i.UO.GY && (s = _R(s)) }lR(t, n, i); for (; u.Yo < s.byteLength;)e.push(yR(s, u, i)); return e }(t, n, i) } : null } function yR(t, n, i) { var e, r, s = gR(t, n, i), u = n.Yo, o = Si(t, u, u + s.qo); switch (n.Xo(s.qo), i.FO) { case HI.V22: var a = s; e = aR(r = o, new xi, a.Ff); break; case HI.V23: var h = s, c = new xi; !function (t, n, i) { var e, r, s, u = i.UO; u.XY && (e = ri(t, n)), u.YY && (r = Yn(t, n)), u.groupingIdentity && (s = Yn(t, n)) }(o, c, h), e = hR(r = Si(o, c.Yo, o.byteLength), new xi, h.Ff); break; case HI.V24: var f = s, v = new xi; f.UO.GY && (o = _R(o)), function (t, n, i) { var e, r, s, u, o = i.UO; o.groupingIdentity && (e = Yn(t, n)), o.XY && (r = ri(t, n)), o.YY && (s = Yn(t, n)), o.ZY && (u = fR(t, n)) }(o, v, f), e = hR(r = Si(o, v.Yo, o.byteLength), new xi, f.Ff) }if (!e) { var l = Ni(Ii(r)); e = ZI(s.Ff, l.buffer) } return e } function pR(t) { return function (t, n, i) { return rR(t, n, i) }(new DataView(t.data), new xi, t.key) } function mR(t) { switch (t.key) { case "APIC": case "PIC": return function (t) { return { id: t.key, mimeType: t.type, pictureType: 16, description: t.info, data: t.data } }(t); case "GEOB": case "GEO": return function (t) { return { id: t.key, mimeType: t.type, fileName: t.name, description: t.info, data: t.data } }(t); case "PRIV": return function (t) { return { id: t.key, ownerIdentifier: t.info, data: t.data } }(t); case "TXXX": case "TXX": return function (t) { return { id: t.key, description: t.info, text: t.data } }(t); case "WXXX": case "WXX": return function (t) { return { id: t.key, description: t.info, url: t.data } }(t); case "YMID": case "YTYP": case "YSEQ": case "YDUR": case "YCSP": return pR(t); default: var n = t.key.charAt(0); if ("T" === n) return function (t) { return { id: t.key, text: t.data } }(t); if ("W" === n) return function (t) { return { id: t.key, url: t.data } }(t) }return function (t) { return ZI(t.key, t.data) }(t) } var kR = "org.id3"; var bR = function (t) { function n(n, i, e) { var r; return void 0 === e && (e = !0), (r = t.call(this) || this).rL = [], r.vL = [], r.cL = Vr.Wf, r.nx = E_.NONE, r.fL = void 0, r.iO = "", r.JY = function () { r.tZ(), r.nj.removeEventListener("cuechange", r.JY) }, r.nZ = function () { r.Yf !== Vr.Wf && (r.iZ(), r.eL(), r.rL.length && r.eZ(E_.LOADING)) }, r.rZ = function () { r.eZ(E_.LOADED) }, r.sZ = function () { r.eZ(E_.ERROR) }, r.nj = n, r.uZ = e, r.nj.addEventListener("cuechange", r.JY), r.nj.addEventListener("cuechange", r.nZ), r.oZ = i, r.oZ && (r.fL = Cl(r.oZ.src), r.oZ.addEventListener("load", r.rZ), r.oZ.addEventListener("error", r.sZ)), r.aL = T_(), r.yL = n.label || "", r.pL = new I_(r.rL), r.mL = new I_(r.vL), r.Yf = r.aZ, re(function () { r.nZ(), r.eZ(E_.NONE) }), r } rt(n, t); var i = n.prototype; return i.lf = function () { return Gr(this) }, i.tZ = function () { var t = this.Yf; this.hZ || t !== Vr.$f ? this.aZ = t : this.aZ = Vr.Xf }, i.cZ = function () { var t = this.Yf, n = this.aZ; t !== n && (this.hZ || t !== Vr.$f || n !== Vr.Xf) && ("metadata" === this.Vf && n === Vr.Wf ? this.Yf = t : this.Yf = n) }, i.fZ = function (t) { this.nx !== t && (this.nx = t, this._o(new x_(this, t))) }, i.eZ = function (t) { var n = _.max(this.nx, this.vZ, t); this.fZ(n) }, i.lZ = function (t) { return t && t.THEOplayerTextTrackCue || void 0 }, i.dZ = function (t) { var n = this.lZ(t); if (n) return n; if (L(n = this._Z(t))) for (var i = 0, e = n; i < e.length; i++) { e[i].df = this } else n.df = this; return t.THEOplayerTextTrackCue = n, n }, i._Z = function (t) { return (n = t) && n.type === kR && n.value ? (this.Ou = "id3", function (t) { var n; try { n = mR(t.value) } catch (t) { n = ZI("") } return new XI(t, n) }(t)) : function (t) { return !!(t && t.data instanceof ArrayBuffer) }(t) ? (this.Ou = "id3", function (t) { var n = []; try { var i = wR(new DataView(t.data)); if (i) for (var e = 0, r = i.KY; e < r.length; e++) { var s = r[e]; n.push(new XI(t, s)) } } catch (t) { } return n }(t)) : function (t) { return "text" in t }(t) ? (this.Ou = "webvtt", function (t) { return function (t) { return "regionId" in t }(t) }(t) ? new WI(t) : new GI(t)) : new UI(t); var n }, i.gZ = function (t) { for (var n = t.length, i = [], e = 0; e < n; e++) { var r = this.dZ(t[e] || t.item(e)); if (L(r)) for (var s = 0; s < r.length; s++) { var u = r[s]; i.push(u) } else i.push(r) } return i }, i.iZ = function () { for (var t = this.gZ(this.nj.cues), n = t_(this.rL, t), i = 0, e = n.RM; i < e.length; i++) { var r = e[i]; this._o(new j_(r)) } for (var s = 0, u = n.IM; s < u.length; s++) { var o = u[s]; this._o(new M_(o)) } }, i.eL = function () { for (var t = this.gZ(this.nj.activeCues), n = t_(this.vL, t), i = 0, e = n.RM; i < e.length; i++) { e[i].GP = !1 } for (var r = 0, s = n.IM; r < s.length; r++) { s[r].GP = !0 } (n.IM.length || n.RM.length) && this._o(new o_(this)) }, i.Af = function () { this.To(); for (var t = this.rL.slice(), n = 0; n < t.length; n++) { t[n].Af() } An(this.rL), An(this.vL), this.nj.removeEventListener("cuechange", this.nZ), this.oZ && (this.nj.removeEventListener("load", this.rZ), this.nj.removeEventListener("error", this.sZ)) }, T(n, [{ key: "Jf", get: function () { return this.mL } }, { key: "NL", get: function () { return this.oZ ? this.oZ.default : void 0 } }, { key: "Kf", get: function () { return this.pL } }, { key: "vf", get: function () { return this.cf || (this.cf = this.lf()), this.cf } }, { key: "Ff", get: function () { return this.nj.id || this.oZ && this.oZ.id || "" } }, { key: "Uf", get: function () { return this.aL } }, { key: "Qf", get: function () { return this.nj.inBandMetadataTrackDispatchType || "" } }, { key: "Vf", get: function () { return this.nj.kind || Xc.qx } }, { key: "Hf", get: function () { return this.yL }, set: function (t) { t !== this.Hf && (this.yL = t, this._o(new R_(this))) } }, { key: "Gf", get: function () { return this.nj.language || "" } }, { key: "Yf", get: function () { return this.cL }, set: function (t) { var n = this.Yf; this.cL = zr(t), this.tZ(); var i = this.Yf; n !== i && this._o(new N_(this)), i !== Vr.Wf && this.eZ(E_.LOADING) } }, { key: "aZ", get: function () { return zr(this.nj.mode) }, set: function (t) { this.nj.mode = t } }, { key: "sj", get: function () { return this.nj } }, { key: "Zf", get: function () { return this.nx } }, { key: "vZ", get: function () { return this.oZ ? +this.oZ.readyState || E_.NONE : E_.LOADED } }, { key: "tv", get: function () { return this.fL } }, { key: "Ou", get: function () { return this.iO }, set: function (t) { this.iO !== t && (this.iO = t, this._o(new O_(this))) } }, { key: "hZ", get: function () { return this.uZ }, set: function (t) { this.uZ = t, this.tZ() } }]), n }(ar); function AR(t) { return t instanceof bR } var TR = function (t) { function n(n, i) { var e; return (e = t.call(this, n, i) || this).Ou = "id3", e } rt(n, t); var i = n.prototype; return i.SL = function (n) { !function (t, n) { if (0 !== n.length) { var i = n.length - 1; if (n[i].zk < t.zk) Cp(n, i, t.zk); else { var e = n[0]; if (e.zk > t.zk) t.OP = e.zk; else { var r = Kg(n, t); if (!(r >= 0)) { var s = -(r + 1), u = s - 1; if (u >= 0 && n[u].zk < t.zk && Cp(n, u, t.zk), s < n.length) { var o = n[s]; t.OP = o.zk } } } } } }(n, this.rL), t.prototype.SL.call(this, n) }, i.lf = function () { return Gr(this) }, n }(Ep); function SR(t) { var n = t && t.THEOplayerTextTrackCue || void 0; if (n) return n; var i = t.startTime, e = mR(t.value); return t.THEOplayerTextTrackCue = n, new Np(i, e) } var ER = function (t) { function n(n) { var i; return (i = t.call(this, n.inBandMetadataTrackDispatchType, n.label) || this).nZ = function () { i.Yf !== Vr.Wf && (i.iZ(), i.eZ(E_.LOADED)) }, i.nj = n, i.nj.addEventListener("cuechange", i.nZ), i.Yf = i.aZ, re(function () { i.nZ() }), i } rt(n, t); var i = n.prototype; return i.bL = function (n) { t.prototype.bL.call(this, n), this.aZ = this.Yf }, i.eZ = function (t) { this.Zf = _.max(this.Zf, t) }, i.iZ = function () { for (var t = function (t) { for (var n = t.length, i = [], e = 0; e < n; e++)i.push(SR(t[e] || t.item(e))); return dn(i, Zg), i }(this.nj.cues), n = t_(this.Kf.Tf.slice(), t), i = 0, e = n.RM; i < e.length; i++) { var r = e[i]; this.IL(r) } for (var s = 0, u = n.IM; s < u.length; s++) { var o = u[s]; this.SL(o) } }, i.Af = function () { this.nj.removeEventListener("cuechange", this.nZ), t.prototype.Af.call(this) }, T(n, [{ key: "Ff", get: function () { return this.nj.id || "" } }, { key: "Qf", get: function () { return this.nj.inBandMetadataTrackDispatchType || "" } }, { key: "Gf", get: function () { return this.nj.language || "" } }, { key: "aZ", get: function () { return zr(this.nj.mode) }, set: function (t) { this.nj.mode = t } }, { key: "sj", get: function () { return this.nj } }]), n }(TR), IR = function (t) { function n() { return t.call(this) || this } return rt(n, t), n.prototype.wZ = function (n) { t.prototype.pf.call(this, new ER(n)) }, n }(Jl); var RR = ["loadstart", "encrypted", "waitingforkey", "webkitneedkey", "msneedkey"], CR = function () { function t(t, n, i) { var e = this; this.yZ = !1, this.pZ = new Oi, this._U = new hw, this.Gh = void 0, this.mZ = function () { e.kZ(!0) }, this.bZ = function () { for (var t = e.qU.Tf, n = 0; n < t.length; n++) { var i = t[n]; e.qU.kf(i) } }, this.AZ = function (t) { var n = t.track, i = e.TZ(n); e.SZ(n, i) }, this.EZ = function (t) { var n = function (t, n) { for (var i = 0, e = t.Tf; i < e.length; i++) { var r = e[i]; if (r.sj === n) return r } }(e.qU, t.track); n && e.qU.kf(n) }, this.IZ = function () { for (var t = 0; t < e.bV.Sf; t++) { var n = e.bV.yf(t); n instanceof bR && n.cZ() } }, this.gc = t, this.pU = n, this.Nc = n.fV, this.Uu = i, this.ML = new b_(n); for (var r = 0; r < RR.length; r++) { var s = RR[r]; this.Nc.addEventListener(s, this.mZ) } this.j_ = new fu, this.qU = new fu, this.RZ = new IR, this.NZ = this.RZ.pO; var u = [this.qU, this.NZ]; this.CZ = new W_(u), this._V() } var n = t.prototype; return n.TV = function (t, n, i) { var e = new U_(t, n || "", i || ""); return this.j_.pf(e), this.ML.pf(e), e }, n.DZ = function (t) { this.j_.kf(t), this.ML.kf(t) }, n.TU = function () { var t = St(At.mark(function t(n, i) { var e, r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, this.Uu.Qu(n.Bu, i); case 2: return e = t.sent, t.next = 5, e.Yh(); case 5: return r = t.sent, t.next = 8, this.xZ(r); case 8: return t.abrupt("return", r); case 9: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), n.oo = function () { var t = St(At.mark(function t() { var n, i, e, r, s; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: for (n = 0; n < RR.length; n++)i = RR[n], this.Nc.removeEventListener(i, this.mZ); return t.next = 3, this._U.Af(); case 3: for (this.NV(), e = 0, r = this.j_.Tf.slice(); e < r.length; e++)s = r[e], this.DZ(s); return this.qU.Af(), t.next = 8, this.RZ.Af(); case 8: return t.next = 10, this.OZ(); case 10: return t.next = 12, this.xZ(void 0); case 12: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), n.kZ = function (t) { t !== this.yZ && (this.yZ = t, t ? this.pZ.nh(void 0) : this.pZ = new Oi) }, n.xZ = function (t) { var n = this; return this._U.wj(function () { return n.BZ(t) }) }, n.BZ = function () { var t = St(At.mark(function t(n) { var i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!n || this.Nc.src) { t.next = 4; break } throw new vw("Attempted to attach MediaKeys to a sourceless MediaElement"); case 4: if (n || !this.Nc.src) { t.next = 6; break } throw new vw("Attempted to remove MediaKeys from a non-empty MediaElement"); case 6: if (!n || this.yZ) { t.next = 9; break } return t.next = 9, this.pZ._a; case 9: if (!(i = this.Gh)) { t.next = 14; break } return t.next = 13, i.$h(this.Nc); case 13: this.Gh = void 0; case 14: if (!n) { t.next = 18; break } return t.next = 17, n.Xh(this.Nc); case 17: this.Gh = n; case 18: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), n.z_ = function (t) { var n = this; return this._U.wj(function () { return n.PZ(t) }) }, n.PZ = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: this.kZ(!1), this.Nc.src = n; case 2: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), n.Ph = function () { var t = this; return this._U.wj(function () { return t.hW() }) }, n.hW = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: this.Nc.load(); case 1: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), n.OZ = function () { var t = this; return this._U.wj(function () { return t.MZ() }) }, n.MZ = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: this.kZ(!1), Ze(this.Nc); case 2: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), n._V = function () { var t = this.Nc.textTracks; t && t.addEventListener && (t.addEventListener("addtrack", this.AZ), t.addEventListener("removetrack", this.EZ), t.addEventListener("change", this.IZ)), this.Nc.addEventListener("emptied", this.bZ) }, n.NV = function () { var t = this.Nc.textTracks; t && t.removeEventListener && (t.removeEventListener("addtrack", this.AZ), t.removeEventListener("removetrack", this.EZ), t.removeEventListener("change", this.IZ)), this.Nc.removeEventListener("emptied", this.bZ) }, n.TZ = function (t) { for (var n = this.Nc.getElementsByTagName("track"), i = 0; i < n.length; i++) { var e = n[i] || n.item(i); if (e.track === t) return e } }, n.LZ = function (t, n) { this.qU.pf(new bR(t, n)) }, n.jZ = function (t) { this.RZ.wZ(t) }, n.SZ = function (t, n) { this.LZ(t, n) }, T(t, [{ key: "og", get: function () { throw new v("Not implemented") } }, { key: "MB", get: function () { return this.gc } }, { key: "fV", get: function () { return this.Nc } }, { key: "Ag", get: function () { throw new v("Not implemented") } }, { key: "kV", get: function () { return this.j_ } }, { key: "Tg", get: function () { throw new v("Not implemented") } }, { key: "FZ", get: function () { return this.qU } }, { key: "bV", get: function () { return this.CZ } }]), t }(); function NR(t) { return t.cues && t.cues.length > 0 } var DR = function (t) { function n() { return t.apply(this, arguments) || this } rt(n, t); var i = n.prototype; return i.wx = function () { var t = St(At.mark(function t() { var n; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: n = this.MB, t.t0 = n.pV, t.next = t.t0 === Qc.a_ ? 4 : t.t0 === Qc.o_ ? 4 : (t.t0, Qc.u_, 6); break; case 4: return this.Nc.setAttribute("crossorigin", n.pV), t.abrupt("break", 8); case 6: return this.Nc.removeAttribute("crossorigin"), t.abrupt("break", 8); case 8: return void 0 !== n.gg ? this.Nc.preload = n.gg : this.Nc.preload = X_.KL, void 0 !== n.jC ? this.Nc.title = n.jC : Qe(this.Nc), t.next = 12, this.z_(n.tv); case 12: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.oo = function () { var n = St(At.mark(function n() { return At.wrap(function (n) { for (; ;)switch (n.prev = n.next) { case 0: return Qe(this.Nc), n.next = 3, t.prototype.oo.call(this); case 3: case "end": return n.stop() } }, n, this) })); return function () { return n.apply(this, arguments) } }(), i.SZ = function (n, i) { if (x.Tn) { if (n.kind === Xc.Qx) return void this.UZ(n); if (n.kind === Xc.Wx && !NR(n)) return void this.VZ(n, i) } t.prototype.SZ.call(this, n, i) }, i.UZ = function (t) { t.mode = Vr.Xf, this.jZ(t) }, i.VZ = function (t, n) { var i = this; t.addEventListener("cuechange", function e() { NR(t) && (t.removeEventListener("cuechange", e), i.LZ(t, n)) }), t.mode = Vr.Xf }, T(n, [{ key: "hg", get: function () { return RE.Fd(this.Nc.buffered) } }, { key: "Zy", get: function () { return this.Nc.duration } }, { key: "gg", get: function () { return this.Nc.preload }, set: function (t) { this.Nc.preload = t } }, { key: "jx", get: function () { return RE.Fd(this.Nc.seekable) } }, { key: "HZ", get: function () { return this.hg } }]), n }(CR), xR = function (t) { function n(n) { var i; return (i = t.call(this, es.Al) || this).currentTime = n, i } return rt(n, t), n }(Mn), BR = function (t) { function n() { return t.call(this, es.dl) || this } return rt(n, t), n }(Mn), OR = function (t) { function n() { return t.apply(this, arguments) || this } rt(n, t); var i = n.prototype; return i.GZ = function (t, n, i) { return Tt.reject(new v("Invalid state")) }, i.zZ = function () { return Tt.reject(new v("Invalid state")) }, i.qZ = function (t, n) { return Tt.reject(new v("Invalid state")) }, i.WZ = function () { return !1 }, i.XZ = function () { }, i.$Z = function (t, n) { }, i.QZ = function (t, n) { }, i.Mh = function (t, n, i) { return Tt.resolve() }, i.YZ = function (t) { }, i.Af = function () { return Tt.resolve() }, T(n, [{ key: "hg", get: function () { return RE.Vd() } }, { key: "ZZ", get: function () { return !1 } }, { key: "KZ", get: function () { return RE.Vd() } }, { key: "JZ", get: function () { return !1 } }, { key: "lX", get: function () { return !1 } }]), n }(Pn), PR = function () { function t(t, n) { this.tK = void 0, this.nK = n, this.iK = t } var n = t.prototype; return n.WZ = function () { return !!this.tK && this.hg.rd().fd(this.tK) }, n.XZ = function () { var t = this.hg; this.tK = t.Sf > 0 ? t.Fl(t.Sf - 1) : new Eo(0), this.nK.eK() }, T(t, [{ key: "hg", get: function () { var t = RE.Fd(this.iK.buffered).dd(new RE([Eo.cm, Eo.fm])), n = this.tK; return void 0 !== n && t.Sf > 0 && t.Fl(t.Sf - 1).Hl(n) && (t = t.bd(RE.Ud(n))), t } }]), t }(); function MR(t, n) { var i = h_(); return function () { var e = h_(); e - i >= n && (t.apply(void 0, arguments), i = e) } } var LR = new Eo(.001), jR = 100, FR = new Eo(.5), UR = function () { function t(t, n) { var i, e, r, s, u = this; this.rK = t, this.pU = n, this.sK = RE.Vd(), this.CU = eu.h_, this.uK = !1, this.oK = (i = function (t) { if (!u.uK) { var n = u.pU.Zf; if (n <= eu.f_) { var i = new Eo(u.pU.yg), e = u.rK.hg, r = e.Ed(i), s = e.Fl(r); -1 !== r && n < u.CU && s.Wl(i.kd(FR)) && (i = s), u.aK(i) } u.CU = n } }, e = jR, function () { for (var t = arguments.length, n = new Array(t), u = 0; u < t; u++)n[u] = arguments[u]; var o = this, c = r && !s; h(s), s = a(function () { s = void 0, r || i.apply(o, n) }, e), c && i.apply(o, n) }), this.pU.mo("readystatechange", this.oK) } var n = t.prototype; return n.hK = function (t, n) { var i = new Eo(this.pU.yg), e = new RE([t, n]); this.sK = this.sK.bd(e), e.fd(i) && this.aK(i) }, n.cK = function (t, n) { this.sK = this.sK.Sd(new RE([t, n])) }, n.bf = function () { this.sK = RE.Vd(), this.CU = eu.h_ }, n.Af = function () { this.bf(), this.pU.So("readystatechange", this.oK), this.uK = !0 }, n.aK = function (t) { if (!this.pU.SN) { var n = this.fK, i = n.Ed(t); if (-1 !== i) n.Ll(i).tm(n.Fl(i), LR) || this.pU.$o(n.Fl(i).um) } }, T(t, [{ key: "fK", get: function () { return this.sK } }]), t }(), VR = "QuotaExceededError"; function HR(t) { return t && t.name === VR } function zR(t, n) { return void 0 === n && (n = new eA({ highWaterMark: 1 / 0 })), new $b(new qR(t, n), { highWaterMark: 0 }) } var qR = function () { function t(t, n) { var i = this, e = n.size, r = void 0 === e ? function () { return 1 } : e, s = n.highWaterMark, u = void 0 === s ? 1 : s; this.Ur = [], this.yz = 0, this.vK = void 0, this.lK = !1, this.dK = void 0, this._K = function (t) { var n = t.done, e = t.value; return n ? (i.Gr(), void i.vK.close()) : (i.Ur.push(e), i.yz += i.gK(e), i.lK && i.Gr(), i.wK() ? i.rz.read().then(i._K) : void 0) }, this.Yq = function (t) { i.Gr(), i.vK.error(t) }, this.rz = t.getReader(), this.gK = r, this.yK = u } var n = t.prototype; return n.start = function (t) { this.vK = t, this.wK() && this.pK() }, n.pull = function () { this.Ur.length > 0 ? this.Gr() : this.lK = !0, this.wK() && this.pK() }, n.cancel = function (t) { return An(this.Ur), this.yz = 0, this.lK = !1, this.rz.cancel(t) }, n.Gr = function () { if (0 !== this.Ur.length) { var t = this.Ur; this.Ur = [], this.yz = 0, this.lK = !1, this.vK.enqueue(t) } }, n.wK = function () { return !!this.lK || this.yK - this.yz > 0 }, n.pK = function () { var t = this; if (!this.dK) { var n = this.rz.read().then(this._K).catch(this.Yq); this.dK = n; var i = function () { t.dK === n && (t.dK = void 0) }; n.then(i, i) } }, t }(), GR = new Eo(30), WR = new Eo(.5); var XR = 20, $R = function (t) { function n(n, i, e, r) { var s; return (s = t.call(this) || this).w$ = XR, s.mK = !1, s.kK = !1, s.bK = void 0, s.AK = new ie, s.TK = function () { s.mK = !1 }, s.pU = n, s.SK = e, s.rK = i, s.iK = r, s.iK.addEventListener("updateend", s.TK), s } rt(n, t); var i = n.prototype; return i.GZ = function (t, n, i) { var e = this; switch (t.Ou) { case 0: case 1: return this.EK(function (i) { return e.IK(t, n, i) }, i); case 2: throw new v("Opaque segments are not supported on web.") } }, i.qZ = function (t, n) { var i = this; switch (t.Ou) { case 0: return this.EK(function (n) { return i.RK(t, n) }, n); case 1: throw new v("Streaming initialization segments are not supported on web."); case 2: throw new v("Opaque initialization segments are not supported on web.") } }, i.RK = function (t, n) { return this.NK(t.ei, 0, void 0, void 0, n) }, i.IK = function () { var t = St(At.mark(function t(n, i, e) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, t.next = 3, this.NK(n.ei, -i.rM, new Eo(i.CK), new Eo(i.Zy), e); case 3: this._o(new Mn("DK")); case 4: return t.prev = 4, 1 === n.Ou && n.ei.cancel(new En).catch(q), t.finish(4); case 7: case "end": return t.stop() } }, t, this, [[0, , 4, 7]]) })); return function (n, i, e) { return t.apply(this, arguments) } }(), i.NK = function (t, n, i, e, r) { return void 0 === i && (i = void 0), void 0 === e && (e = void 0), this.xK(t, n, i, e, r) }, i.xK = function () { var t = St(At.mark(function t(n, i, e, r, s) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return Rn(s), t.next = 3, this.BK(new Eo(this.pU.yg), e, r); case 3: if (Rn(s), !(n instanceof $b)) { t.next = 9; break } return t.next = 7, this.PK(n, i, e, r, s); case 7: t.next = 11; break; case 9: return t.next = 11, this.MK(n, i, e, r, s); case 11: case "end": return t.stop() } }, t, this) })); return function (n, i, e, r, s) { return t.apply(this, arguments) } }(), i.PK = function () { var t = St(At.mark(function t(n, i, e, r, s) { var u, o; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return u = void 0, o = bA(n), n = o[0], u = o[1], t.prev = 5, t.next = 8, this.LK(n, i, s); case 8: return u.cancel(new En).catch(q), t.abrupt("return"); case 12: if (t.prev = 12, t.t0 = t.catch(5), !HR(t.t0)) { t.next = 21; break } return t.next = 17, this.BK(new Eo(this.pU.yg), e, r, s); case 17: if (!t.sent) { t.next = 21; break } return n = u, t.abrupt("continue", 0); case 21: throw u.cancel(t.t0).catch(q), t.t0; case 23: t.next = 0; break; case 25: case "end": return t.stop() } }, t, this, [[5, 12]]) })); return function (n, i, e, r, s) { return t.apply(this, arguments) } }(), i.LK = function () { var t = St(At.mark(function t(n, i, e) { var r, s, u, o, a, h, c, f, v, l; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: r = this.rK.hg, s = zR(n), u = s.getReader(), o = !1, t.prev = 4, this.iK.timestampOffset = i; case 6: return t.next = 9, Dn(u.read(), e); case 9: if (a = t.sent, h = a.done, c = a.value, !h) { t.next = 15; break } return o = !1, t.abrupt("break", 22); case 15: return Rn(e), f = Xi(c), o = !0, t.next = 20, this.jK(f); case 20: t.next = 6; break; case 22: t.next = 39; break; case 24: if (t.prev = 24, t.t0 = t.catch(4), u.cancel(t.t0).catch(q), !o) { t.next = 38; break } return t.next = 30, this.FK(); case 30: v = this.rK.hg.dd(r._d()), l = 0; case 32: if (!(l < v.Sf)) { t.next = 38; break } return t.next = 35, this.UK(v.Ll(l).um, v.Fl(l).um); case 35: l++, t.next = 32; break; case 38: throw t.t0; case 39: case "end": return t.stop() } }, t, this, [[4, 24]]) })); return function (n, i, e) { return t.apply(this, arguments) } }(), i.MK = function () { var t = St(At.mark(function t(n, i, e, r, s) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 1, Rn(s), this.iK.timestampOffset = i, t.next = 6, this.jK(n); case 6: return t.abrupt("return", t.sent); case 9: if (t.prev = 9, t.t0 = t.catch(1), !HR(t.t0)) { t.next = 17; break } return t.next = 14, this.BK(new Eo(this.pU.yg), e, r, s); case 14: if (!t.sent) { t.next = 17; break } return t.abrupt("continue", 0); case 17: throw t.t0; case 18: t.next = 0; break; case 20: case "end": return t.stop() } }, t, this, [[1, 9]]) })); return function (n, i, e, r, s) { return t.apply(this, arguments) } }(), i.jK = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.iK.appendBuffer(n), this.kK = !0, t.next = 4, this.VK(); case 4: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.BK = function () { var t = St(At.mark(function t(n, i, e, r) { var s; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (s = this.HK(n, i, e)) { t.next = 3; break } return t.abrupt("return", !1); case 3: return t.next = 5, this.UK(s[0].um, s[1].um, r); case 5: return t.abrupt("return", !0); case 6: case "end": return t.stop() } }, t, this) })); return function (n, i, e, r) { return t.apply(this, arguments) } }(), i.HK = function (t, n, i) { var e = function (t, n, i, e, r) { var s = new RE([t.Od(GR), t.kd(Eo.Ql(GR, new Eo(r)))]); n && i && (s = s.bd(new RE([n.Od(i.nm(2)), n.kd(i.nm(2))]))); for (var u = e.dd(s._d()), o = [], a = 0; a < u.Sf; a++) { var h = u.Ll(a), c = u.Fl(a); c.Od(h).Jp(WR) && o.push([h, c]) } return o }(t, n, i, this.rK.hg, this.w$); return e.length > 0 ? e[0] : void 0 }, i.GK = function (t, n, i) { var e = this; return this.EK(function (i) { return e.UK(t, n, i) }, i) }, i.UK = function () { var t = St(At.mark(function t(n, i, e) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return Rn(e), this.iK.remove(n, i), t.next = 4, this.VK(); case 4: case "end": return t.stop() } }, t, this) })); return function (n, i, e) { return t.apply(this, arguments) } }(), i.VK = function () { var t = this, n = this.rK.hg; return new Tt(function (i, e) { var r, s = !1, u = function () { s = !0 }, o = function () { s = !1, r = "error" }, a = function () { s = !1, r = "aborted" }, h = function () { c(), s && !r ? (n.Dd(t.rK.hg) || t._o(new Mn("DK")), i()) : e(new v(r)) }, c = function () { t.iK.removeEventListener("update", u), t.iK.removeEventListener("error", o), t.iK.removeEventListener("abort", a), t.iK.removeEventListener("updateend", h) }; t.iK.addEventListener("update", u), t.iK.addEventListener("error", o), t.iK.addEventListener("abort", a), t.iK.addEventListener("updateend", h) }) }, i.zK = function () { var t = St(At.mark(function t() { var n = this; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.abrupt("return", this.EK(function () { return n.FK() })); case 1: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.FK = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if ("open" === this.SK.Zf) { t.next = 2; break } return t.abrupt("return"); case 2: if (this.iK.updating && (this.mK = !0), this.iK.abort(), !this.lX) { t.next = 7; break } return t.next = 7, this.VK().catch(q); case 7: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.EK = function () { var t = St(At.mark(function t(n, i) { var e; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!this.bK) { t.next = 2; break } throw new v("Internal error"); case 2: return (e = new ie).lh(this.AK._h), i && e.lh(i), t.prev = 5, this.bK = n(e._h), t.next = 9, this.bK; case 9: if (this.SK.qK(), !this.lX) { t.next = 13; break } return t.next = 13, this.VK(); case 13: return t.prev = 13, this.bK = void 0, e.oo(), t.finish(13); case 17: case "end": return t.stop() } }, t, this, [[5, , 13, 17]]) })); return function (n, i) { return t.apply(this, arguments) } }(), i.oo = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (this.To(), this.AK.eh(), !this.bK) { t.next = 6; break } return t.next = 5, this.bK.catch(q); case 5: this.bK = void 0; case 6: this.iK.removeEventListener("updateend", this.TK); case 7: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), T(n, [{ key: "JZ", get: function () { return this.kK } }, { key: "v$", get: function () { return this.w$ }, set: function (t) { this.w$ = t } }, { key: "lX", get: function () { return this.mK || this.iK.updating } }]), n }(Pn); function QR(t, n, i, e) { var r = new PR(t, n), s = new UR(r, e), u = new $R(e, r, n, t); return new YR(r, s, u) } var YR = function (t) { function n(n, i, e) { var r; return (r = t.call(this) || this).rK = n, r.WK = i, r.XK = e, r.XK.mo("DK", r.do), r } rt(n, t); var i = n.prototype; return i.WZ = function () { return this.rK.WZ() }, i.XZ = function () { this.rK.XZ() }, i.$Z = function (t, n) { var i = new Eo(t), e = new Eo(n); this.WK.hK(i, e) }, i.QZ = function (t, n) { var i = new Eo(t), e = new Eo(n); this.WK.cK(i, e) }, i.zZ = function () { return this.XK.zK() }, i.GZ = function (t, n, i) { return this.XK.GZ(t, n, i) }, i.qZ = function (t, n) { return this.XK.qZ(t, n) }, i.Mh = function (t, n, i) { var e = new Eo(t), r = new Eo(n); return this.WK.cK(e, r), this.XK.GK(t, n, i) }, i.YZ = function (t) { this.XK.v$ = t }, i.Af = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.XK.So("DK", this.do), t.next = 3, this.XK.oo(); case 3: this.WK.Af(); case 4: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), T(n, [{ key: "hg", get: function () { return this.rK.hg } }, { key: "ZZ", get: function () { return !0 } }, { key: "KZ", get: function () { return this.WK.fK } }, { key: "JZ", get: function () { return this.XK.JZ } }, { key: "lX", get: function () { return this.XK.lX } }]), n }(Pn), ZR = function (t) { function n(n, i, e, r) { var s; return (s = t.call(this) || this).iK = void 0, s.SK = n, s.gc = e, s.ic = e.bA, s.$K = r, s.pU = i, s.sz = new OR, s.sz.mo("DK", s.do), s.w$ = XR, s } rt(n, t); var i = n.prototype; return i.WZ = function () { return this.sz.WZ() }, i.XZ = function () { return this.sz.XZ() }, i.$Z = function (t, n) { return this.sz.$Z(t, n) }, i.QZ = function (t, n) { return this.sz.QZ(t, n) }, i.zZ = function () { return this.sz.zZ() }, i.GZ = function (t, n, i) { return this.sz.GZ(t, n, i) }, i.qZ = function (t, n) { return this.sz.qZ(t, n) }, i.Mh = function () { var t = St(At.mark(function t(n, i, e) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, this.sz.Mh(n, i, e); case 2: x.On && this.pU.$o(this.pU.yg); case 3: case "end": return t.stop() } }, t, this) })); return function (n, i, e) { return t.apply(this, arguments) } }(), i.ej = function () { var t = St(At.mark(function t(n, i) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (this.ZZ !== n) { t.next = 2; break } return t.abrupt("return"); case 2: if (!n) { t.next = 7; break } return t.next = 5, this.kO(i); case 5: t.next = 9; break; case 7: return t.next = 9, this.bO(i); case 9: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.kO = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, Rn(n), KR(this.iK, !0), t.next = 5, this.QK(this.iK); case 5: t.next = 12; break; case 7: return t.prev = 7, t.t0 = t.catch(0), Rn(n), t.next = 12, this.SK.YK(this); case 12: case "end": return t.stop() } }, t, this, [[0, 7]]) })); return function (n) { return t.apply(this, arguments) } }(), i.bO = function () { var t = St(At.mark(function t(n) { var i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return i = this.iK, t.prev = 1, Rn(n), t.next = 5, this.bf(); case 5: KR(i, !1), this.iK = i, t.next = 14; break; case 9: return t.prev = 9, t.t0 = t.catch(1), Rn(n), t.next = 14, this.SK.ZK(this, i); case 14: case "end": return t.stop() } }, t, this, [[1, 9]]) })); return function (n) { return t.apply(this, arguments) } }(), i.setState = function () { var t = St(At.mark(function t(n) { var i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return (i = this.sz).So("DK", this.do), t.next = 4, i.Af(); case 4: this.sz = n, this.sz.YZ(this.w$), this.sz.mo("DK", this.do); case 7: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.QK = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.iK = n, t.next = 3, this.setState(QR(n, this.SK, this.$K, this.pU)); case 3: this._o(new Mn("jf")); case 4: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.bf = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.iK = void 0, t.next = 3, this.setState(new OR); case 3: this._o(new Mn("KK")); case 4: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.oo = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, this.To(), t.next = 4, this.bf(); case 4: this.sz.So("DK", this.do), t.next = 9; break; case 7: t.prev = 7, t.t0 = t.catch(0); case 9: case "end": return t.stop() } }, t, this, [[0, 7]]) })); return function () { return t.apply(this, arguments) } }(), T(n, [{ key: "hg", get: function () { return this.sz.hg } }, { key: "MB", get: function () { return this.gc } }, { key: "bA", get: function () { return this.ic } }, { key: "KZ", get: function () { return this.sz.KZ } }, { key: "JZ", get: function () { return this.sz.JZ } }, { key: "v$", get: function () { return this.w$ }, set: function (t) { this.w$ = t, this.sz.YZ(t) } }, { key: "lX", get: function () { return this.sz.lX } }, { key: "ZZ", get: function () { return this.sz.ZZ } }]), n }(Pn); function KR(t, n) { var i = t && t.audioTracks, e = t && t.videoTracks; if (!i || !e) throw new v("Not supported by browser."); for (var r = 0; r < i.length; r++)i[r].enabled !== n && (i[r].enabled = n); for (var s = 0; s < e.length; s++)e[s].selected !== n && (e[s].selected = n) } var JR = x.dn || x._n, tC = function () { function t(t, n, i, e) { void 0 === i && (i = !1), void 0 === e && (e = !1), this.KP = t, this.JP = n, this.JK = i, this.tJ = e, this.nJ = h_() } return t.prototype.iJ = function () { var t = this.KP, n = this.JP; if (this.JK || this.tJ) { var i = .001 * (h_() - this.nJ); this.JK && (t += i), this.tJ && (n += i) } return t >= n ? RE.Vd() : new RE([new Eo(t), new Eo(n)]) }, T(t, [{ key: "eJ", get: function () { return this.JK } }, { key: "rJ", get: function () { return this.tJ } }]), t }(), nC = function () { function t() { } return t.prototype.sJ = function () { return new MediaSource }, t }(), iC = function (t) { function n(n, i, e, r) { var s; return void 0 === r && (r = new nC), (s = t.call(this, n, i, e) || this).uJ = void 0, s.oJ = void 0, s.aJ = new tC(0, 1 / 0), s.hJ = void 0, s.cJ = function () { s.fJ() }, s.vJ = function () { s.pU.vJ() }, s.lJ = r, s.Dj = s.lJ.sJ(), s.pU.mo(es.Rl, s.cJ), s } rt(n, t); var i = n.prototype; return i.dJ = function (t) { if (p(t) || t < 0) throw new v("Invalid duration"); var n = t === 1 / 0, i = n ? 9007199254740991 : t; if (n && this.Dj.setLiveSeekableRange) { var e = _.pow(2, 39); this.Dj.setLiveSeekableRange(0, e) } this._J() ? this.Dj.duration = i : this.hJ = i }, i.gJ = function () { var t = []; if (this.uJ && this.uJ.ZZ && t.push(this.uJ.hg), this.oJ && this.oJ.ZZ && t.push(this.oJ.hg), 0 === t.length) return RE.Vd(); for (var n = Eo.cm, i = 0; i < t.length; i++) { var e = t[i]; e.Sf > 0 && (n = Eo.Ql(n, e.Fl(e.Sf - 1))) } for (var r = this.WZ, s = new RE([Eo.cm, n], [!0, r]), u = 0; u < t.length; u++) { var o = t[u]; r && o.Sf > 0 && (o = o.bd(new RE([o.Fl(o.Sf - 1), n], [!0, !0]))), s = s.dd(o) } return s }, i.wJ = function (t, n, i, e) { this.aJ = new tC(t, n, !!i, !!e) }, i.wx = function () { var t = St(At.mark(function t() { var n, i, e, r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return n = wn(this.gc.yJ, function (t) { return tn(t.bA, "audio") }), i = wn(this.gc.yJ, function (t) { return tn(t.bA, "video") }), n && (this.uJ = new ZR(this, this.pU, n, "audio"), this.uJ.mo("DK", this.vJ)), i && (this.oJ = new ZR(this, this.pU, i, "video"), this.oJ.mo("DK", this.vJ)), t.next = 6, this.pJ(); case 6: if (!this.uJ) { t.next = 12; break } return t.next = 9, this.mJ(this.uJ.bA); case 9: return e = t.sent, t.next = 12, this.uJ.QK(e); case 12: if (!this.oJ) { t.next = 18; break } return t.next = 15, this.mJ(this.oJ.bA); case 15: return r = t.sent, t.next = 18, this.oJ.QK(r); case 18: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.pJ = function () { var n = St(At.mark(function n() { var i; return At.wrap(function (n) { for (; ;)switch (n.prev = n.next) { case 0: return i = URL.createObjectURL(this.Dj), n.next = 3, t.prototype.z_.call(this, i); case 3: return n.next = 5, t.prototype.Ph.call(this); case 5: case "end": return n.stop() } }, n, this) })); return function () { return n.apply(this, arguments) } }(), i.mJ = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if ("open" === this.Zf) { t.next = 3; break } return t.next = 3, pr(this.Dj, "sourceopen"); case 3: if (!(this.uJ && this.uJ.JZ || this.oJ && this.oJ.JZ)) { t.next = 6; break } throw new v("kJ"); case 6: return t.abrupt("return", this.Dj.addSourceBuffer(n)); case 7: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i._J = function () { if ("open" !== this.Zf) return !1; var t = this.uJ && this.uJ.lX, n = this.oJ && this.oJ.lX; return !(t || n) }, i.oo = function () { var n = St(At.mark(function n() { return At.wrap(function (n) { for (; ;)switch (n.prev = n.next) { case 0: if (!this.uJ) { n.next = 4; break } return n.next = 3, this.uJ.oo(); case 3: this.uJ = void 0; case 4: if (!this.oJ) { n.next = 8; break } return n.next = 7, this.oJ.oo(); case 7: this.oJ = void 0; case 8: return this.Nc.src && URL.revokeObjectURL(this.Nc.src), this.pU.So(es.Rl, this.cJ), n.next = 12, t.prototype.oo.call(this); case 12: case "end": return n.stop() } }, n, this) })); return function () { return n.apply(this, arguments) } }(), i.eK = function () { this.fJ() }, i.fJ = function () { this.bJ && this._J() && (this.Dj.endOfStream(), this.hJ = void 0) }, i.YK = function () { var t = St(At.mark(function t(n) { var i, e; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, t.next = 3, this.mJ(n.bA); case 3: return i = t.sent, t.next = 6, n.QK(i); case 6: t.next = 14; break; case 8: return t.prev = 8, t.t0 = t.catch(0), (e = this.AJ).push(n), t.next = 14, this.TJ(e); case 14: case "end": return t.stop() } }, t, this, [[0, 8]]) })); return function (n) { return t.apply(this, arguments) } }(), i.ZK = function () { var t = St(At.mark(function t(n, i) { var e; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (t.prev = 0, !x.pn) { t.next = 3; break } throw new v("Not supported in Firefox"); case 3: this.Dj.removeSourceBuffer(i), t.next = 11; break; case 6: return t.prev = 6, t.t0 = t.catch(0), e = this.AJ.filter(function (t) { return t !== n }), t.next = 11, this.TJ(e); case 11: case "end": return t.stop() } }, t, this, [[0, 6]]) })); return function (n, i) { return t.apply(this, arguments) } }(), i.TJ = function () { var t = St(At.mark(function t(n) { var i, e, r, s, u, o; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: this.pU.SJ(), i = 0, e = this.AJ; case 2: if (!(i < e.length)) { t.next = 10; break } if (!(r = e[i])) { t.next = 7; break } return t.next = 7, r.bf(); case 7: i++, t.next = 2; break; case 10: return this.Dj = this.lJ.sJ(), t.next = 13, this.pJ(); case 13: s = 0; case 14: if (!(s < n.length)) { t.next = 24; break } return u = n[s], t.next = 18, this.mJ(u.bA); case 18: return o = t.sent, t.next = 21, u.QK(o); case 21: s++, t.next = 14; break; case 24: this.pU.EJ(); case 25: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.qK = function () { this._J() && (this.WZ ? this.fJ() : void 0 !== this.hJ && (this.Dj.duration = this.hJ, this.hJ = void 0)) }, T(n, [{ key: "IJ", get: function () { return this.uJ } }, { key: "RJ", get: function () { return this.oJ } }, { key: "AJ", get: function () { var t = []; return this.uJ && this.uJ.ZZ && t.push(this.uJ), this.oJ && this.oJ.ZZ && t.push(this.oJ), t } }, { key: "Zy", get: function () { if (this.hJ) return this.hJ; var t = this.Dj.duration; return 9007199254740991 === t ? 1 / 0 : t } }, { key: "hg", get: function () { return JR ? this.gJ() : RE.Fd(this.Nc.buffered) } }, { key: "HZ", get: function () { if (this.oJ && this.oJ.ZZ) return this.oJ.hg } }, { key: "jx", get: function () { return this.aJ.iJ().dd(new RE([Eo.cm, new Eo(this.Zy)], [!0, !0])) } }, { key: "WZ", get: function () { return (!this.uJ || !this.uJ.ZZ || this.uJ.WZ()) && (!this.oJ || !this.oJ.ZZ || this.oJ.WZ()) } }, { key: "Zf", get: function () { return this.Dj.readyState } }, { key: "bJ", get: function () { if (!this.WZ) return !1; var t = this.hg; return 0 !== t.Sf && t.Ll(t.Sf - 1).Xl(new Eo(this.pU.yg)) } }]), n }(CR), eC = function (t) { function n(n, i, e, r, s, u, o, a) { var h; return (h = t.call(this) || this).uY = n, h.KC = i, h.NJ = e, h.tx = r, h.oY = s, h.XS = u, h.aY = o, h.sx = a, h } rt(n, t); var i = n.prototype; return i.dN = function () { this.tx || (this.tx = !0, this._o(new Mh(this.yg))) }, i.sN = function () { this.tx && (this.tx = !1, this._o(new ru(this.yg))) }, T(n, [{ key: "yg", get: function () { return this.uY }, set: function (t) { this.yg !== t && (this.uY = t, this._o(new Vl(this.yg))) } }, { key: "Zy", get: function () { return this.KC } }, { key: "SN", get: function () { return this.NJ } }, { key: "rN", get: function () { return this.tx } }, { key: "pg", get: function () { return this.oY } }, { key: "RE", get: function () { return this.XS }, set: function (t) { this.RE !== t && (this.XS = t, this._o(new su(this.yg, this.ux))) } }, { key: "_g", get: function () { return this.aY }, set: function (t) { this._g !== t && (this.aY = t, this._o(new Hl(this.yg, this._g))) } }, { key: "ux", get: function () { return this.sx }, set: function (t) { this.ux !== t && (this.sx = t, this._o(new su(this.yg, this.ux))) } }]), n }(Pn), rC = function (t) { function n(n) { var i; return (i = t.call(this, "CJ") || this).mO = n, i } return rt(n, t), n }(Mn), sC = function (t) { function n(n) { var i; return (i = t.call(this, "DJ") || this).mO = n, i } return rt(n, t), n }(Mn), uC = function (t) { function n(n) { var i; return (i = t.call(this, "xJ") || this).mO = n, i } return rt(n, t), n }(Mn), oC = 0; function aC() { var t = oC; return oC += 1, t } var hC = function (t) { function n(n) { var i; return (i = t.call(this, "OJ") || this).mO = n, i } return rt(n, t), n }(Mn), cC = function (t) { function n(n, i) { var e; return (e = t.call(this, es.Sl) || this).representation = n, e.previousRepresentation = i, e } return rt(n, t), n }(Mn); var fC = function (t) { function n(n, i, e, r, s, u) { var o; return (o = t.call(this, n, i, u, !1) || this).BJ = e, o.Br = r, o.PJ = s, o } return rt(n, t), n.prototype.Hl = function (n) { return this === n || Cr(this, n) && t.prototype.Hl.call(this, n) && Ir(this.BP, n.BP) }, T(n, [{ key: "vP", get: function () { return this.BJ } }, { key: "Hn", get: function () { return this.Br } }, { key: "MJ", get: function () { return this.PJ } }, { key: "vf", get: function () { var t, n, i; return this.cf || (this.cf = (i = { get track() { return t.df.vf }, get id() { return t.Ff }, get startTime() { return t.zk }, get endTime() { return t.OP }, get content() { return t.BP }, get schemeIDURI() { return t.vP }, get value() { return t.Hn }, get emsgID() { return t.MJ }, addEventListener: function (t, i) { t = Pr(t, Or), n.mo(t, i) }, removeEventListener: function (t, i) { t = Pr(t, Or), n.So(t, i) } }, n = new kr(t = this, i), i)), this.cf } }]), n }(ld), vC = function (t) { function n() { return t.call(this) || this } rt(n, t); var i = n.prototype; return i.Ph = function (t) { this.bf() }, i.LJ = function (t) { return t.Zf = E_.LOADED, this.pf(t), t }, i.jJ = function (t) { for (var n = 0, i = this.pO.Tf; n < i.length; n++) { var e = i[n]; if (e.Qf === t) return e } }, n }(Jl), lC = function (t) { function n(n) { var i; return (i = t.call(this, n) || this).Ou = "emsg", i.Yf = Vr.Xf, i } return rt(n, t), n }(Ep), dC = function (t) { function n() { return t.call(this) || this } rt(n, t); var i = n.prototype; return i.FJ = function (t, i) { var e = ad.GO(new DataView(t)); if (e) { var r = function (t, n) { for (var i = [], e = 0; e < t.length; e++) { var r = t[e]; yd(r, n) && i.push(r) } return i }(e, "emsg"); if (r.length) { var s = n.UJ(e, i); this.VJ(r, s) } } }, i.VJ = function (t, i) { for (var e = 0; e < t.length; e++) { var r = t[e], s = this.jJ(Ep.qV(r.vP, r.Hn)); s || (s = n.HJ(Ep.qV(r.vP, r.Hn)), this.LJ(s)); var u = i.kd(ha.Sm(r.lP, r.$p)), o = u.kd(ha.Sm(r.dP, r.$p)); s.SL(new fC(u.Pm(), o.Pm(), r.vP, r.Hn, r.Ff, r._P)) } }, n.UJ = function (t, n) { var i = pd(t, "sidx"); return i ? n.zk.kd(ha.Tm(i.NP, i.$p)) : n.zk }, n.HJ = function (t) { return new lC(t) }, n }(vC); var gC = "und"; function _C(t) { if (t !== gC) { t = t.toLowerCase(); for (var n = 0; n < yC.length; n++) { var i = yC[n]; if (i[1] === t || i[2] === t || i["2T"] === t || i["2B"] === t || i[3] === t) return i } } } function wC(t, n) { var i = n; if (!function (t) { return "ui" in t }(t)) return i; var e, r = t.ui.language; if (U(r)) { var s = t.ui.languages; if (!s) return i; e = s[r] } else e = r; return e && e[n] && (i = e[n]), i } var yC = [{ Fn: "Abkhaz", SM: "\u0410\u04a7\u0441\u0443\u0430", 1: "ab", 2: "abk", "2T": "abk", "2B": "abk", 3: "abk" }, { Fn: "Afar", SM: "Afaraf", 1: "aa", 2: "aar", "2T": "aar", "2B": "aar", 3: "aar" }, { Fn: "Afrikaans", SM: "Afrikaans", 1: "af", 2: "afr", "2T": "afr", "2B": "afr", 3: "afr" }, { Fn: "Akan", SM: "Akan", 1: "ak", 2: "aka", "2T": "aka", "2B": "aka", 3: "aka" }, { Fn: "Albanian", SM: "Shqip", 1: "sq", 2: "sqi", "2T": "sqi", "2B": "alb", 3: "sqi" }, { Fn: "Amharic", SM: "\u12a0\u121b\u122d\u129b", 1: "am", 2: "amh", "2T": "amh", "2B": "amh", 3: "amh" }, { Fn: "Arabic", SM: "\u0627\u0644\u0639\u0631\u0628\u064a\u0629", 1: "ar", 2: "ara", "2T": "ara", "2B": "ara", 3: "ara" }, { Fn: "Aragonese", SM: "Aragon\xe9s", 1: "an", 2: "arg", "2T": "arg", "2B": "arg", 3: "arg" }, { Fn: "Armenian", SM: "\u0540\u0561\u0575\u0565\u0580\u0565\u0576", 1: "hy", 2: "hye", "2T": "hye", "2B": "arm", 3: "hye" }, { Fn: "Assamese", SM: "\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be", 1: "as", 2: "asm", "2T": "asm", "2B": "asm", 3: "asm" }, { Fn: "Avaric", SM: "\u0410\u0432\u0430\u0440", 1: "av", 2: "ava", "2T": "ava", "2B": "ava", 3: "ava" }, { Fn: "Avestan", SM: "avesta", 1: "ae", 2: "ave", "2T": "ave", "2B": "ave", 3: "ave" }, { Fn: "Aymara", SM: "Aymar", 1: "ay", 2: "aym", "2T": "aym", "2B": "aym", 3: "aym" }, { Fn: "Azerbaijani", SM: "Az\u0259rbaycanca", 1: "az", 2: "aze", "2T": "aze", "2B": "aze", 3: "aze" }, { Fn: "Bambara", SM: "Bamanankan", 1: "bm", 2: "bam", "2T": "bam", "2B": "bam", 3: "bam" }, { Fn: "Bashkir", SM: "\u0411\u0430\u0448\u04a1\u043e\u0440\u0442\u0441\u0430", 1: "ba", 2: "bak", "2T": "bak", "2B": "bak", 3: "bak" }, { Fn: "Basque", SM: "Euskara", 1: "eu", 2: "eus", "2T": "eus", "2B": "baq", 3: "eus" }, { Fn: "Belarusian", SM: "\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f", 1: "be", 2: "bel", "2T": "bel", "2B": "bel", 3: "bel" }, { Fn: "Bengali", SM: "\u09ac\u09be\u0982\u09b2\u09be", 1: "bn", 2: "ben", "2T": "ben", "2B": "ben", 3: "ben" }, { Fn: "Bihari", SM: "\u092d\u094b\u091c\u092a\u0941\u0930\u0940", 1: "bh", 2: "bih", "2T": "bih", "2B": "bih", 3: "bih" }, { Fn: "Bislama", SM: "Bislama", 1: "bi", 2: "bis", "2T": "bis", "2B": "bis", 3: "bis" }, { Fn: "Bosnian", SM: "Bosanski", 1: "bs", 2: "bos", "2T": "bos", "2B": "bos", 3: "bos" }, { Fn: "Breton", SM: "Brezhoneg", 1: "br", 2: "bre", "2T": "bre", "2B": "bre", 3: "bre" }, { Fn: "Bulgarian", SM: "\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438", 1: "bg", 2: "bul", "2T": "bul", "2B": "bul", 3: "bul" }, { Fn: "Burmese", SM: "\u1019\u103c\u1014\u103a\u1019\u102c\u1018\u102c\u101e\u102c", 1: "my", 2: "mya", "2T": "mya", "2B": "bur", 3: "mya" }, { Fn: "Catalan", SM: "Catal\xe0", 1: "ca", 2: "cat", "2T": "cat", "2B": "cat", 3: "cat" }, { Fn: "Chamorro", SM: "Chamoru", 1: "ch", 2: "cha", "2T": "cha", "2B": "cha", 3: "cha" }, { Fn: "Chechen", SM: "\u041d\u043e\u0445\u0447\u0438\u0439\u043d", 1: "ce", 2: "che", "2T": "che", "2B": "che", 3: "che" }, { Fn: "Chichewa", SM: "Chichewa", 1: "ny", 2: "nya", "2T": "nya", "2B": "nya", 3: "nya" }, { Fn: "Chinese", SM: "\u4e2d\u6587", 1: "zh", 2: "zho", "2T": "zho", "2B": "chi", 3: "zho" }, { Fn: "Chuvash", SM: "\u0427\u04d1\u0432\u0430\u0448\u043b\u0430", 1: "cv", 2: "chv", "2T": "chv", "2B": "chv", 3: "chv" }, { Fn: "Cornish", SM: "Kernewek", 1: "kw", 2: "cor", "2T": "cor", "2B": "cor", 3: "cor" }, { Fn: "Corsican", SM: "Corsu", 1: "co", 2: "cos", "2T": "cos", "2B": "cos", 3: "cos" }, { Fn: "Cree", SM: "\u14c0\u1426\u1403\u152d\u140d\u140f\u1423", 1: "cr", 2: "cre", "2T": "cre", "2B": "cre", 3: "cre" }, { Fn: "Croatian", SM: "Hrvatski", 1: "hr", 2: "hrv", "2T": "hrv", "2B": "hrv", 3: "hrv" }, { Fn: "Czech", SM: "\u010ce\u0161tina", 1: "cs", 2: "ces", "2T": "ces", "2B": "cze", 3: "ces" }, { Fn: "Danish", SM: "Dansk", 1: "da", 2: "dan", "2T": "dan", "2B": "dan", 3: "dan" }, { Fn: "Divehi", SM: "Divehi", 1: "dv", 2: "div", "2T": "div", "2B": "div", 3: "div" }, { Fn: "Dutch", SM: "Nederlands", 1: "nl", 2: "nld", "2T": "nld", "2B": "dut", 3: "nld" }, { Fn: "Dzongkha", SM: "\u0f62\u0fab\u0f7c\u0f44\u0f0b\u0f41", 1: "dz", 2: "dzo", "2T": "dzo", "2B": "dzo", 3: "dzo" }, { Fn: "English", SM: "English", 1: "en", 2: "eng", "2T": "eng", "2B": "eng", 3: "eng" }, { Fn: "Esperanto", SM: "Esperanto", 1: "eo", 2: "epo", "2T": "epo", "2B": "epo", 3: "epo" }, { Fn: "Estonian", SM: "Eesti", 1: "et", 2: "est", "2T": "est", "2B": "est", 3: "est" }, { Fn: "Ewe", SM: "E\u028begbe", 1: "ee", 2: "ewe", "2T": "ewe", "2B": "ewe", 3: "ewe" }, { Fn: "Faroese", SM: "F\xf8royskt", 1: "fo", 2: "fao", "2T": "fao", "2B": "fao", 3: "fao" }, { Fn: "Fijian", SM: "Na Vosa Vaka-Viti", 1: "fj", 2: "fij", "2T": "fij", "2B": "fij", 3: "fij" }, { Fn: "Finnish", SM: "Suomi", 1: "fi", 2: "fin", "2T": "fin", "2B": "fin", 3: "fin" }, { Fn: "French", SM: "Fran\xe7ais", 1: "fr", 2: "fra", "2T": "fra", "2B": "fre", 3: "fra" }, { Fn: "Fula", SM: "Fulfulde", 1: "ff", 2: "ful", "2T": "ful", "2B": "ful", 3: "ful" }, { Fn: "Galician", SM: "Galego", 1: "gl", 2: "glg", "2T": "glg", "2B": "glg", 3: "glg" }, { Fn: "Georgian", SM: "\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8", 1: "ka", 2: "kat", "2T": "kat", "2B": "geo", 3: "kat" }, { Fn: "German", SM: "Deutsch", 1: "de", 2: "deu", "2T": "deu", "2B": "ger", 3: "deu" }, { Fn: "Greek", SM: "\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac", 1: "el", 2: "ell", "2T": "ell", "2B": "gre", 3: "ell" }, { Fn: "Guaran\xed", SM: "Ava\xf1e'\u1ebd", 1: "gn", 2: "grn", "2T": "grn", "2B": "grn", 3: "grn" }, { Fn: "Gujarati", SM: "\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0", 1: "gu", 2: "guj", "2T": "guj", "2B": "guj", 3: "guj" }, { Fn: "Haitian", SM: "Krey\xf2l Ayisyen", 1: "ht", 2: "hat", "2T": "hat", "2B": "hat", 3: "hat" }, { Fn: "Hausa", SM: "\u0647\u064e\u0648\u064f\u0633\u064e", 1: "ha", 2: "hau", "2T": "hau", "2B": "hau", 3: "hau" }, { Fn: "Hebrew", SM: "\u05e2\u05d1\u05e8\u05d9\u05ea", 1: "he", 2: "heb", "2T": "heb", "2B": "heb", 3: "heb" }, { Fn: "Herero", SM: "Otjiherero", 1: "hz", 2: "her", "2T": "her", "2B": "her", 3: "her" }, { Fn: "Hindi", SM: "\u0939\u093f\u0928\u094d\u0926\u0940", 1: "hi", 2: "hin", "2T": "hin", "2B": "hin", 3: "hin" }, { Fn: "Hiri Motu", SM: "Hiri Motu", 1: "ho", 2: "hmo", "2T": "hmo", "2B": "hmo", 3: "hmo" }, { Fn: "Hungarian", SM: "Magyar", 1: "hu", 2: "hun", "2T": "hun", "2B": "hun", 3: "hun" }, { Fn: "Interlingua", SM: "Interlingua", 1: "ia", 2: "ina", "2T": "ina", "2B": "ina", 3: "ina" }, { Fn: "Indonesian", SM: "Bahasa Indonesia", 1: "id", 2: "ind", "2T": "ind", "2B": "ind", 3: "ind" }, { Fn: "Interlingue", SM: "Interlingue", 1: "ie", 2: "ile", "2T": "ile", "2B": "ile", 3: "ile" }, { Fn: "Irish", SM: "Gaeilge", 1: "ga", 2: "gle", "2T": "gle", "2B": "gle", 3: "gle" }, { Fn: "Igbo", SM: "Igbo", 1: "ig", 2: "ibo", "2T": "ibo", "2B": "ibo", 3: "ibo" }, { Fn: "Inupiaq", SM: "I\xf1upiak", 1: "ik", 2: "ipk", "2T": "ipk", "2B": "ipk", 3: "ipk" }, { Fn: "Ido", SM: "Ido", 1: "io", 2: "ido", "2T": "ido", "2B": "ido", 3: "ido" }, { Fn: "Icelandic", SM: "\xcdslenska", 1: "is", 2: "isl", "2T": "isl", "2B": "ice", 3: "isl" }, { Fn: "Italian", SM: "Italiano", 1: "it", 2: "ita", "2T": "ita", "2B": "ita", 3: "ita" }, { Fn: "Inuktitut", SM: "\u1403\u14c4\u1483\u144e\u1450\u1466", 1: "iu", 2: "iku", "2T": "iku", "2B": "iku", 3: "iku" }, { Fn: "Japanese", SM: "\u65e5\u672c\u8a9e", 1: "ja", 2: "jpn", "2T": "jpn", "2B": "jpn", 3: "jpn" }, { Fn: "Javanese", SM: "Basa Jawa", 1: "jv", 2: "jav", "2T": "jav", "2B": "jav", 3: "jav" }, { Fn: "Kalaallisut", SM: "Kalaallisut", 1: "kl", 2: "kal", "2T": "kal", "2B": "kal", 3: "kal" }, { Fn: "Kannada", SM: "\u0c95\u0ca8\u0ccd\u0ca8\u0ca1", 1: "kn", 2: "kan", "2T": "kan", "2B": "kan", 3: "kan" }, { Fn: "Kanuri", SM: "Kanuri", 1: "kr", 2: "kau", "2T": "kau", "2B": "kau", 3: "kau" }, { Fn: "Kashmiri", SM: "\u0643\u0634\u0645\u064a\u0631\u064a", 1: "ks", 2: "kas", "2T": "kas", "2B": "kas", 3: "kas" }, { Fn: "Kazakh", SM: "\u049a\u0430\u0437\u0430\u049b\u0448\u0430", 1: "kk", 2: "kaz", "2T": "kaz", "2B": "kaz", 3: "kaz" }, { Fn: "Khmer", SM: "\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a", 1: "km", 2: "khm", "2T": "khm", "2B": "khm", 3: "khm" }, { Fn: "Kikuyu", SM: "G\u0129k\u0169y\u0169", 1: "ki", 2: "kik", "2T": "kik", "2B": "kik", 3: "kik" }, { Fn: "Kinyarwanda", SM: "Kinyarwanda", 1: "rw", 2: "kin", "2T": "kin", "2B": "kin", 3: "kin" }, { Fn: "Kyrgyz", SM: "\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430", 1: "ky", 2: "kir", "2T": "kir", "2B": "kir", 3: "kir" }, { Fn: "Komi", SM: "\u041a\u043e\u043c\u0438", 1: "kv", 2: "kom", "2T": "kom", "2B": "kom", 3: "kom" }, { Fn: "Kongo", SM: "Kongo", 1: "kg", 2: "kon", "2T": "kon", "2B": "kon", 3: "kon" }, { Fn: "Korean", SM: "\ud55c\uad6d\uc5b4", 1: "ko", 2: "kor", "2T": "kor", "2B": "kor", 3: "kor" }, { Fn: "Kurdish", SM: "Kurd\xee", 1: "ku", 2: "kur", "2T": "kur", "2B": "kur", 3: "kur" }, { Fn: "Kwanyama", SM: "Kuanyama", 1: "kj", 2: "kua", "2T": "kua", "2B": "kua", 3: "kua" }, { Fn: "Latin", SM: "Latina", 1: "la", 2: "lat", "2T": "lat", "2B": "lat", 3: "lat" }, { Fn: "Luxembourgish", SM: "L\xebtzebuergesch", 1: "lb", 2: "ltz", "2T": "ltz", "2B": "ltz", 3: "ltz" }, { Fn: "Ganda", SM: "Luganda", 1: "lg", 2: "lug", "2T": "lug", "2B": "lug", 3: "lug" }, { Fn: "Limburgish", SM: "Limburgs", 1: "li", 2: "lim", "2T": "lim", "2B": "lim", 3: "lim" }, { Fn: "Lingala", SM: "Ling\xe1la", 1: "ln", 2: "lin", "2T": "lin", "2B": "lin", 3: "lin" }, { Fn: "Lao", SM: "\u0e9e\u0eb2\u0eaa\u0eb2\u0ea5\u0eb2\u0ea7", 1: "lo", 2: "lao", "2T": "lao", "2B": "lao", 3: "lao" }, { Fn: "Lithuanian", SM: "Lietuvi\u0173", 1: "lt", 2: "lit", "2T": "lit", "2B": "lit", 3: "lit" }, { Fn: "Luba-Katanga", SM: "Tshiluba", 1: "lu", 2: "lub", "2T": "lub", "2B": "lub", 3: "lub" }, { Fn: "Latvian", SM: "Latvie\u0161u", 1: "lv", 2: "lav", "2T": "lav", "2B": "lav", 3: "lav" }, { Fn: "Manx", SM: "Gaelg", 1: "gv", 2: "glv", "2T": "glv", "2B": "glv", 3: "glv" }, { Fn: "Macedonian", SM: "\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438", 1: "mk", 2: "mkd", "2T": "mkd", "2B": "mac", 3: "mkd" }, { Fn: "Malagasy", SM: "Malagasy", 1: "mg", 2: "mlg", "2T": "mlg", "2B": "mlg", 3: "mlg" }, { Fn: "Malay", SM: "Bahasa Melayu", 1: "ms", 2: "msa", "2T": "msa", "2B": "may", 3: "msa" }, { Fn: "Malayalam", SM: "\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02", 1: "ml", 2: "mal", "2T": "mal", "2B": "mal", 3: "mal" }, { Fn: "Maltese", SM: "Malti", 1: "mt", 2: "mlt", "2T": "mlt", "2B": "mlt", 3: "mlt" }, { Fn: "M\u0101ori", SM: "M\u0101ori", 1: "mi", 2: "mri", "2T": "mri", "2B": "mao", 3: "mri" }, { Fn: "Marathi", SM: "\u092e\u0930\u093e\u0920\u0940", 1: "mr", 2: "mar", "2T": "mar", "2B": "mar", 3: "mar" }, { Fn: "Marshallese", SM: "Kajin M\u0327aje\u013c", 1: "mh", 2: "mah", "2T": "mah", "2B": "mah", 3: "mah" }, { Fn: "Mongolian", SM: "\u041c\u043e\u043d\u0433\u043e\u043b", 1: "mn", 2: "mon", "2T": "mon", "2B": "mon", 3: "mon" }, { Fn: "Nauru", SM: "Dorerin Naoero", 1: "na", 2: "nau", "2T": "nau", "2B": "nau", 3: "nau" }, { Fn: "Navajo", SM: "Din\xe9 Bizaad", 1: "nv", 2: "nav", "2T": "nav", "2B": "nav", 3: "nav" }, { Fn: "Northern Ndebele", SM: "isiNdebele", 1: "nd", 2: "nde", "2T": "nde", "2B": "nde", 3: "nde" }, { Fn: "Nepali", SM: "\u0928\u0947\u092a\u093e\u0932\u0940", 1: "ne", 2: "nep", "2T": "nep", "2B": "nep", 3: "nep" }, { Fn: "Ndonga", SM: "Owambo", 1: "ng", 2: "ndo", "2T": "ndo", "2B": "ndo", 3: "ndo" }, { Fn: "Norwegian Bokm\xe5l", SM: "Norsk (Bokm\xe5l)", 1: "nb", 2: "nob", "2T": "nob", "2B": "nob", 3: "nob" }, { Fn: "Norwegian Nynorsk", SM: "Norsk (Nynorsk)", 1: "nn", 2: "nno", "2T": "nno", "2B": "nno", 3: "nno" }, { Fn: "Norwegian", SM: "Norsk", 1: "no", 2: "nor", "2T": "nor", "2B": "nor", 3: "nor" }, { Fn: "Nuosu", SM: "\ua188\ua320\ua4bf Nuosuhxop", 1: "ii", 2: "iii", "2T": "iii", "2B": "iii", 3: "iii" }, { Fn: "Southern Ndebele", SM: "isiNdebele", 1: "nr", 2: "nbl", "2T": "nbl", "2B": "nbl", 3: "nbl" }, { Fn: "Occitan", SM: "Occitan", 1: "oc", 2: "oci", "2T": "oci", "2B": "oci", 3: "oci" }, { Fn: "Ojibwe", SM: "\u140a\u14c2\u1511\u14c8\u142f\u14a7\u140e\u14d0", 1: "oj", 2: "oji", "2T": "oji", "2B": "oji", 3: "oji" }, { Fn: "Old Church Slavonic", SM: "\u0421\u043b\u043e\u0432\u0463\u0301\u043d\u044c\u0441\u043a\u044a", 1: "cu", 2: "chu", "2T": "chu", "2B": "chu", 3: "chu" }, { Fn: "Oromo", SM: "Afaan Oromoo", 1: "om", 2: "orm", "2T": "orm", "2B": "orm", 3: "orm" }, { Fn: "Oriya", SM: "\u0b13\u0b21\u0b3f\u0b3c\u0b06", 1: "or", 2: "ori", "2T": "ori", "2B": "ori", 3: "ori" }, { Fn: "Ossetian", SM: "\u0418\u0440\u043e\u043d \xe6\u0432\u0437\u0430\u0433", 1: "os", 2: "oss", "2T": "oss", "2B": "oss", 3: "oss" }, { Fn: "Panjabi", SM: "\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40", 1: "pa", 2: "pan", "2T": "pan", "2B": "pan", 3: "pan" }, { Fn: "P\u0101li", SM: "\u092a\u093e\u0934\u093f", 1: "pi", 2: "pli", "2T": "pli", "2B": "pli", 3: "pli" }, { Fn: "Persian", SM: "\u0641\u0627\u0631\u0633\u06cc", 1: "fa", 2: "fas", "2T": "fas", "2B": "per", 3: "fas" }, { Fn: "Polish", SM: "Polski", 1: "pl", 2: "pol", "2T": "pol", "2B": "pol", 3: "pol" }, { Fn: "Pashto", SM: "\u067e\u069a\u062a\u0648", 1: "ps", 2: "pus", "2T": "pus", "2B": "pus", 3: "pus" }, { Fn: "Portuguese", SM: "Portugu\xeas", 1: "pt", 2: "por", "2T": "por", "2B": "por", 3: "por" }, { Fn: "Quechua", SM: "Runa Simi", 1: "qu", 2: "que", "2T": "que", "2B": "que", 3: "que" }, { Fn: "Romansh", SM: "Rumantsch", 1: "rm", 2: "roh", "2T": "roh", "2B": "roh", 3: "roh" }, { Fn: "Kirundi", SM: "Kirundi", 1: "rn", 2: "run", "2T": "run", "2B": "run", 3: "run" }, { Fn: "Romanian", SM: "Rom\xe2n\u0103", 1: "ro", 2: "ron", "2T": "ron", "2B": "rum", 3: "ron" }, { Fn: "Russian", SM: "\u0420\u0443\u0441\u0441\u043a\u0438\u0439", 1: "ru", 2: "rus", "2T": "rus", "2B": "rus", 3: "rus" }, { Fn: "Sanskrit", SM: "\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d", 1: "sa", 2: "san", "2T": "san", "2B": "san", 3: "san" }, { Fn: "Sardinian", SM: "Sardu", 1: "sc", 2: "srd", "2T": "srd", "2B": "srd", 3: "srd" }, { Fn: "Sindhi", SM: "\u0633\u0646\u068c\u064a\u200e", 1: "sd", 2: "snd", "2T": "snd", "2B": "snd", 3: "snd" }, { Fn: "Northern Sami", SM: "S\xe1megiella", 1: "se", 2: "sme", "2T": "sme", "2B": "sme", 3: "sme" }, { Fn: "Samoan", SM: "Gagana S\u0101moa", 1: "sm", 2: "smo", "2T": "smo", "2B": "smo", 3: "smo" }, { Fn: "Sango", SM: "S\xe4ng\xf6", 1: "sg", 2: "sag", "2T": "sag", "2B": "sag", 3: "sag" }, { Fn: "Serbian", SM: "\u0421\u0440\u043f\u0441\u043a\u0438", 1: "sr", 2: "srp", "2T": "srp", "2B": "srp", 3: "srp" }, { Fn: "Gaelic", SM: "G\xe0idhlig", 1: "gd", 2: "gla", "2T": "gla", "2B": "gla", 3: "gla" }, { Fn: "Shona", SM: "ChiShona", 1: "sn", 2: "sna", "2T": "sna", "2B": "sna", 3: "sna" }, { Fn: "Sinhala", SM: "\u0dc3\u0dd2\u0d82\u0dc4\u0dbd", 1: "si", 2: "sin", "2T": "sin", "2B": "sin", 3: "sin" }, { Fn: "Slovak", SM: "Sloven\u010dina", 1: "sk", 2: "slk", "2T": "slk", "2B": "slo", 3: "slk" }, { Fn: "Slovene", SM: "Sloven\u0161\u010dina", 1: "sl", 2: "slv", "2T": "slv", "2B": "slv", 3: "slv" }, { Fn: "Somali", SM: "Soomaaliga", 1: "so", 2: "som", "2T": "som", "2B": "som", 3: "som" }, { Fn: "Southern Sotho", SM: "Sesotho", 1: "st", 2: "sot", "2T": "sot", "2B": "sot", 3: "sot" }, { Fn: "Spanish", SM: "Espa\xf1ol", 1: "es", 2: "spa", "2T": "spa", "2B": "spa", 3: "spa" }, { Fn: "Sundanese", SM: "Basa Sunda", 1: "su", 2: "sun", "2T": "sun", "2B": "sun", 3: "sun" }, { Fn: "Swahili", SM: "Kiswahili", 1: "sw", 2: "swa", "2T": "swa", "2B": "swa", 3: "swa" }, { Fn: "Swati", SM: "SiSwati", 1: "ss", 2: "ssw", "2T": "ssw", "2B": "ssw", 3: "ssw" }, { Fn: "Swedish", SM: "Svenska", 1: "sv", 2: "swe", "2T": "swe", "2B": "swe", 3: "swe" }, { Fn: "Tamil", SM: "\u0ba4\u0bae\u0bbf\u0bb4\u0bcd", 1: "ta", 2: "tam", "2T": "tam", "2B": "tam", 3: "tam" }, { Fn: "Telugu", SM: "\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41", 1: "te", 2: "tel", "2T": "tel", "2B": "tel", 3: "tel" }, { Fn: "Tajik", SM: "\u0422\u043e\u04b7\u0438\u043a\u04e3", 1: "tg", 2: "tgk", "2T": "tgk", "2B": "tgk", 3: "tgk" }, { Fn: "Thai", SM: "\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22", 1: "th", 2: "tha", "2T": "tha", "2B": "tha", 3: "tha" }, { Fn: "Tigrinya", SM: "\u1275\u130d\u122d\u129b", 1: "ti", 2: "tir", "2T": "tir", "2B": "tir", 3: "tir" }, { Fn: "Tibetan Standard", SM: "\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42", 1: "bo", 2: "bod", "2T": "bod", "2B": "tib", 3: "bod" }, { Fn: "Turkmen", SM: "T\xfcrkmen\xe7e", 1: "tk", 2: "tuk", "2T": "tuk", "2B": "tuk", 3: "tuk" }, { Fn: "Tagalog", SM: "Tagalog", 1: "tl", 2: "tgl", "2T": "tgl", "2B": "tgl", 3: "tgl" }, { Fn: "Tswana", SM: "Setswana", 1: "tn", 2: "tsn", "2T": "tsn", "2B": "tsn", 3: "tsn" }, { Fn: "Tonga", SM: "faka Tonga", 1: "to", 2: "ton", "2T": "ton", "2B": "ton", 3: "ton" }, { Fn: "Turkish", SM: "T\xfcrk\xe7e", 1: "tr", 2: "tur", "2T": "tur", "2B": "tur", 3: "tur" }, { Fn: "Tsonga", SM: "Xitsonga", 1: "ts", 2: "tso", "2T": "tso", "2B": "tso", 3: "tso" }, { Fn: "Tatar", SM: "\u0422\u0430\u0442\u0430\u0440\u0447\u0430", 1: "tt", 2: "tat", "2T": "tat", "2B": "tat", 3: "tat" }, { Fn: "Twi", SM: "Twi", 1: "tw", 2: "twi", "2T": "twi", "2B": "twi", 3: "twi" }, { Fn: "Tahitian", SM: "Reo M\u0101\u2019ohi", 1: "ty", 2: "tah", "2T": "tah", "2B": "tah", 3: "tah" }, { Fn: "Uyghur", SM: "\u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u0647", 1: "ug", 2: "uig", "2T": "uig", "2B": "uig", 3: "uig" }, { Fn: "Ukrainian", SM: "\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430", 1: "uk", 2: "ukr", "2T": "ukr", "2B": "ukr", 3: "ukr" }, { Fn: "Urdu", SM: "\u0627\u0631\u062f\u0648", 1: "ur", 2: "urd", "2T": "urd", "2B": "urd", 3: "urd" }, { Fn: "Uzbek", SM: "O\u2018zbek", 1: "uz", 2: "uzb", "2T": "uzb", "2B": "uzb", 3: "uzb" }, { Fn: "Venda", SM: "Tshiven\u1e13a", 1: "ve", 2: "ven", "2T": "ven", "2B": "ven", 3: "ven" }, { Fn: "Vietnamese", SM: "Ti\u1ebfng Vi\u1ec7t", 1: "vi", 2: "vie", "2T": "vie", "2B": "vie", 3: "vie" }, { Fn: "Volap\xfck", SM: "Volap\xfck", 1: "vo", 2: "vol", "2T": "vol", "2B": "vol", 3: "vol" }, { Fn: "Walloon", SM: "Walon", 1: "wa", 2: "wln", "2T": "wln", "2B": "wln", 3: "wln" }, { Fn: "Welsh", SM: "Cymraeg", 1: "cy", 2: "cym", "2T": "cym", "2B": "wel", 3: "cym" }, { Fn: "Wolof", SM: "Wolof", 1: "wo", 2: "wol", "2T": "wol", "2B": "wol", 3: "wol" }, { Fn: "Western Frisian", SM: "Frysk", 1: "fy", 2: "fry", "2T": "fry", "2B": "fry", 3: "fry" }, { Fn: "Xhosa", SM: "isiXhosa", 1: "xh", 2: "xho", "2T": "xho", "2B": "xho", 3: "xho" }, { Fn: "Yiddish", SM: "\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9", 1: "yi", 2: "yid", "2T": "yid", "2B": "yid", 3: "yid" }, { Fn: "Yoruba", SM: "Yor\xf9b\xe1", 1: "yo", 2: "yor", "2T": "yor", "2B": "yor", 3: "yor" }, { Fn: "Zhuang", SM: "Cuengh", 1: "za", 2: "zha", "2T": "zha", "2B": "zha", 3: "zha" }, { Fn: "Zulu", SM: "isiZulu", 1: "zu", 2: "zul", "2T": "zul", "2B": "zul", 3: "zul" }], pC = function (t) { function n(n, i, e, r) { return t.call(this, Xc.Wx, n, i, e, "cea608", r) || this } return rt(n, t), n }(U_), mC = 15, kC = 32, bC = /CC[1-4]=(.*)/, AC = /CC1=(.*)/; function TC(t) { return "function" == typeof t.Vo } function SC(t, n, i) { if (!(i && n.byte >= i)) { var e = TC(t) ? t.Vo(n.byte) : t[n.byte]; return n.byte += 1, e } } function EC(t, n) { return function (t, n, i) { for (var e = 0; i > 0;)i -= 1, e = 256 * e + SC(t, n); return e }(t, n, 2) } function IC(t, n, i) { var e = SC(t, n, i); if (!p(e)) return String.fromCharCode(e) } var RC, CC, NC = [128, 64, 32, 16, 8, 4, 2, 1]; function DC(t, n) { var i = _.floor(n.bit / 8), e = 0 == ((TC(t) ? t.Vo(i) : t[i]) & NC[n.bit % 8]) ? 0 : 1; return n.bit += 1, e } function xC(t, n, i) { for (var e = 0; i > 0;)i -= 1, e = 2 * e + DC(t, n); return e } function BC(t, n) { for (var i = 0; 0 === DC(t, n) && i < 32;)i += 1; return xC(t, n, i) + _.pow(2, i) - 1 } function OC(t, n) { var i = BC(t, n); return 1 & i ? _.floor((i + 1) / 2) : -_.floor(i / 2) } function PC(t, n) { for (var i, e = n - (i = t ? L(t) ? Array.prototype.map.call(t, function (t) { return ("0" + t.toString(16)).substr(-2) }).join("") : (+t).toString(16) : "").length; e > 0;)i = "0" + i, e -= 1; return i } function MC(t, n) { return void 0 === n && (n = 0), y(t.toFixed(n)) } !function (t) { t[t.GJ = 0] = "GJ", t[t.zJ = 1] = "zJ", t[t.qJ = 2] = "qJ", t[t.WJ = 3] = "WJ", t[t.XJ = 4] = "XJ", t[t.$J = 5] = "$J" }(RC || (RC = {})), function (t) { t[t.QJ = 0] = "QJ", t[t.YJ = 1] = "YJ", t[t.ZJ = 2] = "ZJ", t[t.KJ = 3] = "KJ" }(CC || (CC = {})); var LC = [[42, 225], [92, 233], [94, 237], [95, 243], [96, 250], [123, 231], [124, 247], [125, 209], [126, 241], [127, 9608], [128, 174], [129, 176], [130, 189], [131, 191], [132, 8482], [133, 162], [134, 163], [135, 9834], [136, 224], [137, 32], [138, 232], [139, 226], [140, 234], [141, 238], [142, 244], [143, 251], [144, 193], [145, 201], [146, 211], [147, 218], [148, 220], [149, 252], [150, 8216], [151, 161], [152, 42], [153, 8217], [154, 9473], [155, 169], [156, 8480], [157, 8226], [158, 8220], [159, 8221], [160, 192], [161, 194], [162, 199], [163, 200], [164, 202], [165, 203], [166, 235], [167, 206], [168, 207], [169, 239], [170, 212], [171, 217], [172, 249], [173, 219], [174, 171], [175, 187], [176, 195], [177, 227], [178, 205], [179, 204], [180, 236], [181, 210], [182, 242], [183, 213], [184, 245], [185, 123], [186, 125], [187, 92], [188, 94], [189, 95], [190, 124], [191, 8764], [192, 196], [193, 228], [194, 214], [195, 246], [196, 223], [197, 165], [198, 164], [199, 9475], [200, 197], [201, 229], [202, 216], [203, 248], [204, 9487], [205, 9491], [206, 9495], [207, 9499]].reduce(function (t, n) { return t[n[0]] = n[1], t }, {}), jC = function () { function t() { this.JJ = [], this.n0 = 0, this.i0 = null; for (var t = 0; t < kC; t++)this.JJ.push(null); this.i0 = { e0: !1 } } var n = t.prototype; return n.r0 = function (t) { for (var n = 0; n < kC; n++)t && (this.JJ[n] = t.JJ[n]) }, n.Hl = function (t) { for (var n = 0; n < kC; n++)if (this.JJ[n] !== t.JJ[n]) return !1; return !0 }, n.s0 = function () { for (var t = 0; t < kC; t++)if (null !== this.JJ[t]) return !1; return !0 }, n.u0 = function (t) { this.n0 !== t && (this.n0 = t), this.n0 < 0 ? this.n0 = 0 : this.n0 > kC && (this.n0 = kC - 1) }, n.o0 = function (t) { var n = this.n0 + t; this.u0(n) }, n.a0 = function () { this.o0(-1), this.JJ[this.n0] = null }, n.h0 = function (t) { t >= 144 && this.a0(); var n, i = LC[n = t] ? String.fromCharCode(LC[n]) : String.fromCharCode(n); this.n0 >= kC || (32 == +i ? (this.JJ[this.n0] = this.i0.e0 ? "</i>" : "<i>", this.i0.e0 = !this.i0.e0) : this.JJ[this.n0] = i, this.o0(1)) }, n.c0 = function (t) { for (var n = t; n < kC; n++)this.JJ[n] = null }, n.zo = function () { this.c0(0), this.n0 = 0 }, n.f0 = function () { this.c0(this.n0) }, n.v0 = function (t, n) { for (var i = this.JJ, e = null, r = 0; r < kC; r++) { var s = i[r]; null === s ? e = null : (e || (e = { x_: r, y_: t, qw: 0, Ww: 1, JJ: [[]] }, n.push(e)), e.JJ[0].push(s), e.qw++) } }, n.fk = function (t, n) { return t._0(this.JJ, n) }, t }(); var FC = function () { function t() { this.g0 = null, this.w0 = []; for (var t = 0; t < mC; t++)this.w0.push(new jC); this.y0 = mC - 1, this.bf() } var n = t.prototype; return n.r0 = function (t) { for (var n = 0; n < mC; n++)this.w0[n].r0(t.w0[n]) }, n.Hl = function (t) { for (var n = !0, i = 0; i < mC; i++)if (!this.w0[i].Hl(t.w0[i])) { n = !1; break } return n }, n.s0 = function () { for (var t = !0, n = 0; n < mC; n++)if (!this.w0[n].s0()) { t = !1; break } return t }, n.bf = function () { for (var t = 0; t < mC; t++)this.w0[t].zo(); this.y0 = mC - 1 }, n.h0 = function (t) { this.w0[this.y0].h0(t) }, n.p0 = function () { this.w0[this.y0].a0() }, n.f0 = function () { this.w0[this.y0].f0() }, n.m0 = function () { if (null !== this.g0) { var t = this.y0 + 1 - this.g0, n = this.w0[t]; n && (mn(this.w0, t), n.zo(), this.w0.splice(this.y0, 0, n)) } }, n.o0 = function (t) { this.w0[this.y0].o0(t) }, n.k0 = function (t) { this.g0 = t }, n.b0 = function (t) { var n = t.A0; this.g0 && n < this.g0 - 1 && (n = this.g0 - 1), this.y0 = n; var i = this.w0[this.y0]; null !== t.T0 && i.u0(t.T0) }, n.S0 = function () { for (var t = this.w0, n = [], i = 0; i < t.length; i++) { t[i].v0(i, n) } for (var e = 0; e < n.length; e++) { for (var r = !1, s = n[e], u = n.length - 1; u > e;) { var o = n[u]; VC(s, o) && (s = UC(s, o), mn(n, u), r = !0), u-- } r && (n[e] = s, e--) } return n.map(HC) }, n.fk = function (t) { return t.E0(this.w0) }, t }(); function UC(t, n) { for (var i = _.min(t.x_, n.x_), e = _.min(t.y_, n.y_), r = _.max(t.x_ + t.qw, n.x_ + n.qw) - i, s = _.max(t.y_ + t.Ww, n.y_ + n.Ww) - e, u = new Array(s), o = 0; o < s; o++) { var a = new Array(r), h = t.JJ[o + e - t.y_]; if (h) for (var c = 0; c < h.length; c++)h[c] && (a[c - i + t.x_] = h[c]); var f = n.JJ[o + e - n.y_]; if (f) for (var v = 0; v < f.length; v++)f[v] && (a[v - i + n.x_] = f[v]); u[o] = a } return { x_: i, y_: e, qw: r, Ww: s, JJ: u } } function VC(t, n) { return t.x_ <= n.x_ + n.qw && n.x_ <= t.x_ + t.qw && t.y_ <= n.y_ + n.Ww && n.y_ <= t.y_ + t.Ww } function HC(t) { for (var n = new Array(t.Ww), i = t.JJ, e = 0; e < i.length; e++) { for (var r = i[e], s = [], u = !1, o = 0; o < r.length; o++) { var a = r[o]; a ? (u || (u = !0, s.push("<c.theoplayer-text-track-fragment>")), s.push(a)) : (u && (u = !1, s.push("</c>")), s.push(" ")) } u && (u = !1, s.push("</c>")), n[e] = s.join("") } var h = n.join("\n"); return { x_: t.x_, y_: t.y_, qw: t.qw, Ww: t.Ww, BP: h } } var zC = function () { function t(t, n) { this.A0 = t, this.T0 = n } return t.prototype.Hl = function (t) { return this.A0 === t.A0 && this.T0 === t.T0 }, t }(), qC = function () { function t(t) { this.I0 = t, this.R0 = this.N0(), this.C0 = this.D0() } var n = t.prototype; return n.N0 = function () { for (var t = new zC(Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY), n = 0, i = this.x0; n < i.length; n++) { var e = i[n], r = _.min(t.A0, e.O0.A0), s = _.min(t.T0, e.O0.T0); t = new zC(r, s) } return t }, n.D0 = function () { for (var t = new zC(Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY), n = 0, i = this.x0; n < i.length; n++) { var e = i[n], r = _.max(t.A0, e.B0.A0), s = _.max(t.T0, e.B0.T0); t = new zC(r, s) } return t }, T(t, [{ key: "O0", get: function () { return this.R0 } }, { key: "B0", get: function () { return this.C0 } }, { key: "x0", get: function () { return Sn(this.I0.map(function (t) { return t.x0 })) } }]), t }(), GC = function () { function t(t, n) { this.P0 = t, this.R0 = n, this.M0 = "" } var n = t.prototype; return n.h0 = function (t) { this.M0 += t }, n.L0 = function (t) { for (var n = 0; n < t.length; n++) { var i = t[n]; this.h0(i) } }, T(t, [{ key: "j0", get: function () { return this.M0 } }, { key: "x0", get: function () { return [this] } }, { key: "F0", get: function () { return this.P0 } }, { key: "O0", get: function () { return this.R0 } }, { key: "B0", get: function () { return new zC(this.O0.A0, this.O0.T0 + this.j0.length - 1) } }]), t }(), WC = function () { function t() { } var n = t.prototype; return n.U0 = function (t) { return t.fk(this) }, n.E0 = function (t) { var n = this; return Sn(t.map(function (t, i) { return t.fk(n, i) })) }, n._0 = function (t, n) { return new XC(t, n).V0() }, t }(), XC = function () { function t(t, n) { this.A0 = t, this.H0 = n, this.G0 = [] } var n = t.prototype; return n.V0 = function () { if (this.z0) return []; for (var t = 0; t < this.A0.length; t++)this.q0(t); return this.W0(), this.G0 }, n.X0 = function (t) { this.$0 = new GC(hN, new zC(this.H0, t)) }, n.W0 = function () { this.$0 && (this.G0.push(this.$0), this.$0 = null) }, n.q0 = function (t) { var n = this.A0[t]; $C(n) ? this.$0 && this.W0() : (this.$0 || this.X0(t), this.$0.h0(n)) }, T(t, [{ key: "z0", get: function () { return this.A0.every($C) } }]), t }(); function $C(t) { return null == t } var QC, YC, ZC = function (t) { function n(n, i, e) { return t.call(this, n, i, e, !1) || this } return rt(n, t), n }(ld), KC = function (t) { function n(n) { var i; return (i = t.call(this, "Q0") || this).cue = n, i } return rt(n, t), n }(Mn), JC = function (t) { function n() { var n; return (n = t.call(this) || this).Xp = ha.cm, n.zk = ha.cm, n.Yf = 0, n.Y0 = new FC, n.Z0 = new FC, n.K0 = new FC, n.J0 = n.Y0, n } rt(n, t); var i = n.prototype; return i.h0 = function (t) { this.J0.h0(t), 1 !== this.Yf && 2 !== this.Yf || this.n1() }, i.bL = function (t) { t !== this.Yf && (this.Yf = t, 3 === this.Yf ? this.J0 = this.Z0 : (this.J0 = this.Y0, this.J0.bf()), 2 !== this.Yf && (this.Y0.k0(null), this.Z0.k0(null))) }, i.b0 = function (t) { this.J0.b0(t) }, i.i1 = function () { this.bL(3) }, i.e1 = function () { 4 !== this.Yf && (this.J0.p0(), this.J0 === this.Y0 && this.n1()) }, i.s1 = function () { }, i.u1 = function () { }, i.o1 = function () { this.J0.f0(), this.n1() }, i.a1 = function (t) { this.J0 = this.Y0, this.bL(2), this.J0.k0(t) }, i.h1 = function () { }, i.c1 = function () { this.bL(1) }, i.f1 = function () { this.bL(4) }, i.v1 = function () { this.bL(4) }, i.l1 = function () { this.Y0.bf(), this.n1() }, i.d1 = function () { this.J0.m0(), this.n1() }, i._1 = function () { this.Z0.bf() }, i.g1 = function () { if (3 === this.Yf) { var t = this.Y0; this.Y0 = this.Z0, this.Z0 = t, this.J0 = this.Z0 } this.n1() }, i.w1 = function (t) { this.J0.o0(t) }, i.n1 = function () { if (null !== this.Xp) { if ((!this.zk || this.zk.Dm()) && !this.Y0.s0()) this.zk = this.Xp; else if (!this.Y0.Hl(this.K0)) { var t = this.m1(); if (this.Xp.Jp(this.zk)) { var n = new ZC(this.zk.Pm(), this.Xp.Pm(), t); this._o(new KC(n)) } this.zk = this.Y0.s0() ? null : this.Xp } this.K0.r0(this.Y0) } }, i.m1 = function () { return function (t) { var n = [], i = [].concat(t); for (; i.length > 0;) { var e = i.pop(), r = void 0; do { r = !1; for (var s = 0; s < i.length; s++) { var u = i[s]; (function (t, n) { return _.abs(t.B0.T0 - n.O0.T0) <= 1 || _.abs(n.B0.T0 - t.O0.T0) <= 1 || _.abs(t.B0.A0 - n.O0.A0) <= 1 || _.abs(n.B0.A0 - t.O0.A0) <= 1 }(o = e, a = u) || function (t, n) { return tN(t.O0.A0, t.B0.A0, n.O0.A0, n.B0.A0) && tN(t.O0.T0, t.B0.T0, n.O0.T0, n.B0.T0) }(o, a)) && (e = new qC([].concat(e.x0, u.x0)), pn(i, u), r = !0) } } while (r && i.length > 0); n.push(e) } var o, a; return n }((new WC).U0(this.K0)) }, i.bf = function () { this.Xp = ha.cm, this.zk = ha.cm, this.Y0.bf(), this.Y0.k0(null), this.Z0.bf(), this.Z0.k0(null), this.K0.bf(), this.K0.k0(null), this.J0 = this.Y0, this.Yf = 0 }, n }(Pn); function tN(t, n, i, e) { return n >= i && e >= t } function nN(t, n) { return t ? { r_: t.r_, g_: t.g_, b_: t.b_, a_: n } : null } function iN(t) { var n = t ? t.match(/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i) : null; return n ? { r_: w(n[1], 16), g_: w(n[2], 16), b_: w(n[3], 16) } : null } function eN(t) { return ("0" + t.toString(16)).slice(-2) } function rN(t) { var n = t ? t.match(/^rgba\(([0-9]+),\s*([0-9]+),\s*([0-9]+),\s*([0-9.]+)\)$/i) : null; return n ? { r_: w(n[1], 10), g_: w(n[2], 10), b_: w(n[3], 10), a_: y(n[4]) } : null } function sN(t) { return oN[t || "none"] } !function (t) { t.b1 = '"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace', t.A1 = '"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif', t.T1 = '"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace', t.S1 = 'Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif' }(QC || (QC = {})), function (t) { t.BLACK = "#000000", t.WHITE = "#FFFFFF", t.GREEN = "#00ff00", t.BLUE = "#0000ff", t.CYAN = "#00ffff", t.RED = "#ff0000", t.YELLOW = "#ffff00", t.MAGENTA = "#ff00ff", t.TRANSPARENT = "transparent" }(YC || (YC = {})); var uN, oN = { none: "", dropshadow: "#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px", raised: "#222 1px 1px, #222 2px 2px, #222 3px 3px", depressed: "#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px", uniform: "#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0" }; !function (t) { t.FONT_REGULAR = "regular", t.FONT_UNDERLINE = "underline", t.FONT_ITALICS = "italics", t.FONT_UNDERLINE_ITALICS = "underline-italics" }(uN || (uN = {})); var aN, hN = { E1: YC.WHITE, I1: QC.T1, R1: "100%", N1: YC.BLACK, C1: "transparent", D1: "none", O1: uN.FONT_REGULAR }, cN = [{ B1: YC.WHITE, O1: uN.FONT_REGULAR, T0: 0 }, { B1: YC.WHITE, O1: uN.FONT_UNDERLINE, T0: 0 }, { B1: YC.GREEN, O1: uN.FONT_REGULAR, T0: 0 }, { B1: YC.GREEN, O1: uN.FONT_UNDERLINE, T0: 0 }, { B1: YC.BLUE, O1: uN.FONT_REGULAR, T0: 0 }, { B1: YC.BLUE, O1: uN.FONT_UNDERLINE, T0: 0 }, { B1: YC.CYAN, O1: uN.FONT_REGULAR, T0: 0 }, { B1: YC.CYAN, O1: uN.FONT_UNDERLINE, T0: 0 }, { B1: YC.RED, O1: uN.FONT_REGULAR, T0: 0 }, { B1: YC.RED, O1: uN.FONT_UNDERLINE, T0: 0 }, { B1: YC.YELLOW, O1: uN.FONT_REGULAR, T0: 0 }, { B1: YC.YELLOW, O1: uN.FONT_UNDERLINE, T0: 0 }, { B1: YC.MAGENTA, O1: uN.FONT_REGULAR, T0: 0 }, { B1: YC.MAGENTA, O1: uN.FONT_UNDERLINE, T0: 0 }, { B1: YC.WHITE, O1: uN.FONT_ITALICS, T0: 0 }, { B1: YC.WHITE, O1: uN.FONT_UNDERLINE_ITALICS, T0: 0 }, { B1: YC.WHITE, O1: uN.FONT_REGULAR, T0: 0 }, { B1: YC.WHITE, O1: uN.FONT_UNDERLINE, T0: 0 }, { B1: YC.WHITE, O1: uN.FONT_REGULAR, T0: 4 }, { B1: YC.WHITE, O1: uN.FONT_UNDERLINE, T0: 4 }, { B1: YC.WHITE, O1: uN.FONT_REGULAR, T0: 8 }, { B1: YC.WHITE, O1: uN.FONT_UNDERLINE, T0: 8 }, { B1: YC.WHITE, O1: uN.FONT_REGULAR, T0: 12 }, { B1: YC.WHITE, O1: uN.FONT_UNDERLINE, T0: 12 }, { B1: YC.WHITE, O1: uN.FONT_REGULAR, T0: 16 }, { B1: YC.WHITE, O1: uN.FONT_UNDERLINE, T0: 16 }, { B1: YC.WHITE, O1: uN.FONT_REGULAR, T0: 20 }, { B1: YC.WHITE, O1: uN.FONT_UNDERLINE, T0: 20 }, { B1: YC.WHITE, O1: uN.FONT_REGULAR, T0: 24 }, { B1: YC.WHITE, O1: uN.FONT_UNDERLINE, T0: 24 }, { B1: YC.WHITE, O1: uN.FONT_REGULAR, T0: 28 }, { B1: YC.WHITE, O1: uN.FONT_UNDERLINE, T0: 28 }], fN = [11, -1, 1, 2, 3, 4, 12, 13, 14, 15, 5, 6, 7, 8, 9, 10], vN = function (t) { function n() { var n; (n = t.call(this) || this).P1 = null, n.M1 = null, n.L1 = 0; var i = new JC; return n.j1 = [i, new JC], i.mo("Q0", n.do), n } rt(n, t); var i = n.prototype; return i.bf = function () { for (var t = 0, n = this.j1; t < n.length; t++) { n[t].bf() } }, i.F1 = function (t, n) { if (n.Ou === CC.QJ && n.U1) { n.V1 && (this.L1 = 0), this.j1[this.L1].Xp = t; var i = 127 & n.H1, e = 127 & n.G1; if (i + e !== 0) { switch (i) { case 17: e >= 32 && e <= 47 && this.z1(), e >= 48 && e <= 63 && this.q1(i, e); break; case 18: case 19: e >= 32 && e <= 63 && this.q1(i, e); break; case 20: case 21: e >= 32 && e <= 47 && this.W1(i, e); break; case 23: e >= 33 && e <= 35 && this.W1(i, e), e >= 46 && e <= 47 && this.z1() }16 === i && e >= 64 && e <= 95 ? this.X1(i, e) : i >= 17 && i <= 23 && e >= 64 && e <= 127 && this.X1(i, e), i >= 32 && this.q1(i, e) } } }, i.W1 = function (t, n) { var i = null; if (t === this.P1 && n === this.M1) return this.P1 = null, this.M1 = null, !0; i = 20 === t || 23 === t ? 0 : 1; var e = this.j1[i]; return 20 === t || 28 === t ? 32 === n ? e.i1() : 33 === n ? e.e1() : 34 === n ? e.s1() : 35 === n ? e.u1() : 36 === n ? e.o1() : 37 === n ? e.a1(2) : 38 === n ? e.a1(3) : 39 === n ? e.a1(4) : 40 === n ? e.h1() : 41 === n ? e.c1() : 42 === n ? e.f1() : 43 === n ? e.v1() : 44 === n ? e.l1() : 45 === n ? e.d1() : 46 === n ? e._1() : 47 === n && e.g1() : e.w1(n - 32), this.P1 = t, this.M1 = n, this.L1 = i, !0 }, i.X1 = function (t, i) { t === this.P1 && i === this.M1 && (this.P1 = null, this.M1 = null); var e = t <= 23 ? 0 : 1, r = fN[t << 1 & 14 | i >> 5 & 1] - 1; if (!(r < 0)) { var s = n.Q1(r, i); this.j1[e].b0(s), this.P1 = t, this.M1 = i, this.L1 = e } }, n.Q1 = function (t, n) { var i = n > 95 ? n - 96 : n - 64; return { B1: cN[i].B1, O1: cN[i].O1, T0: cN[i].T0, A0: t } }, i.q1 = function (t, n) { var i = t >= 25 ? t - 8 : t, e = this.j1[this.L1], r = !1; switch (i) { case 17: e.h0(n + 80), r = !0; break; case 18: e.h0(n + 112), r = !0; break; case 19: e.h0(n + 144), r = !0; break; default: 32 <= t && (e.h0(t), n >= 32 && e.h0(n), r = !0) }r && (this.P1 = null, this.M1 = null) }, i.z1 = function () { this.j1[this.L1].J0.o0(1) }, i.Af = function () { this.To() }, T(n, [{ key: "bB", get: function () { return this.j1.length } }]), n }(Pn); function lN(t, n) { return (t.Y1 === n.Y1 ? ca(t.Z1, n.Z1) : ca(t.K1, n.K1)) || bo(t.Mg, n.Mg) } function dN(t, n) { return ca(t.Z1, n.Z1) || bo(t.Mg, n.Mg) } function gN(t, n, i) { return i === RC.GJ ? i : n !== CC.QJ && n !== CC.YJ || i !== RC.zJ && i !== RC.qJ ? t ? n === CC.ZJ ? RC.XJ : n === CC.KJ ? RC.WJ : RC.GJ : RC.$J : RC.qJ } function _N(t, n, i, e) { var r = { byte: i }, s = RC.zJ, u = [], o = 31 & SC(n, r, e); r.byte += 1; for (var a = 0; a < o; a += 1) { var h = SC(n, r, e), c = 4 & h, f = 3 & h; s = gN(!!c, f, s); var v = SC(n, r, e), l = SC(n, r, e); u.push({ Z1: t, Mg: -1, V1: !a, U1: !!c, Ou: f, J1: s, H1: v, G1: l }) } return u } function wN(t) { var n = t.n2, i = { byte: t.i2 }, e = t.e2, r = SC(n, i, e); if (255 === r && (i.byte += 1), 181 === r) { var s = EC(n, i); if (s === aN.s2 || s === aN.u2) { if (s === aN.u2) if ("GA94" !== function (t, n, i) { for (var e = ""; i > 0;)i -= 1, e += IC(t, n); return e }(n, i, 4)) return; if (3 === SC(n, i, e)) { s === aN.s2 && (i.byte += 1); var u = t; return u.o2 = i.byte, u } } } } function yN(t) { return 4 === t.a2 } function pN(t) { for (var n = t.filter(yN).map(wN).filter(P), i = [], e = 0; e < n.length; e++) { var r = n[e]; i.push.apply(i, _N(r.h2, r.n2, r.o2, r.e2)) } return i } !function (t) { t[t.s2 = 47] = "s2", t[t.u2 = 49] = "u2" }(aN || (aN = {})); var mN = function () { function t() { this.c2 = 0, this.f2 = [], this.ZP = {} } var n = t.prototype; return n.v2 = function (t) { this.f2 = this.f2.concat(t.f2), this.c2 += t.Sf }, n.l2 = function (t, n, i) { var e = this.c2, r = i - n; r > 0 && (this.f2.push({ d2: n, _2: i, g2: r, w2: e, m2: t }), this.c2 += r) }, n.Vo = function (t) { for (var n = 0, i = this.f2; n < i.length; n++) { var e = i[n]; if (e.w2 <= t && t < e.w2 + e.g2) return e.m2[t + e.d2 - e.w2] } }, n.b2 = function (t, n) { for (var i = 0, e = this.f2; i < e.length; i++)for (var r = e[i], s = r._2, u = r.d2; u < s; u += 1, n += 1)t[n] = r.m2[u]; return n }, n.fk = function (t) { var n = this.A2(); return t.push(n.buffer), { T2: n, S2: this.c2, E2: this.ZP } }, n.A2 = function () { for (var t = new m(this.c2), n = 0, i = 0, e = this.f2; i < e.length; i++)for (var r = e[i], s = r._2, u = r.d2; u < s; u += 1, n += 1)t[n] = r.m2[u]; return t }, n.Qo = function (n) { for (var i = new t, e = 0, r = this.f2; e < r.length; e++) { var s = r[e]; i.l2(s.m2, s.d2, s._2) } return i.ZP = n || Et({}, this.ZP), i }, t.I2 = function (n) { var i = new t; return i.l2(n.T2, 0, n.S2), i.ZP = n.E2, i }, T(t, [{ key: "Sf", get: function () { return this.c2 }, set: function (t) { var n = this.f2, i = this.c2 - t; if (!(t >= this.c2)) if (this.c2 = t, 0 !== t) for (var e = n.length - 1; e >= 0; e -= 1) { var r = n[e]; if (i <= r.g2) return r._2 -= i, r.g2 -= i, void (n.length !== e + 1 && (n.length = e + 1)); i -= r.g2 } else n.length = 0 } }, { key: "ei", get: function () { for (var t = new Array(this.c2), n = 0, i = 0, e = this.f2; i < e.length; i++)for (var r = e[i], s = r._2, u = r.d2; u < s; u += 1, n += 1)t[n] = r.m2[u]; return t } }]), t }(); var kN = x.Tn ? function (t, n) { return t.R2.Od(n.R2) } : function (t, n) { return t.N2.Od(n.N2) }, bN = function () { function t(t) { this.C2 = [], this.D2 = 0, this.O2 = t } var n = t.prototype; return n.B2 = function (t) { for (var n = this.C2, i = _.max(0, this.D2 + n.length - 2), e = this.O2, r = e.Sf, s = 0; i < r; i += 1) { var u = e.Vo(i); 0 === u ? s += 1 : (3 === u && s >= 2 && n.push(i), s = 0) } this.D2 = i - n.length }, n.P2 = function (t) { for (var n = this.C2, i = t, e = 0; e < n.length; e++) { if (!(n[e] <= i)) return i; i += 1 } return i }, n.Vo = function (t) { if (!(t > this.O2.Sf)) return t > this.D2 && this.B2(t), this.O2.Vo(this.P2(t)) }, t }(), AN = [void 0, [1, 1], [12, 11], [10, 11], [16, 11], [40, 33], [24, 11], [20, 11], [32, 11], [80, 33], [18, 11], [15, 11], [64, 33], [160, 99], [4, 3], [3, 2], [2, 1]]; function TN(t, n, i) { for (var e = 8, r = 8, s = 0; s < i; s += 1) { if (0 !== r) r = (e + OC(t, n) + 256) % 256; e = 0 === r ? e : r } } function SN(t, n) { var i, e = [], r = { byte: 1 }; do { e.push(IN(t, n, r)), i = n.Vo(r.byte) } while (void 0 !== i && 128 !== i); return e } function EN(t, n) { var i, e = 0; do { e += i = SC(t, n) } while (255 === i); return e } function IN(t, n, i) { var e = EN(n, i), r = EN(n, i), s = i.byte, u = s + r; return i.byte = u, { h2: t, a2: e, M2: r, i2: s, e2: u, n2: n } } for (var RN = function (t) { function n(n, i) { var e, r = NN[n]; return (e = t.call(this, r ? r.Do : "") || this).code = n, e.info = i, e.helpLink = r && r.L2, e.helpLinkText = r && r.j2, e } return rt(n, t), T(n, [{ key: "name", get: function () { return "THEOplayerError" } }]), n }(ot), CN = [{ yh: "LICENSE_INVALID", Do: "The license for this player is invalid. Please contact your service provider for additional information." }, { yh: "MANIFEST_NOT_FOUND", Do: "Could not load the manifest file." }, { yh: "MANIFEST_CORS_ERROR", Do: "Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.", L2: "https://www.theoplayer.com/documentation/cors.html", F2: !1 }, { yh: "SUBTITLE_NOT_FOUND", Do: "Could not load the subtitle file." }, { yh: "SUBTITLE_CORS_ERROR", Do: "Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.", L2: "https://www.theoplayer.com/documentation/cors.html", F2: !1 }, { yh: "SUBTITLE_PARSE_ERROR", Do: "Could not parse the subtitle file." }, { yh: "INVALID_HLS_MANIFEST", Do: "The source of the player is an invalid HLS manifest.", L2: "https://developer.apple.com/library/ios/technotes/tn2288/_index.html" }, { yh: "PLAYBACK_ISSUE", Do: "There appears to be a playback issue." }, { yh: "AUDIO_ISSUE", Do: "There is an audio issue. Please contact your service provider with the code below for additional information." }, { yh: "BROWSER_SUPPORT_ISSUE", Do: "Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below." }, { yh: "INVALID_KEY", Do: "There is an invalid key being decrypted. Please contact your service provider with the code below for additional information." }, { yh: "DECRYPTION_ERROR", Do: "There is a decryption error. Please contact your service provider with the code below for additional information." }, { yh: "AD_BLOCK_DETECTED", Do: "An ad blocker was detected. Please turn it off and refresh the page in order to watch this video." }, { yh: "THEOPLAYER_NOT_INITIALIZED", Do: "THEOplayer hasn't been initialized yet. Please check your configuration or wait." }, { yh: "ERROR", Do: "THEOplayer encountered an error. If this issue holds, please contact your service provider." }, { yh: "MANIFEST_SEQUENCE_RESET_ERROR", Do: "The video stream has been reset. THEOplayer will attempt to reload the source." }, { yh: "PLAYER_INCORRECTLY_CONFIGURED", Do: "The player is incorrectly configured.", L2: "https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API" }, { yh: "UNSUPPORTED", Do: "This browser does not allow you to watch this video. Try to update your browser or use a different browser." }], NN = {}, DN = 0; DN < CN.length; DN++) { var xN = CN[DN]; NN[xN.yh] = xN } var BN = 65536, ON = 24; function PN(t) { var n = function (t) { return { U2: t.pO[0].$k.$O.$p } }(t), i = wn(t.pO[0].$k.aB.fB.lB.yB, function (t) { return "avc1" === t.Ou }); if (i) { var e = function (t, n) { for (var i = Yn(t, n), e = Yn(t, n), r = Yn(t, n), s = Yn(t, n), u = 3 & Yn(t, n), o = 31 & Yn(t, n), a = [], h = 0; h < o; h++) { var c = ii(t, n); a.push(Kn(t, n, c)) } for (var f = Yn(t, n), v = [], l = 0; l < f; l++) { var d = ii(t, n); v.push(Kn(t, n, d)) } return { V2: i, H2: e, G2: r, z2: s, q2: u, W2: a, X2: v } }(Ei(i.FB.ei), new xi), r = i.UB; return Et(Et({}, n), { FB: Di(i.FB.ei), qw: i.qw, Ww: i.Ww, HB: r && r.HB, VB: r && r.VB, Q2: e.H2, Y2: e.G2, Z2: e.z2, W2: e.W2[0], X2: e.X2[0] }) } } function MN(t, n, i, e, r) { for (var s, u = function (t, n, i, e) { var r = i.U2, s = na.fromNumber(t.cP || 0), u = e.kd(ha.Tm(s, r)); return { Pk: e.Pm(), K2: e, R2: u, N2: e } }(t, 0, i, e), o = ha.Sm(t.Zy || 0, i.U2), a = t.UO || 0, h = !(a & BN) && 1 !== (a >> 24 & 3), c = Ei(r), f = new xi; f.Yo < c.byteLength;) { var v = ri(c, f); if (6 === (31 & ni(c, f, 1))) { var l, d = new mN; d.l2(r, f.Yo - 1, f.Yo + v - 1); var g = SN(u.R2, d); (l = s = s || []).push.apply(l, pN(g)) } f.Xo(v - 1) } return Et(Et({}, u), { Zy: o.Pm(), J2: o, t3: u.R2.Pm(), n3: u.Pk, i3: h, e3: s, r3: !1, s3: !1 }) } function LN(t) { var n = t.W2, i = new mN; return i.l2(Ii(n), 0, n.length), function (t) { var n, i, e, r, s, u, o = new bN(t), a = 0, h = 0, c = 0, f = 0, v = o.Vo(1), l = { bit: 32 }; if (BC(o, l), 100 === v || 110 === v || 122 === v || 144 === v) { var d = BC(o, l); if (3 === d && (n = DC(o, l)), BC(o, l), BC(o, l), DC(o, l), 1 === DC(o, l)) for (var g = 0; g < (3 !== d ? 8 : 12); g += 1)1 === DC(o, l) && TN(o, l, g < 6 ? 16 : 64) } var w = BC(o, l), y = BC(o, l); if (0 === y) BC(o, l); else if (1 === y) { DC(o, l), OC(o, l), OC(o, l); for (var p = BC(o, l), m = 0; m < p; m += 1)OC(o, l) } BC(o, l), DC(o, l); var k = BC(o, l), b = BC(o, l), A = DC(o, l); if (0 === A && DC(o, l), DC(o, l), 1 === DC(o, l) && (a = BC(o, l), h = BC(o, l), c = BC(o, l), f = BC(o, l)), 1 === DC(o, l)) { if (1 === DC(o, l)) { var T = xC(o, l, 8); if (255 === T) i = xC(o, l, 16), e = xC(o, l, 16); else { var S = AN[T]; S && (i = S[0], e = S[1]) } } 1 === DC(o, l) && DC(o, l), 1 === DC(o, l) && (xC(o, l, 3), DC(o, l), 1 === DC(o, l) && (xC(o, l, 8), xC(o, l, 8), xC(o, l, 8))), 1 === DC(o, l) && (BC(o, l), BC(o, l)), 1 === (r = DC(o, l)) && (s = xC(o, l, 32), u = xC(o, l, 32), DC(o, l)) } return { width: _.floor(16 * (k + 1) - 2 * a - 2 * h), height: _.floor((2 - A) * (b + 1) * 16 - 2 * c - 2 * f), VB: i, HB: e, u3: !!r && u / (2 * s), o3: n, a3: w } }(i).u3 } function jN(t) { var n = LN(t) || ON; return t.U2 / n } function FN(t) { return "moov" === t.Ou } function UN(t) { return "moof" === t.Ou } var VN = function (t) { function n() { return t.call(this) || this } return rt(n, t), n.prototype.h3 = function (t) { for (var n = 0; n < t.length; n++) { var i = t[n]; this.F1(i.Z1, i) } }, n }(vN), HN = function (t) { function n(n, i) { var e; return (e = t.call(this) || this).c3 = void 0, e.f3 = void 0, e.v3 = function (t) { e.l3.SL(t.cue) }, e.l3 = n, e.d3 = i, e.d3.mo("Q0", e.v3), e } rt(n, t), n._3 = function (t) { var i = function (t) { if (!t) return {}; var n = t.trim().split(";"); if (n.some(function (t) { return t.match(bC) })) { var i = wn(n.map(function (t) { return t.match(AC) }), P); return i ? { g3: i[1] } : {} } return n.length > 0 ? { g3: n[0] } : {} }(t.Hn), e = i.g3 && _C(i.g3), r = e ? e.Fn : ""; return new n(new pC("" === r ? "CC" : "CC " + r, r, !1), new VN) }, n.w3 = function (t) { return "urn:scte:dash:cc:cea-608:2015" === t.Vk }; var i = n.prototype; return i.wx = function () { this.pf(this.l3) }, i.y3 = function (t) { this.d3.bf(); var n = ad.GO(new DataView(t)); this.c3 = PN(n.filter(FN)[0]), this.f3 = void 0 }, i.FJ = function (t, n) { if (this.c3 && (!this.f3 || !this.f3.zk.Hl(n.zk))) { this.f3 && !n.zk.Hl(this.f3.OP) && this.d3.bf(); var i = ad.GO(new DataView(t)), e = function (t) { for (var n = [], i = 0; i < t.length; i++) { var e = t[i]; e.ZP.e3 && n.push.apply(n, e.ZP.e3), delete e.ZP.e3 } for (var r = 0; r < n.length; r += 1)n[r].Mg = r; return n.sort(dN) }(function (t, n, i, e, r) { for (var s = [], u = n.filter(UN), o = e(i), a = 0; a < u.length; a++)for (var h = u[a], c = h.pO[0], f = c.$O.WB || 0, v = c.$O.XB || 0, l = c.eP ? c.eP.eP : na.ZERO, d = h.YB + (c.$O.rP || 0), g = 0, _ = c.iP; g < _.length; g++)for (var w = _[g], y = d + (w.YB || 0), p = 0, m = w.hP; p < m.length; p++) { var k = m[p], b = k.qo || v, A = new mN; A.l2(t, y, y + b); var T = ha.Tm(l, i.U2); A.ZP = r(k, h, i, T, Ci(t, y, y + b)), s.push(A), y += b, l = l.add(k.Zy || f || o) } return s }(new m(t), i, this.c3, jN, MN)); this.d3.h3(e), this.f3 = n } }, i.Af = function () { return this.d3.So("Q0", this.v3), this.d3.Af(), this.kf(this.l3), this.l3.Af(), this.c3 = void 0, this.f3 = void 0, t.prototype.Af.call(this) }, n }(Jl), zN = ["error", "segmentnotfound", "m3", "b3"], qN = function (t) { function n(n, i, e, r, s) { var u; return (u = t.call(this) || this).A3 = void 0, u.T3 = void 0, u.S3 = void 0, u.E3 = !1, u.I3 = !1, u.R3 = new ie, u.N3 = void 0, u.C3 = void 0, u.D3 = new W_([]), u.x3 = function (t) { u.T3.x3(t), u._o(new cC(t.O3 && t.O3.vf, t.B3 && t.B3.vf)) }, u.P3 = function (t) { u.S3 && u.T3 && u.T3 === t.df && (u.R3.eh(), u.R3 = new ie, se(u.M3(t.zf, u.R3._h))) }, u.L3 = function () { var t = u.T3; t && (GN(t).dg ? u.S3 && u.S3.Ll(13) : u.S3 && u.S3.bx(41)) }, u.Bw = aC(), u.$K = n, u.OS = e, u.aH = r, u.j3 = i, u.F3 = s, u.U3(), u } rt(n, t); var i = n.prototype; return i.V3 = function () { var t; return null === (t = this.A3) || void 0 === t ? void 0 : t.H3.Fl }, i.FJ = function () { var t = St(At.mark(function t(n, i, e, r) { var s, u, o, a, h; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return s = e.Ub.rM, u = this.G3(n, i, r), o = this.z3(n, i, s, r), t.next = 5, ue([o, u]); case 5: return a = t.sent, h = a[0], t.abrupt("return", h); case 8: case "end": return t.stop() } }, t, this) })); return function (n, i, e, r) { return t.apply(this, arguments) } }(), i.G3 = function () { var t = St(At.mark(function t(n, i, e) { var r, s; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (this.N3 || this.C3) { t.next = 2; break } return t.abrupt("return"); case 2: return r = n.q3(), t.next = 5, r.GF(e); case 5: s = t.sent, this.N3 && this.N3.FJ(s, i), this.C3 && this.C3.FJ(s, i); case 8: case "end": return t.stop() } }, t, this) })); return function (n, i, e) { return t.apply(this, arguments) } }(), i.y3 = function (t, n, i) { return Rn(i), this.C3 && this.C3.y3(t.W3), Tt.resolve() }, i.Ph = function () { var t = St(At.mark(function t(n, i) { var e, r, s; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (Rn(i), this.T3 !== n || !this.E3) { t.next = 3; break } return t.abrupt("return", Tt.resolve()); case 3: return t.next = 5, this.updateCea608PlayerOnTrackLoad(n); case 5: return e = !!this.T3, r = this.X3(n), s = !!n, !e && s ? this._o(new rC(this)) : e && !s && this._o(new sC(this)), t.next = 11, r; case 11: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.updateCea608PlayerOnTrackLoad = function () { var t = St(At.mark(function t(n) { var i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (this.T3 !== n) { t.next = 2; break } return t.abrupt("return"); case 2: if (!this.C3) { t.next = 6; break } return this.D3.qL(this.C3.pO), t.next = 6, this.C3.Af(); case 6: if (n) { t.next = 8; break } return t.abrupt("return"); case 8: (i = wn(n.Q3.kA, function (t) { return HN.w3(t) })) && (this.C3 = HN._3(i), this.C3.mo("_f", this.do), this.C3.wx(), this.D3.GL(this.C3.pO)); case 10: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.X3 = function () { var t = St(At.mark(function t(n) { var i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (i = this.T3, this.T3 = n, this.E3 = !1, this.A3 = n && n.Y3, i && (GN(i).So("Z3", this.L3), i.So("K3", this.P3), i.J3(!1)), i && n && (this.I3 = !0, this._o(new uC(this))), !this.S3) { t.next = 10; break } return t.next = 9, this.S3.Af(); case 9: this.S3 = void 0; case 10: return t.next = 12, this.t5(); case 12: if (i === n) { t.next = 15; break } return t.next = 15, this.n5(); case 15: if (!n) { t.next = 21; break } return n.mo("K3", this.P3), t.next = 19, this.cj(n); case 19: GN(n).mo("Z3", this.L3), n.J3(!0); case 21: this.I3 && (this.I3 = !1, this._o(new hC(this))), this.E3 = !0; case 23: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.cj = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, this.i5(n); case 2: return this.S3 = this.e5(n), this.S3.mo(zN, this.do), this.S3.mo("r5", this.x3), this.S3.s5 = this.u5(n.qf), t.next = 8, this.S3.Ll(11); case 8: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.u5 = function (t) { if (t && 0 !== t.length && this.T3) { for (var n = [], i = 0, e = this.T3.OA; i < e.length; i++)for (var r = e[i], s = 0; s < t.length; s++) { t[s] === r.o5 && n.push(r) } return n } }, i.bf = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, this.Ph(void 0, (new ie)._h); case 2: return t.next = 4, this.a5(); case 4: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.h5 = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (this.To(), this.T3 && (this.T3.Af(), this.T3 = void 0), !this.S3) { t.next = 6; break } return t.next = 5, this.S3.Af(); case 5: this.S3 = void 0; case 6: return this.R3.eh(), t.next = 9, this.c5(); case 9: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.M3 = function () { var t = St(At.mark(function t(n, i) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (Rn(i), this.S3.s5 = this.u5(n), !kn(n, this.T3.Lf)) { t.next = 4; break } return t.abrupt("return"); case 4: return t.next = 6, this.S3.bf(51); case 6: return t.next = 8, this.t5(); case 8: return t.next = 10, this.S3.Ll(12); case 10: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.c5 = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!this.N3) { t.next = 5; break } return this.D3.qL(this.N3.pO), t.next = 4, this.N3.Af(); case 4: this.N3 = void 0; case 5: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.U3 = function () { this.N3 = new dC, this.N3.Ph(), this.N3.mo("_f", this.do), this.D3.GL(this.N3.pO) }, i.n5 = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, this.c5(); case 2: this.U3(); case 3: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.Af = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, t.next = 3, this.bf(); case 3: return t.next = 5, this.h5(); case 5: t.next = 9; break; case 7: t.prev = 7, t.t0 = t.catch(0); case 9: case "end": return t.stop() } }, t, this, [[0, 7]]) })); return function () { return t.apply(this, arguments) } }(), T(n, [{ key: "f5", get: function () { return this.T3 } }, { key: "Ff", get: function () { return this.Bw } }, { key: "v5", get: function () { return this.$K } }, { key: "Ag", get: function () { return this.D3 } }, { key: "rA", get: function () { return WN(this.$K) } }, { key: "l5", get: function () { return new Eo(1 / this.rA.um) } }, { key: "d5", get: function () { return this.I3 } }, { key: "jf", get: function () { return Boolean(this.T3 && this.T3.jf) } }, { key: "fK", get: function () { var t = this.S3 ? this.S3.g5.fK._5 : RE.Vd(); return this.w5().bd(t) } }, { key: "hg", get: function () { return this.y5().md(this.l5.nm(1.5)) } }, { key: "p5", get: function () { return this.y5().bd(this.fK).bd(this.m5).md(this.l5.nm(2)) } }, { key: "m5", get: function () { var t = this.k5(); if (t && isFinite(t.Xp)) { var n = this.j3.Fl; if (isFinite(n.Xp) && t.Wl(n)) return new RE([t, n], [!1, !0]) } return RE.Vd() } }, { key: "jx", get: function () { var t = this.T3, n = null == t ? void 0 : t.Q3.b5, i = null == t ? void 0 : t.Q3.A5; if (!i || !n) return RE.Ud(Eo.cm); var e = Eo.Qp(i.Kp(Eo.vm)), r = Eo.Ql(e, Eo.Yp(Eo.Ql(n, this.yg).Kp(Eo.vm))); return new RE([e, r]).rd() } }, { key: "SV", get: function () { return this.p5.Ld(this.yg) } }, { key: "yg", get: function () { return this.j3.yg } }, { key: "Fl", get: function () { var t = this.V3(), n = this.k5(); return t ? n || t : new Eo(NaN) } }, { key: "Ww", get: function () { return this.j3.Ww } }, { key: "qw", get: function () { return this.j3.qw } }]), n }(hr); function GN(t) { return t.Q3.T5 } function WN(t) { return new Eo("audio" === t ? 44100 / 1024 : 29.97) } var XN = function (t) { function n(n) { var i; return (i = t.call(this) || this).CU = eu.h_, i.S5 = function () { i.fZ() }, i.pU = n, i } rt(n, t); var i = n.prototype; return i.E5 = function (t) { this.CU !== t && (this.CU = t, this._o(new Nh(this.pU.yg, t))) }, i.fZ = function () { this.E5(this.z$()) }, i.bf = function () { this.E5(eu.h_) }, i.oo = function () { this.To() }, T(n, [{ key: "Zf", get: function () { return this.z$() } }]), n }(Pn), $N = ["emptied", "loadedmetadata", "loadeddata", "canplay", "canplaythrough", "playing", "waiting", "timeupdate", "progress", "seeking", "seeked"], QN = function (t) { function n(n) { var i; i = t.call(this, n) || this; for (var e = 0; e < $N.length; e++) { var r = $N[e]; i.pU.fV.addEventListener(r, i.S5) } return i } rt(n, t); var i = n.prototype; return i.z$ = function () { var t = this.pU.fV.readyState; return this.pU.fV.seeking && t > eu.c_ && (t = eu.c_), t }, i.oo = function () { for (var n = 0; n < $N.length; n++) { var i = $N[n]; this.pU.fV.removeEventListener(i, this.S5) } t.prototype.oo.call(this) }, n }(XN), YN = Eo.hm.um, ZN = function (t) { function n(n) { var i; (i = t.call(this, n) || this).pU.mo(es.Rl, i.S5); for (var e = 0; e < $N.length; e++) { var r = $N[e]; i.pU.fV.addEventListener(r, i.S5) } return i } rt(n, t); var i = n.prototype; return i.z$ = function () { if (this.pU.fV.readyState === eu.h_) return eu.h_; var t = this.I5(), n = t ? t.Fl - t.Ll : 0; if (!t) return eu.c_; var i = this.pU._g; return this.R5() || n >= 3 * i ? eu.l_ : n >= 3 ? eu.v_ : eu.f_ }, i.I5 = function () { var t = new Eo(this.pU.yg), n = this.pU.hg, i = n.Ed(t); if (!(i < 0)) return { Ll: t.um, Fl: n.Fl(i).um } }, i.R5 = function () { if (this.pU.SN) return !0; var t = this.pU.Zy, n = this.I5(); return !!n && t - n.Fl <= YN }, i.oo = function () { this.pU.So(es.Rl, this.S5); for (var n = 0; n < $N.length; n++) { var i = $N[n]; this.pU.fV.removeEventListener(i, this.S5) } t.prototype.oo.call(this) }, n }(XN), KN = ["readystatechange", es.bl, es.yl, es.Rl, es.Il, es.ll, "error"], JN = function (t) { function n(n) { var i; return (i = t.call(this, n) || this).N5 = !1, i.C5 = function () { i.N5 = !0, i.Lh() }, i.Nc = n.fV, i.Nc.addEventListener("playing", i.C5), i } rt(n, t); var i = n.prototype; return i.D5 = function () { return this.N5 && t.prototype.D5.call(this) }, i.Lh = function () { this.N5 && (this.Nc.paused || this.Nc.ended || this.Nc.error) && (this.N5 = !1), t.prototype.Lh.call(this) }, i.bf = function () { t.prototype.bf.call(this), this.N5 = !1 }, i.oo = function () { this.Nc.removeEventListener("playing", this.C5), t.prototype.oo.call(this) }, n }(function (t) { function n(n) { var i; return (i = t.call(this) || this).x5 = !1, i.dX = function () { i.Lh() }, i.RU = n, i.RU.mo(KN, i.dX), i } rt(n, t); var i = n.prototype; return i.O5 = function () { return this.RU.Zf < eu.v_ }, i.D5 = function () { return !this.RU.pg && !(this.RU.rN || this.RU.SN || this.RU.Bo || this.O5()) }, i.Lh = function () { var t = this.x5; this.x5 = this.D5(), !t && this.x5 && this._o(new Bh(this.RU.yg)) }, i.bf = function () { this.x5 = !1 }, i.oo = function () { this.To(), this.RU.So(KN, this.dX) }, n }(Pn)), tD = new Eo(50, 1e3), nD = x.dn || x._n, iD = [es.xl, es.Tl, es.Rl, es.bl, es.yl], eD = function (t) { function n(n, i) { var e; return (e = t.call(this) || this).Jg = void 0, e.uH = !0, e.Dj = void 0, e.B5 = new hw, e.P5 = void 0, e.M5 = void 0, e.L5 = void 0, e.oY = !1, e.j5 = Tt.resolve(), e.F5 = new ie, e.U5 = [], e.V5 = RE.Vd(), e.H5 = void 0, e.nQ = 1, e.G5 = !1, e.z5 = !1, e.q5 = !1, e.W5 = function () { e._o(new ru(e.yg)) }, e.X5 = function () { e.Q5(new En), e._o(new Mh(e.yg)) }, e.Y5 = function () { e.Z5(), e._o(new Bh(e.yg)) }, e.K5 = function () { e.J5(e._g) }, e.t4 = function () { e._o(new Oh(e.Nc.duration)) }, e.n4 = function () { e._o(new xR(e.yg)) }, e.i4 = function () { e._o(new BR) }, e.e4 = function () { var t = e.yg, n = e.pg, i = e.Zf < eu.v_, r = void 0 !== e.L5, s = r && e.L5 !== t; (n || !r || s && !i) && (e._o(new Ph(e.yg, void 0)), e.L5 = t) }, e.r4 = function () { e._o(new Fh(e.yg)) }, e.s4 = function () { var t; if (null !== e.Nc.error) { var n = e.Nc.error; e.Jg = new au(null !== (t = n.code) && void 0 !== t ? t : uu.DECODE, n.message || "Error decoding media", void 0, n.msExtendedCode), e.u4(e.Jg), e._o(new Vh(e.Jg)) } else e.Jg = void 0 }, e.o4 = function () { e._o(new su(e.yg, e.ux)) }, e.a4 = function () { e._o(new aw) }, e.h4 = function (t) { e._o(new Un(t.initDataType, t.initData || new ArrayBuffer(0))) }, e.c4 = function () { e._o(new Vn) }, e.f4 = function (t) { var n = t.initData, i = n ? Ni(n).buffer : new ArrayBuffer(0); e._o(new Un(Ut, i)) }, e.v4 = function (t) { var n = t.initData, i = n ? Ni(n).buffer : new ArrayBuffer(0); e._o(new Un(Vt, i)) }, e.l4 = function (t) { var n = t.initData, i = n ? Ni(n).buffer : new ArrayBuffer(0); e._o(new Un(Ut, i)) }, e.d4 = function () { e.Z5() }, e._4 = function (t) { e.Q5(t) }, e.Nc = n, e.Uu = i, e.g4 = new QN(st(e)), e.w4 = new JN(st(e)), e.w4.mo("playing", e.Y5), e.y4(), e } rt(n, t); var i = n.prototype; return i.m4 = function () { return void 0 !== this.M5 && this.Zy === this.M5.um }, i.J5 = function (t) { this.nQ !== t && (this.nQ = t, this._o(new Hl(this.yg, t))) }, i.xV = function () { return yu(this.Nc) }, i.sN = function () { var t = this.b4(); return this.A4(), t }, i.A4 = function () { this.z5 ? this.q5 && (this.q5 = !1, this._o(new ru(this.yg))) : this.T4() }, i.T4 = function () { if (this.P5) this.P5.sN(); else { x.Tn && !x.in && this.Nc.preload === X_.Iw && (this.Nc.preload = X_.Qx); var t = this.fV.playbackRate, n = this.Nc.play(); void 0 !== this.H5 ? (this.fV.playbackRate = this.H5, this.H5 = void 0) : this.fV.playbackRate = t, H(n) ? n.then(this.d4, this._4) : this.w4.D5() && this.Z5() } }, i.dN = function () { this.z5 ? this.q5 || (this.q5 = !0, this._o(new Mh(this.yg))) : this.S4() }, i.S4 = function () { this.P5 ? this.P5.dN() : (this.Nc.pause(), this.w4.Lh()), this.u4(new En) }, i.b4 = function () { var t = new Oi; return this.U5.push(t), t._a }, i.E4 = function () { for (var t = 0, n = this.U5; t < n.length; t++) { n[t].nh(void 0) } An(this.U5) }, i.u4 = function (t) { for (var n = 0, i = this.U5; n < i.length; n++) { i[n].ih(t) } An(this.U5) }, i.Z5 = function () { this.z5 || this.P5 || this.E4() }, i.Q5 = function (t) { this.z5 || this.P5 || this.u4(t) }, i.$o = function (t, n) { this.P5 ? this.P5.yg = t : (this.F5.eh(), this.F5 = new ie, this.j5 = this.I4(new Eo(t), this.j5, this.F5._h).catch(q)) }, i.DV = function (t) { if (this.Nc.getStartDate) { var n = this.Nc.getStartDate(); if (n && !p(n.getTime())) { var i = (t.getTime() - n.getTime()) / 1e3; this.$o(i) } } }, i.I4 = function () { var t = St(At.mark(function t(n, i, e) { var r, s, u, o, a, h, c, f; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, this.M5 = n, this.oY = !0, this._o(new Vl(n.um)), t.next = 6, i.catch(q); case 6: if (Rn(e), this.G5 && this.R4(), this.Zf !== eu.h_) { t.next = 11; break } return t.next = 11, this.Ro("readystatechange", e); case 11: if (0 !== this.Nc.seekable.length) { t.next = 17; break } return t.next = 14, Tt.race([pr(this.Nc, "timeupdate", e), ae(100, e)]); case 14: Rn(e), t.next = 11; break; case 17: r = this.N4(n), s = this.jx, u = !0; case 20: if ((s = this.jx).Sf > 0 && !s.fd(r) && (r = s.od(r), u = !0), !u) { t.next = 41; break } return u = !1, t.next = 26, this.C4(r, e); case 26: Rn(e), o = new Eo(this.yg), s = this.jx, r = s.od(r), a = 1; case 31: if (r.tm(o, Eo.hm)) { t.next = 41; break } return s = this.jx, r = uD(r, s, a), t.next = 36, this.C4(r, e); case 36: Rn(e), o = new Eo(this.yg), a++, t.next = 31; break; case 41: if (this.Nc.seeking || this.Zf < eu.f_) { t.next = 43; break } return t.abrupt("break", 49); case 43: return h = pr(this.Nc, "seeked", e), c = this.Ro([es.Al, "readystatechange"], e), t.next = 47, Tt.race([h, c]); case 47: Rn(e); case 48: if (this.Nc.seeking || this.Zf < eu.f_) { t.next = 20; break } case 49: if (void 0 === (f = this.D4()) || !r.Jp(f)) { t.next = 61; break } return t.next = 53, this.C4(f, e); case 53: return t.next = 55, pr(this.Nc, "seeked", e); case 55: return Rn(e), t.next = 58, this.C4(r, e); case 58: return t.next = 60, pr(this.Nc, "seeked", e); case 60: Rn(e); case 61: this.x4(), t.next = 69; break; case 64: if (t.prev = 64, t.t0 = t.catch(0), !In(t.t0)) { t.next = 68; break } return t.abrupt("return"); case 68: 0; case 69: case "end": return t.stop() } }, t, this, [[0, 64]]) })); return function (n, i, e) { return t.apply(this, arguments) } }(), i.C4 = function () { var t = St(At.mark(function t(n, i) { var e, r, s; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (Rn(i), e = this.jx, n = e.od(n), !this.G5) { t.next = 18; break } r = !0; case 5: if (!(r || this.Zf < eu.v_)) { t.next = 17; break } if ((e = this.jx).fd(n) || (n = e.od(n), r = !0), !r) { t.next = 13; break } return r = !1, this.M5 = n, this._o(new Vl(this.yg)), t.abrupt("continue", 5); case 13: return t.next = 15, this.Ro(["readystatechange", es.cl], i); case 15: t.next = 5; break; case 17: Rn(i); case 18: if (s = pr(this.Nc, "seeking", i), this.Nc.currentTime = n.um, this.M5 = void 0, this._o(new Vl(this.yg)), !this.Nc.seeking) { t.next = 25; break } return t.next = 25, s; case 25: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.N4 = function (t) { var n = this.hg; if (n && !n.fd(t)) { var i = n.Ed(t, tD); if (i > -1) { var e = n.Ll(i); if (t.Wl(e)) return e } } return t }, i.D4 = function () { var t = this.Dj && this.Dj.HZ; if (t && t.Sf > 0) { var n = t.Ll(t.Sf - 1), i = t.Fl(t.Sf - 1).Od(new Eo(1 / WN("video").um).nm(.5)); return i = i.Od(new Eo(1, 1e3)), Eo.Ql(n, i) } }, i.x4 = function () { this.oY = !1, this.G5 && this.O4(), this._o(new Ul(this.yg)) }, i.R4 = function () { this.z5 || (this.q5 = this.rN, this.z5 = !0, this.S4()) }, i.O4 = function () { this.z5 && (this.z5 = !1, this.q5 || this.A4()) }, i.B4 = function () { var t = St(At.mark(function t(n) { var i, e; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (this.Nc.canPlayType) { t.next = 2; break } return t.abrupt("return", void 0); case 2: i = 0; case 3: if (!(i < n.length)) { t.next = 10; break } if (0 !== (e = n[i]).Ou || !this.Nc.canPlayType(e.bA)) { t.next = 7; break } return t.abrupt("return", e); case 7: i++, t.next = 3; break; case 10: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.Z_ = function () { this.uH = !1, Ye(this.Nc) && (this.Nc.style.display = "none") }, i.B_ = function () { this.uH = !0, Ye(this.Nc) && (this.Nc.style.display = "block") }, i.Ph = function (t) { var n = this; return this.B5.wj(function () { var i = St(At.mark(function i(e) { var r; return At.wrap(function (i) { for (; ;)switch (i.prev = i.next) { case 0: if (Rn(e), 0 !== t.Ou) { i.next = 7; break } r = new DR(t, n, n.Uu), n.G5 = !1, n.P4(new QN(n)), i.next = 14; break; case 7: if (1 !== t.Ou) { i.next = 13; break } r = new iC(t, n, n.Uu), n.G5 = nD, n.P4(n.G5 ? new ZN(n) : new QN(n)), i.next = 14; break; case 13: throw new v("Unsupported configuration"); case 14: return n.Dj = r, i.next = 17, r.wx(); case 17: return i.abrupt("return", r); case 18: case "end": return i.stop() } }, i) })); return function (t) { return i.apply(this, arguments) } }()) }, i.P4 = function (t) { var n = this.Zf; this.g4.oo(), this.g4 = t, this.g4.mo("readystatechange", this.do); var i = this.Zf; n !== i && this._o(new Nh(this.yg, i)) }, i.bf = function () { var t = St(At.mark(function t() { var n = this; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.oY = !1, this.V5 = RE.Vd(), this.F5.eh(), this.M5 = void 0, this.G5 = !1, this.z5 = !1, this.Jg = void 0, this.L5 = void 0, this.u4(new En), this.P4(new QN(this)), this.w4.bf(), t.next = 13, this.B5.eh(); case 13: return t.next = 15, this.B5.wj(St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!n.Dj) { t.next = 4; break } return t.next = 3, n.Dj.oo(); case 3: n.Dj = void 0; case 4: case "end": return t.stop() } }, t) }))); case 15: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.oo = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.M4(), t.next = 3, this.bf(); case 3: return t.next = 5, this.B5.Af(); case 5: this.w4.oo(), this.g4.oo(); case 7: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.y4 = function () { this.fV.addEventListener("play", this.W5), this.fV.addEventListener("pause", this.X5), this.fV.addEventListener("timeupdate", this.e4), this.fV.addEventListener("progress", this.n4), this.fV.addEventListener("loadstart", this.i4), this.fV.addEventListener("ended", this.r4), this.fV.addEventListener("ratechange", this.K5), this.fV.addEventListener("volumechange", this.o4), this.fV.addEventListener("durationchange", this.t4), this.fV.addEventListener("resize", this.a4), this.fV.addEventListener("error", this.s4), void 0 !== Ot.WebKitMediaKeys && "function" == typeof Ot.WebKitMediaKeys.isTypeSupported ? this.Nc.addEventListener("webkitneedkey", this.v4) : cn() ? (this.Nc.addEventListener("encrypted", this.h4), this.Nc.addEventListener("waitingforkey", this.c4)) : void 0 !== Ot.MSMediaKeys && "function" == typeof Ot.MSMediaKeys.isTypeSupported ? this.Nc.addEventListener("msneedkey", this.f4) : fn() && this.Nc.addEventListener("webkitneedkey", this.l4) }, i.M4 = function () { this.fV.removeEventListener("play", this.W5), this.fV.removeEventListener("pause", this.X5), this.fV.removeEventListener("timeupdate", this.e4), this.fV.removeEventListener("progress", this.n4), this.fV.removeEventListener("loadstart", this.i4), this.fV.removeEventListener("ended", this.r4), this.fV.removeEventListener("ratechange", this.K5), this.fV.removeEventListener("volumechange", this.o4), this.fV.removeEventListener("durationchange", this.t4), this.fV.removeEventListener("resize", this.a4), this.fV.removeEventListener("error", this.s4), this.fV.removeEventListener("encrypted", this.h4), this.fV.removeEventListener("waitingforkey", this.c4), this.fV.removeEventListener("msneedkey", this.f4), this.fV.removeEventListener("webkitneedkey", this.v4) }, i.SJ = function () { this.P5 || (this.V5 = this.wg, this.P5 = new eC(this.yg, this.Zy, this.SN, this.rN, this.pg, this.RE, this._g, this.ux), this.M4(), this.P5.mo(iD, this.do)) }, i.EJ = function () { if (this.P5) { var t = this.P5; this.P5 = void 0, t.Zy === this.Zy || p(t.Zy) && p(this.Zy) || this._o(new Oh(this.Zy)), this._g = t._g, t.rN ? this.dN() : this.A4(), t.yg !== this.yg ? this.$o(t.yg) : !t.pg && this.pg ? this._o(new Vl(this.yg)) : t.pg && !this.pg && this._o(new Ul(this.yg)), !t.SN && this.SN && this._o(new Fh(this.yg)), t.So(iD, this.do), this.y4() } }, i.vJ = function () { this.g4.fZ() }, T(n, [{ key: "hg", get: function () { return this.Dj ? this.Dj.hg : RE.Vd() } }, { key: "cg", get: function () { if (this.Nc.getStartDate) { var t = this.Nc.getStartDate(); if (t && !p(t.getTime())) { var n = 1e3 * this.yg; return new Date(t.getTime() + n) } } } }, { key: "IV", get: function () { if (this.fV.getStartDate) return this.fV.getStartDate() } }, { key: "yg", get: function () { return this.P5 ? this.P5.yg : void 0 !== this.M5 ? this.M5.um : this.Nc.currentTime } }, { key: "Zy", get: function () { return this.P5 ? this.P5.Zy : this.Dj ? this.Dj.Zy : this.Nc.duration } }, { key: "SN", get: function () { return this.pg ? this.m4() : this.P5 ? this.P5.SN : this.Nc.ended } }, { key: "Bo", get: function () { return this.Jg } }, { key: "fV", get: function () { return this.Nc } }, { key: "rN", get: function () { return this.z5 ? this.q5 : this.P5 ? this.P5.rN : this.Nc.paused } }, { key: "wg", get: function () { return this.V5.bd(RE.Fd(this.Nc.played)) } }, { key: "Ww", get: function () { return this.Nc.offsetHeight * PI.OY } }, { key: "qw", get: function () { return this.Nc.offsetWidth * PI.OY } }, { key: "Zf", get: function () { return this.g4.Zf } }, { key: "jx", get: function () { return this.Dj ? this.Dj.jx : RE.Vd() } }, { key: "pg", get: function () { return this.P5 ? this.P5.pg : this.oY } }, { key: "RE", get: function () { return this.P5 ? this.P5.RE : this.Nc.muted }, set: function (t) { this.P5 ? this.P5.RE = t : this.Nc.muted = t } }, { key: "_g", get: function () { return this.P5 ? this.P5._g : void 0 !== this.H5 ? this.H5 : this.Nc.playbackRate }, set: function (t) { this.P5 ? this.P5._g = t : this.rN ? (this.H5 = t, this.J5(t)) : this.Nc.playbackRate = t } }, { key: "L4", get: function () { return this.uH } }, { key: "ux", get: function () { return this.P5 ? this.P5.ux : this.Nc.volume }, set: function (t) { this.P5 ? this.P5.ux = t : this.Nc.volume = t } }, { key: "vg", get: function () { return !!this.Nc.webkitCurrentPlaybackTargetIsWireless } }]), n }(Pn); function rD(t) { return void 0 !== t.Gx } var sD = new Eo(1, 100); function uD(t, n, i) { if (void 0 === i && (i = 0), !n.Sf) return new Eo(0); var e = n.od(t), r = sD.nm(i); e.Hl(n.Ll(0)) ? e = e.kd(r) : e.Hl(n.Fl(n.Sf - 1)) && (e = e.Od(r)); var s = e.Kp(Eo.vm); return Eo.Yp(s) } var oD = function (t) { function n() { return t.apply(this, arguments) || this } return rt(n, t), n.prototype.Nx = function () { }, T(n, [{ key: "Gx", get: function () { return 0 } }, { key: "zx", get: function () { return 0 } }]), n }(eD), aD = function (t) { function n() { return t.apply(this, arguments) || this } return rt(n, t), n.prototype.Nx = function () { return this.Nc }, T(n, [{ key: "fV", get: function () { return this.Nc } }, { key: "Gx", get: function () { return this.Nc.videoHeight } }, { key: "zx", get: function () { return this.Nc.videoWidth } }]), n }(eD), hD = 2, cD = ["audio", "video"]; function fD(t) { var n = s.createElement(t); return Ye(n) && function (t) { t.addEventListener("contextmenu", function (t) { t.preventDefault() }) }(n), vD(n), n } function vD(t) { t.removeAttribute("id"), t.removeAttribute("class"), t.removeAttribute("style"), je(t), Ze(t), t.pause(), t.playbackRate = 1, t.preload = X_.ZL, t.controls = !1, t.style.display = "none", Ye(t) && (t.style.width = "100%", t.style.height = "100%", t.style.pointerEvents = "none", t.playsInline = !0, t.setAttribute("webkit-playsinline", "")) } function lD(t, n) { if (n.NY) { var i = t.muted; t.muted = !0, t.muted = !1, t.muted = i } else if (t.paused) { var e = t.play(); H(e) && se(e), t.pause() } } var dD; Dt = (dD = { j4: function () { function t(t, n, i) { void 0 === t && (t = hD), void 0 === n && (n = cD), void 0 === i && (i = rr()), this.F4 = t, this.U4 = [].concat(n), this.Uu = i, this.V4 = Rt(), this.H4() } var n = t.prototype; return n.cH = function (t) { for (var n = 0, i = this.G4; n < i.length; n++) { var e = i[n]; t.appendChild(e) } }, n.hV = function (t) { var n = wn(this.V4.get(t), function (t) { return t.z4 }); if (n) return n.z4 = !1, n.q4 }, n.CV = function (t) { var n = t.fV, i = n.tagName.toLowerCase(); t.bf(), vD(n); var e = wn(this.V4.get(i) || [], function (n) { return t === n.q4 }); e && (e.z4 = !0) }, n._H = function () { for (var t = 0, n = this.G4; t < n.length; t++) { lD(n[t], PI) } }, n.Af = function () { for (var t = 0, n = this.yH; t < n.length; t++) { var i = n[t], e = i.fV; i.oo(), vD(e), Le(e) } }, n.H4 = function () { for (var t = 0, n = this.U4; t < n.length; t++) { var i = n[t], e = []; this.V4.set(i, e); for (var r = 0; r < this.F4; r++) { var s = fD(i), u = "audio" === i ? new oD(s, this.Uu) : new aD(s, this.Uu); e.push({ q4: u, z4: !0 }) } } }, T(t, [{ key: "yH", get: function () { for (var t = [], n = 0, i = this.U4; n < i.length; n++) { var e = i[n], r = this.V4.get(e).map(function (t) { return t.q4 }); t.push.apply(t, r) } return t } }, { key: "G4", get: function () { return this.yH.map(function (t) { return t.fV }) } }]), t }(), W4: function () { function t(n) { var i = this; this.hH = n, this.X4 = new hw, this.Q4 = St(At.mark(function n() { var e, r, s; return At.wrap(function (n) { for (; ;)switch (n.prev = n.next) { case 0: return e = i.hH.hV("video"), r = e.fV, n.next = 4, t.Y4(r); case 4: return s = n.sent, i.hH.CV(e), n.abrupt("return", s); case 7: case "end": return n.stop() } }, n) })) } var n = t.prototype; return n.bI = function () { return this.X4.wj(this.Q4) }, n.oI = function () { this.hH._H() }, t.Y4 = function () { var n = St(At.mark(function n(i) { return At.wrap(function (n) { for (; ;)switch (n.prev = n.next) { case 0: return i.src || (i.src = "data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"), n.next = 3, t.Z4(); case 3: return n.next = 5, t.K4(i); case 5: if (!n.sent) { n.next = 7; break } return n.abrupt("return", "all"); case 7: return n.next = 9, t.J4(i); case 9: if (!n.sent) { n.next = 11; break } return n.abrupt("return", "muted"); case 11: return n.abrupt("return", "none"); case 12: case "end": return n.stop() } }, n) })); return function (t) { return n.apply(this, arguments) } }(), t.K4 = function () { var t = St(At.mark(function t(n) { var i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (i = n.play(), t.prev = 1, H(i)) { t.next = 4; break } return t.abrupt("return", !x.hn); case 4: return t.next = 6, i; case 6: return t.abrupt("return", !0); case 9: return t.prev = 9, t.t0 = t.catch(1), t.abrupt("return", !1); case 12: return t.prev = 12, n.pause(), t.finish(12); case 15: case "end": return t.stop() } }, t, null, [[1, 9, 12, 15]]) })); return function (n) { return t.apply(this, arguments) } }(), t.J4 = function () { var n = St(At.mark(function n(i) { var e; return At.wrap(function (n) { for (; ;)switch (n.prev = n.next) { case 0: return i.muted = !0, n.next = 3, t.K4(i); case 3: return e = n.sent, i.muted = !1, n.abrupt("return", e); case 6: case "end": return n.stop() } }, n) })); return function (t) { return n.apply(this, arguments) } }(), t.Z4 = function () { return new Tt(function (t) { if ("function" == typeof MessageChannel) { var n = new MessageChannel; n.port1.onmessage = function () { return t() }, n.port2.postMessage("") } else a(t, 0) }) }, n.Af = function () { this.X4.Af() }, t }(), t8: { UG: function (t) { Ot.addEventListener("beforeunload", t) }, YG: function (t) { Ot.removeEventListener("beforeunload", t) } }, n8: r }).j4, xt = dD.W4, Bt = dD.t8, Ot = dD.n8, Pt = Ot && Ot.location, Mt = Ot && Ot.navigator; var gD = function (t) { function n() { var n; return (n = t.apply(this, arguments) || this).i8 = [], n.e8 = [], n.r8 = function (t) { var i = t.mO; kn(n.i8, i) || n.s8(i) }, n.u8 = function (t) { var i = t.mO; kn(n.i8, i) && n.o8(i) }, n } rt(n, t); var i = n.prototype; return i.a8 = function (t) { kn(this.e8, t) || (this.e8.push(t), this.h8(t)) }, i.s8 = function (t) { this.i8.push(t) }, i.o8 = function (t) { pn(this.i8, t) }, i.h8 = function (t) { t.mo("_f", this.OL), t.mo("CJ", this.r8), t.mo("DJ", this.u8) }, i.c8 = function (t) { t.So("_f", this.OL), t.So("CJ", this.r8), t.So("DJ", this.u8) }, i.f8 = function (t) { return pn(this.e8, t), this.c8(t), Tt.resolve() }, i.bf = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!this.e8.length) { t.next = 5; break } return t.next = 3, this.f8(this.e8[0]); case 3: t.next = 0; break; case 5: this.e8 = [], this.i8 = []; case 7: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.Af = function () { return this.bf() }, n }(hr), _D = function (t) { function n(n, i, e, r, s, u, o) { var a; return (a = t.call(this, n, i, e, r, s, o) || this).v8 = u, a } return rt(n, t), T(n, [{ key: "l8", get: function () { return this.v8.OA && this.v8.OA.length > 0 && this.v8.OA[0] } }, { key: "Q3", get: function () { return this.v8 } }, { key: "OA", get: function () { return this.v8.OA } }]), n }(U_), wD = function (t) { function n() { return t.apply(this, arguments) || this } rt(n, t); var i = n.prototype; return i.Ph = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, this.bf(); case 2: this.A3 = n, this.d8(n); case 4: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.d8 = function (t) { for (var n = 0, i = t.GA; n < i.length; n++) { var e = i[n], r = this._8(e); r.Zf = E_.LOADED, this.pf(r) } }, i.kO = function (t) { if (kn(this.pO.Tf, t) && this.f5 !== t) { this.f5 = t; for (var n = 0, i = this.pO.Tf; n < i.length; n++) { var e = i[n]; e !== t && (e.Yf = Vr.Wf) } } }, i.bO = function (t) { kn(this.pO.Tf, t) && this.f5 === t && (this.f5 = void 0) }, T(n, [{ key: "f5", get: function () { return this.T3 }, set: function (t) { this.T3 = t } }, { key: "jf", get: function () { for (var t = 0, n = this.pO.Tf; t < n.length; t++) { if (n[t].Yf !== Vr.Wf) return !0 } return !1 } }]), n }(Jl); function yD(t) { var n, i = t.g8, e = t.w8, r = t.y8, s = i.zk; if (e.$A.getTime() <= r.getTime()) n = e.OP; else { var u = ha.Ym(e.$A.getTime() - r.getTime(), 1e3), o = ha.Ql(e.Zy.Od(u), ha.cm); n = e.zk.kd(o) } return { Ll: s, Fl: n } } var pD, mD = function (t) { function n() { var n; return (n = t.apply(this, arguments) || this).p8 = 1, n.m8 = 1, n.k8 = function () { var t = n.f5, i = n.l8; if (t && i) { var e = i.Ub, r = i.b8(); if (r) { n.A8(r); for (var s = r.g8, u = r.w8, o = i.qw, a = i.Ww, h = t.Kf.Vo(t.Kf.Sf - 1), c = s; c && c.Wk <= u.Wk;) { if (!h || h.OP < c.OP.Pm()) for (var f = i.T8.Zy.Pm(), v = bD(c, i.S8(c).Mk, o, a, n.p8, n.m8, f), l = 0; l < v.length; l++) { var d = v[l]; t.SL(d) } c = e.E8(c) } } } }, n } rt(n, t); var i = n.prototype; return i._8 = function (t) { return new _D(Xc.Qx, "thumbnails", t.I8, !1, "", t) }, i.kO = function (n) { if (t.prototype.kO.call(this, n), this.l8) { var i = function (t) { for (var n = 0; n < t.length; n++) { var i = t[n]; if (!en(i.Vk, "http://dashif.org/guidelines/thumbnail_tile")) { var e = i.Hn.match(kD); if (e) { var r = e[1], s = e[2]; return [+r, +s] } } } return [1, 1] }(this.l8.eA), e = i[0], r = i[1]; this.p8 = e, this.m8 = r } this.R8() }, i.bO = function (n) { n === this.f5 && this.N8(), t.prototype.bO.call(this, n) }, i.R8 = function () { this.l8 && (this.k8(), this.l8.mo("C8", this.k8)) }, i.N8 = function () { this.l8 && this.l8.So("C8", this.k8) }, i.A8 = function (t) { var n = this.f5, i = this.l8; if (n && i) for (var e = yD(t), r = e.Ll.Pm(), s = e.Fl.Pm(), u = 0, o = n.Kf.Tf; u < o.length; u++) { var a = o[u]; (a.OP <= r || a.zk >= s) && n.IL(a) } }, i.bf = function () { var n = St(At.mark(function n() { return At.wrap(function (n) { for (; ;)switch (n.prev = n.next) { case 0: return this.N8(), n.next = 3, t.prototype.bf.call(this); case 3: case "end": return n.stop() } }, n, this) })); return function () { return n.apply(this, arguments) } }(), T(n, [{ key: "l8", get: function () { return this.f5 && this.f5.l8 } }]), n }(wD), kD = /^(\d+)x(\d+)$/; function bD(t, n, i, e, r, s, u) { var o = [], a = t.zk.Pm(), h = r * s, c = i / r, f = e / s, v = u / h; if (1 === h) return [new ld(a, a + v, n, !1)]; for (var l = 0; l < s; l++)for (var d = 0; d < r; d++) { var g = a + (l * r + d) * v, _ = g + v, w = n + "#xywh=" + d * c + "," + l * f + "," + c + "," + f; if (o.push(new ld(g, _, w, !1)), _ >= t.OP.Pm()) return o } return o } (pD = {})[0] = "Failed because", pD[10] = "Starting because unknown reason", pD[11] = "Starting because new track loading", pD[12] = "Starting because manual quality change", pD[13] = "Starting because manifest changed", pD[14] = "Starting because seek", pD[15] = "Starting because timeupdate", pD[20] = "Interrupting because unknown reason", pD[21] = "Interrupting because segment has a gap", pD[22] = "Interrupting because segment is missing", pD[23] = "Interrupting because seeking", pD[30] = "Pausing because unknown reason", pD[31] = "Pausing because target buffer reached", pD[32] = "Pausing because no target time", pD[33] = "Pausing because no segment selected", pD[34] = "Pausing because end of stream is reached", pD[35] = "Pausing because initialization segment is missing", pD[40] = "Stopping because unknown reason", pD[41] = "Stopping because manifest went offline", pD[42] = "Stopping because seeking", pD[43] = "Stopping because unload", pD[50] = "Resetting because unknown reason", pD[51] = "Resetting because buffer was reset", pD[52] = "Resetting because player was reset", pD[63] = "Marking gap at", pD[60] = "Target time is", pD[70] = "[Selection 1] Select nothing if the target time has already been appended.", pD[71] = "[Selection 2] Select nothing if the time-based lookup failed.", pD[72] = "[Selection 3] If the segment has not been appended, select time-based lookup.", pD[73] = "[Selection 4A] Select the first unappended segment that occurs before the segment.", pD[74] = "[Selection 4B] Notify gap if no previous segment is available.", pD[75] = "[Selection 5A] Select the first unappended segment that occurs after the segment.", pD[76] = "[Selection 5B] Select nothing if no next segment is available.", pD[77] = "[Selection 6] Unreachable", pD[61] = "Selected segment is", pD[62] = "Appended segment is", pD[90] = "Test setup", pD[91] = "Test"; var AD = function (t) { function n() { return t.call(this, "D8") || this } return rt(n, t), n.prototype.lf = function () { return new TD }, n }(cr), TD = function (t) { function n() { return t.call(this, "statechange") || this } return rt(n, t), n }(Mn), SD = ["m3", "b3", "segmentnotfound"], ED = function (t) { function n(n, i, e, r, s) { var u; return (u = t.call(this) || this).v8 = n, u.x8 = i, u.O8 = e, u.tH = r, u.B8 = s, u.mj = "P8", u.M8 = new Oi, u.L8 = new ie, u.cJ = function () { var t = St(At.mark(function t(n) { var i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!u.j8 && !u.F8) { t.next = 2; break } return t.abrupt("return"); case 2: if (i = new Eo(n.currentTime), !u.O8.U8(i)) { t.next = 5; break } return t.abrupt("return"); case 5: return t.next = 7, u.bx(42); case 7: return t.next = 9, u.O8.bf(); case 9: return t.next = 11, u.Ll(14); case 11: case "end": return t.stop() } }, t) })); return function (n) { return t.apply(this, arguments) } }(), u.V8 = function () { u.H8 && u.Ll(15) }, u.tH.mo("timeupdate", u.V8), u.tH.mo("seeking", u.cJ), u.B8.mo("r5", u.do), u.O8.mo(SD, u.do), u.v8.mo("C8", u.V8), u } rt(n, t); var i = n.prototype; return i.G8 = function (t) { this.mj !== t && (this.mj = t, this._o(new AD)) }, i.Ll = function () { var t = St(At.mark(function t(n) { var i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (this.j8 || this.H8) { t.next = 2; break } return t.abrupt("return"); case 2: return i = this.Ro("D8"), this.j8 ? (this.L8.eh(), this.L8 = new ie, this.z8(this.L8._h)) : (this.M8.nh(void 0), this.M8 = new Oi), t.next = 7, i; case 7: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.bx = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (this.q8 || this.H8) { t.next = 2; break } return t.abrupt("return"); case 2: 0, this.L8.eh(); case 4: if (this.j8 || this.F8) { t.next = 9; break } return t.next = 7, this.Ro("D8"); case 7: t.next = 4; break; case 9: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.bf = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!this.F8) { t.next = 6; break } this.Jg = void 0, this.G8("P8"), t.next = 8; break; case 6: return t.next = 8, this.bx(n); case 8: this.x8.bf(); case 9: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.W8 = function (t) { this.Jg = t, this.G8("X8"), this._o(new Vh(t)) }, i.Af = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.To(), this.tH.So("timeupdate", this.V8), this.tH.So("seeking", this.cJ), this.O8.So(SD, this.do), this.B8.So("r5", this.do), this.v8.So("C8", this.V8), t.next = 8, this.bx(43); case 8: return this.B8.Af(), t.next = 11, this.O8.Af(); case 11: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.z8 = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 1, Rn(n), this.G8("Q8"), t.next = 6, this.O8.Y8(n); case 6: return Rn(n), this.G8("Z8"), t.next = 10, Dn(this.M8._a, n); case 10: t.next = 16; break; case 12: return t.prev = 12, t.t0 = t.catch(1), In(t.t0) ? this.G8("P8") : this.W8(t.t0), t.abrupt("break", 18); case 16: t.next = 0; break; case 18: case "end": return t.stop() } }, t, this, [[1, 12]]) })); return function (n) { return t.apply(this, arguments) } }(), T(n, [{ key: "g5", get: function () { return this.x8 } }, { key: "s5", set: function (t) { this.O8.s5 = t } }, { key: "Ej", get: function () { return this.mj } }, { key: "K8", get: function () { return this.x8.df.K8 } }, { key: "Bo", get: function () { return this.Jg } }, { key: "j8", get: function () { return "P8" === this.mj } }, { key: "H8", get: function () { return "Z8" === this.mj } }, { key: "q8", get: function () { return "Q8" === this.mj } }, { key: "F8", get: function () { return "X8" === this.mj } }]), n }(ar); var ID = function () { function t(t) { this.oT = function (t) { for (var n = Rt(), i = 0; i < t.length; i++) { var e = t[i]; n.set(e.Ff, new RE([])) } return n }(t) } var n = t.prototype; return n.J8 = function () { var t = RE.Vd(); return this.oT.forEach(function (n) { t = t.bd(n) }), t }, n.t6 = function (t) { var n = !1; return this.oT.forEach(function (i) { n = n || i.fd(t) }), n }, n.n6 = function (t, n) { var i = this.oT.get(n.Ff); return !!i && i.fd(t) }, n.Id = function (t, n) { var i = !1; return this.oT.forEach(function (e) { i = i || e.Id(t, n) }), i }, n.i6 = function (t, n, i) { var e = this.oT.get(i.Ff); return !!e && e.Id(t, n) }, n.e6 = function (t, n) { var i = this.oT.get(n.Ff).bd(t); this.oT.set(n.Ff, i) }, n.r6 = function (t) { var n = this; this.oT.forEach(function (i, e) { var r = i.bd(t); n.oT.set(e, r) }) }, n.s6 = function (t) { var n = this; this.oT.forEach(function (i, e) { n.oT.set(e, i.dd(t)) }) }, n.bf = function () { var t = this; this.oT.forEach(function (n, i) { t.oT.set(i, RE.Vd()) }) }, T(t, [{ key: "_5", get: function () { if (0 === this.oT.size) return RE.Vd(); var t = new RE([Eo.cm, Eo.fm]); return this.oT.forEach(function (n) { t = t.dd(n) }), t } }]), t }(), RD = function () { function t(t) { this.u6 = [], this.df = t, this.o6 = new ID(t.OA), this.sK = new ID(t.OA) } var n = t.prototype; return n.a6 = function (t) { for (var n = 0, i = this.u6; n < i.length; n++) { var e = i[n]; if (e.h6.Jp(t)) break; if (e.c6.Zp(t)) return e } }, n.f6 = function (t) { for (var n = 0, i = this.u6; n < i.length; n++) { var e = i[n]; if (e.v6.Jp(t)) break; if (e.l6.Zp(t)) return e } }, n.d6 = function (t, n) { for (var i = [], e = 0, r = this.u6; e < r.length; e++) { var s = r[e]; if (s.h6.Jp(t)) break; s.c6.Zp(n) && i.push(s) } return i }, n._6 = function (t, n) { this.o6.e6(new RE([t.v6, t.l6]), n); for (var i = !1, e = 0; e < this.u6.length; e++) { var r = this.u6[e]; if (t.h6.Wl(r.h6)) { this.u6.splice(e, 0, t), i = !0; break } } i || this.u6.push(t) }, n.hK = function (t, n) { this.sK.e6(t, n) }, n.g6 = function (t) { this.sK.r6(t) }, n.s6 = function (t) { this.o6.s6(t), this.sK.s6(t); var n = this.o6.J8(); this.u6 = this.u6.filter(function (t) { return n.Nd(t.v6, t.l6) }).map(function (t) { return t.w6 && !n.Id(t.v6, t.l6) ? function (t, n) { return { h6: t.h6, c6: t.c6, v6: t.v6, l6: t.l6, w6: n } }(t, !1) : t }) }, n.bf = function () { this.o6.bf(), this.sK.bf(), this.u6 = [] }, n.Af = function () { this.bf() }, T(t, [{ key: "y6", get: function () { return this.o6 } }, { key: "fK", get: function () { return this.sK } }]), t }(), CD = function () { function t(t) { this.p6 = 0, this.m6 = 0, this.k6 = _.exp(_.log(.5) / t) } var n = t.prototype; return n.b6 = function (t, n) { var i = _.pow(this.k6, t), e = n * (1 - i) + i * this.p6; p(e) || (this.p6 = e, this.m6 += t) }, n.A6 = function () { var t = 1 - _.pow(this.k6, this.m6); return this.p6 / t }, t }(), ND = function () { function t(t, n, i) { void 0 === t && (t = 2), void 0 === n && (n = 5), void 0 === i && (i = 128e3), this.T6 = 0, this.S6 = 5e5, this.E6 = new CD(t), this.I6 = new CD(n), this.R6 = i } var n = t.prototype; return n.b6 = function (t, n) { var i = 8e3 * n / t, e = t / 1e3; this.T6 += n, this.E6.b6(e, i), this.I6.b6(e, i) }, n.A6 = function () { return this.N6() ? _.min(this.E6.A6(), this.I6.A6()) : this.S6 }, n.N6 = function () { return this.T6 >= this.R6 }, t }(), DD = function () { function t() { this.E6 = new CD(2), this.I6 = new CD(5), this.C6 = 0, this.D6 = 1, this.S6 = 100 } var n = t.prototype; return n.b6 = function (t) { this.C6 += 1, this.E6.b6(1, t), this.I6.b6(1, t) }, n.A6 = function () { return this.N6() ? _.min(this.E6.A6(), this.I6.A6()) : this.S6 }, n.N6 = function () { return this.C6 >= this.D6 }, t }(), xD = 16e3, BD = 5e3, OD = 0, PD = 0, MD = function () { function t(t, n) { this.x6 = n, !n || "video" !== t && "audio" !== t ? (this.O6 = xD, this.B6 = new ND) : "video" === t ? (this.O6 = BD, this.B6 = new ND(.05, 1, PD)) : (this.O6 = OD, this.B6 = new ND(.005, .1, PD)) } return t.prototype.P6 = function (t) { var n = t.M6, i = this.x6 ? t.L6 - t.j6 : t.L6 - t.F6; n < this.O6 || this.B6.b6(i, n) }, T(t, [{ key: "U6", get: function () { return this.B6.A6() } }]), t }(), LD = function (t) { function n(n, i, e) { var r; return (r = t.call(this, "V6") || this).Ll = n, r.Fl = i, r.o5 = e, r } return rt(n, t), n }(ot), jD = new Eo(1, 1e3), FD = function () { function t(t, n, i, e) { this.CL = t, this.tH = n, this.H6 = i, this.aH = e } return t.prototype.G6 = function () { var t = this.tH.yg; if (!this.CL.jx.fd(t)) for (var n = 0; n < this.CL.jx.Sf; n++) { var i = this.CL.jx.Ll(n); if (i.Jp(t.kd(jD))) throw new LD(t, i) } }, T(t, [{ key: "hg", get: function () { return this.CL.hg } }, { key: "p5", get: function () { return this.CL.p5 } }, { key: "z6", get: function () { if (this.H6.Zf < eu.c_) return !1; if (this.CL.Fl.Xl(this.q6) && this.W6) return !0; var t = this.CL.SV; if (!t || 0 === t.Sf) return !1; var n = new RE([this.tH.yg, Eo.fm]), i = t.dd(n).Sd(this.CL.fK).jd, e = new Eo(this.aH.v$); return i.Zp(e) } }, { key: "W6", get: function () { return this.CL.p5.fd(this.CL.Fl) } }, { key: "q6", get: function () { var t = this.CL.SV; return t && 0 !== t.Sf ? t.Fl(0) : (this.G6(), this.CL.jx.od(this.tH.yg)) } }]), t }(), UD = function (t) { function n(n, i, e) { var r; return (r = t.call(this, "r5") || this).o5 = n, r.O3 = i, r.B3 = e, r } return rt(n, t), n.prototype.lf = function () { return new VD(this.o5 && this.o5.vf) }, n }(cr), VD = function (t) { function n(n) { var i; return (i = t.call(this, "activequalitychanged") || this).quality = n, i } return rt(n, t), n }(Mn), HD = function (t) { function n(n, i) { var e; return (e = t.call(this) || this).QU = function (t) { for (var n = new Eo(t.currentTime), i = 0, r = e.x8.df.OA; i < r.length; i++) { var s = r[i]; if (e.x8.y6.n6(n, s) && e.l8 !== s) { var u = e.X6; e.X6 = s, e._o(new UD(s.o5, s, u)) } } }, e.tH = n, e.x8 = i, e.tH.mo("timeupdate", e.QU), e } return rt(n, t), n.prototype.Af = function () { this.To(), this.tH.So("timeupdate", this.QU), this.tH = void 0, this.x8 = void 0 }, T(n, [{ key: "l8", get: function () { return this.X6 } }]), n }(ar); function zD(t) { return z(t.Q6) } function qD(t) { return zD(t) ? t.Q6 : t.Wk } var GD = function () { function t(t, n) { this.x8 = t, this.hO = n } var n = t.prototype; return n.Y6 = function () { var t = St(At.mark(function t(n, i, e) { var r, s, u, o, a, h, c, f, l, d, g, _; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return Rn(e), s = this.x8.f6(n), r = s && s.l6.Hl(n) ? s.c6 : n, u = this.Z6(r), y = ha.nk(r), o = function (t, n, i, e) { return WD.apply(this, arguments) }.bind(void 0, y), t.next = 8, this.hO.K6(o, u, i, e); case 8: if (a = t.sent, Rn(e), a) { t.next = 13; break } return t.abrupt("return", void 0); case 13: if (this.J6(a.t7)) { t.next = 16; break } return t.abrupt("return", a); case 16: if (h = this.n7(a.t7), !n.Wl(h.Ll)) { t.next = 31; break } c = a; case 19: return w = c.t7, f = function (t, n, i, e) { return XD.apply(this, arguments) }.bind(void 0, w), l = a.o5, t.next = 23, this.hO.K6(f, [l], i, e); case 23: c = t.sent, Rn(e); case 25: if (c && this.J6(c.t7)) { t.next = 19; break } case 26: if (c) { t.next = 29; break } throw new LD(Eo.cm, h.Ll, a.o5); case 29: return t.abrupt("return", c); case 31: if (!n.Zp(h.Fl)) { t.next = 45; break } d = a; case 33: return g = QD(d.t7), _ = a.o5, t.next = 37, this.hO.K6(g, [_], i, e); case 37: d = t.sent, Rn(e); case 39: if (d && this.J6(d.t7)) { t.next = 33; break } case 40: if (d) { t.next = 43; break } return t.abrupt("return", void 0); case 43: return t.abrupt("return", d); case 45: throw new v("Fatal buffering error"); case 47: case "end": return t.stop() }var w, y }, t, this) })); return function (n, i, e) { return t.apply(this, arguments) } }(), n.i7 = function (t) { return this.x8.y6.t6(t) }, n.e7 = function (t) { return this.x8.d6(t.zk.ck(), t.OP.ck()) }, n.J6 = function (t) { var n, i = this.e7(t); return i.length > 0 && (n = t, function (t) { for (var n = RE.Vd(), i = 0; i < t.length; i++) { var e = t[i]; n = n.bd(new RE([e.h6, e.c6])) } return n }(i).Id(n.zk.ck(), n.OP.ck())) && i.every(YD) }, n.n7 = function (t) { var n = this.e7(t); return { Ll: n[0].v6, Fl: n[n.length - 1].l6 } }, n.Z6 = function (t) { var n = this; return (this.r7 ? this.r7 : this.x8.df.OA).filter(function (i) { return !n.x8.fK.n6(t, i) }) }, T(t, [{ key: "s5", get: function () { return this.r7 }, set: function (t) { this.r7 = t } }, { key: "K8", get: function () { return this.x8.df.K8 } }]), t }(); function WD() { return (WD = St(At.mark(function t(n, i, e, r) { var s, u, o; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (s = i.Ub, u = s.s7(n)) { t.next = 4; break } return t.abrupt("return", void 0); case 4: if (!s.u7(u.Wk)) { t.next = 9; break } return t.next = 7, i.o7(u, e, r); case 7: return o = t.sent, t.abrupt("return", o.a7(n)); case 9: return t.abrupt("return", u); case 10: case "end": return t.stop() } }, t) }))).apply(this, arguments) } function XD() { return (XD = St(At.mark(function t(n, i, e, r) { var s, u; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!zD(n)) { t.next = 12; break } if (0 !== n.Q6) { t.next = 3; break } return t.abrupt("return", void 0); case 3: if (s = i.Ub.h7(n)) { t.next = 6; break } return t.abrupt("return", void 0); case 6: return t.next = 8, i.o7(s, e, r); case 8: return u = t.sent, t.abrupt("return", u.c7(n.Q6 - 1)); case 12: return t.abrupt("return", i.Ub.f7(n)); case 13: case "end": return t.stop() } }, t) }))).apply(this, arguments) } function $D() { return ($D = St(At.mark(function t(n, i, e, r) { var s, u; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!zD(n)) { t.next = 12; break } if (s = i.Ub.h7(n)) { t.next = 4; break } return t.abrupt("return", void 0); case 4: return t.next = 6, i.o7(s, e, r); case 6: if (u = t.sent, n.Q6 + 1 !== u.Sf) { t.next = 9; break } return t.abrupt("return", void 0); case 9: return t.abrupt("return", u.c7(n.Q6 + 1)); case 12: return t.abrupt("return", i.Ub.E8(n)); case 13: case "end": return t.stop() } }, t) }))).apply(this, arguments) } function QD(t) { return function (t, n, i, e) { return $D.apply(this, arguments) }.bind(void 0, t) } function YD(t) { return t.w6 } var ZD = function () { function t(t, n, i, e, r) { this.v7 = t, this.l7 = n, this.CL = i, this.aH = e, this.d7 = r, this._7 = !1 } var n = t.prototype; return n.K6 = function () { var t = St(At.mark(function t(n, i, e, r) { var s, u, o; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (Rn(r), s = this.g7(i, e)) { t.next = 4; break } return t.abrupt("return", void 0); case 4: return t.next = 6, n(s, this.d7, r); case 6: if (u = t.sent) { t.next = 9; break } return t.abrupt("return", void 0); case 9: return o = s.S8(u), t.abrupt("return", { o5: s, t7: u, Mk: o }); case 11: case "end": return t.stop() } }, t, this) })); return function (n, i, e, r) { return t.apply(this, arguments) } }(), n.g7 = function (t, n) { if (0 !== t.length) { var i, e = t; return this._7 ? i = this.l7.w7(e, n, this.CL) : (this._7 = !0, i = this.v7.w7(e, void 0, this.CL, this.aH.y$)), i } }, t }(), KD = function () { function t(t, n, i, e) { this.l7 = t, this.CL = n, this.F3 = i, this.d7 = e } return t.prototype.K6 = function () { var t = St(At.mark(function t(n, i, e, r) { var s, u, o, a, h, c; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (Rn(r), (s = this.l7.y7(i, e, this.CL)).length) { t.next = 4; break } return t.abrupt("return", void 0); case 4: o = 0; case 5: if (!(o < s.length)) { t.next = 27; break } return a = s[o], t.prev = 7, Rn(r), t.next = 11, n(a, this.d7, r); case 11: if (!(h = t.sent)) { t.next = 18; break } return c = a.S8(h), t.next = 16, this.F3.p7(c.Mk, c.Gk); case 16: if (!t.sent) { t.next = 18; break } return t.abrupt("return", { t7: h, o5: a, Mk: c }); case 18: t.next = 24; break; case 20: t.prev = 20, t.t0 = t.catch(7), Cn(t.t0), u = t.t0; case 24: o++, t.next = 5; break; case 27: if (!u) { t.next = 29; break } throw u; case 29: return t.abrupt("return", void 0); case 30: case "end": return t.stop() } }, t, this, [[7, 20]]) })); return function (n, i, e, r) { return t.apply(this, arguments) } }(), t }(); function JD(t, n) { var i = t.qw && n.qw, e = t.Ww && n.Ww; return i || e ? i && e ? t.qw * t.Ww - n.qw * n.Ww : i ? t.qw - n.qw : e ? t.Ww - n.Ww : (t.qw || 1) * (t.Ww || 1) - (n.qw || 1) * (n.Ww || 1) : 0 } function tx(t, n) { return JD(t, n) || function (t, n) { return t.lA - n.lA }(t, n) } var nx = function () { function t(t, n, i) { this.m7 = t, this.k7 = n, this.b7 = i } var n = t.prototype; return n.w7 = function (n, i, e, r) { var s = t.sortByQuality(n), u = this.y7(s, i, e, r); return u.length ? u[u.length - 1] : s[0] }, n.y7 = function (n, i, e, r) { var s, u = this, o = t.sortByQuality(n), a = { U6: void 0 !== r ? r : this.k7.U6, _g: (s = e, void 0 !== s._g && e._g ? e._g : 1), A7: e.qw, T7: e.Ww }, h = this.m7; return o.filter(function (t) { for (var n = 0; n < h.length; n++) { if (!(0, h[n])(t, i, a, u.b7)) return !1 } return !0 }) }, t.S7 = function (n) { return t.sortByQuality(n)[0] }, t.sortByQuality = function (t) { var n = [].concat(t); return n.sort(tx), n }, t }(), ix = function (t, n, i, e) { return e.DY(n, t) }, ex = function (t, n, i) { var e = i.U6; return !(e <= 0) && .8 * e > t.lA * i._g }, rx = function (t, n, i, e) { return !e.hn || ("video" !== t.Ou || t.qw <= i.A7 && t.Ww <= i.T7) }, sx = function (t) { function n() { return t.apply(this, arguments) || this } return rt(n, t), n.prototype.y7 = function (n, i, e, r) { return t.prototype.y7.call(this, n, i, e, 1 / 0) }, n }(nx), ux = function () { function t(t) { this.E7 = t } return t.prototype.K6 = function () { var t = St(At.mark(function t(n, i, e, r) { var s, u, o, a, h; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: u = 0, o = this.E7; case 1: if (!(u < o.length)) { t.next = 17; break } return a = o[u], t.prev = 3, t.next = 6, a.K6(n, i, e, r); case 6: if (!(h = t.sent)) { t.next = 9; break } return t.abrupt("return", h); case 9: t.next = 14; break; case 11: t.prev = 11, t.t0 = t.catch(3), s = t.t0; case 14: u++, t.next = 1; break; case 17: if (!s) { t.next = 19; break } throw s; case 19: return t.abrupt("return", void 0); case 20: case "end": return t.stop() } }, t, this, [[3, 11]]) })); return function (n, i, e, r) { return t.apply(this, arguments) } }(), t }(), ox = function () { function t(t) { this.I7 = t } return t.prototype.R7 = function () { var t = St(At.mark(function t(n, i, e, r) { var s, u, o, a; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: u = 0, o = this.I7; case 1: if (!(u < o.length)) { t.next = 16; break } return a = o[u], t.prev = 3, t.next = 6, a.R7(n, i, e, r); case 6: return t.abrupt("return", t.sent); case 9: t.prev = 9, t.t0 = t.catch(3), Cn(t.t0), s = t.t0; case 13: u++, t.next = 1; break; case 16: throw s; case 17: case "end": return t.stop() } }, t, this, [[3, 9]]) })); return function (n, i, e, r) { return t.apply(this, arguments) } }(), t }(), ax = function () { function t(t) { this.OS = t } return t.prototype.R7 = function () { var t = St(At.mark(function t(n, i, e, r) { var s; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, this.OS.HT({ Mk: n, mT: Xa.fT, yT: { Range: "bytes=" + i[0] + "-" + i[1] }, TT: e, pT: "GET", Ou: "", _h: r }); case 2: return s = t.sent, t.next = 5, s.GF(); case 5: return t.abrupt("return", t.sent); case 6: case "end": return t.stop() } }, t, this) })); return function (n, i, e, r) { return t.apply(this, arguments) } }(), t }(), hx = function (t) { function n(n, i, e) { var r; return (r = t.call(this, i, e) || this).t7 = n, r } return rt(n, t), n }(ot), cx = function () { function t(t) { this.F3 = t } return t.prototype.R7 = function () { var t = St(At.mark(function t(n, i, e, r) { var s, u; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, this.F3.N7(n, i); case 2: if (!(s = t.sent)) { t.next = 5; break } return t.abrupt("return", s.buffer); case 5: return t.next = 7, this.F3.N7(n); case 7: if (!(u = t.sent)) { t.next = 10; break } return t.abrupt("return", Ci(new m(u.buffer), i[0], i[1])); case 10: throw new hx({ Mk: n, Gk: i, TT: !1 }); case 11: case "end": return t.stop() } }, t, this) })); return function (n, i, e, r) { return t.apply(this, arguments) } }(), t }(); function fx(t, n) { return new ox([new cx(n), new ax(t)]) } var vx = function () { function t() { } return t.C7 = function (t, n, i, e, r, s) { var u = fx(r, s), o = new nx([ix], e, PI), a = new KD(o, t, s, u), h = new nx([ex, ix, rx], e, PI), c = PI.CY ? new sx([ix], e, PI) : h, f = new ZD(c, h, t, i, u), v = new ux([a, f]); return new GD(n, v) }, t }(); var lx = function () { function t(t) { this._U = new hw, this.OS = t } var n = t.prototype; return n.HT = function (t) { var n = this, i = new Oi; return this._U.wj(function (e) { return n.D7(i, t, e) }, t._h).catch(q), i._a }, n.$G = function (t) { return this.OS.$G(t) }, n.D7 = function () { var t = St(At.mark(function t(n, i, e) { var r, s, u; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return Rn(e), r = new th({ Mk: i.Mk, _h: e }, i), s = this.OS.HT(r), n.nh(s), t.next = 6, s; case 6: return u = t.sent, t.next = 9, u.wq(); case 9: case "end": return t.stop() } }, t, this) })); return function (n, i, e) { return t.apply(this, arguments) } }(), n.Af = function () { this._U.Af() }, t }(), dx = function () { function t(t) { this.OS = t, this.x7 = new lx(this.OS) } var n = t.prototype; return n.O7 = function (t, n, i) { return this.B7(t, n, !0, !1, i) }, n.P7 = function (t, n, i) { return this.B7(t, n, !1, !1, i) }, n.M7 = function (t, n, i) { return this.B7(t, n, !1, !0, i) }, n.B7 = function () { var t = St(At.mark(function t(n, i, e, r, s) { var u; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return Rn(s), t.next = 3, this.L7(n, e, r, s); case 3: if (u = t.sent, !i) { t.next = 8; break } return t.abrupt("return", this.j7(u)); case 8: return t.abrupt("return", this.F7(u)); case 9: case "end": return t.stop() } }, t, this) })); return function (n, i, e, r, s) { return t.apply(this, arguments) } }(), n.F7 = function (t) { return t }, n.j7 = function (t) { var n = t.vq(); return new XA({ ei: n, HT: t.HT }, t) }, n.L7 = function (t, n, i, e) { var r = new th({ Mk: t.Mk, mT: Wa.fT, yT: t.Gk ? { Range: "bytes=" + t.Gk[0] + "-" + t.Gk[1] } : void 0, TT: t.TT, pT: "GET", Ou: "segment", bT: i ? "initialization-segment" : "", AT: this.U7, _h: e }); return n ? this.x7.HT(r) : this.OS.HT(r) }, T(t, [{ key: "U7", get: function () { return "" } }]), t }(), gx = function (t) { function n() { return t.apply(this, arguments) || this } return rt(n, t), T(n, [{ key: "U7", get: function () { return "text" } }]), n }(dx), _x = ["m3", "b3"], wx = function (t) { function n(n) { var i; (i = t.call(this) || this).V7 = n; for (var e = 0, r = i.V7; e < r.length; e++) { r[e].mo(_x, i.do) } return i } rt(n, t); var i = n.prototype; return i.H7 = function () { var t = St(At.mark(function t(n, i) { var e, r, s, u; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: r = 0, s = this.V7; case 1: if (!(r < s.length)) { t.next = 16; break } return u = s[r], t.prev = 3, t.next = 6, u.H7(n, i); case 6: return t.abrupt("return", t.sent); case 9: t.prev = 9, t.t0 = t.catch(3), Cn(t.t0), e = t.t0; case 13: r++, t.next = 1; break; case 16: throw e; case 17: case "end": return t.stop() } }, t, this, [[3, 9]]) })); return function (n, i) { return t.apply(this, arguments) } }(), i.G7 = function () { var t = St(At.mark(function t(n, i) { var e, r, s, u; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: r = 0, s = this.V7; case 1: if (!(r < s.length)) { t.next = 16; break } return u = s[r], t.prev = 3, t.next = 6, u.G7(n, i); case 6: return t.abrupt("return", t.sent); case 9: t.prev = 9, t.t0 = t.catch(3), Cn(t.t0), e = t.t0; case 13: r++, t.next = 1; break; case 16: throw e; case 17: case "end": return t.stop() } }, t, this, [[3, 9]]) })); return function (n, i) { return t.apply(this, arguments) } }(), i.Af = function () { for (var t = 0, n = this.V7; t < n.length; t++) { var i = n[t]; i.So(_x, this.do), i.Af() } }, n }(ar); var yx = function () { function t(t) { this.pz = t } var n = t.prototype; return n.transform = function (t, n) { this.pz.write(t).catch(q), n.enqueue(t) }, n.flush = function () { this.pz.close().catch(q) }, t }(), px = function () { function t(t, n, i) { this.W3 = t, this.z7 = n, this.q7 = i } return t.prototype.W7 = function () { return new mx(yA(this.W3), this.z7, this.q7) }, t }(), mx = function () { function t(t, n, i) { this.X7 = t, this.z7 = n, this.q7 = i } var n = t.prototype; return n.GF = function (t) { return mA(this.X7, t) }, n.Qo = function () { var n = bA(this.X7), i = n[0], e = n[1]; return this.X7 = i, new t(e, this.z7, this.q7) }, n.q3 = function () { var n, i, e, r, s = (n = this.X7, i = new rA, e = i.writable.getWriter(), r = new rA(new yx(e)), n.pipeTo(r.writable).catch(function (t) { e.abort(t).catch(q) }), [r.readable, i.readable]), u = s[0], o = s[1]; return this.X7 = u, new t(o, this.z7, this.q7) }, n.Q7 = function (t) { var n = this; return this.GF(t).then(function (t) { return new px(t, n.z7, n.q7) }) }, T(t, [{ key: "vq", get: function () { return this.X7 } }]), t }(), kx = function (t) { function n(n) { var i; return (i = t.call(this) || this).F3 = n, i } rt(n, t); var i = n.prototype; return i.H7 = function () { var t = St(At.mark(function t(n, i) { var e, r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return Rn(i), t.next = 3, this.F3.N7(n.Mk.Mk, n.Mk.Gk); case 3: if (e = t.sent, Rn(i), e) { t.next = 7; break } throw new hx(n, "Cache lookup failed."); case 7: return r = new px(e.buffer, e.byteLength, e.reference), t.abrupt("return", { t7: n.t7, Y7: r.W7(), o5: n.o5, Mk: n.Mk }); case 9: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.G7 = function () { var t = St(At.mark(function t(n, i) { var e, r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return Rn(i), t.next = 3, this.F3.N7(n.Mk, n.Gk); case 3: if (e = t.sent, Rn(i), e) { t.next = 7; break } throw new hx(n, "Cache lookup failed."); case 7: return r = new px(e.buffer, e.byteLength, e.reference), t.abrupt("return", r.W7()); case 9: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.Af = function () { this.To() }, n }(ar), bx = function (t) { function n(n, i, e, r, s, u) { var o; return (o = t.call(this, n) || this).Z7 = i, o.K7 = e, o.Mg = r, o.zB = s, o.AT = u, o } return rt(n, t), n }(Mn), Ax = function (t) { function n(n, i, e, r, s) { return t.call(this, "m3", n, i, e, r, s) || this } return rt(n, t), n }(bx), Tx = function (t, n) { this.J7 = t, this.t9 = n }, Sx = function (t) { function n() { var n; return (n = t.apply(this, arguments) || this).n9 = 0, n } rt(n, t); var i = n.prototype; return i.start = function () { }, i.transform = function (t, n) { this.n9 += t.byteLength, n.enqueue(t) }, i.flush = function () { this.J7(this.t9, h_(), this.M6) }, T(n, [{ key: "M6", get: function () { return this.n9 } }]), n }(Tx), Ex = function (t) { function n() { var n; return (n = t.apply(this, arguments) || this).n9 = 0, n.i9 = !1, n } rt(n, t); var i = n.prototype; return i.start = function () { this.t9 = h_() }, i.transform = function (t, n) { if (this.n9 += t.byteLength, !this.i9) { var i = h_(); this.e9(t) && (this.J7(this.t9, i, this.M6), this.i9 = !0) } n.enqueue(t) }, i.flush = function () { }, i.e9 = function (t) { var n = this.r9(t), i = this.s9(n); return Boolean(wn(i, Ix)) }, i.r9 = function (t) { return this.u9 && void 0 !== this.o9 ? (this.u9 = Xi([this.u9, t]), new nd(Ei(this.u9), new xi(this.o9))) : (this.u9 = t, new nd(Ei(t), new xi)) }, i.s9 = function (t) { try { var n = ed.PO(t, !0); return this.u9 = void 0, this.o9 = void 0, n } catch (t) { if (t instanceof id) return this.o9 = t.OO, t.BO ? t.BO : []; throw t } }, T(n, [{ key: "M6", get: function () { return this.n9 } }]), n }(Tx); function Ix(t) { return "mdat" === t.Ou } var Rx = function () { function t(t) { var n = this; this.a9 = t, this.h9 = new Oi, this.P6 = function (t, i, e) { var r = { F6: n.c9, j6: t, L6: i, M6: e }; n.a9.P6(r), ds.e_(n.a9.U6 / 8) }, this.h9._a.catch(q), this.c9 = h_() } var n = t.prototype; return n.f9 = function (t, n) { var i, e = t.Aq ? this.c9 : h_(); return i = n ? this.v9(t.vq(), e) : this.l9(t.GF(), e), new XA({ ei: i, HT: t.HT }, t) }, n.v9 = function (t, n) { var i = this.d9(n), e = new rA(i), r = t.pipeTo(e.writable).then(function () { return { A_: { M6: i.M6 } } }); return this.h9.nh(r), e.readable }, n.l9 = function (t, n) { var i = this, e = t.then(function (t) { var e = h_(); return i.P6(n, e, t.byteLength), { A_: { M6: t.byteLength } } }); return this.h9.nh(e), t }, T(t, [{ key: "_9", get: function () { return this.h9._a } }]), t }(), Cx = function (t) { function n() { return t.apply(this, arguments) || this } return rt(n, t), n.prototype.d9 = function (t) { return new Sx(this.P6, t) }, n }(Rx), Nx = function (t) { function n() { return t.apply(this, arguments) || this } return rt(n, t), n.prototype.d9 = function (t) { return new Ex(this.P6, t) }, n }(Rx), Dx = function (t) { function n(n, i, e, r, s, u, o) { var a; return (a = t.call(this, "b3", n, i, e, r, s) || this).g9 = u, a.R_ = o, a } return rt(n, t), n }(bx), xx = function (t) { function n(n, i, e) { var r; return (r = t.call(this, "Error downloading segment " + qD(i), n) || this).w9 = i.zk.ck(), r.y9 = i.OP.ck(), r.O3 = e, r } return rt(n, t), n }(ot), Bx = function (t) { function n(n, i, e) { var r; return (r = t.call(this) || this).p9 = n, r.a9 = i, r.x6 = e, r } rt(n, t); var i = n.prototype; return i.m9 = function () { return !0 }, i.k9 = function () { return this.x6 ? new Nx(this.a9) : new Cx(this.a9) }, i.H7 = function () { var t = St(At.mark(function t(n, i) { var e, r, s, u, o, a, h, c; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return Rn(i), e = n.o5, r = n.Mk, s = n.t7, u = qD(s), o = e.o5 ? e.o5.Ff : -1, this._o(new Ax(r, e.lA, u, o, e.Ou)), t.prev = 7, a = this.k9(), t.next = 11, this.p9.P7(r, this.m9(), i); case 11: return h = t.sent, t.next = 14, this.b9(h, this.m9(), i, a); case 14: return c = t.sent, this.A9(a._9, e, r, u, o, h), t.abrupt("return", { Y7: c, o5: e, t7: s, Mk: r }); case 19: throw t.prev = 19, t.t0 = t.catch(7), Cn(t.t0), new xx(t.t0, s, e); case 23: case "end": return t.stop() } }, t, this, [[7, 19]]) })); return function (n, i) { return t.apply(this, arguments) } }(), i.G7 = function () { var t = St(At.mark(function t(n, i) { var e, r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return Rn(i), e = this.m9(), t.next = 4, this.p9.M7(n, e, i); case 4: return r = t.sent, t.next = 7, this.b9(r, e, i); case 7: return t.abrupt("return", t.sent); case 8: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.b9 = function () { var t = St(At.mark(function t(n, i, e, r) { var s; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (r && (n = r.f9(n, i)), !i) { t.next = 5; break } return t.abrupt("return", new mx(n.vq())); case 5: return t.next = 7, n.GF(e); case 7: return s = t.sent, t.abrupt("return", new px(s).W7()); case 9: case "end": return t.stop() } }, t) })); return function (n, i, e, r) { return t.apply(this, arguments) } }(), i.A9 = function () { var t = St(At.mark(function t(n, i, e, r, s, u) { var o; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, t.next = 3, n; case 3: o = t.sent, this._o(new Dx(e, i.lA, r, s, i.Ou, u.Ej, o.A_.M6)), t.next = 9; break; case 7: t.prev = 7, t.t0 = t.catch(0); case 9: case "end": return t.stop() } }, t, this, [[0, 7]]) })); return function (n, i, e, r, s, u) { return t.apply(this, arguments) } }(), i.Af = function () { this.To() }, n }(ar), Ox = function () { function t() { } var n = t.prototype; return n.T9 = function (t, n, i, e, r) { var s = new kx(r), u = this.S9(t, i, e); return new wx([s, u]) }, n.S9 = function (t, n, i) { return new Bx(t, n, i) }, t }(), Px = function () { function t(t) { this.CL = t } var n = t.prototype; return n.FJ = function (t, n, i, e) { return this.CL.FJ(t, n, i, e) }, n.E9 = function (t, n, i) { return this.CL.y3(t, n, i) }, n.I9 = function (t, n, i) { return this.CL.I9(t, n, i) }, n.hK = function (t, n) { this.CL.hK(t, n) }, n.cK = function (t, n) { this.CL.cK(t, n) }, n.XZ = function () { this.CL.XZ() }, t }(), Mx = function (t) { function n(n, i, e, r, s, u) { var o; return void 0 === u && (u = 0), (o = t.call(this, es.Nl) || this).segmentStartTime = n, o.error = i, o.trackType = e, o.track = r, o.quality = s, o.retryCount = u, o } return rt(n, t), n }(Mn); var Lx = function (t) { function n() { return t.call(this, "interrupted") || this } return rt(n, t), n }(ot), jx = function (t) { function n() { return t.call(this, "paused") || this } return rt(n, t), n }(ot), Fx = ["m3", "b3"], Ux = function (t) { function n(n, i, e, r, s, u) { var o; return (o = t.call(this) || this).R9 = n, o.x8 = i, o.N9 = e, o.C9 = r, o.D9 = s, o.x9 = u, o.O9 = void 0, o.B9 = void 0, o.P9 = void 0, o.M9 = void 0, o.L9 = 0, o.j9 = void 0, o.D9.mo(Fx, o.do), o } rt(n, t); var i = n.prototype; return i.F9 = function (t) { return !this.B9 || !t || !Gi(this.B9.W3, t.W3) }, i.U8 = function (t) { if (!this.O9) return !1; var n = this.O9.t7, i = new RE([n.zk.ck(), n.OP.ck()]), e = this.N9.p5, r = e.Ed(t); return r < 0 ? i.fd(t, jD) : i.Nd(t, e.Fl(r), jD) }, i.Y8 = function () { var t = St(At.mark(function t(n) { var i, e; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 1, Rn(n), this.U9(), this.V9(), i = this.H9(), t.next = 8, this.K6(i, n); case 8: if (this.O9 = t.sent, r = this.O9, s = void 0, u = void 0, o = void 0, s = r.o5, u = s.Ub, o = zD(r.t7) ? u.h7(r.t7) : r.t7, u.G9(o, s.T5.z9())) { t.next = 13; break } return t.next = 12, this.q9(this.O9, n); case 12: return t.abrupt("continue", 0); case 13: return t.next = 15, this.W9(i, this.O9.t7, n); case 15: return t.next = 17, this.X9(this.O9.o5, n); case 17: return this.B9 = t.sent, t.next = 20, this.H7(this.O9, n); case 20: return e = t.sent, t.next = 23, this.Q9(e, n); case 23: this.P9 = t.sent, this.Y9(this.O9), this.Z9(this.O9.t7, this.N9.hg), t.next = 44; break; case 28: if (t.prev = 28, t.t0 = t.catch(1), !(t.t0 instanceof LD)) { t.next = 35; break } return this.$Z(t.t0.Ll, t.t0.Fl, t.t0.o5), t.abrupt("continue", 0); case 35: if (!(t.t0 instanceof Lx)) { t.next = 41; break } return t.next = 38, ae(this.R9.K9, n); case 38: return t.abrupt("continue", 0); case 41: if (!(t.t0 instanceof jx)) { t.next = 43; break } return t.abrupt("break", 49); case 43: throw t.t0; case 44: return t.prev = 44, this.O9 = void 0, t.finish(44); case 47: t.next = 0; break; case 49: case "end": return t.stop() }var r, s, u, o }, t, this, [[1, 28, 44, 47]]) })); return function (n) { return t.apply(this, arguments) } }(), i.Z9 = function (t, n) { for (var i = new RE([t.zk.ck(), t.OP.ck()]).Sd(n), e = 0; e < i.Sf; e++)this.x9.hK(i.Ll(e).um, i.Fl(e).um) }, i.dN = function (t) { throw new jx }, i.J9 = function (t) { throw new Lx }, i.U9 = function () { this.x8.s6(this.N9.p5), this.M9 && !this.ttt(this.M9.t7) && (this.M9 = void 0) }, i.V9 = function () { return this.P9 && this.P9.o5.ntt(this.P9.t7) ? (this.x9.XZ(), this.dN(34)) : (this.M9 && this.M9.o5.ntt(this.M9.t7) && this.ttt(this.M9.t7) && this.x9.XZ(), this.N9.z6 ? this.dN(31) : void 0) }, i.ttt = function (t) { return this.x8.y6.Id(t.zk.ck(), t.OP.ck()) }, i.Y9 = function (t) { this.M9 && !this.M9.t7.OP.Wl(t.t7.OP) || (this.M9 = t) }, i.H9 = function () { var t = this.N9.q6.Kp(1e3); return t }, i.K6 = function () { var t = St(At.mark(function t(n, i) { var e, r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return Rn(i), e = this.P9 ? this.P9.o5 : void 0, t.next = 4, this.C9.Y6(n, e, i); case 4: if (r = t.sent) { t.next = 7; break } return t.abrupt("return", this.dN(33)); case 7: return t.abrupt("return", r); case 9: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.q9 = function () { var t = St(At.mark(function t(n, i) { var e, r, s, u, o; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (e = n.o5, r = e.Ub, s = zD(n.t7) ? r.h7(n.t7) : n.t7, u = e.T5.z9(), !(s.XA && s.XA.getTime() <= u.getTime())) { t.next = 6; break } return t.abrupt("return", this.J9(22)); case 6: return o = s.itt.getTime() - u.getTime(), t.next = 10, Tt.race([ae(o, i), e.Ro("C8", i)]); case 10: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.X9 = function () { var t = St(At.mark(function t(n, i) { var e, r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (t.prev = 0, Rn(i), e = n.ett) { t.next = 5; break } return t.abrupt("return", this.B9); case 5: if (n.rtt) { t.next = 12; break } return t.next = 8, this.D9.G7(e, i); case 8: return r = t.sent, t.next = 11, r.Q7(i); case 11: n.rtt = t.sent; case 12: if (Rn(i), !this.F9(n.rtt)) { t.next = 16; break } return t.next = 16, this.x9.E9(n.rtt, n, i); case 16: return t.abrupt("return", n.rtt); case 19: if (t.prev = 19, t.t0 = t.catch(0), !(t.t0 instanceof $A)) { t.next = 23; break } return t.abrupt("return", this.J9(35)); case 23: throw t.t0; case 24: case "end": return t.stop() } }, t, this, [[0, 19]]) })); return function (n, i) { return t.apply(this, arguments) } }(), i.H7 = function () { var t = St(At.mark(function t(n, i) { var e; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, Rn(i), t.next = 4, this.D9.H7(n, i); case 4: return e = t.sent, this.j9 = void 0, this.L9 = 0, t.abrupt("return", e); case 10: if (t.prev = 10, t.t0 = t.catch(0), !(t.t0 instanceof xx)) { t.next = 15; break } return this.stt(n, t.t0), t.abrupt("return", this.J9(22)); case 15: throw t.t0; case 16: case "end": return t.stop() } }, t, this, [[0, 10]]) })); return function (n, i) { return t.apply(this, arguments) } }(), i.W9 = function () { var t = St(At.mark(function t(n, i, e) { var r, s, u, o, a, h, c, f, v, l; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: for (r = this.x8.d6(i.zk.ck(), i.OP.ck()), s = this.N9.p5.Ld(n), u = RE.Vd(), o = 0; o < r.length; o++)a = r[o], Rn(e), h = a.v6, c = a.l6, f = s && s.Nd(h, c) ? Eo.Ql(h, s.Fl(0)) : h, v = c, f.Wl(v) && (u = u.bd(new RE([f, v]))); l = 0; case 5: if (!(l < u.Sf)) { t.next = 11; break } return t.next = 8, this.x9.I9(u.Ll(l), u.Fl(l), e); case 8: l++, t.next = 5; break; case 11: this.U9(); case 12: case "end": return t.stop() } }, t, this) })); return function (n, i, e) { return t.apply(this, arguments) } }(), i.Q9 = function () { var t = St(At.mark(function t(n, i) { var e; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, Rn(i), t.next = 4, this.x9.FJ(n.Y7, n.t7, n.o5, i); case 4: return e = t.sent, this.utt(n, e.ott, e.att), t.abrupt("return", n); case 10: if (t.prev = 10, t.t0 = t.catch(0), !(t.t0 instanceof $A)) { t.next = 15; break } return this.htt(new xx(t.t0, n.t7, n.o5), 0), t.abrupt("return", this.J9(22)); case 15: throw t.t0; case 16: case "end": return t.stop() } }, t, this, [[0, 10]]) })); return function (n, i) { return t.apply(this, arguments) } }(), i.utt = function (t, n, i) { var e = t.o5, r = t.t7; this._6(r, e, n, n.kd(i)) }, i._6 = function (t, n, i, e) { i.tm(e, jD) || (this.x8._6({ h6: t.zk.ck(), c6: t.OP.ck(), v6: i, l6: e, w6: !0 }, n), this.x9.cK(i.um, e.um)) }, i.$Z = function (t, n, i) { var e = new RE([t, n]); i ? this.x8.hK(e, i) : this.x8.g6(e), this.x9.hK(t.um, n.um) }, i.stt = function (t, n) { var i, e; this.j9 && (i = this.j9, e = t, i.o5 === e.o5 && i.t7.zk.Hl(e.t7.zk)) ? this.L9++ : (this.j9 = t, this.L9 = 1); var r = this.R9.ctt; this.L9 === r && this.htt(n, r) }, i.htt = function (t, n) { var i = t.w9.um, e = this.x8.df.K8, r = this.x8.df.vf, s = t.O3.o5 && t.O3.o5.vf, u = new Mx(i, t.message, e, r, s, n); this._o(u) }, i.bf = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: this.B9 = void 0, this.P9 = void 0, this.j9 = void 0, this.L9 = 0; case 4: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.Af = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, this.bf(); case 2: this.M9 = void 0, this.D9.So(Fx, this.do), this.D9.Af(); case 5: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), T(n, [{ key: "s5", set: function (t) { this.C9.s5 = t } }, { key: "K8", get: function () { return this.x8.df.K8 } }]), n }(ar); var Vx = { K9: 500, ctt: 3 }, Hx = function () { function t(t, n, i, e, r, s, u) { this.CL = t, this.tH = n, this.H6 = i, this.OS = e, this.aH = r, this.ftt = s, this.F3 = u } return t.prototype.C7 = function (t) { var n = this.CL.v5, i = new RD(t), e = new MD(n, this.ftt), r = new FD(this.CL, this.tH, this.H6, this.aH), s = new HD(this.tH, i), u = vx.C7(this.CL, i, this.aH, e, this.OS, this.F3), o = this.ltt(), a = this.T9(o, e, this.ftt), h = new Px(this.CL), c = new Ux(Vx, i, r, u, a, h); return new ED(t.Q3, i, c, this.tH, s) }, t }(), zx = function (t) { function n() { return t.apply(this, arguments) || this } rt(n, t); var i = n.prototype; return i.ltt = function () { return new dx(this.OS) }, i.T9 = function (t, n, i) { return (new Ox).T9(t, this.CL, n, i, this.F3) }, n }(Hx), qx = function (t) { function n() { return t.apply(this, arguments) || this } rt(n, t); var i = n.prototype; return i.ltt = function () { return new gx(this.OS) }, i.T9 = function (t, n) { return (new Ox).T9(t, this.CL, n, !1, this.F3) }, n }(Hx), Gx = function (t) { function n(n, i, e, r, s) { var u; return (u = t.call(this) || this).Ow = 0, u.aY = 1, u.S3 = void 0, u.dtt = {}, u._tt = {}, u.gtt = !1, u.xw = 0, u.wtt = function (t) { return u.V8(t) }, u.ytt = function (t) { return u.cJ(t) }, u.ptt = function (t) { 0 }, u.tH = n, u.OS = i, u.aH = e, u.mtt = r, u.F3 = s, u.ktt(), u } rt(n, t); var i = n.prototype; return i.XZ = function () { }, i.FJ = function () { var t = St(At.mark(function t(n, i, e, r) { var s, u, o, a, h, c, f, v, l; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, n.GF(r); case 2: for (s = t.sent, u = this.findTrackForRepresentation(e), o = this.dtt[u.Uf], a = i.zk.ck(), h = i.OP.ck(), c = new RE([a, h]), o || (this.dtt[u.Uf] = RE.Vd(), this._tt[u.Uf] = RE.Vd()), f = this.btt(s, i, e, u), v = 0; v < f.length; v++)l = f[v], u.SL(l); return this.dtt[u.Uf] = this.dtt[u.Uf].bd(c), t.abrupt("return", { ott: a, att: h.Od(a) }); case 9: case "end": return t.stop() } }, t, this) })); return function (n, i, e, r) { return t.apply(this, arguments) } }(), i.y3 = function (t, n, i) { return this.mtt.y3(t, n, i) }, i.btt = function (t, n, i, e) { return this.mtt.btt(t, n, i, e) }, i.I9 = function (t, n, i) { return Tt.resolve() }, i.hK = function (t, n) { }, i.cK = function (t, n) { }, i.cJ = function (t) { var n = new Eo(t.currentTime); this._o(new Vl(n.Xp)), this._o(new Ul(n.Xp)) }, i.V8 = function (t) { this.do(t) }, i.ktt = function () { this.tH && (this.tH.mo("timeupdate", this.wtt), this.tH.mo("seeking", this.ytt)) }, i.Att = function () { this.tH && (this.tH.So("timeupdate", this.wtt), this.tH.So("seeking", this.ytt)) }, i.Ph = function () { var n = St(At.mark(function n(i) { return At.wrap(function (n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, t.prototype.Ph.call(this, i); case 2: this.ktt(); case 3: case "end": return n.stop() } }, n, this) })); return function (t) { return n.apply(this, arguments) } }(), i.kO = function (n) { t.prototype.kO.call(this, n), this.mtt.bf(), this.S3 && (this.S3.Af(), this.S3 = void 0), this.S3 = new qx(this, this.tH, this.tH, this.OS, this.aH, !1, this.F3).C7(n), this.S3.mo("error", this.ptt), this.S3.Ll(11), this.Ttt(n) }, i.bO = function (n) { t.prototype.bO.call(this, n), this.S3 && (this.S3.Af(), this.S3 = void 0), this.Ttt(n) }, i._8 = function (t) { var n = function (t) { var n = t.OA && t.OA.length > 0 && t.OA[0], i = n && Ug(n.tA), e = Ug(t.tA), r = t.oA === _d.APPLICATION_TTML_XML; return i || e || r ? "ttml" : t.oA === _d.TEXT_VTT || qg(t.oA, t.tA) ? "webvtt" : "" }(t); if (!n) throw new v("Unknown TextTrack type for Representation"); return new _D(kn(t.BA.filter(function (t) { return "urn:mpeg:dash:role:2011" === t.Vk }).map(function (t) { return t.Hn }).filter(P), "caption") ? Xc.Wx : Xc.qx, "", t.I8, !1, n, t) }, i.bf = function () { var n = St(At.mark(function n() { return At.wrap(function (n) { for (; ;)switch (n.prev = n.next) { case 0: return this.Att(), n.next = 3, t.prototype.bf.call(this); case 3: if (!this.S3) { n.next = 8; break } return n.next = 6, this.S3.bf(52); case 6: this.S3.So("error", this.ptt), this.S3 = void 0; case 8: this.Stt = void 0, this.A3 = void 0, this.dtt = {}, this._tt = {}; case 12: case "end": return n.stop() } }, n, this) })); return function () { return n.apply(this, arguments) } }(), i.Ett = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: this.dtt = {}, this._tt = {}; case 2: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.Ttt = function (t) { this.jf && !this.gtt ? (this.gtt = !0, this._o(new rC(this))) : !this.jf && this.gtt && (this.gtt = !1, this._o(new sC(this))) }, i.findTrackForRepresentation = function (t) { for (var n = 0, i = this.pO.Tf; n < i.length; n++) { var e = i[n]; if (e.l8 === t) return e } }, T(n, [{ key: "SV", get: function () { var t = this.tH.yg, n = new Eo(.01); return this.p5.Ld(t, n) } }, { key: "Itt", get: function () { return this.f5 && this.dtt[this.f5.Uf] ? this.dtt[this.f5.Uf] : RE.Vd() } }, { key: "Rtt", get: function () { return this.f5 && this._tt[this.f5.Uf] ? this._tt[this.f5.Uf] : RE.Vd() } }, { key: "hg", get: function () { return this.Itt } }, { key: "fK", get: function () { return this.S3 ? this.S3.g5.fK._5 : RE.Vd() } }, { key: "p5", get: function () { return this.hg.bd(this.fK).md(this.l5.nm(2)) } }, { key: "Fl", get: function () { return this.A3 ? this.A3.H3.Fl : new Eo(NaN) } }, { key: "SN", get: function () { var t = this.Fl; return !!t && this.tH.yg.Zp(t) } }, { key: "l5", get: function () { var t = this.f5 && this.f5.l8 && this.f5.l8.rA && this.f5.l8.rA.um || 25; return new Eo(1 / t) } }, { key: "Ww", get: function () { return this.Ow } }, { key: "fV", get: function () { } }, { key: "v5", get: function () { return "text" } }, { key: "_g", get: function () { return this.aY }, set: function (t) { this.aY = t } }, { key: "wg", get: function () { return this.Rtt ? this.Rtt : RE.Vd() } }, { key: "jx", get: function () { var t = this.f5, n = null == t ? void 0 : t.Q3.b5, i = null == t ? void 0 : t.Q3.A5; if (!i || !n) return RE.Ud(Eo.cm); var e = Eo.Yp(Eo.Ql(n, this.tH.yg).Kp(Eo.vm)), r = Eo.Qp(i.Kp(Eo.vm)); return new RE([r, e]).rd() } }, { key: "qw", get: function () { return this.xw } }]), n }(wD), Wx = function () { function t() { } var n = t.prototype; return n.y3 = function (t, n, i) { return Tt.resolve() }, n.btt = function (t, n, i, e) { var r, s = []; e && ("ttml" === e.Ou ? s = Td(t, e, { iM: n.zk.ck(), eM: n.OP.ck(), rM: i.Ub.rM.ck() }, i.oA) : "webvtt" === e.Ou && (s = (r = t, dg(Ai(new DataView(r), new xi))).Kf)); return s }, n.bf = function () { }, t }(), Xx = function () { var t, n = function () { function t() { } return t.VO = function (n) { return !!t.HO[n] }, t.GO = function (n) { for (var i = [], e = ed.PO(new nd(n, new xi)), r = 0; r < e.length; r++) { var s = e[r]; t.VO(s.Ou) && i.push(t.HO[s.Ou](s.ei)) } return i }, t.Ntt = function (n) { var i = ed.PO(n), e = sd(i, "vsid"), r = sd(i, "iden"), s = sd(i, "ctim"), u = sd(i, "sttg"), o = sd(i, "payl"); return { Ou: "vttc", Ctt: e ? t.Dtt(e) : void 0, xtt: r ? t.Ott(r) : void 0, Btt: s ? t.Ptt(s) : void 0, Mtt: u ? t.Ltt(u) : void 0, jtt: o ? t.Ftt(o) : void 0 } }, t.Dtt = function (t) { return { Ou: "vsid", Utt: t.IO() } }, t.Ott = function (t) { return { Ou: "iden", xtt: t.xO() } }, t.Ptt = function (t) { return { Ou: "ctim", Vtt: t.xO() } }, t.Ltt = function (t) { return { Ou: "sttg", Htt: t.xO() } }, t.Ftt = function (t) { return { Ou: "payl", Gtt: t.xO() } }, t.ztt = function (t) { return { Ou: "vtte" } }, t.qtt = function (t) { return { Ou: "vtta", Wtt: t.xO() } }, t }(); return n.HO = ((t = {}).vttc = n.Ntt, t.vtte = n.ztt, t.vtta = n.qtt, t), n }(), $x = function () { function t() { this.Xtt = NaN } var n = t.prototype; return n.y3 = function (t, n, i) { var e = new DataView(t.W3), r = wn(ad.GO(e), function (t) { return "moov" === t.Ou }); return r && (this.Xtt = r.pO[0].$k.$O.$p), Tt.resolve() }, n.btt = function (t, n, i) { if (p(this.Xtt)) return []; var e = new DataView(t), r = ad.GO(e), s = pd(r, "moof"), u = pd(r, "mdat"); if (!s || 0 === s.pO.length || !u) return []; var o = function (t, n, i) { for (var e = t.pO[0], r = e.eP ? new Eo(e.eP.eP.toNumber(), i) : n.zk.ck(), s = [], u = 0, o = e.iP; u < o.length; u++) { var a = o[u]; s.push.apply(s, a.hP) } return { $tt: r, hP: s } }(s, n, this.Xtt), a = i.Ub.rM.ck(); return function (t, n, i, e) { for (var r = Xx.GO(Ei(n.ei)), s = t.hP, u = t.$tt.Od(e), o = [], a = Eo.cm, h = 0; h < s.length; h++) { var c = s[h], f = r[h], v = new Eo(c.Zy || 0, i), l = void 0; "vttc" === f.Ou && (l = Qx(f, a, v, u)), l && o.push(l), a = a.kd(v) } return o }(o, u, this.Xtt, a) }, n.bf = function () { this.Xtt = NaN }, t }(); function Qx(t, n, i, e) { if (t.jtt) { var r = t.Btt ? Ag(t.Btt.Vtt, new xi(0)).Kp(1e3).ck() : n, s = e.kd(r), u = s.kd(i), o = t.jtt.Gtt; return new Hd(s.um, u.um, o) } } var Yx = function (t) { function n(n, i, e, r) { var s; return (s = t.call(this) || this).j_ = new fu, s.OL = function (t) { s.Ag.pf(t.df) }, s.tH = n, s.OS = i, s.aH = e, s.F3 = r, s } rt(n, t); var i = n.prototype; return i.cj = function () { var t = St(At.mark(function t(n) { var i, e, r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if ("text" === n.Ou || "image" === n.Ou) { t.next = 2; break } return t.abrupt("return"); case 2: if (s = n.oA, u = n.tA, !(i = Ug(u) || s === _d.APPLICATION_TTML_XML || s === _d.TEXT_VTT ? new Wx : qg(s, u) ? new $x : void 0)) { t.next = 9; break } return e = new Gx(this.tH, this.OS, this.aH, i, this.F3), this.a8(e), t.next = 8, e.Ph(n); case 8: return t.abrupt("return", e); case 9: if (n.oA !== _d.IMAGE_JPEG) { t.next = 15; break } return r = new mD, this.a8(r), t.next = 14, r.Ph(n); case 14: return t.abrupt("return", r); case 15: case "end": return t.stop() }var s, u }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.f8 = function () { var n = St(At.mark(function n(i) { return At.wrap(function (n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, t.prototype.f8.call(this, i); case 2: return this.Ag.bf(), n.next = 5, i.bf(); case 5: case "end": return n.stop() } }, n, this) })); return function (t) { return n.apply(this, arguments) } }(), i.Af = function () { var n = St(At.mark(function n() { var i, e, r; return At.wrap(function (n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, t.prototype.Af.call(this); case 2: i = 0, e = this.e8; case 3: if (!(i < e.length)) { n.next = 10; break } return r = e[i], n.next = 7, r.Af(); case 7: i++, n.next = 3; break; case 10: this.j_ = void 0; case 11: case "end": return n.stop() } }, n, this) })); return function () { return n.apply(this, arguments) } }(), T(n, [{ key: "Ag", get: function () { return this.j_ } }]), n }(gD); var Zx = function (t) { function n(n, i, e, r, s) { var u; return (u = t.call(this, n, i, e, !1) || this).Jn = r, u.Qtt = u.Ff = s, u } return rt(n, t), n.prototype.Hl = function (n) { return this === n || Cr(this, n) && t.prototype.Hl.call(this, n) && this.BP === n.BP }, T(n, [{ key: "vf", get: function () { var t, n, i; return this.cf || (this.cf = (i = { get track() { return t.df.vf }, get id() { return t.Ff }, get startTime() { return t.zk }, get endTime() { return t.OP }, get content() { return t.BP }, get attributes() { return t.Jn }, get eventID() { return t.Qtt }, addEventListener: function (t, i) { t = Pr(t, Or), n.mo(t, i) }, removeEventListener: function (t, i) { t = Pr(t, Or), n.So(t, i) } }, n = new kr(t = this, i), i)), this.cf } }]), n }(ld), Kx = function (t) { function n(n, i) { var e; return (e = t.call(this, n) || this).timescale = i, e.Ou = "eventstream", e.Ytt = i, e } return rt(n, t), T(n, [{ key: "$p", get: function () { return this.Ytt } }]), n }(Ep), Jx = function (t) { function n() { var n; return (n = t.call(this) || this).Ztt = void 0, n.Ktt = function () { n.FJ(n.Ztt.qA) }, n } rt(n, t); var i = n.prototype; return i.FJ = function (t) { for (var n = 0; n < t.length; n++) { var i = t[n]; this.Jtt(i) } }, n.HJ = function (t, n) { return new Kx(t, n) }, i.Jtt = function (t) { var i, e, r = t.Vk, s = null !== (i = t.Hn) && void 0 !== i ? i : "", u = null !== (e = t.$p) && void 0 !== e ? e : 1, o = Ep.qV(r, s), a = this.jJ(o); a || (a = n.HJ(o, u), this.LJ(a)); for (var h = 0, c = t.HA; h < c.length; h++) { var f = c[h]; this.tnt(f, a) } }, i.tnt = function (t, n) { for (var i, e = t.VA, r = t.Zy, s = "" + (null !== (i = t.Ff) && void 0 !== i ? i : ""), u = t.ei, o = t.Jn, a = new Eo(e.toNumber(), n.$p).kd(this.Ztt.Ll), h = r ? new Eo(r.toNumber(), n.$p) : null, c = this.Ztt.nnt, f = h ? a.kd(h) : c, v = new Zx(a.um, f.um, u, o, s), l = 0, d = n.Kf.Tf; l < d.length; l++) { if (d[l].Qtt === v.Qtt && void 0 !== v.Qtt) return } n.SL(v) }, i.Ph = function (n) { t.prototype.Ph.call(this), this.Ztt = n, this.Ztt.T5.mo(es._l, this.Ktt), this.FJ(n.qA) }, i.bf = function () { var n = St(At.mark(function n() { return At.wrap(function (n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, t.prototype.bf.call(this); case 2: this.Ztt && (this.Ztt.T5.So(es._l, this.Ktt), this.Ztt = void 0); case 3: case "end": return n.stop() } }, n, this) })); return function () { return n.apply(this, arguments) } }(), n }(vC), tB = function (t) { function n(n) { var i; return (i = t.call(this, es.wl) || this).error = n, i } return rt(n, t), n }(Mn), nB = function (t) { function n(n, i) { var e; return (e = t.call(this, "ent") || this).int = n, e.f5 = i, e } return rt(n, t), n }(Mn), iB = function (t) { function n(n, i) { var e; (e = t.call(this) || this).T3 = void 0, e.iO = n, e.wf = i; for (var r = 0, s = e.wf; r < s.length; r++) { s[r].AA = st(e) } return e } rt(n, t); var i = n.prototype; return i.kO = function (t) { t && this.T3 !== t && this.rnt(t) }, i.bO = function (t) { this.T3 === t && this.rnt(void 0) }, i.rnt = function (t) { this.T3 = t, this._o(new nB(this, this.T3)) }, i.Af = function () { this.To(); for (var t = 0, n = this.wf; t < n.length; t++) { n[t].AA = void 0 } An(this.wf) }, T(n, [{ key: "f5", get: function () { return this.T3 } }, { key: "Ou", get: function () { return this.iO } }, { key: "pO", get: function () { return this.wf.slice() } }]), n }(hr), eB = function (t) { function n(n, i) { var e; return (e = t.call(this, "K3") || this).zf = n || [], e.df = i, e } return rt(n, t), n.prototype.lf = function () { return new rB(this.zf.map(function (t) { return t.vf })) }, n }(cr), rB = function (t) { function n(n) { var i; return (i = t.call(this, "targetqualitychanged") || this).qualities = n, i.quality = i.qualities.length > 0 ? i.qualities[0] : void 0, i } return rt(n, t), n }(Mn), sB = 0, uB = function (t) { function n(n, i, e, r) { var s; void 0 === e && (e = "alternative"), (s = t.call(this) || this).snt = void 0, s.tj = !1, s.unt = void 0, s.Bw = "", s.ont = !1, s.JL = new Y_, s.ant = void 0, s.hnt = function () { return s._o(new R_(st(s))) }, s.v8 = n, s.A3 = i, s.Bw = sB++ + "", s.aL = T_(), s.gL = e, s.wL = n.I8, s.yL = "", s.cnt = n.Ou; for (var u = 0; u < r.length; u++) { var o = r[u]; o.mo("update", s.hnt), s.zf.kd(o) } return s } rt(n, t); var i = n.prototype; return i.x3 = function (t) { this.snt = t.o5, this._o(t) }, i.ej = function (t) { this.tj = t, this.AA && (t ? this.AA.kO(this) : this.AA.bO(this)) }, i.J3 = function (t) { this.tj = t, this.ont !== t && (this.ont = t, this._o(new N_(this))) }, i.Af = function () { for (var t = this.JL.Sf - 1; t >= 0; t--) { this.JL.yf(t).So("update", this.hnt) } }, T(n, [{ key: "Lf", get: function () { return this.snt } }, { key: "Q3", get: function () { return this.v8 } }, { key: "Y3", get: function () { return this.A3 } }, { key: "jf", get: function () { return this.tj }, set: function (t) { this.ej(t) } }, { key: "vf", get: function () { return this.cf || (this.cf = jr(this)), this.cf } }, { key: "AA", get: function () { return this.unt }, set: function (t) { this.unt = t } }, { key: "Ff", get: function () { return this.Bw } }, { key: "Uf", get: function () { return this.aL } }, { key: "Vf", get: function () { return this.gL } }, { key: "Gf", get: function () { return this.wL } }, { key: "Hf", get: function () { return this.yL }, set: function (t) { t !== this.yL && (this.yL = t, this._o(new R_(this))) } }, { key: "Yf", get: function () { return this.jf ? "enabled" : "disabled" } }, { key: "qf", get: function () { return this.ant }, set: function (t) { this.ant = t && this.JL.sL(t) ? t : void 0, this._o(new eB(t, this)) } }, { key: "zf", get: function () { return this.JL } }, { key: "OA", get: function () { return this.Q3 && this.Q3.OA } }, { key: "K8", get: function () { return this.cnt } }]), n }(hr), oB = function (t) { function n() { return t.call(this, "fnt") || this } return rt(n, t), n }(Mn); function aB(t, n, i, e, r, s, u, o) { return hB.apply(this, arguments) } function hB() { return (hB = St(At.mark(function t(n, i, e, r, s, u, o, a) { var h; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return h = new fB(n, i, e, r, s, u, o, a), t.next = 3, h.wx(); case 3: return t.abrupt("return", h); case 4: case "end": return t.stop() } }, t) }))).apply(this, arguments) } var cB = ["contentprotectionerror", "contentprotectionsuccess", "encrypted", "error", "segmentnotfound", "m3", "b3", es.Al, es.ll, es.Tl, es.Sl, es.El, es.Rl, es.Il, es.Dl, es.xl, "readystatechange", "waiting", "playing", "loadeddata", "loadedmetadata", "canplay", "canplaythrough", "vnt"], fB = function (t) { function n(n, i, e, r, s, u, o, a) { var h; (h = t.call(this) || this).lnt = [], h.dnt = new ie, h._nt = [], h.gnt = void 0, h.wnt = St(At.mark(function t() { var n; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, t.next = 3, Tt.resolve(); case 3: if (0 !== (n = dB(h.lnt)).length) { t.next = 6; break } return t.abrupt("return"); case 6: if (!Tn(n, h._nt)) { t.next = 8; break } return t.abrupt("return"); case 8: return h._nt = n, h.dnt.eh(), h.dnt = new ie, t.next = 13, h.ynt.Ph(n, h.LF, h.dnt._h); case 13: h._o(new oB), t.next = 19; break; case 16: t.prev = 16, t.t0 = t.catch(0), In(t.t0) || h._o(new Vh(t.t0)); case 19: return t.prev = 19, h.dnt.oo(), t.finish(19); case 22: case "end": return t.stop() } }, t, null, [[0, 16, 19, 22]]) })), h.QE = function () { !h.Fl || h.gnt && h.Fl.Hl(h.gnt) || (h.gnt = h.Fl, h._o(new Oh(h.Fl.um))) }, h.pnt = function (t) { h._o(t), h.mnt.bf() }, h.mnt = n, h.Ztt = i, h.LF = e, h.Ztt.mo("knt", h.do), h.ynt = r, h.bnt = s, h.L_ = u, h.M_ = o, h.j_ = a, h.j_.GL(h.ynt.Ag), h.ynt.mo("contentprotectionerror", h.pnt), h.ynt.mo(es.cl, h.QE); for (var c = 0; c < cB.length; c++) { var f = cB[c]; h.ynt.mo(f, h.do) } return h } rt(n, t); var i = n.prototype; return i.Nx = function () { return this.ynt.Nx() }, i.Ant = function () { return this.ynt.Ant() }, i.wx = function () { var t = St(At.mark(function t() { var n; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, this.Tnt(this.Ztt.Snt); case 2: n = new Jx, this.bnt.a8(n), n.Ph(this.Ztt); case 5: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.Tnt = function () { var t = St(At.mark(function t(n) { var i, e, r, s, u, o; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: i = [], e = [], r = 0; case 3: if (!(r < n.length)) { t.next = 18; break } if ((s = n[r]).OA && 0 !== s.OA.length) { t.next = 8; break } return this._o(new tB("No supported representation found in the AdaptationSet with mimetype : " + s.Ou)), t.abrupt("continue", 15); case 8: t.t0 = s.Ou, t.next = "audio" === t.t0 ? 11 : "video" === t.t0 ? 11 : "text" === t.t0 ? 13 : "image" === t.t0 ? 13 : 15; break; case 11: return i.push(s), t.abrupt("break", 15); case 13: return e.push(s), t.abrupt("break", 15); case 15: r++, t.next = 3; break; case 18: return t.next = 20, this.Ent(i); case 20: u = 0; case 21: if (!(u < e.length)) { t.next = 28; break } return o = e[u], t.next = 25, this.bnt.cj(o); case 25: u++, t.next = 21; break; case 28: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.Int = function (t) { t.mo("ent", this.wnt), this.lnt.push(t); for (var n = "audio" === t.Ou ? this.L_ : this.M_, i = 0, e = t.pO; i < e.length; i++) { var r = e[i]; n.pf(r) } }, i.Rnt = function (t) { for (var n = "audio" === t.Ou ? this.L_ : this.M_, i = 0, e = t.pO; i < e.length; i++) { var r = e[i]; n.kf(r), r.Af() } t.So("ent", this.wnt), t.Af(), pn(this.lnt, t) }, i.Nnt = function () { var t = St(At.mark(function t() { var n; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: for (n = this.lnt.length - 1; n >= 0; n--)this.Rnt(this.lnt[n]); return t.next = 3, this.wnt(); case 3: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.Ent = function () { var t = St(At.mark(function t(n) { var i, e, r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, this.Nnt(); case 2: for (i = 0; i < n.length; i++)"audio" !== (e = n[i]).Ou && "video" !== e.Ou || (r = lB(e), this.Int(r)); return t.next = 5, this.wnt(); case 5: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.z_ = function (t) { throw new v("Invalid state") }, i.Ph = function () { var t = St(At.mark(function t(n, i, e, r, s, u, o, a, h, c) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.abrupt("return", Tt.reject("Invalid state")); case 1: case "end": return t.stop() } }, t) })); return function (n, i, e, r, s, u, o, a, h, c) { return t.apply(this, arguments) } }(), i.C$ = function (t) { return this.ynt.C$(t) }, i.dN = function () { this.ynt.dN() }, i.sN = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: this.Cnt || this.C$(Eo.cm); case 1: if (!(this.ynt.Zf < eu.c_)) { t.next = 6; break } return t.next = 4, this.ynt.Ro("readystatechange"); case 4: t.next = 1; break; case 6: return t.next = 8, this.ynt.sN(); case 8: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.Z_ = function () { this.ynt.Z_() }, i.B_ = function () { this.ynt.B_() }, i.Af = function () { var t = St(At.mark(function t() { var n, i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.To(), t.next = 3, this.Nnt(); case 3: for (this.Ztt.So("knt", this.do), this.dnt.eh(), this.ynt.So("contentprotectionerror", this.pnt), this.ynt.So(es.cl, this.QE), n = 0; n < cB.length; n++)i = cB[n], this.ynt.So(i, this.do); return this.j_.qL(this.ynt.Ag), t.next = 11, this.ynt.Af(); case 11: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), T(n, [{ key: "SV", get: function () { var t = this.yg, n = this.hg, i = n.Ed(t); if (-1 !== i) return { Ll: n.Ll(i), Fl: n.Fl(i) } } }, { key: "Cnt", get: function () { return 0 === this.jx.Sf || (this.SV && this.SV.Fl || this.yg).Zp(this.jx.Ll(0)) } }, { key: "hg", get: function () { return this.ynt.hg } }, { key: "yg", get: function () { return this.ynt.yg } }, { key: "Fl", get: function () { return this.ynt.Fl } }, { key: "SN", get: function () { return this.ynt.SN } }, { key: "Dnt", get: function () { return !0 } }, { key: "A_", get: function () { return this.ynt.A_ } }, { key: "RE", get: function () { return this.ynt.RE }, set: function (t) { this.ynt.RE = t } }, { key: "rN", get: function () { return this.ynt.rN } }, { key: "H3", get: function () { return this.Ztt } }, { key: "_g", get: function () { return this.ynt._g }, set: function (t) { this.ynt._g = t } }, { key: "wg", get: function () { return this.ynt.wg } }, { key: "Zf", get: function () { return this.ynt.Zf } }, { key: "jx", get: function () { return this.ynt.jx } }, { key: "pg", get: function () { return this.ynt.pg } }, { key: "Gx", get: function () { return this.ynt.Gx } }, { key: "zx", get: function () { return this.ynt.zx } }, { key: "ux", get: function () { return this.ynt.ux }, set: function (t) { this.ynt.ux = t } }]), n }(ar); function vB(t, n, i) { if (kn(t.GA, n)) { var e = n.OA.map(function (t) { return t.o5 }); return new uB(n, t, i, e) } } function lB(t) { for (var n = [], i = 0, e = t.GA; i < e.length; i++) { var r = vB(t, e[i], 0 === n.length ? "main" : "alternative"); r && n.push(r) } if (0 === n.length) throw new v("No valid tracks found in AdaptationSet group " + t.Ff); return new iB(t.Ou, n) } function dB(t) { for (var n = t.map(function (t) { return t.f5 }).filter(P), i = [], e = function (t) { var e = n[t]; i.some(function (t) { return t.K8 === e.K8 }) || i.push(e) }, r = 0; r < n.length; r++)e(r); return i } var gB, _B = 1, wB = !1, yB = 1, pB = !1, mB = function (t) { function n() { var n; return (n = t.apply(this, arguments) || this).XS = wB, n.tx = !0, n.aY = yB, n.oY = !1, n.sx = _B, n.xnt = void 0, n.Ont = pB, n.Bnt = void 0, n } rt(n, t); var i = n.prototype; return i.Nx = function () { }, i.Ant = function () { return !1 }, i.z_ = function (t) { this.Bnt = t }, i.Ph = function () { var t = St(At.mark(function t(n, i, e, r, s, u, o, a, h, c, f) { var l, d; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (this.Bnt) { t.next = 2; break } throw new v("Invalid state"); case 2: return l = a.Pnt(n, o, "video", n, h, this.Bnt, c, f), t.next = 5, aB(n, i, this.Bnt.contentProtection, l, e, r, s, u); case 5: return d = t.sent, this.Mnt(d), t.next = 9, n.Lnt(d); case 9: case "end": return t.stop() } }, t, this) })); return function (n, i, e, r, s, u, o, a, h, c, f) { return t.apply(this, arguments) } }(), i.Mnt = function (t) { t.ux = this.ux, t.RE = this.RE, t._g = this._g, t.C$(this.yg), this.Ont ? t.B_() : t.Z_(), this.xnt && !this.rN && this.xnt.nh(t.sN()) }, i.C$ = function (t) { this.XU = t, this._o(new Vl(this.yg.um)) }, i.dN = function () { this.xnt && (this.xnt.ih(new En), this.xnt = void 0), this.tx = !0, this._o(new Mh(this.yg.um)) }, i.sN = function () { return this.tx = !1, this._o(new ru(this.yg.um)), this.xnt || (this.xnt = new Oi), this.xnt._a }, i.Z_ = function () { this.Ont = !1 }, i.B_ = function () { this.Ont = !0 }, i.Af = function () { return this.xnt && (this.xnt.ih(new En), this.xnt = void 0), Tt.resolve() }, T(n, [{ key: "hg", get: function () { return RE.Vd() } }, { key: "yg", get: function () { return this.XU || Eo.cm } }, { key: "Fl", get: function () { return new Eo(NaN) } }, { key: "SN", get: function () { return !1 } }, { key: "Dnt", get: function () { return !1 } }, { key: "A_", get: function () { return { b_: 0, k_: 0, N_: 0 } } }, { key: "RE", get: function () { return this.XS }, set: function (t) { this.XS = t } }, { key: "rN", get: function () { return this.tx } }, { key: "H3", get: function () { } }, { key: "_g", get: function () { return this.aY }, set: function (t) { this.aY = t } }, { key: "wg", get: function () { return RE.Vd() } }, { key: "Zf", get: function () { return eu.h_ } }, { key: "jx", get: function () { return RE.Vd() } }, { key: "pg", get: function () { return this.oY } }, { key: "Gx", get: function () { return 0 } }, { key: "zx", get: function () { return 0 } }, { key: "ux", get: function () { return this.sx }, set: function (t) { this.sx = t } }]), n }(ar); !function (t) { t.jnt = "api", t.yp = "start" }(gB || (gB = {})); var kB = ["error", "m3", "b3", "fnt", "knt", es.il, es.ol, es.vl, es.Nl, es.cl, es.ll, es.Al, es.Tl, es.Sl, es.El, es.Rl, es.Il, es.Dl, es.xl, es.wl, es.yl, es.bl, "readystatechange", "playing", "waiting", "loadeddata", "loadedmetadata", "canplay", "canplaythrough", "vnt"], bB = function (t) { function n(n, i, e, r, s, u) { var o; return (o = t.call(this) || this).L_ = new cu, o.M_ = new cu, o.Fnt = !1, o.Unt = !1, o.oH = n, o.Vnt = i, o.OS = e, o.aH = r, o.F3 = s, o.Uu = u, o.sz = new mB, o.sz.mo(kB, o.do), o.bnt = new Yx(st(o), e, r, s), o.j_ = new W_([o.bnt.Ag]), o } rt(n, t); var i = n.prototype; return i.Lnt = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.sz.So(kB, this.do), t.next = 3, this.sz.Af(); case 3: this.sz = n, this.sz.mo(kB, this.do); case 5: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.z_ = function (t) { return this.sz.z_(t) }, i.Ph = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.abrupt("return", this.sz.Ph(this, n, this.bnt, this.og, this.Tg, this.j_, this.OS, this.Vnt, this.aH, this.F3, this.Uu)); case 1: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.Z_ = function () { this.sz.Z_() }, i.B_ = function () { this.sz.B_() }, i.sN = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (this.rN) { t.next = 2; break } return t.abrupt("return"); case 2: return t.next = 4, this.sz.sN(); case 4: this.Fnt = !1; case 5: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.dN = function () { this.rN || this.sz.dN() }, i.C$ = function (t, n) { if (n === gB.yp) { if (this.Fnt) return void (this.pg || (this.Unt = !0, this._o(new Vl(this.yg.um)), this.Unt = !1, this._o(new Ul(this.yg.um)))); this.Fnt = !0 } else this.Fnt = !1; this.sz.C$(t) }, i.Nx = function () { return this.sz.Nx() }, i.Ant = function () { return this.sz.Ant() }, i.bf = function () { var t = St(At.mark(function t() { var n; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.L_.bf(), this.M_.bf(), this.Fnt = !1, t.next = 5, this.bnt.bf(); case 5: return (n = new mB).RE = this.sz.RE, n.ux = this.sz.ux, t.next = 10, this.Lnt(n); case 10: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.Af = function () { var t = St(At.mark(function t() { var n; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.To(), t.next = 3, this.bf(); case 3: return t.next = 5, this.sz.Af(); case 5: return n = this.rN, this.dN(), this._o(new Oh(this.Fl.um)), n || this._o(new Mh(this.yg.um)), this._o(new Ph(this.yg.um)), t.next = 12, this.bnt.Af(); case 12: this.j_.Af(); case 13: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), T(n, [{ key: "og", get: function () { return this.L_ } }, { key: "hg", get: function () { return this.sz.hg } }, { key: "yg", get: function () { return this.sz.yg } }, { key: "Fl", get: function () { return this.sz.Fl } }, { key: "SN", get: function () { return this.sz.SN } }, { key: "Dnt", get: function () { return this.sz.Dnt } }, { key: "Ww", get: function () { return this.oH.offsetHeight * PI.OY } }, { key: "A_", get: function () { return this.sz.A_ } }, { key: "RE", get: function () { return this.sz.RE }, set: function (t) { t !== this.RE && (this.sz.RE = t) } }, { key: "rN", get: function () { return this.sz.rN } }, { key: "_g", get: function () { return this.sz._g }, set: function (t) { this._g !== t && (this.sz._g = t) } }, { key: "wg", get: function () { return this.sz.wg } }, { key: "Zf", get: function () { return this.sz.Zf } }, { key: "jx", get: function () { return this.sz.jx } }, { key: "pg", get: function () { return this.Unt || this.sz.pg } }, { key: "UD", get: function () { return this.sz.H3 } }, { key: "Ag", get: function () { return this.j_ } }, { key: "Gx", get: function () { return this.sz.Gx } }, { key: "Tg", get: function () { return this.M_ } }, { key: "zx", get: function () { return this.sz.zx } }, { key: "ux", get: function () { return this.sz.ux }, set: function (t) { t = _o(t, 0, 1), this.ux !== t && (this.sz.ux = t) } }, { key: "qw", get: function () { return this.oH.offsetWidth * PI.OY } }]), n }(ar); var AB = 3, TB = function () { function t(t, n, i) { void 0 === i && (i = AB), this.OS = t, this.Hnt = n, this.Gnt = i } var n = t.prototype; return n.znt = function () { var t = St(At.mark(function t(n, i, e) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.abrupt("return", this.qnt(n, i, !0, e)); case 1: case "end": return t.stop() } }, t, this) })); return function (n, i, e) { return t.apply(this, arguments) } }(), n.Wnt = function () { var t = St(At.mark(function t(n, i, e) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.abrupt("return", this.qnt(n, i, !1, e)); case 1: case "end": return t.stop() } }, t, this) })); return function (n, i, e) { return t.apply(this, arguments) } }(), n.qnt = function () { var t = St(At.mark(function t(n, i, e, r) { var s, u, o, a, h, c, f, v; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: u = 100, o = 0; case 2: if (!(o < this.Gnt)) { t.next = 31; break } if (!(o > 0)) { t.next = 7; break } return t.next = 6, ae(u, r); case 6: u < 1e4 && (u = _.min(2 * u, 1e4)); case 7: a = 0; case 8: if (!(a < n.length)) { t.next = 28; break } return h = n[a], t.prev = 10, c = new th({ Mk: h, mT: Wa.dT, yT: i, TT: this.Hnt, pT: "GET", Ou: "manifest", bT: "", _h: r }), t.next = 14, this.OS.HT(c); case 14: return f = t.sent, t.next = 17, f.ei(); case 17: return v = t.sent, t.abrupt("return", { Xnt: v, $nt: h, Tq: f.Tq }); case 22: t.prev = 22, t.t0 = t.catch(10), s = t.t0; case 25: a++, t.next = 8; break; case 28: o++, t.next = 2; break; case 31: throw s; case 32: case "end": return t.stop() } }, t, this, [[10, 22]]) })); return function (n, i, e, r) { return t.apply(this, arguments) } }(), t }(); function SB(t) { return Cl(t) } function EB(t, n) { return t = Cl(t), n ? "" + t + n : "" + t } var IB = function () { function t(t) { this.Qnt = t } return t.prototype.Ynt = function () { var t = St(At.mark(function t(n, i, e, r) { var s, u, o, a; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: void 0 === e && (e = !1), u = 0, o = this.Qnt; case 2: if (!(u < o.length)) { t.next = 17; break } return a = o[u], t.prev = 4, t.next = 7, a.Ynt(n, i, e, r); case 7: return t.abrupt("return", t.sent); case 10: t.prev = 10, t.t0 = t.catch(4), Cn(t.t0), s = t.t0; case 14: u++, t.next = 2; break; case 17: throw s; case 18: case "end": return t.stop() } }, t, this, [[4, 10]]) })); return function (n, i) { return t.apply(this, arguments) } }(), t }(), RB = function () { function t(t) { this.F3 = t } return t.prototype.Ynt = function () { var t = St(At.mark(function t(n, i, e, r) { var s; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 3, this.F3.Znt(n); case 3: if (!(s = t.sent)) { t.next = 8; break } return t.abrupt("return", { Xnt: s.data, $nt: s.locationURL, Tq: s.responseURL }); case 8: throw new v("Manifest fetch from cache unsuccesful"); case 9: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), t }(), CB = function () { function t(t) { this.Knt = t } return t.prototype.Ynt = function () { var t = St(At.mark(function t(n, i, e, r) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (void 0 === e && (e = !1), !e) { t.next = 7; break } return t.next = 4, this.Knt.znt(n, i, r); case 4: return t.abrupt("return", t.sent); case 7: return t.next = 9, this.Knt.Wnt(n, i, r); case 9: return t.abrupt("return", t.sent); case 10: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), t }(); function NB(t, n) { return new IB([new RB(n), new CB(t)]) } var DB = function () { function t(t, n, i) { this.Jnt = t, this.tit = n, this.nit = i } var n = t.prototype; return n.Ynt = function () { var t = St(At.mark(function t(n, i, e, r) { var s; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return void 0 === e && (e = !1), t.next = 3, this.Jnt.Ynt(n, i, e, r); case 3: return s = t.sent, t.next = 6, this.iit(s); case 6: return t.abrupt("return", s); case 7: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), n.iit = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, this.tit.eit({ key: SB(n.$nt), locationURL: Cl(n.$nt), responseURL: Cl(n.Tq), data: n.Xnt, references: [this.nit.Ff] }); case 2: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), t }(); function xB(t, n) { return BB.apply(this, arguments) } function BB() { return (BB = St(At.mark(function t(n, i, e, r, s) { var u, o; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: void 0 === e && (e = 3), void 0 === r && (r = 1e3), void 0 === s && (s = 1 / 0), u = 0; case 4: return t.prev = 5, t.next = 8, n(i); case 8: return t.abrupt("return", t.sent); case 11: if (t.prev = 11, t.t0 = t.catch(5), Cn(t.t0), !(u < e)) { t.next = 20; break } return o = _.min(r * _.pow(2, u), s), u++, t.next = 19, ae(o, i); case 19: return t.abrupt("continue", 4); case 20: throw t.t0; case 21: t.next = 4; break; case 23: case "end": return t.stop() } }, t, null, [[5, 11]]) }))).apply(this, arguments) } function OB(t) { return { get bandwidth() { return t.lA }, get codecs() { return t.tA }, get id() { return t.Ff }, get name() { return t.Hf }, get averageBandwidth() { return t.lA }, get label() { return t.Hf }, set label(n) { t.Hf = Or(n) }, get height() { return t.Ww }, get width() { return t.qw }, get frameRate() { return t.rA }, get firstFrame() { return t.rit }, addEventListener: function (n, i) { t.mo(n, i) }, removeEventListener: function (n, i) { t.So(n, i) } } } function PB(t) { return { get bandwidth() { return t.lA }, get codecs() { return t.tA }, get id() { return t.Ff }, get name() { return t.Hf }, get averageBandwidth() { return t.lA }, get label() { return t.Hf }, set label(n) { if (!U(n)) throw new v("Unexpected - The provided label is not a string"); t.Hf = n }, get audioSamplingRate() { return t.Zb }, addEventListener: function (n, i) { t.mo(n, i) }, removeEventListener: function (n, i) { t.So(n, i) } } } var MB = function (t) { function n(n) { var i; return (i = t.call(this, "update") || this).quality = n, i } return rt(n, t), n }(Mn), LB = function (t) { function n(n, i, e, r, s) { var u; return (u = t.call(this) || this).Ff = n, u.lA = i, u.tA = e, u.sit = s, u.yL = r || "", u } return rt(n, t), T(n, [{ key: "Hf", get: function () { return this.yL }, set: function (t) { this.yL !== t && (this.yL = t, this._o(new MB(this.vf))) } }]), n }(Pn), jB = function (t) { function n(n, i, e, r, s, u, o, a, h) { var c; return void 0 === h && (h = 0), (c = t.call(this, n, i, e, r, s) || this).rA = u, c.qw = o, c.Ww = a, c.rit = h, c.cf = void 0, c } return rt(n, t), T(n, [{ key: "vf", get: function () { return this.cf || (this.cf = OB(this)), this.cf } }]), n }(LB), FB = function (t) { function n(n, i, e, r, s, u) { var o; return (o = t.call(this, n, i, e, r, s) || this).Zb = u, o.cf = void 0, o } return rt(n, t), T(n, [{ key: "vf", get: function () { return this.cf || (this.cf = PB(this)), this.cf } }]), n }(LB); var UB = function (t) { function n() { var n; return (n = t.apply(this, arguments) || this).uit = function (t) { n._o(t) }, n } return rt(n, t), T(n, [{ key: "oit", get: function () { var t = this.ait(); return null == t ? void 0 : t.Ll.ck() } }, { key: "hit", get: function () { var t = this.ait(); return null == t ? void 0 : t.Fl.ck() } }]), n }(Pn), VB = function (t) { function n(n, i) { var e; if ((e = t.call(this) || this).cf = void 0, e.cit = void 0, e.v8 = n, e.fit = i, e.fit.mo("C8", e.uit), "video" === e.Ou) { var r = e.rA && e.rA.um || NaN; e.vit = new jB(HB++, e.lA, e.MY, "", "", r, e.qw, e.Ww) } else "audio" === e.Ou ? e.vit = new FB(HB++, e.lA, e.MY, "", "", e.Zb) : e.vit = void 0; return e } rt(n, t); var i = n.prototype; return i.S8 = function (t) { var n = zD(t) ? this.fit.dit(t) : this.fit.S8(t); return { Mk: n.Mk, Gk: n.Gk, TT: this.T5.TT } }, i.b8 = function () { return this.fit.b8() }, i.ait = function () { return this.fit.ait() }, i._it = function () { return this.fit._it() }, i.o7 = function (t, n, i) { return this.fit.Ub.o7(t, this.fit, this.T5.TT, n, i) }, i.ntt = function (t) { return zD(t) ? this.Ub.git(t) : this.Ub.ntt(t) }, i.Af = function () { this.fit.So("C8", this.uit) }, T(n, [{ key: "Q3", get: function () { return this.v8 } }, { key: "Zb", get: function () { var t; return null !== (t = this.fit.ei.Zb) && void 0 !== t ? t : this.Q3.Zb } }, { key: "lA", get: function () { return this.fit.ei.lA || 0 } }, { key: "tA", get: function () { var t = this.fit.ei; return t.tA ? [t.tA] : this.Q3.tA } }, { key: "wit", get: function () { var t = this.fit.ei; return t.tA ? [t.tA] : [] } }, { key: "MY", get: function () { return this.fit.ei.tA || this.Q3.MY } }, { key: "nA", get: function () { return this.fit.ei.nA || this.Q3.nA } }, { key: "iA", get: function () { return this.fit.ei.iA || this.Q3.iA } }, { key: "bA", get: function () { return this.oA + '; codecs="' + this.MY + '"' } }, { key: "eA", get: function () { var t = this.fit.ei; return t.eA.length ? t.eA : this.Q3.eA } }, { key: "vf", get: function () { return this.cf || (this.cf = (t = this, { get id() { return t.Ff }, get type() { return t.Ou }, get bandwidth() { return t.lA }, get width() { return t.qw }, get height() { return t.Ww }, get frameRate() { return t.rA && t.rA.um || NaN }, get audioSamplingRate() { return t.Zb } })); var t } }, { key: "rA", get: function () { return this.fit.ei.rA || this.Q3.rA } }, { key: "Ww", get: function () { return this.fit.ei.Ww || this.Q3.Ww } }, { key: "Ff", get: function () { return this.fit.ei.Ff || "" } }, { key: "rtt", get: function () { return this.cit }, set: function (t) { this.cit = t } }, { key: "ett", get: function () { var t = this.fit.yit(); if (t) return { Mk: t.Mk, Gk: t.Gk, TT: this.T5.TT } } }, { key: "sA", get: function () { return this.fit.ei.sA || this.Q3.sA || 1 } }, { key: "uA", get: function () { return this.fit.ei.uA || this.Q3.uA } }, { key: "T5", get: function () { return this.H3.T5 } }, { key: "oA", get: function () { return this.fit.ei.oA || this.Q3.oA } }, { key: "H3", get: function () { return this.Q3.H3 } }, { key: "aA", get: function () { return this.fit.ei.aA || this.Q3.aA } }, { key: "o5", get: function () { return this.vit } }, { key: "hA", get: function () { return this.fit.ei.hA || this.Q3.hA } }, { key: "cA", get: function () { return this.fit.ei.cA || this.Q3.cA } }, { key: "T8", get: function () { return this.fit.T8 } }, { key: "fA", get: function () { return this.fit.ei.fA || this.Q3.fA } }, { key: "Ub", get: function () { return this.fit.Ub } }, { key: "vA", get: function () { return this.fit.ei.vA || this.Q3.vA } }, { key: "Ou", get: function () { var t = this.oA.split("/")[0]; return "application" === t || "text" === t || qg(this.oA, this.tA) ? "text" : "video" === t ? "video" : "audio" === t ? "audio" : "image" === t ? "image" : "unknown" } }, { key: "qw", get: function () { return this.fit.ei.qw || this.Q3.qw } }]), n }(UB), HB = 0, zB = function (t) { function n(n, i) { var e; return (e = t.call(this) || this).pit = [], e.mit = [], e.Ztt = n, e.fit = i, e.fit.mo("C8", e.uit), e } rt(n, t); var i = n.prototype; return i.Lh = function () { var t = St(At.mark(function t(n, i) { var e, r = this; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (0 !== this.mit.length) { t.next = 7; break } return this.mit = [], e = this.fit.OA.map(function (t) { return r.kit(t, n, i) }), t.next = 5, Tt.all(e); case 5: t.t0 = P, this.mit = t.sent.filter(t.t0); case 7: this.Ait(); case 8: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.kit = function () { var t = St(At.mark(function t(n, i, e) { var r, s; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return r = new VB(this, n), t.next = 3, i(r); case 3: if (s = t.sent, Rn(e), s) { t.next = 7; break } return t.abrupt("return", void 0); case 7: return t.abrupt("return", r); case 8: case "end": return t.stop() } }, t, this) })); return function (n, i, e) { return t.apply(this, arguments) } }(), i.Ait = function () { if (!this.mit.length) throw new v("Detected an AdaptationSet without any supported Representations.") }, i.ait = function () { return this.fit.ait() }, i._it = function () { return this.fit._it() }, i.Af = function () { this.fit.So("C8", this.uit); for (var t = 0, n = this.mit; t < n.length; t++) { n[t].Af() } An(this.mit) }, T(n, [{ key: "kA", get: function () { return this.fit.ei.kA } }, { key: "Zb", get: function () { var t; return null !== (t = this.fit.ei.Zb) && void 0 !== t ? t : -1 } }, { key: "tA", get: function () { if (this.fit.ei.tA) return [this.fit.ei.tA]; for (var t = [], n = 0, i = this.OA; n < i.length; n++) { var e = i[n]; e.wit.length && -1 === t.indexOf(e.MY) && t.push(e.MY) } return t } }, { key: "MY", get: function () { return this.tA.join() } }, { key: "nA", get: function () { return this.fit.ei.nA } }, { key: "iA", get: function () { return this.fit.ei.iA } }, { key: "bA", get: function () { return this.oA + '; codecs="' + this.MY + '"' } }, { key: "eA", get: function () { return this.pit } }, { key: "rA", get: function () { return this.fit.ei.rA } }, { key: "AA", get: function () { return this.fit.ei.AA } }, { key: "Ww", get: function () { return this.fit.ei.Ww || 0 } }, { key: "Ff", get: function () { return this.fit.ei.Ff } }, { key: "sA", get: function () { return this.fit.ei.sA } }, { key: "uA", get: function () { return this.fit.ei.uA } }, { key: "T5", get: function () { return this.H3.T5 } }, { key: "oA", get: function () { return this.fit.ei.oA || this.mit[0].oA } }, { key: "H3", get: function () { return this.Ztt } }, { key: "aA", get: function () { return this.fit.ei.aA } }, { key: "OA", get: function () { return this.mit } }, { key: "BA", get: function () { return this.fit.ei.BA || [] } }, { key: "hA", get: function () { return this.fit.ei.hA } }, { key: "cA", get: function () { return this.fit.ei.cA } }, { key: "fA", get: function () { return this.fit.ei.fA } }, { key: "MA", get: function () { return this.fit.ei.MA } }, { key: "vA", get: function () { return this.fit.ei.vA } }, { key: "Ou", get: function () { var t = (this.fit.ei.bA || this.oA).split("/")[0]; return "application" === t || "text" === t || "subtitle" === t || qg(this.oA, this.tA) ? "text" : "video" === t ? "video" : "audio" === t ? "audio" : "image" === t ? "image" : "unknown" } }, { key: "qw", get: function () { return this.fit.ei.qw || 0 } }, { key: "I8", get: function () { return this.fit.ei.Gf || "" } }, { key: "A5", get: function () { return this.oit } }, { key: "b5", get: function () { var t = this.A5, n = this.hit; if (t && n) { var i = Eo.$l(n, this.T5.Tit); return Eo.Ql(t, i) } } }]), n }(UB); function qB(t, n) { for (var i = [], e = 0; e < n.length; e++)for (var r = n[e], s = 0; s < t.length; s++) { var u = t[s]; i.push(El(u, r)) } return i } var GB = function () { function t(t, n) { this.Ztt = t, this.Sit = n, this.Ytt = n.$p, this.Eit = n.jk.Kp(this.Ytt), this.Iit = n.Tb.Kp(this.Ytt) } var n = t.prototype; return n.Rit = function (t) { var n, i = t.Od(this.Ztt.Ll); if (!i.dm() && !i.Zp(this.Ztt.Zy)) return (null === (n = this.Nit()) || void 0 === n ? void 0 : n.Hl(i)) ? this.Cit() : this.Dit(i.Kp(this.Ytt, 2)) }, n.s7 = function (t) { var n = t.Od(this.Ztt.Ll).Kp(this.Ytt, 2); if (!n.dm()) return this.xit(ha.$l(n, this.Ztt.Zy).Kp(this.Ytt, 2)) }, n.Cit = function () { return this.Oit(0) }, n.Bit = function () { var t = this.Ztt.Zy.Kp(this.Ytt, 2); if (!t.im()) return this.xit(t) }, n.b8 = function (t) { if ("dynamic" === this.Ztt.Pit.Ou) { var n = this.Mit(t); if (!n) return; return { y8: t, g8: this.Lit(t), w8: n } } var i = this.Cit(); if (i) return { y8: t, g8: i, w8: this.Bit() } }, n._it = function (t, n) { if (n) { var i = n.g8.XA, e = this.E8(n.w8); return e && (!i || e.itt.getTime() < i.getTime()) && (i = e.itt), i } var r = this.Cit(); if (r && t.getTime() < r.itt.getTime()) return r.itt; var s = this.Ztt.Pit.$A; return t.getTime() < s.getTime() ? s : void 0 }, n.Mit = function (t) { var n = ha.ek(t).Od(ha.ek(this.Ztt.Pit.$A)).Od(this.Ztt.Ll).kd(this.Eit), i = this.xit(ha.rk(n.Kp(this.Ytt, 2), ha.cm.Kp(this.Ytt, 2), this.Ztt.Zy.Kp(this.Ytt, 2))); if (i && (i = this.jit(i, t))) { for (var e = this.E8(i); e && this.G9(e, t);)i = e, e = this.E8(i); return i } }, n.Lit = function (t) { var n, i = this.Sit.Rb; if (i) { var e = ha.ek(t).Od(ha.ek(this.Ztt.Pit.$A)).Od(this.Ztt.Ll).Od(i.Pk); (n = this.xit(ha.rk(e.Kp(this.Ytt, 2), ha.cm.Kp(this.Ytt, 2), this.Ztt.Zy.Kp(this.Ytt, 2)))) || (n = this.Cit()) } else n = this.Cit(); if (n && (n = this.jit(n, t))) { for (var r = this.f7(n); r && this.G9(r, t);)n = r, r = this.f7(n); return n } }, n.jit = function (t, n) { for (var i = t; i && i.itt.getTime() > n.getTime();)i = this.f7(i); if (i) { if (i.XA && i.XA.getTime() <= n.getTime()) { var e = this.f7(i); for (e && this.G9(e, n) && (i = e); i;) { if (i.itt.getTime() > n.getTime()) return; if (this.G9(i, n)) break; i = this.E8(i) } if (!i) return } return i } }, n.G9 = function (t, n) { return t.itt.getTime() <= n.getTime() && (!t.XA || n.getTime() < t.XA.getTime()) }, n.Fit = function (t, n) { return t.$A.getTime() <= n.getTime() && (!t.XA || n.getTime() < t.XA.getTime()) }, n.Uit = function (t, n, i) { var e = n.kd(this.Ztt.Ll).Kp(this.Ytt, 2), r = ha.$l(i, this.Ztt.Zy.Od(n)).Kp(this.Ytt, 2), s = this.Vit(e, r), u = this.Hit(s, r), o = this.Git(s); return { Wk: t, zk: e, Zy: r, OP: e.kd(r), $A: s.hk(), XA: u ? u.hk() : void 0, itt: o.hk() } }, n.Vit = function (t, n) { return "dynamic" === this.Ztt.Pit.Ou ? ha.ek(this.Ztt.Pit.$A).kd(t).kd(n) : ha.ek(this.Ztt.Pit.$A) }, n.Git = function (t) { return "dynamic" === this.Ztt.Pit.Ou ? t.Od(this.Eit) : t }, n.Hit = function (t, n) { var i = ha.Km; if ("dynamic" === this.Ztt.Pit.Ou) { var e = this.Sit.Rb; e && (i = t.kd(n).kd(ha.Ym(e.Bk.um, 1))) } var r = this.Ztt.Pit.XA; return r && (i = ha.$l(i, ha.ek(r))), i.im() ? void 0 : i }, n.zit = function (t, n) { return (t.Wk + n).toString(10) }, n.u7 = function (t) { return !1 }, n.o7 = function (t, n, i, e, r) { var s = this.qit(t); if (!s) return Tt.reject(new v("Invalid segment")); var u = this.Wit(s.Wk); return u ? Tt.resolve(u) : this.Xit(s.Wk, n, i, e, r) }, n.Wit = function (t) { }, n.Xit = function (t, n, i, e, r) { return Tt.reject(new v("Not supported")) }, n.f7 = function (t) { var n = this.qit(t); if (n) return this.Oit(n.Wk - 1) }, n.E8 = function (t) { var n = this.qit(t); if (n) return this.Oit(n.Wk + 1) }, n.qit = function (t) { var n = this.Oit(t.Wk); if (n && n.zk.Hl(t.zk)) return n; var i = this.Rit(t.zk); return i && i.zk.Hl(t.zk) ? i : void 0 }, n.$it = function (t) { var n = this.h7(t); if (n && this.u7(n.Wk)) { var i = this.Wit(n.Wk); if (i) return i.$it(t) } }, n.h7 = function (t) { var n = this.Oit(t.Qit); return n && n.zk.Xl(t.zk) && t.OP.Xl(n.OP) || (n = this.Rit(t.zk)), n }, n.ntt = function (t) { var n = this.qit(t); if (!n) return !1; var i = this.Bit(); return !!i && n.Wk === i.Wk }, n.git = function (t) { var n = this.$it(t); if (!n) return !1; var i = this.Bit(); if (!i || n.Qit !== i.Wk) return !1; var e = this.Wit(n.Qit); return n.Q6 + 1 === e.Sf }, T(t, [{ key: "rM", get: function () { return this.Iit.Od(this.Ztt.Ll).Kp(this.Ytt, 2) } }]), t }(), WB = function (t) { function n(n, i) { var e; e = t.call(this, i, n) || this; var r = n.Zy; if (void 0 === r) throw new v("MultipleSegmentBase does not have a segment duration specified."); return e.Yit = r, e } rt(n, t); var i = n.prototype; return i.Oit = function (t) { if (!(t < 0)) { var n = this.Yit.zm(t); if (!n.Zp(this.Ztt.Zy)) { var i = this.Zit(); if (void 0 !== i) { if (t > i) return; if (t === i) return this.Uit(t, n, this.Ztt.Zy.Od(n)) } return this.Uit(t, n, this.Yit) } } }, i.Nit = function () { return ha.cm.Kp(this.Ytt) }, i.Dit = function (t) { var n = _.floor(t.Pm() / this.Yit.Pm()), i = this.Zit(); return void 0 !== i && n >= i ? this.Oit(i) : this.Oit(n) }, i.xit = function (t) { if (t.Hl(this.Ztt.Zy)) { var n = _.ceil(t.Pm() / this.Yit.Pm()) - 1, i = this.Zit(); return void 0 !== i && n >= i ? this.Oit(i) : this.Oit(n) } return this.Dit(t) }, i.Zit = function () { var t, n = this.Sit.Wb; if (void 0 !== n) return n - (null !== (t = this.Sit.Vb) && void 0 !== t ? t : 1) }, i.Kit = function () { if (!this.Ztt.Zy.im()) return this.Bit() }, i.Jit = function (t, n) { return this.Yit.zm(t.Wk + (n - 1)).Kp(this.Ytt).Bm().toString(10) }, i.Lh = function () { }, n }(GB); function XB(t, n) { var i = t.length; if (0 === i) return -1; for (var e = 0, r = i - 1, s = t[e].zk, u = t[r].OP; e <= r && s.lessThanOrEqual(n) && n.lessThan(u);) { var o = e + _.floor(n.subtract(s).toNumber() / u.subtract(s).toNumber() * (r - e)), a = t[o], h = a.zk, c = o + 1 < i ? t[o + 1].zk : a.OP; if (c.lessThanOrEqual(n)) e = o + 1, s = c; else { if (!n.lessThan(h)) return o; r = o - 1, u = h } } return -1 } var $B = function (t) { function n(n, i) { var e; return (e = t.call(this, i, n) || this).tet = [], e.net = void 0, e.Lh(), e } rt(n, t); var i = n.prototype; return i.Oit = function (t) { if (!(t < 0)) return t < this.tet.length ? this.iet(this.tet[t]) : this.eet(t - this.tet.length) }, i.Nit = function () { if (this.tet.length > 0) return ha.Tm(this.tet[0].zk, this.Ytt) }, i.Dit = function (t) { var n = t.Kp(this.Ytt).Bm(); if (this.net && this.net.zk.lessThanOrEqual(n)) { var i = this.net.zk, e = this.net.Zy, r = _.floor(n.subtract(i).toNumber() / e.toNumber()); return this.eet(r) } if (this.tet.length > 0 && t.Hl(ha.Tm(this.tet[0].zk, this.Ytt))) return this.iet(this.tet[0]); var s = XB(this.tet, n); return s < 0 ? void 0 : this.iet(this.tet[s]) }, i.xit = function (t) { if (!this.net && this.tet.length > 0) { var n = this.tet[this.tet.length - 1]; if (t.Zp(ha.Tm(n.OP, this.Ytt))) return this.iet(n) } var i = this.Nit(); return i && t.Wl(i) ? this.iet(this.tet[0]) : this.Dit(t) }, i.Kit = function () { return this.Ztt.Zy.im() ? this.Oit(this.tet.length - 1) : this.Bit() }, i.Jit = function (t) { return this.ret(t).Kp(this.Ytt).Bm().toString(10) }, i.iet = function (t) { return this.Uit(t.Wk, ha.Tm(t.zk, this.Ytt), ha.Tm(t.Zy, this.Ytt)) }, i.eet = function (t) { if (this.net) { var n = this.net.zk, i = this.net.Zy, e = n.add(i.multiply(t)), r = ha.Tm(e, this.Ytt); if (!r.Zp(this.Ztt.Zy)) return this.Uit(this.tet.length + t, r, ha.Tm(i, this.Ytt)) } }, i.ret = function (t) { return t.zk.Od(this.Ztt.Ll).Kp(this.Ytt, 2).kd(this.Iit) }, i.Lh = function () { var t = this.Sit.ei.Ub; if (!t) throw new v("MultipleSegmentBaseTO does not have a SegmentTimeline specified."); this.uet(t) }, i.uet = function (t) { for (var n, i = this.Iit.Bm(), e = [], r = 0, s = na.ZERO, u = 0; u < t.length; u++) { var o = t[u], a = void 0, h = o.zk ? o.zk.toSigned().subtract(i) : s, c = o.Zy.toSigned(), f = o.qk || 0, v = u + 1 < t.length && t[u + 1].zk ? t[u + 1].zk.toSigned().subtract(i) : void 0; if (f < 0) { if (u + 1 === t.length) { n = { zk: h, Zy: c }; break } for (; h.lessThan(v);)a = { Wk: r++, zk: h, Zy: c, OP: h.add(c) }, e.push(a), h = a.OP } else for (var l = 0; l <= f; l++)a = { Wk: r++, zk: h, Zy: c, OP: h.add(c) }, e.push(a), h = a.OP; a && v && a.OP.greaterThan(v) && (a.Zy = v.subtract(a.zk), a.OP = a.zk.add(a.Zy)), a && (s = a.OP) } this.tet = e, this.net = n }, n }(GB), QB = function () { function t(t, n, i) { this.oet = void 0, this.aet = void 0, this.H3 = t, this.het = n, this.Au = i } var n = t.prototype; return n.cet = function () { if (this.aet = this.fet(), this.aet) return this.aet; if (this.het) return this.het.Ub; throw new v("Missing media segment information.") }, n.yit = function (t) { var n = this._b; if (n) return { Mk: (void 0 !== n.Hk ? El(n.Hk, t.dA[0]) : t.dA[0]).href, Gk: n.Gk }; var i = this.Xk; return i ? { Mk: t.dA[0].href, Gk: [0, i[0] - 1] } : void 0 }, n.Lh = function (t) { this.Au = t, this.aet && this.aet.Lh() }, T(t, [{ key: "ei", get: function () { return this.Au } }, { key: "jk", get: function () { return this.Au && void 0 !== this.Au.jk ? ha.Ym(this.Au.jk) : this.het ? this.het.jk : ha.cm } }, { key: "Tb", get: function () { return this.Au && void 0 !== this.Au.Tb ? ha.Tm(this.Au.Tb, this.$p) : this.het ? this.het.Tb : ha.cm } }, { key: "Rb", get: function () { return this.Au && void 0 !== this.Au.Rb ? this.Au.Rb : this.het ? this.het.Rb : this.H3.Pit.Rb } }, { key: "$p", get: function () { return this.Au && void 0 !== this.Au.$p ? this.Au.$p : this.het && this.het.$p ? this.het.$p : 1 } }, { key: "Xk", get: function () { return this.Au && void 0 !== this.Au.Xk ? this.Au.Xk : this.het ? this.het.Xk : void 0 } }, { key: "_b", get: function () { return this.Au && void 0 !== this.Au._b ? this.Au._b : this.het ? this.het._b : void 0 } }, { key: "Ub", get: function () { return this.oet || (this.oet = this.cet()), this.oet } }]), t }(), YB = function (t) { function n() { return t.apply(this, arguments) || this } return rt(n, t), n.prototype.fet = function () { return this.Au.Ub ? new $B(this, this.H3) : void 0 !== this.Au.Zy ? new WB(this, this.H3) : void 0 }, T(n, [{ key: "Zy", get: function () { return void 0 !== this.Au.Zy ? ha.Sm(this.Au.Zy, this.$p) : this.het && this.het instanceof n ? this.het.Zy : void 0 } }, { key: "Vb", get: function () { return void 0 !== this.Au.Vb ? this.Au.Vb : this.het && this.het instanceof n ? this.het.Vb : void 0 } }, { key: "Wb", get: function () { return void 0 !== this.Au.Wb ? this.Au.Wb : this.het && this.het instanceof n ? this.het.Wb : void 0 } }]), n }(QB), ZB = function () { function t(t) { this.vet = t } return t.prototype.nh = function (t) { return this.vet.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)d)?\$/g, function (n, i, e) { if ("$$" === n) return "$"; var r = t[i] || ""; return e && (r = sn(r, Number(e), "0")), r }) }, t }(), KB = function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, i, e) || this).let = e.Qb ? new ZB(e.Qb) : void 0, r.det = e.Yb ? new ZB(e.Yb) : void 0, r } rt(n, t); var i = n.prototype; return i.yit = function (n) { var i = this.Qb; return i ? { Mk: El(i.nh({ Bandwidth: n.ei.lA.toString(), RepresentationID: n.ei.Ff }), n.dA[0]).href } : t.prototype.yit.call(this, n) }, i.S8 = function (t, n) { var i, e = null !== (i = n.T8.Vb) && void 0 !== i ? i : 1; return { Mk: El(this.Yb.nh({ Bandwidth: n.ei.lA.toString(), Number: n.Ub.zit(t, e), RepresentationID: n.ei.Ff, Time: n.Ub.Jit(t, e) }), n.dA[0]).href } }, i.dit = function (t, n) { }, T(n, [{ key: "Qb", get: function () { return this.let ? this.let : this.het && this.het instanceof n ? this.het.Qb : void 0 } }, { key: "Yb", get: function () { return this.det ? this.det : this.het && this.het instanceof n ? this.het.Yb : void 0 } }]), n }(YB), JB = function (t) { function n() { return t.apply(this, arguments) || this } rt(n, t); var i = n.prototype; return i.S8 = function (t, n) { var i = this.Au.Yk[t.Wk], e = n.dA[0]; return { Mk: (i.$k ? El(i.$k, e) : e).href, Gk: i.Qk } }, i.dit = function (t, n) { }, n }(YB), tO = function (t) { function n(n, i, e, r, s) { var u; return (u = t.call(this) || this).Qit = n, u._et = i, u.$p = e.$p, u.wet = r, u.Tb = s, u.yet = u.pet(e), u } rt(n, t); var i = n.prototype; return i.c7 = function (t) { if (t >= 0 && t < this.Sf) return this.met(this.yet[t]) }, i.ket = function (t) { var n = this.bet(t); if (this.yet.length > 0) { var i = this.yet[0]; if (n.Xl(ha.Tm(i.zk, this.$p))) return this.met(i) } var e = XB(this.yet, n.Kp(this.$p).Bm()); if (!(e < 0)) return this.met(this.yet[e]) }, i.a7 = function (t) { var n = this.bet(t); if (this.yet.length > 0) { var i = this.yet[this.yet.length - 1]; if (n.Zp(ha.Tm(i.OP, this.$p))) return this.met(i) } return this.ket(t) }, i.met = function (t) { var n = this.Aet(ha.Tm(t.zk, this.$p)), i = ha.Tm(t.Zy, this.$p); return { Qit: this.Qit, Q6: t.Wk, zk: n, Zy: i, OP: n.kd(i), Tet: [this._et + t._et, this._et + t.Eet] } }, i.pet = function (t) { for (var n = [], i = t.NP, e = t.CP.toNumber(), r = 0, s = 0, u = t.xP; s < u.length; s++) { var o = u[s], a = o.TP, h = na.fromNumber(o.Zy), c = i.add(h); 0 === o.AP && n.push({ Wk: r++, zk: i, Zy: h, OP: c, _et: e, Eet: e + a - 1 }), e += a, i = c } return n }, i.Aet = function (t) { return t.Od(this.Tb).kd(this.wet) }, i.bet = function (t) { return t.Od(this.wet).kd(this.Tb) }, T(n, [{ key: "Sf", get: function () { return this.yet.length } }]), n }(function () { function t() { } return t.prototype.$it = function (t) { var n = this.c7(t.Q6); if (n && n.zk.Hl(t.zk)) return n; var i = this.ket(t.zk); return i && i.zk.Hl(t.zk) ? i : void 0 }, t }()), nO = function (t) { function n(n, i) { var e; return (e = t.call(this, i, n) || this).Iet = void 0, e.Ret = n.Xk, e } rt(n, t); var i = n.prototype; return i.Oit = function (t) { if (0 === t) return this.iet() }, i.Nit = function () { return ha.cm.Kp(this.Ytt) }, i.Dit = function (t) { return this.iet() }, i.xit = function (t) { return this.Dit(t) }, i.Kit = function () { return this.iet() }, i.iet = function () { return this.Uit(0, ha.cm.Kp(this.Ytt, 2), this.Ztt.Zy.Kp(this.Ytt, 2)) }, i.Jit = function (t, n) { return "" }, i.b8 = function (t) { var n = this.Net(t); return n && { y8: t, g8: n, w8: n } }, i.Net = function (t) { var n = this.iet(); return this.G9(n, t) ? n : void 0 }, i.Mit = function (t) { return this.Net(t) }, i.Lit = function (t) { return this.Net(t) }, i.Lh = function () { }, i.u7 = function (t) { return 0 === t && void 0 !== this.Ret }, i.Wit = function (t) { return this.Iet }, i.Xit = function () { var t = St(At.mark(function t(n, i, e, r, s) { var u, o, a; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return u = i.dA[0].href, o = this.Ret, t.next = 4, r.R7(u, o, e, s); case 4: return a = t.sent, this.Iet = this.Cet(n, a), t.abrupt("return", this.Iet); case 7: case "end": return t.stop() } }, t, this) })); return function (n, i, e, r, s) { return t.apply(this, arguments) } }(), i.Cet = function (t, n) { var i = this.Ret, e = ed.MO(new DataView(n), new xi); if ("sidx" !== e.Ou) throw new v("Invalid segment index"); var r = ad.bP(e.Yo, e.ei), s = i[1] + 1; return new tO(t, s, r, this.Ztt.Ll, this.Iit) }, n }(GB), iO = function (t) { function n() { return t.apply(this, arguments) || this } rt(n, t); var i = n.prototype; return i.S8 = function (t, n) { return { Mk: n.dA[0].href } }, i.dit = function (t, n) { return { Mk: n.dA[0].href, Gk: t.Tet } }, i.fet = function () { return new nO(this, this.H3) }, T(n, [{ key: "Vb", get: function () { } }]), n }(QB), eO = function (t) { function n() { return t.call(this, "C8") || this } return rt(n, t), n }(Mn), rO = function (t) { function n(n, i, e) { var r; return (r = t.call(this) || this).Sit = void 0, r.Det = ha.Km, r.xet = void 0, r.Ye = i, r.Oet(n, e), r } rt(n, t); var i = n.prototype; return i.Bet = function () { return this.Sit || this.Ye && this.Ye.Bet() }, i.Pet = function (t) { var n = this.H3, i = this.Ye && this.Ye.Bet(); this.Au.mA ? this.Sit = new KB(n, i, this.Au.mA) : this.Au.pA ? this.Sit = new JB(n, i, this.Au.pA[0]) : this.Au.yA ? this.Sit = new iO(n, i, this.Au.yA) : t && !i && (this.Sit = new iO(n, i, void 0)) }, i.Oet = function (t, n) { this.Au = t, this.Met = t.dA && t.dA.length > 0 ? qB(t.dA.map(function (t) { return t.Mk }), n) : n.slice(), this.Sit && (t.mA ? this.Sit.Lh(t.mA) : t.pA ? this.Sit.Lh(t.pA[0]) : t.yA && this.Sit.Lh(t.yA)) }, i.ait = function () { var t; return null === (t = this.xet) || void 0 === t ? void 0 : t.Let }, i._it = function () { var t; return null === (t = this.xet) || void 0 === t ? void 0 : t.jet }, i.Fet = function (t) { var n = this.Det, i = this.H3.Zy, e = this.xet, r = this.Uet(t); e && i.Hl(n) && aO(e, r) || (this.Det = i, this.xet = r, this._o(new eO)) }, i.oo = function () { this.To() }, T(n, [{ key: "ei", get: function () { return this.Au } }, { key: "dA", get: function () { return this.Met } }]), n }(Pn); function sO(t) { for (var n, i = 0; i < t.length; i++) { var e = t[i].ait(); if (e) { n = e.Ll; break } } if (n) { for (var r, s = t.length - 1; s >= 0; s--) { var u = t[s].ait(); if (u) { r = u.Fl; break } } if (r) return { Ll: n, Fl: r } } } function uO(t) { if (0 !== t.length) { for (var n = ha.cm, i = ha.Km, e = 0; e < t.length; e++) { var r = t[e].ait(); if (!r) return; if (n = ha.Ql(n, r.Ll), i = ha.$l(i, r.Fl), n.Zp(i)) return } return { Ll: n, Fl: i } } } function oO(t) { for (var n, i = 0; i < t.length; i++) { var e = t[i]._it(); e && (!n || e.getTime() < n.getTime()) && (n = e) } return n } function aO(t, n) { return function (t, n) { return t && n ? t.getTime() === n.getTime() : t === n }(t.jet, n.jet) && function (t, n) { return t && n ? t.Ll.Hl(n.Ll) && t.Fl.Hl(n.Fl) : t === n }(t.Let, n.Let) } var hO = function (t) { function n(n, i, e) { var r; (r = t.call(this) || this).Ztt = n, r.Bw = i, r.Vet = e.slice(); for (var s = 0; s < e.length; s++) { e[s].mo("C8", r.uit) } return r } rt(n, t); var i = n.prototype; return i.ait = function () { return uO(this.Vet) }, i._it = function () { for (var t, n = 0, i = this.Vet; n < i.length; n++) { var e = i[n]._it(); e && (!t || e.getTime() < t.getTime()) && (t = e) } return t }, i.Af = function () { this.To(); for (var t = 0, n = this.Vet; t < n.length; t++) { n[t].So("C8", this.uit) } }, T(n, [{ key: "GA", get: function () { return this.Vet } }, { key: "tA", get: function () { return this.GA.reduce(function (t, n) { for (var i = 0, e = n.tA; i < e.length; i++) { var r = e[i]; kn(t, r) || t.push(r) } return t }, []) } }, { key: "MY", get: function () { return this.tA.length > 0 ? this.tA[0] : "" } }, { key: "Ou", get: function () { return this.Vet[0].Ou } }, { key: "Ff", get: function () { return this.Bw } }, { key: "T5", get: function () { return this.Ztt.T5 } }, { key: "oA", get: function () { return this.Vet[0].oA } }, { key: "H3", get: function () { return this.Ztt } }, { key: "OA", get: function () { return function (t, n) { for (var i = [], e = 0; e < t.length; e++) { var r = t[e]; i.push.apply(i, n(r)) } return i }(this.GA, function (t) { return t.OA }) } }]), n }(UB), cO = function (t) { function n() { return t.call(this, "knt") || this } return rt(n, t), n }(Mn); function fO(t) { for (var n = [], i = function (i) { var e = t[i], r = void 0, s = e.AA; void 0 === s || (r = wn(n, function (t) { return t.Ff === s })), r || (r = { Ff: s, GA: [] }, n.push(r)), r.GA.push(e) }, e = 0; e < t.length; e++)i(e); return n } var vO = function (t) { function n(n, i) { var e; return (e = t.call(this) || this).Vet = [], e.Het = [], e.Get = !1, e.zet = n, e.fit = i, e.fit.mo("C8", e.uit), e } rt(n, t); var i = n.prototype; return i.qet = function (t, n) { if (0 !== this.Het.length) { for (var i = t, e = 0, r = this.Het; e < r.length; e++) { var s = r[e], u = s.Ou; if ("audio" === u || "video" === u) { var o = s.hit; if (!o) return; i = n(i, o) } } return i } }, i.Wet = function () { this.Get || (this.Get = !0, this._o(new cO), this.Af()) }, i.Lh = function () { var t = St(At.mark(function t(n, i) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (0 !== this.Vet.length) { t.next = 7; break } return t.next = 3, this.Xet(this.fit.GA, n, i); case 3: this.$et(this.Vet), Rn(i), t.next = 9; break; case 7: return t.next = 9, this.Qet(n, i); case 9: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.Xet = function () { var t = St(At.mark(function t(n, i, e) { var r, s, u; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: r = 0; case 1: if (!(r < n.length)) { t.next = 17; break } return s = n[r], u = new zB(this, s), t.prev = 4, t.next = 7, u.Lh(i, e); case 7: this.Vet.push(u), t.next = 14; break; case 10: t.prev = 10, t.t0 = t.catch(4), Cn(t.t0); case 14: r++, t.next = 1; break; case 17: case "end": return t.stop() } }, t, this, [[4, 10]]) })); return function (n, i, e) { return t.apply(this, arguments) } }(), i.$et = function (t) { for (var n = fO(t), i = 0; i < n.length; i++) { var e = n[i], r = new hO(this, e.Ff, e.GA); this.Het.push(r) } }, i.Qet = function () { var t = St(At.mark(function t(n, i) { var e, r, s; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: e = 0, r = this.Vet; case 1: if (!(e < r.length)) { t.next = 8; break } return s = r[e], t.next = 5, s.Lh(n, i); case 5: e++, t.next = 1; break; case 8: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.ait = function () { return this.fit.ait() }, i._it = function () { return this.fit._it() }, i.Af = function () { this.To(), this.fit.So("C8", this.uit); for (var t = 0, n = this.Het; t < n.length; t++) { n[t].Af() } for (var i = 0, e = this.Vet; i < e.length; i++) { e[i].Af() } An(this.Vet), An(this.Het) }, T(n, [{ key: "GA", get: function () { return this.Vet } }, { key: "Snt", get: function () { return this.Het } }, { key: "zA", get: function () { return this.fit.ei.zA } }, { key: "Zy", get: function () { return this.fit.Zy.ck() } }, { key: "Fl", get: function () { return this.Ll.kd(this.Zy) } }, { key: "qA", get: function () { return this.fit.ei.qA || [] } }, { key: "Ff", get: function () { return this.fit.Ff } }, { key: "knt", get: function () { return this.Get } }, { key: "T5", get: function () { return this.zet } }, { key: "Yet", get: function () { return this.zet.Zet(this) } }, { key: "H3", get: function () { return this } }, { key: "Ket", get: function () { return this.zet.Jet(this) } }, { key: "trt", get: function () { return this.qet(Eo.fm, Eo.$l) } }, { key: "nnt", get: function () { return this.qet(Eo.cm, Eo.Ql) } }, { key: "Ll", get: function () { return this.fit.Ll.ck() } }, { key: "TT", get: function () { return this.T5.TT } }]), n }(UB), lO = function (t) { function n() { return t.call(this, es._l) || this } return rt(n, t), n }(Mn), dO = function (t) { function n() { return t.call(this, "Z3") || this } return rt(n, t), n }(Mn), gO = function (t) { function n(n, i) { var e; return (e = t.call(this, n, i, i.dA) || this).nrt = void 0, e.v8 = i, e.Pet(!0), e } rt(n, t); var i = n.prototype; return i.yit = function () { return this.T8.yit(this) }, i.S8 = function (t) { return this.T8.S8(t, this) }, i.dit = function (t) { return this.T8.dit(t, this) }, i.b8 = function () { return this.nrt }, i.Uet = function (t) { var n = this.Ub.b8(t), i = n && yD(n), e = this.Ub._it(t, n); return this.nrt = n, { y8: t, Let: i, jet: e } }, i.Lh = function (t) { this.Oet(t, this.v8.dA) }, T(n, [{ key: "Q3", get: function () { return this.v8 } }, { key: "H3", get: function () { return this.v8.H3 } }, { key: "Pit", get: function () { return this.v8.Pit } }, { key: "T8", get: function () { return this.Bet() } }, { key: "Ub", get: function () { return this.T8.Ub } }]), n }(rO), _O = function (t) { function n(n, i) { var e; return (e = t.call(this, n, i, i.dA) || this).Ztt = i, e.Pet(!1), e.mit = n.OA.map(function (t) { return new gO(t, st(e)) }), e } rt(n, t); var i = n.prototype; return i.Lh = function (t) { this.Oet(t, this.Ztt.dA); var n = t.OA || []; if (this.mit.length !== n.length) throw new v("Expected " + this.mit.length + ' representations in adaptation set "' + t.Ff + '", found ' + n.length); for (var i = 0; i < n.length; i++)this.mit[i].Lh(n[i]) }, i.Fet = function (n) { for (var i = 0, e = this.mit; i < e.length; i++) { e[i].Fet(n) } t.prototype.Fet.call(this, n) }, i.Uet = function (t) { return { y8: t, Let: uO(this.mit), jet: oO(this.mit) } }, i.oo = function () { for (var n = 0, i = this.mit; n < i.length; n++) { i[n].oo() } t.prototype.oo.call(this) }, T(n, [{ key: "OA", get: function () { return this.mit } }, { key: "H3", get: function () { return this.Ztt } }, { key: "Pit", get: function () { return this.Ztt.Pit } }, { key: "AA", get: function () { return this.Au.AA } }]), n }(rO), wO = function (t) { function n(n, i, e, r) { var s; return (s = t.call(this, i, void 0, n.dA) || this).Het = [], s.irt = n, s.KP = e, s.KC = r, s.Pet(!1), s.Vet = (i.GA || []).map(function (t) { return new _O(t, st(s)) }), s.Het = fO(s.Vet), s } rt(n, t); var i = n.prototype; return i.Lh = function (t, n) { this.Oet(t, this.irt.dA), this.KC = n; var i = t.GA || []; if (this.Vet.length !== i.length) throw new v("Expected " + this.Vet.length + ' adaptation sets in period "' + t.Ff + '", found ' + i.length); for (var e = 0; e < i.length; e++)this.Vet[e].Lh(i[e]) }, i.Fet = function (n) { for (var i = 0, e = this.Vet; i < e.length; i++) { e[i].Fet(n) } t.prototype.Fet.call(this, n) }, i.Uet = function (t) { return { y8: t, Let: uO(this.Vet), jet: oO(this.Vet) } }, i.oo = function () { for (var n = 0, i = this.Vet; n < i.length; n++) { i[n].oo() } t.prototype.oo.call(this) }, T(n, [{ key: "GA", get: function () { return this.Vet } }, { key: "Snt", get: function () { return this.Het } }, { key: "H3", get: function () { return this } }, { key: "Pit", get: function () { return this.irt } }, { key: "Ff", get: function () { return this.Au.Ff } }, { key: "Ll", get: function () { return this.KP } }, { key: "Zy", get: function () { return this.KC } }]), n }(rO), yO = new Date("2000-01-01"), pO = function (t) { function n(n, i, e, r, s) { var u; if (void 0 === s && (s = 0), (u = t.call(this) || this).xet = void 0, u.ert = void 0, u.rrt = void 0, u.urt = [], u.ort = i, u.art = s, u.Lh(n, e, r), "dynamic" === n.Ou) { var o = u.Kit(), a = null == o ? void 0 : o.XA; o && a && a.getTime() < yO.getTime() && (u.rrt = ha.ek(u.eT).Od(o.zk).Od(o.Zy).hk(), u.Fet(u.hrt(r))) } return u } rt(n, t); var i = n.prototype; return i.hrt = function (t) { return new Date(t.getTime() + this.art) }, i.crt = function (t) { return new Date(t.getTime() - this.art) }, i.ait = function () { var t; return null === (t = this.xet) || void 0 === t ? void 0 : t.Let }, i._it = function () { var t; return null === (t = this.xet) || void 0 === t ? void 0 : t.jet }, i.Lh = function (t, n, i) { var e; this.Au = t, this.frt = n, this.vrt = i; var r, s = [(r = n, El(".", r))]; this.Met = t.dA && t.dA.length > 0 ? qB(t.dA.map(function (t) { return t.Mk }), s) : s, this.lrt = t.QA && t.QA.length > 0 ? qB(t.QA, this.Met) : []; var u = this.lrt.map(function (t) { return t.href }), o = n.href; kn(u, o) || (this.lrt.push(n), u.push(o)); var a = this.ort.href; kn(u, a) || (this.lrt.push(this.ort), u.push(a)), this.ert = null === (e = t.JA) || void 0 === e ? void 0 : e.Pk; var h = "dynamic" === t.Ou, c = function (t, n, i) { for (var e = [], r = 0; r < t.length; r++) { var s = t[r], u = void 0; if (s.Ll) u = s.Ll.Pk.Kp(1e3); else if (r > 0 && t[r - 1].Zy) { var o = e[r - 1], a = t[r - 1].Zy.Pk.Kp(1e3); u = o.kd(a) } else { if (0 !== r || n) break; u = ha.cm.Kp(1e3) } e.push(u) } for (var h = [], c = 0; c < e.length - 1; c++)h.push({ ei: t[c], Ll: e[c], Zy: e[c + 1].Od(e[c]) }); if (e.length > 0) { var f = e.length - 1, v = t[f], l = e[f], d = n ? ha.Km : v.Zy ? v.Zy.Pk.Kp(1e3) : i.Od(l); h.push({ ei: v, Ll: l, Zy: d }) } return h }(t.iT, h, this.ert); this.drt(c), this.Fet(this.hrt(i)) }, i.drt = function (t) { var n = this.urt; if (0 !== t.length) { for (var i = t[0].ei.Ff, e = 0; e < n.length && n[e].Ff !== i;)e++; for (var r = n.splice(0, e), s = 0; s < r.length; s++) { r[s].oo() } for (var u = 0; u < t.length; u++) { var o = t[u]; if (u < n.length) { var a = n[u]; 0, a.Lh(o.ei, o.Zy) } else n.push(new wO(this, o.ei, o.Ll, o.Zy)) } } else An(n) }, i.Fet = function (t) { for (var n = 0, i = this.urt; n < i.length; n++) { i[n].Fet(t) } var e = this.xet, r = this.Uet(t); e && aO(e, r) || (this.xet = r, this._o(new eO)) }, i.Uet = function (t) { return { y8: t, Let: sO(this.urt), jet: oO(this.urt) } }, i.Kit = function () { if (0 !== this.urt.length) { var t = this.urt[this.urt.length - 1]; if (t.Zy.im() && 0 !== t.GA.length) { var n = t.GA[0]; if (0 !== n.OA.length) return n.OA[0].Ub.Kit() } } }, i.oo = function () { this.To(); for (var t = 0, n = this.urt; t < n.length; t++) { n[t].oo() } }, T(n, [{ key: "ei", get: function () { return this.Au } }, { key: "Ou", get: function () { return this.Au.Ou || "static" } }, { key: "$A", get: function () { return this.rrt || this.Au.$A || this.eT } }, { key: "XA", get: function () { return this.Au.XA } }, { key: "JA", get: function () { return this.ert } }, { key: "dA", get: function () { return this.Met } }, { key: "QA", get: function () { return this.lrt } }, { key: "iT", get: function () { return this.urt } }, { key: "eT", get: function () { return this.Au.eT || this.hrt(this.vrt) } }, { key: "Rb", get: function () { return this.Au.Rb } }]), n }(Pn); var mO = function (t) { function n(n, i, r, s) { var u; return (u = t.call(this) || this).fit = void 0, u._rt = void 0, u.grt = !0, u.urt = [], u.wrt = void 0, u.yrt = n, u.prt = n.tv, u.mrt = i, u.OS = r, u.krt = s, u.brt = new Oi, u.Art = it() - e.Wc(), u.Trt().catch(Nn), u } rt(n, t); var i = n.prototype; return i.Srt = function (t) { var n = this.dg; this.grt = t, n !== this.dg && this._o(new dO) }, i.Lh = function () { var t = St(At.mark(function t(n, i) { var e, r, s, u, o, a, h, c, f, v, l, d, g, _, w; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (r = [], s = [], u = this.Ert(), o = n.YA ? El(n.YA, this.prt) : this.prt, this.brt.nh(n.sT), void 0 !== this.fit) { t.next = 12; break } return t.next = 8, this.Trt(); case 8: a = t.sent, this.fit = new pO(n, this.prt, o, u, a), t.next = 13; break; case 12: this.fit.Lh(n, o, u); case 13: if (this._rt = u, 0 === (h = this.fit.iT).length) c = this.urt.slice(), An(this.urt); else { for (f = h[0].Ff, v = 0; v < this.urt.length && this.urt[v].Ff !== f;)v++; for (c = this.urt.splice(0, v), l = 0; l < h.length; l++)d = h[l], g = void 0, l < this.urt.length ? g = this.urt[l] : (g = new vO(this, d), r.push(g)), s.push(g.Lh(this.mrt, i)) } return t.next = 18, Tt.all(s); case 18: for ((e = this.urt).push.apply(e, r), _ = 0, w = c; _ < w.length; _++)w[_].Wet(); this._o(new lO); case 21: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.Trt = function () { return void 0 === this.wrt && (this.wrt = this.Irt(this.krt)), this.wrt }, i.Irt = function () { var t = St(At.mark(function t(n) { var i, e, r, s; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!this.yrt.Rrt) { t.next = 4; break } return t.next = 3, this.Nrt(this.yrt.Rrt, n); case 3: i = t.sent; case 4: if (void 0 !== i) { t.next = 19; break } return t.next = 7, Dn(this.brt._a, n); case 7: e = t.sent, r = 0; case 9: if (!(r < e.length)) { t.next = 19; break } return s = e[r], t.next = 13, this.Crt(s, n); case 13: if (void 0 === (i = t.sent)) { t.next = 16; break } return t.abrupt("break", 19); case 16: r++, t.next = 9; break; case 19: if (void 0 !== i) { t.next = 21; break } return t.abrupt("return", 0); case 21: return t.abrupt("return", i - this.Ert().getTime()); case 22: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.Crt = function () { var t = St(At.mark(function t(n, i) { var e, r, s, u; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: e = n.Vk, t.t0 = e, t.next = "urn:mpeg:dash:utc:http-xsdate:2012" === t.t0 ? 4 : "urn:mpeg:dash:utc:http-xsdate:2014" === t.t0 ? 4 : "urn:mpeg:dash:utc:http-iso:2012" === t.t0 ? 4 : "urn:mpeg:dash:utc:http-iso:2014" === t.t0 ? 4 : "urn:mpeg:dash:utc:direct:2012" === t.t0 ? 10 : "urn:mpeg:dash:utc:direct:2014" === t.t0 ? 10 : 16; break; case 4: if (!(r = n.Hn)) { t.next = 9; break } return t.next = 8, this.Nrt(r, i); case 8: return t.abrupt("return", t.sent); case 9: return t.abrupt("break", 17); case 10: if (!(s = n.Hn)) { t.next = 15; break } if (u = new Date(s).getTime(), p(u)) { t.next = 15; break } return t.abrupt("return", u); case 15: return t.abrupt("break", 17); case 16: return t.abrupt("return"); case 17: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.Nrt = function () { var t = St(At.mark(function t(n, i) { var e, r, s; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, t.next = 3, this.OS.HT({ Mk: n, pT: "GET", mT: Xa.dT, _h: i }); case 3: return e = t.sent, t.next = 6, e.hq(); case 6: if (r = t.sent, s = new Date(r).getTime(), p(s)) { t.next = 10; break } return t.abrupt("return", s); case 10: t.next = 16; break; case 12: t.prev = 12, t.t0 = t.catch(0), Cn(t.t0); case 16: case "end": return t.stop() } }, t, this, [[0, 12]]) })); return function (n, i) { return t.apply(this, arguments) } }(), i.Ert = function () { return new Date(this.Art + e.Wc()) }, i.z9 = function () { return this.hrt(this.Ert()) }, i.hrt = function (t) { return this.fit.hrt(t) }, i.Jet = function (t) { var n = this.urt.indexOf(t); if (n > 0) return this.urt[n - 1] }, i.Zet = function (t) { var n = this.urt.indexOf(t); if (n >= 0 && n + 1 < this.urt.length) return this.urt[n + 1] }, i.ait = function () { return this.fit ? this.fit.ait() : void 0 }, i._it = function () { return this.fit && this.fit._it() }, i.Fet = function (t) { this.fit && this.fit.Fet(t || this.z9()) }, i.Af = function () { this.To(), this.wrt = void 0, this.brt.eh(), se(this.brt._a), this.Srt(!1); for (var t = 0, n = this.urt; t < n.length; t++) { n[t].Af() } An(this.urt), this.fit && this.fit.oo() }, T(n, [{ key: "XA", get: function () { return this.fit && this.fit.XA } }, { key: "$A", get: function () { return this.fit && this.fit.$A } }, { key: "Ff", get: function () { return this.fit && this.fit.ei.Ff } }, { key: "Drt", get: function () { return this._rt } }, { key: "QA", get: function () { return this.fit ? this.fit.QA.map(function (t) { return t.href }) : [this.xrt] } }, { key: "xrt", get: function () { return this.prt.href } }, { key: "ZA", get: function () { return this.fit && this.fit.ei.ZA } }, { key: "KA", get: function () { return this.fit && this.fit.ei.KA } }, { key: "JA", get: function () { return this.fit && this.fit.ei.JA } }, { key: "tT", get: function () { return this.fit && this.fit.ei.tT } }, { key: "nT", get: function () { return this.fit && this.fit.ei.nT } }, { key: "dg", get: function () { return this.grt } }, { key: "iT", get: function () { return this.urt } }, { key: "Ort", get: function () { return "static" === this.Ou ? this.Brt : this.Tit } }, { key: "Prt", get: function () { var t = this.Ort; if (t) for (var n = 0, i = this.iT; n < i.length; n++) { var e = i[n]; if (e.Ll.Xl(t) && e.Fl.Jp(t)) return e } } }, { key: "aA", get: function () { return this.fit && this.fit.ei.aA } }, { key: "eT", get: function () { return this.fit && this.fit.eT } }, { key: "Tit", get: function () { for (var t = this.urt.length - 1; t >= 0; t -= 1) { var n = this.urt[t].trt; if (n) { var i = n.Od(this.Mrt); return Eo.Ql(i, this.Brt) } } } }, { key: "Brt", get: function () { for (var t = 0, n = this.urt; t < n.length; t++) { var i = n[t].oit; if (i) return i } } }, { key: "TT", get: function () { return !!this.yrt.TT } }, { key: "Mrt", get: function () { var t = this.fit && this.fit.ei.rT; return t ? t.Bk : "dynamic" === this.Ou ? this.Lrt : Eo.cm } }, { key: "rT", get: function () { var t, n; return null === (n = null === (t = this.fit) || void 0 === t ? void 0 : t.ei.rT) || void 0 === n ? void 0 : n.Bk } }, { key: "Lrt", get: function () { return this.yrt.Lrt ? new Eo(this.yrt.Lrt, 1) : this.tT.Bk.nm(1.5) } }, { key: "Rb", get: function () { return this.fit && this.fit.Rb } }, { key: "Ou", get: function () { return this.fit ? this.fit.Ou : "static" } }]), n }(Pn), kO = function () { function t(t, n, i, e) { this.zet = new mO(t, n, i, e) } return T(t, [{ key: "T5", get: function () { return this.zet } }]), t }(); function bO(t) { switch (t.name) { case "Iq": case "Nq": case "Cq": return !0 }return !1 } var AO = _.pow(2, 31) - 1, TO = function () { function t(t, n, i, e) { var r = this; this.jrt = new ie, this.Frt = function () { var t = St(At.mark(function t(n) { var i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, t.next = 3, r.Urt(r.fit.T5.QA, n); case 3: return i = t.sent, t.next = 6, r.fit.T5.Lh(i, n); case 6: t.next = 12; break; case 8: throw t.prev = 8, t.t0 = t.catch(0), bO(t.t0) && r.fit.T5.Srt(!1), t.t0; case 12: case "end": return t.stop() } }, t, null, [[0, 8]]) })); return function (n) { return t.apply(this, arguments) } }(), this.Jnt = e, this.fit = new kO(t, n, i, this.jrt._h) } var n = t.prototype; return n.hW = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.fit.T5._o(new BR), t.prev = 1, t.next = 4, xB(this.Frt, n); case 4: this.fit.T5.Srt(!0), t.next = 13; break; case 7: throw t.prev = 7, t.t0 = t.catch(1), Cn(t.t0), this.Vrt = void 0, this.fit.T5.Srt(!1), new v("The provided MPEG-DASH document could not be loaded - " + t.t0.message); case 13: this.Hrt = this.Grt(this.jrt._h); case 14: case "end": return t.stop() } }, t, this, [[1, 7]]) })); return function (n) { return t.apply(this, arguments) } }(), n.Grt = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: t.prev = 0; case 1: if ("static" === this.fit.T5.Ou) { t.next = 6; break } return t.next = 4, Dn(this.zrt, n); case 4: t.next = 1; break; case 6: t.next = 10; break; case 8: t.prev = 8, t.t0 = t.catch(0); case 10: case "end": return t.stop() } }, t, this, [[0, 8]]) })); return function (n) { return t.apply(this, arguments) } }(), n.qrt = function () { var t = St(At.mark(function t(n) { var i, e, r, s; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (Rn(n), i = this.fit.T5.Ert(), e = i.getTime() - this.fit.T5.Drt.getTime(), r = _.max(this.fit.T5.nT.Ek(), 1e3), !(e < r)) { t.next = 8; break } return s = _.min(r - e, AO), t.next = 8, ae(s, n); case 8: return t.prev = 8, t.next = 11, xB(this.Frt, n, 1 / 0, 1e3, 3e4); case 11: this.fit.T5.Srt(!0); case 12: return t.prev = 12, this.Wrt = void 0, t.finish(12); case 15: case "end": return t.stop() } }, t, this, [[8, , 12, 15]]) })); return function (n) { return t.apply(this, arguments) } }(), n.Xrt = function () { var t = St(At.mark(function t(n) { var i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.Wrt || (this.Wrt = this.qrt(n)), (i = new ie).lh(n), t.prev = 3, t.next = 6, Tt.race([this.Wrt, this.$rt(i._h)].filter(P)); case 6: t.next = 11; break; case 8: t.prev = 8, t.t0 = t.catch(3), Nn(t.t0); case 11: return t.prev = 11, i.eh(), t.finish(11); case 14: case "end": return t.stop() } }, t, this, [[3, 8, 11, 14]]) })); return function (n) { return t.apply(this, arguments) } }(), n.$rt = function (t) { var n = this.fit.T5.z9(), i = this.fit.T5._it(); if (i && i.getTime() <= n.getTime() && (this.fit.T5.Fet(n), i = this.fit.T5._it()), i) { var e = i.getTime() - n.getTime(); return this.Qrt(e, t) } }, n.Qrt = function () { var t = St(At.mark(function t(n, i) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, ae(n, i); case 2: this.fit.T5.Fet(); case 3: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), n.Urt = function () { var t = St(At.mark(function t(n, i) { var e, r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, this.Jnt.Ynt(n, {}, !1, i); case 2: return e = t.sent, r = new $a, t.abrupt("return", r.uT(e.Xnt, e.Tq)); case 5: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), n.Af = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: this.jrt.eh(), this.Hrt = void 0, this.Vrt = void 0, this.Wrt = void 0, this.fit.T5.Af(); case 5: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), T(t, [{ key: "Yrt", get: function () { return this.fit } }, { key: "xS", get: function () { return this.Vrt || (this.Vrt = this.hW(this.jrt._h), se(this.Vrt)), this.Vrt } }, { key: "zrt", get: function () { return this.fit.T5.Drt && "static" !== this.fit.T5.Ou ? this.Xrt(this.jrt._h) : this.xS } }]), t }(); function SO(t, n) { var i, e = wn(t.og.Tf, function (t) { return t.jf }); return IO(n.og.Tf, [RO(e, t.UD, n.UD), (i = e, function (t) { var n = i ? i.Gf : "", e = t.some(function (t) { return "" !== t.Gf }) ? t.filter(function (t) { return "" !== t.Gf }) : t; if ("" === n) return e; var r = wn(e, function (t) { return t.Gf === n }); return r ? [r] : e }), CO()]) } function EO(t, n) { var i = wn(t.Tg.Tf, function (t) { return t.jf }); return IO(n.Tg.Tf, [RO(i, t.UD, n.UD), CO()]) } function IO(t, n) { if (0 !== t.length) { for (var i = t, e = 0; e < n.length; e++) { var r = n[e]; if (1 === i.length) return i[0]; i = r(t) } return i[0] } } function RO(t, n, i) { return function (e) { var r = t ? t.Q3.Ff : void 0; if (!P(r)) return e; var s = n.zA, u = i.zA, o = s && u && s.Hn === u.Hn, a = wn(e, function (t) { return t.Q3.Ff === r }); return o && a ? [a] : e } } function CO() { return function (t) { for (var n = [], i = -1 / 0, e = 0; e < t.length; e++) { var r = t[e], s = r.Q3.MA; s > i ? (i = s, n = [r]) : s === i && n.push(r) } return n } } var NO = function () { function t(t) { var n = this; this.Zrt = Tt.resolve(), this.Krt = new ie, this.Jrt = function () { n.Krt.eh(), n.Krt = new ie }, this.tst = function () { var t = St(At.mark(function t(i) { var e, r, s; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return e = n.nst, t.next = 3, e.Ro("waiting", i); case 3: "dynamic" === e.ist && (r = e.rst.Sf) > 0 && (s = e.rst.Fl(r - 1), e.$o(s)); case 5: case "end": return t.stop() } }, t) })); return function (n) { return t.apply(this, arguments) } }(), this.sst = function () { n.Jrt(), n.Zrt = n.tst(n.Krt._h) }, this.nst = t, this.nst.mo(es.Nl, this.sst), this.nst.mo(es.Rl, this.Jrt) } return t.prototype.Af = function () { this.nst.So(es.Nl, this.sst), this.nst.So(es.Rl, this.Jrt), this.Krt.eh() }, t }(), DO = function (t) { function n() { return t.call(this, "online") || this } return rt(n, t), n }(Mn), xO = function (t) { function n() { return t.call(this, "offline") || this } return rt(n, t), n }(Mn), BO = ["progress", "readystatechange", "waiting", "playing", "canplay", "canplaythrough", "representationchange", "segmentnotfound", "encrypted", "contentprotectionsuccess", "nosupportedrepresentationfound", "resize", "m3", "b3"]; var OO = function (t) { function n(n, i, e, r, s, u, o, a) { var h; if ((h = t.call(this) || this).ust = !1, h.KC = NaN, h.Jg = void 0, h.z5 = !1, h.M5 = void 0, h.ost = !1, h.ast = !1, h.aj = new ie, h.hst = new Oi, h.cst = !1, h.fit = void 0, h.fst = void 0, h.XS = !1, h.grt = !0, h.tx = !0, h.aY = 1, h.V5 = RE.Vd(), h.cV = X_.Iw, h.vst = void 0, h.Bnt = void 0, h.lst = void 0, h.oY = !1, h.sx = 1, h.uH = !0, h.dst = new ie, h.F5 = new ie, h._st = Tt.resolve(), h.gst = !1, h.wst = !1, h.QU = function () { h._o(new Ph(h.yg, h.cg)) }, h.yst = function (t) { h.wst || (h._o(t), h.wst = !0) }, h.pst = function () { var t = h.mst.UD, n = NaN; t && !t.Yet ? n = h.mst.Fl.um : h.fit && (n = h.fit.T5.JA ? h.fit.T5.JA.Bk.um : 1 / 0), n !== h.KC && (h.KC = n, h._o(new Oh(h.KC))) }, h.kst = function (t) { h.mst.UD.Yet ? h.bst(h.Ast) : h._o(t) }, h.Tst = function (t) { h.do(t), h.ast || (h.ast = !0, h._o(new Rh(h.yg, h.Zf))) }, h.Sst = function () { h.fit.T5.So(es.dl, h.Sst), h._o(new BR) }, h.yU = function (t) { h.W8(new au(uu.ENCRYPTED, t.error, void 0, t.systemCode)), h._o(t) }, h.Est = function (t) { t.error instanceof au ? h.W8(t.error) : h.W8(new au(uu.DECODE, t.error.message)) }, h.Ist = function (t) { In(t) || h.W8(new au(uu.DECODE, t.message)) }, h.Rst = function (t) { if (h.Nst && !h.rN) { var n = h.fit.T5.Ort; 0, h.$o(n) } }, h.Cst = function (t) { h.ost = h.pg, h._o(t) }, h.Dst = function (t) { var n = h.ost, i = h.pg; h.ost = i, n && !i && h._o(t) }, h.If = function (t) { var n = t.df; n instanceof U_ && h.ML.pf(n) }, h.Rf = function (t) { var n = t.df; n instanceof U_ && h.ML.kf(n) }, h.xst = function () { h.Srt(h.fit.T5.dg) }, !PI) throw new au(uu.SRC_NOT_SUPPORTED, MI); return h.OS = e, h.F3 = u, h.Ost = h.mst = new bB(n, i, e, s, u, o), h.Ost.B_(), h.Bst = h.Ast = new bB(n, i, e, s, u, o), h.mst.mo("knt", h.Rst), h.Ast.mo("knt", h.Rst), h.L_ = new Hr, h.L_.xf = h.mst.og, h.M_ = new Hr, h.M_.xf = h.mst.Tg, h.Pst = a, h.Mst = new Yr, h.Lst = new Yr, h.gV = new iw(h.OS), h.j_ = new W_([h.Mst, h.Lst, h.gV.pO]), h.Mst.xf = h.mst.Ag, h.ML = new b_(st(h)), h.Ag.mo("_f", h.If), h.Ag.mo("gf", h.Rf), h.Cf(), h.jst(h.mst), h.Fst = new NO(st(h)), h } rt(n, t), n.wV = function () { var t = St(At.mark(function t(i) { var e; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (r.MediaSource) { t.next = 2; break } return t.abrupt("return", !1); case 2: if (ff(i.type)) { t.next = 4; break } return t.abrupt("return", !1); case 4: if (!(e = i.contentProtection) || qs(e)) { t.next = 12; break } if (Xs(e)) { t.next = 8; break } return t.abrupt("return", !1); case 8: return t.next = 10, n.Ust(e); case 10: if (t.sent) { t.next = 12; break } return t.abrupt("return", !1); case 12: return t.abrupt("return", !0); case 13: case "end": return t.stop() } }, t) })); return function (n) { return t.apply(this, arguments) } }(), n.Ust = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (t.t0 = n.playready, !t.t0) { t.next = 5; break } return t.next = 4, e.Wu(); case 4: t.t0 = t.sent; case 5: if (!t.t0) { t.next = 7; break } return t.abrupt("return", !0); case 7: if (t.t1 = n.widevine, !t.t1) { t.next = 12; break } return t.next = 11, e.Vu(); case 11: t.t1 = t.sent; case 12: if (!t.t1) { t.next = 14; break } return t.abrupt("return", !0); case 14: if (t.t2 = n.clearkey, !t.t2) { t.next = 19; break } return t.next = 18, e.Gu(); case 18: t.t2 = t.sent; case 19: if (!t.t2) { t.next = 21; break } return t.abrupt("return", !0); case 21: return t.next = 23, e.Yu(); case 23: if (!t.sent) { t.next = 25; break } return t.abrupt("return", !0); case 25: return t.abrupt("return", !1); case 26: case "end": return t.stop() } }, t) })); return function (n) { return t.apply(this, arguments) } }(); var i = n.prototype; return i.Cf = function () { this.mst.mo(BO, this.do), this.mst.mo(es.Dl, this.QU), this.mst.mo("loadeddata", this.yst), this.mst.mo("durationchange", this.pst), this.mst.mo("error", this.Est), this.mst.mo("contentprotectionerror", this.yU), this.Ast.mo("progress", this.do) }, i.Df = function () { this.mst.So(BO, this.do), this.mst.So(es.Dl, this.QU), this.mst.So("loadeddata", this.yst), this.mst.So("durationchange", this.pst), this.mst.So("error", this.Est), this.mst.So("contentprotectionerror", this.yU), this.Ast.So("progress", this.do) }, i.jst = function (t) { t.mo(es.Rl, this.Cst), t.mo(es.Il, this.Dst), t.mo(es.ll, this.kst) }, i.Vst = function (t) { t.So(es.Rl, this.Cst), t.So(es.Il, this.Dst), t.So(es.ll, this.kst) }, i.Ph = function () { var t = St(At.mark(function t(n, i) { var e, r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: t.prev = 0, e = this.fit.T5.Prt, r = this.fit.T5.Ort, t.next = 8; break; case 5: throw t.prev = 5, t.t0 = t.catch(0), new v("Something went wrong determining the start of the provided MPEG-DASH stream"); case 8: if (e) { t.next = 10; break } throw new v("Something went wrong determining the initial Period of the provided MPEG-DASH stream"); case 10: if (r) { t.next = 12; break } throw new v("Something went wrong determining the start time of the provided MPEG-DASH stream"); case 12: return n.textTracks && this.Hst(n.textTracks), t.next = 15, this.mst.Ph(e); case 15: return t.next = 17, this.Gst(this.mst, this.mst); case 17: Rn(i), this.gst || this.$o(r, gB.yp); case 19: case "end": return t.stop() } }, t, this, [[0, 5]]) })); return function (n, i) { return t.apply(this, arguments) } }(), i.Gst = function () { var t = St(At.mark(function t(n, i) { var e, r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return e = SO(n, i), r = EO(n, i), e && (e.jf = !0), r && (r.jf = !0), ow(this.Ag), t.next = 7, i.Ro("fnt"); case 7: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.zst = function () { this.dst.eh(), this.dst = new ie, this._st = this.qst(this._st, this.dst._h).catch(this.Ist) }, i.Wst = function () { this.dst.eh() }, i.qst = function () { var t = St(At.mark(function t(n, i) { var e; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!n) { t.next = 4; break } return t.next = 3, n.catch(q); case 3: Rn(i); case 4: 0; case 5: if (e = this.mst.UD) { t.next = 10; break } return t.abrupt("break", 18); case 10: return t.next = 12, this.Xst(e, i); case 12: if (t.sent) { t.next = 16; break } return t.abrupt("break", 18); case 16: t.next = 5; break; case 18: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.Xst = function () { var t = St(At.mark(function t(n, i) { var e, r, s, u; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: Rn(i), e = this.mst, r = this.Ast; case 4: if ("static" === this.fit.T5.Ou || n.Yet && n.Yet.oit) { t.next = 11; break } return t.next = 7, Dn(this.fst.zrt, i); case 7: return t.next = 9, this.$st(r, i); case 9: t.next = 4; break; case 11: return Rn(i), t.next = 14, this.$st(r, i); case 14: if (s = n.Yet) { t.next = 18; break } return t.abrupt("return", !1); case 18: 0; case 19: if (e.SN || e.Ant()) { t.next = 26; break } return t.next = 22, e.Ro([es.ll, "vnt"], i); case 22: return t.next = 24, this.$st(r, i); case 24: t.next = 19; break; case 26: return Rn(i), t.next = 29, this.$st(r, i); case 29: return t.next = 32, this.Qst(e, r, s, i); case 32: return Rn(i), u = r.Ro(es.Il, i), r.C$(s.oit, gB.yp), t.next = 38, u; case 38: Rn(i); case 40: if (e.SN) { t.next = 45; break } return t.next = 43, e.Ro(es.ll, i); case 43: t.next = 40; break; case 45: return Rn(i), this.bst(r), this.Yst(r), t.abrupt("return", !0); case 50: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.Qst = function () { var t = St(At.mark(function t(n, i, e, r) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (Rn(r), i.UD === e) { t.next = 15; break } return t.next = 5, i.bf(); case 5: return Rn(r), this.Zst(i), i.z_(this.Bnt), t.next = 11, i.Ph(e); case 11: return t.next = 14, this.Gst(n, i); case 14: 0; case 15: case "end": return t.stop() } }, t, this) })); return function (n, i, e, r) { return t.apply(this, arguments) } }(), i.$st = function () { var t = St(At.mark(function t(n, i) { var e; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!(null === (e = n.UD) || void 0 === e ? void 0 : e.knt)) { t.next = 6; break } return t.next = 4, n.bf(); case 4: 0, Rn(i); case 6: case "end": return t.stop() } }, t) })); return function (n, i) { return t.apply(this, arguments) } }(), i.Hst = function (t) { for (var n = 0; n < t.length; n++) { var i = t[n], e = this.gV.hj(i); void 0 !== e && this.gV.pf(e) } }, i.dN = function () { this.tx || (this.tx = !0, this.z5 || this.Kst(), this._o(new Mh(this.yg))) }, i.Kst = function () { this.mst.dN() }, i.sN = function () { se(this.doPlay()) }, i.doPlay = function () { var t = St(At.mark(function t() { var n; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (this.tx = !1, this.ust = !0, this._o(new ru(this.yg)), this.Jst(), !(this.SN && this.rst.Sf > 0)) { t.next = 7; break } return t.next = 7, this.$o(this.rst.Ll(0)); case 7: if (!this.Nst) { t.next = 12; break } return n = this.fit.T5.Ort, t.next = 12, this.$o(n); case 12: if (this.z5) { t.next = 15; break } return t.next = 15, this.A4(); case 15: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.A4 = function () { return this.mst.sN() }, i.R4 = function () { this.z5 || (this.z5 = !0, this.Kst()) }, i.O4 = function () { this.z5 && (this.z5 = !1, this.tx || this.A4()) }, i.$o = function () { var t = St(At.mark(function t(n, i) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return void 0 === i && (i = gB.jnt), this.gst = !0, this.dst.eh(), this.F5.eh(), this.F5 = new ie, this._st = this.I4(n, i, this._st, this.F5._h).catch(this.Ist), t.abrupt("return", this._st); case 7: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.tut = function () { this.F5.eh() }, i.I4 = function () { var t = St(At.mark(function t(n, i, e, r) { var s, u, o, a, h, c; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return void 0 === i && (i = gB.jnt), 0, t.prev = 3, Rn(r), this.oY = !0, this.M5 = n, this.V5 = this.V5.bd(this.mst.wg), this.Cst(new Vl(this.yg)), t.next = 12, e.catch(q); case 12: return Rn(r), t.next = 16, Dn(this.hst._a, r); case 16: if (s = this.rst.Ll(0), u = this.rst.Fl(0), o = Eo.$l(Eo.Ql(n, s), u), a = this.nut(o), h = this.Ost.UD === a, !this.Ost.jx.fd(o) && i !== gB.yp && !h) { t.next = 26; break } 0, this.bst(this.Ost), t.next = 36; break; case 26: if (this.R4(), this.Bst.jx.fd(o)) { t.next = 34; break } if (!a) { t.next = 34; break } return this.Lst.xf = this.Bst.Ag, t.next = 33, this.Qst(this.mst, this.Bst, a, r); case 33: Rn(r); case 34: 0, this.bst(this.Bst); case 36: return c = this.mst.Ro(es.Il, r), this.mst.C$(o, i), this.M5 = void 0, t.next = 42, c; case 42: if (Rn(r), this.O4(), this.rN || !this.mst.rN || this.mst.SN) { t.next = 50; break } return t.next = 48, this.mst.sN(); case 48: Rn(r), this.Ast.dN(); case 50: 0, this.Yst(this.mst), this.zst(), this.oY = !1, this.Dst(new Ul(this.yg)), t.next = 64; break; case 58: if (t.prev = 58, t.t0 = t.catch(3), !In(t.t0)) { t.next = 63; break } return t.abrupt("return"); case 63: 0; case 64: case "end": return t.stop() } }, t, this, [[3, 58]]) })); return function (n) { return t.apply(this, arguments) } }(), i.nut = function (t) { var n = this.fit.T5.iT; if (n.length) { for (var i = 0; i < n.length; i++) { var e = n[i]; if (e.Ll.Xl(t) && e.Fl.Jp(t)) return e } var r = n[0]; return t.Xl(r.Ll) ? r : n[n.length - 1] } }, i.z_ = function () { var t = St(At.mark(function t(n, i, e) { var r, s; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (this.iut(), !this.Bnt || rf(this.Bnt)) { t.next = 4; break } return t.next = 4, this.bf(); case 4: if (n && !rf(n)) { t.next = 6; break } return t.abrupt("return"); case 6: this.aj = new ie, this.aj.lh(e), this.Jg = void 0, this.Bnt = n, this.lst = i, r = new TB(this.OS, Boolean(this.Bnt.useCredentials)), s = NB(r, this.F3), this.Srt(!0), this.fst = new TO({ tv: Rl(this.Bnt.src), Lrt: this.Bnt.liveOffset, Rrt: this.Bnt.timeServer, TT: this.Bnt.useCredentials }, this.Pst, this.OS, s), this.fit = this.fst.Yrt, this.fit.T5.mo(es.dl, this.Sst), this.fit.T5.mo(es._l, this.Tst), this.fit.T5.mo("Z3", this.xst), this.mst.z_(n), this.Ast.z_(n), this.Jst(); case 22: case "end": return t.stop() } }, t, this) })); return function (n, i, e) { return t.apply(this, arguments) } }(), i.Srt = function (t) { this.grt !== t && (this.grt = t, this._o(t ? new DO : new xO)) }, i.Jst = function () { return this.fit ? (this.vst = this.eut(this.vst, this.aj._h), this.vst.catch(q)) : Tt.resolve() }, i.eut = function () { var t = St(At.mark(function t(n, i) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!n) { t.next = 4; break } return t.next = 3, n; case 3: Rn(i); case 4: if (t.prev = 4, this.gg !== X_.ZL && !this.ust) { t.next = 10; break } return t.next = 8, this.rut(i); case 8: t.next = 15; break; case 10: if (this.gg !== X_.Qx) { t.next = 15; break } return t.next = 13, this.sut(i); case 13: t.next = 15; break; case 15: t.next = 22; break; case 17: throw t.prev = 17, t.t0 = t.catch(4), Cn(t.t0), this.W8(new au(uu.NETWORK, t.t0.message)), t.t0; case 22: case "end": return t.stop() } }, t, this, [[4, 17]]) })); return function (n, i) { return t.apply(this, arguments) } }(), i.rut = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, this.sut(n); case 2: return this.cst || (this.cst = !0, this.hst.nh(this.Ph(this.lst, n))), t.prev = 3, t.next = 6, this.hst._a; case 6: t.next = 12; break; case 8: t.prev = 8, t.t0 = t.catch(3), Cn(t.t0), this.W8(new au(uu.DECODE, t.t0.message)); case 12: case "end": return t.stop() } }, t, this, [[3, 8]]) })); return function (n) { return t.apply(this, arguments) } }(), i.sut = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, Dn(this.fst.xS, n); case 2: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.bst = function (t) { var n = this.mst; if (t !== n) { this.Df(); var i = this.rN; n.dN(), this.V5 = this.V5.bd(n.wg), this.Vst(n), this.mst = t, this.Ast = n, this.L_.xf = t.og, this.M_.xf = t.Tg, this.Mst.xf = t.Ag, this.Lst.xf = void 0, this.jst(t), i || this.doPlay(), this.Cf() } }, i.Yst = function (t) { var n = this.Ost; if (t !== n) { var i = this.zx, e = this.Gx; n.Z_(), this.Ost = t, this.Bst = n, this.uH && t.B_(), this.zx === i && this.Gx === e || this._o(new aw) } }, i.Nx = function () { return this.mst.Nx() }, i.B_ = function () { this.uH = !0, this.Ost.B_() }, i.Z_ = function () { this.uH = !1, this.Ost.Z_() }, i.W8 = function (t) { this.bf(), this.Jg = t, this._o(new ou(t)) }, i.iut = function () { this.Jg = void 0 }, i.Zst = function (t) { t.RE = this.RE, t.ux = this.ux, t._g = this._g }, i.bf = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this._g = 1, this.wst = !1, this.aj.eh(), this.tut(), this.Wst(), this.vst = void 0, this.hst.eh(), this.hst = new Oi, this.cst = !1, this.gst = !1, this.dN(), this.ust = !1, t.next = 14, this._st.catch(q); case 14: return t.next = 16, this.mst.bf(); case 16: return t.next = 18, this.Ast.bf(); case 18: return t.next = 20, this.gV.bf(); case 20: if (!this.fit) { t.next = 27; break } return this.fit.T5.So(es.dl, this.Sst), this.fit.T5.So(es._l, this.Tst), this.fit.T5.So("Z3", this.xst), t.next = 26, this.fst.Af(); case 26: this.fit = void 0; case 27: this.ast = !1, this.KC = NaN, this.V5 = RE.Vd(), this.M5 = void 0, this.ost = !1, this.oY = !1, this.Bnt = void 0, this.lst = void 0; case 35: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.Af = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.To(), this.iut(), t.next = 4, this.bf(); case 4: return this.To(), this.Vst(this.mst), this.Fst.Af(), this.L_.Af(), this.M_.Af(), this.j_.Af(), this.ML.Af(), t.next = 13, this.mst.Af(); case 13: return t.next = 15, this.Ast.Af(); case 15: return t.next = 17, this.gV.Af(); case 17: this.Mst.Af(); case 18: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.H_ = function () { }, i.q_ = function () { return !1 }, i.W_ = function () { }, i.X_ = function () { }, i.K_ = function () { }, T(n, [{ key: "og", get: function () { return this.L_ } }, { key: "uut", get: function () { return this.mst.hg.bd(this.Ast.hg) } }, { key: "hg", get: function () { return this.uut.Jl() } }, { key: "cg", get: function () { var t, n, i = null === (t = this.fit) || void 0 === t ? void 0 : t.T5, e = null == i ? void 0 : i.$A; if (i && e) { var r = e.getTime(), s = 1e3 * this.yg, u = 1e3 * (null !== (n = i.rT) && void 0 !== n ? n : Eo.cm).um; return new Date(s + r + u) } }, set: function (t) { var n, i, e = null === (n = this.fit) || void 0 === n ? void 0 : n.T5, r = null == e ? void 0 : e.$A; if (t && e && r) { var s = r.getTime() / 1e3, u = t.getTime() / 1e3, o = (null !== (i = e.rT) && void 0 !== i ? i : Eo.cm).um; this.$o(new Eo(u - s - o)) } } }, { key: "out", get: function () { return this.M5 ? this.M5 : this.mst.yg } }, { key: "yg", get: function () { return this.out.um }, set: function (t) { this.$o(new Eo(t)) } }, { key: "Zy", get: function () { return this.KC } }, { key: "Fl", get: function () { return new Eo(this.Zy) } }, { key: "SN", get: function () { return !!this.aut && (this.pg ? this.out.Hl(this.mst.Fl) : this.mst.SN) } }, { key: "Bo", get: function () { return this.Jg } }, { key: "aut", get: function () { var t = this.mst.UD; if (!t || !this.fit) return !1; if ("static" !== this.fit.T5.Ou) return !1; var n = this.fit.T5.iT; return 0 !== n.length && t === n[n.length - 1] } }, { key: "Nst", get: function () { if (!this.fit) return !1; if ("static" === this.fit.T5.Ou) return !1; var t = this.mst.UD; if (t && t.knt) return !0; for (var n = [], i = 0, e = this.fit.T5.iT; i < e.length; i++) { var r = e[i], s = r.oit, u = r.nnt; s && u && n.push(s, u) } var o = new RE(n).md(); return function (t, n, i) { if (!n.Sf || !i.Sf) return RE.Vd(); var e = n.Ll(0), r = n.Fl(n.Sf - 1), s = t.dd(i)._d().dd(t).bd(n); return new RE([s.Ll(0), s.Fl(s.Sf - 1)]).Td(s).xd(function (t, n) { return t.Wl(e) && n.Xl(r) && n.Od(t).Jp(Eo.hm) }) }(this.uut, this.rst, o).Sf > 0 } }, { key: "A_", get: function () { return this.mst.A_ } }, { key: "RE", get: function () { return this.XS }, set: function (t) { this.RE !== t && (this.XS = t, this.mst.RE = t, this.Ast.RE = t, this._o(new su(this.yg, this.ux))) } }, { key: "rN", get: function () { return this.tx } }, { key: "_g", get: function () { return this.aY }, set: function (t) { this._g !== t && (this.aY = t, this.mst._g = t, this.Ast._g = t, this._o(new Hl(this.yg, this._g))) } }, { key: "wg", get: function () { return this.V5 = this.V5.bd(this.mst.wg), this.V5.md(new Eo(.1)).Jl() } }, { key: "gg", get: function () { return this.cV }, set: function (t) { switch (t) { case X_.ZL: case "": this.cV = X_.ZL; break; case X_.Qx: this.cV = X_.Qx; break; case X_.Iw: default: this.cV = X_.Iw }this.Jst() } }, { key: "Zf", get: function () { return this.mst.Zf } }, { key: "rst", get: function () { var t = []; if (this.fit && this.fit.T5.Brt && this.fit.T5.Tit) { var n = this.fit.T5.Brt, i = Eo.Ql(this.fit.T5.Tit, this.out); n && i && (i = Eo.Yp(i.Kp(Eo.vm)), n = Eo.Qp(n.Kp(Eo.vm)), t.push(n, i)) } return t.length > 0 && isFinite(this.Zy) && this.Zy > t[t.length - 1].um && (t[t.length - 1] = new Eo(this.Zy)), new RE(t).md() } }, { key: "jx", get: function () { return this.rst.Jl() } }, { key: "pg", get: function () { return this.oY || this.mst.pg } }, { key: "ist", get: function () { return void 0 !== this.fit ? this.fit.T5.Ou : "static" } }, { key: "Ag", get: function () { return this.j_ } }, { key: "Gx", get: function () { return this.Ost.Gx } }, { key: "Tg", get: function () { return this.M_ } }, { key: "zx", get: function () { return this.Ost.zx } }, { key: "ux", get: function () { return this.sx }, set: function (t) { this.ux !== t && (this.sx = t, this.mst.ux = t, this.Ast.ux = t, this._o(new su(this.yg, this.ux))) } }, { key: "dg", get: function () { return this.grt } }, { key: "vg", get: function () { return !1 } }]), n }(ar), PO = function (t) { function n(n, i, e) { var r; return (r = t.call(this, es.vl) || this).currentTime = n, r.initDataType = i, r.initData = e, r } return rt(n, t), n }(Mn), MO = function (t) { function n(n, i, e, r, s, u) { var o; return (o = t.call(this, n, i, e, r, u) || this).hut = void 0, o.ftt = s, o } rt(n, t); var i = n.prototype; return i.y5 = function () { return this.hut ? this.hut.hg : RE.Vd() }, i.k5 = function () { if (this.hut && this.hut.WZ()) return this.hut.hg.Fl(this.hut.hg.Sf - 1) }, i.w5 = function () { return this.hut ? this.hut.KZ : RE.Vd() }, i.XZ = function () { this.hut && (this.hut.XZ(), this.j3.cut()) }, i.z3 = function () { var t = St(At.mark(function t(n, i, e, r) { var s, u, o, a, h, c, f; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return Rn(r), s = { Ou: 1, ei: n.vq }, u = { CK: i.zk.Pm(), Zy: i.Zy.Pm(), rM: e.Pm() }, o = this.hut.hg, t.next = 6, this.hut.GZ(s, u, r); case 6: return a = this.hut.hg, 0 === (h = o.Td(a).dd(a)).Sf ? (c = i.OP.ck(), f = Eo.cm) : (c = h.Ll(0), f = h.Fl(0).Od(c)), t.abrupt("return", { ott: c, att: f }); case 11: case "end": return t.stop() } }, t, this) })); return function (n, i, e, r) { return t.apply(this, arguments) } }(), i.y3 = function () { var n = St(At.mark(function n(i, e, r) { var s; return At.wrap(function (n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, t.prototype.y3.call(this, i, e, r); case 2: return s = { Ou: 0, ei: new m(i.W3) }, n.next = 5, this.hut.qZ(s, r); case 5: case "end": return n.stop() } }, n, this) })); return function (t, i, e) { return n.apply(this, arguments) } }(), i.I9 = function (t, n, i) { return this.hut.Mh(t.um, n.um, i) }, i.hK = function (t, n) { this.hut.$Z(t, n) }, i.cK = function (t, n) { this.hut.QZ(t, n) }, i.i5 = function () { var t = St(At.mark(function t(n) { var i, e; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (i = nx.S7(n.OA), e = i.oA, i.MY, this.hut) { t.next = 8; break } return t.next = 6, this.j3.fut(e); case 6: this.hut = t.sent, this.hut.mo("DK", this.do); case 8: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.a5 = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: this.hut && (this.hut.So("DK", this.do), this.hut = void 0); case 1: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.t5 = function () { return this.hut ? this.hut.Mh(0, 1 / 0) : Tt.resolve() }, i.e5 = function (t) { return new zx(this, this.j3, this.j3, this.OS, this.aH, this.ftt, this.F3).C7(t) }, T(n, [{ key: "OA", get: function () { return this.A3 ? this.A3.OA : [] } }, { key: "qw", get: function () { return this.j3.qw } }]), n }(qN), LO = function (t) { function n(n) { var i; return (i = t.call(this, "d5") || this).mO = n, i } return rt(n, t), n }(Mn), jO = function (t) { function n(n) { var i; return (i = t.call(this, "vut") || this).mO = n, i } return rt(n, t), n }(Mn); function FO(t, n) { return { Vk: t.Vk, Fk: t.Fk || n.Fk } } function UO(t, n, i, e) { for (var r, s = [], u = 0; u < i.length; u++) { var o = i[u]; if (o.Vk === Ft) r = o; else { var a = Zt(o.Vk); a && s.push({ Kh: a, Lj: o.Uk ? [o.Uk] : [] }) } } if (r && s.length) return { cF: t, Oj: r, Mj: s, EU: "audio" === n ? e.slice() : [], IU: "video" === n ? e.slice() : [] } } function VO(t, n) { if (!t) return n; if (!n) return t; var i = [], e = Rt(); return HO(i, e, t.Mj), HO(i, e, n.Mj), { cF: t.cF, Oj: FO(t.Oj, n.Oj), Mj: i, EU: zO(t.EU, n.EU, kn), IU: zO(t.IU, n.IU, kn) } } function HO(t, n, i) { for (var e = 0; e < i.length; e++) { var r = i[e], s = r.Kh.Mu, u = void 0; n.has(s) ? (u = n.get(s)).Lj = zO(u.Lj, r.Lj, qO) : (u = Et({}, r), t.push(u), n.set(s, u)) } } function zO(t, n, i) { for (var e = t.slice(), r = 0; r < n.length; r++) { var s = n[r]; i(e, s) || e.push(s) } return e } function qO(t, n) { for (var i = 0; i < t.length; i++) { if (Gi(t[i], n)) return !0 } return !1 } function GO(t, n) { var i, e = t.iA; if (e) { for (var r = t.oA, s = [], u = 0, o = t.tA; u < o.length; u++) { var a = o[u]; s.push(r + '; codecs="' + a + '"') } i = UO(n || {}, t.Ou, e, s) } for (var h = 0, c = t.OA; h < c.length; h++) { i = VO(i, WO(c[h], n)) } return i } function WO(t, n) { return UO(n || {}, t.Ou, t.iA || [], [t.bA]) } var XO = function (t) { function n(n, i, e, r) { var s; return (s = t.call(this) || this).lut = [], s.tj = !1, s.I3 = !1, s.$E = void 0, s.Rj = void 0, s._ut = new hw, s.gut = new ie, s.wut = !1, s.uY = Eo.cm, s.tx = !0, s.aY = 1, s.oY = !1, s.D3 = new W_([]), s.yut = function () { s.Ttt() }, s.mut = function () { s.Ttt() }, s.kut = function () { s.but() }, s.Aut = function () { s.but() }, s.Tut = MR(function () { s._o(new xR(s.yg.um)) }, 350), s.Bw = aC(), s.$K = n, s.OS = i, s.aH = e, s.F3 = r, s } rt(n, t); var i = n.prototype; return i.sN = function () { return this.wut ? (this.tx && (this.tx = !1, this._o(new ru(this.yg.um))), Tt.resolve()) : this.Sut() }, i.C$ = function (t) { var n = this; this.wut ? (this.uY = t, this.oY = !0, this._o(new Vl(this.yg.um))) : (se(this._ut.eh()), se(this._ut.wj(function (i) { return n.Eut(t, i) }))) }, i.dN = function () { this.wut ? this.tx || (this.tx = !0, this._o(new Mh(this.yg.um))) : this.Iut() }, i.Ant = function () { if (!this.WZ()) return !1; var t = this.hg; if (0 === t.Sf) return !0; var n = this.yg; return t.Ed(n) === t.Sf - 1 }, i.Ph = function (t, n, i) { return this.gut.eh(), this.gut = new ie, i && this.gut.lh(i), this.$E = this.hW(t, n, this.$E, this.gut._h), this.$E }, i.hW = function () { var t = St(At.mark(function t(n, i, e, r) { var s; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!e) { t.next = 3; break } return t.next = 3, e.catch(q); case 3: if (Rn(r), s = this.Rj, this.Rj = $O(n, i), !this.Rut || !Ir(this.Rj, s)) { t.next = 18; break } return t.prev = 7, Rn(r), t.next = 11, this.Nut(n, r); case 11: return t.abrupt("return"); case 14: t.prev = 14, t.t0 = t.catch(7), Cn(t.t0); case 18: return t.next = 20, this.Cut(r); case 20: return t.next = 22, this.pJ(n, r); case 22: return t.next = 24, this.Nut(n, r); case 24: case "end": return t.stop() } }, t, this, [[7, 14]]) })); return function (n, i, e, r) { return t.apply(this, arguments) } }(), i.Cut = function () { var t = St(At.mark(function t(n) { var i, e, r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: Rn(n), i = 0, e = this.lut; case 2: if (!(i < e.length)) { t.next = 10; break } return r = e[i], t.next = 6, r.Af(); case 6: Rn(n); case 7: i++, t.next = 2; break; case 10: this.lut.length = 0; case 11: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.pJ = function () { var t = St(At.mark(function t(n, i) { var e, r, s; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return Rn(i), this.SJ(), t.next = 4, this.Dut(); case 4: return e = n.map(function (t) { return nx.S7(t.OA) }), r = e.map(function (t) { return { bA: t.bA } }), s = { Ou: 1, yJ: r, xut: 0, yV: [] }, t.next = 9, this.Out(s, n, i); case 9: this.EJ(); case 10: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.SJ = function () { this.wut || (this.uY = this.yg, this.tx = this.rN, this.aY = this._g, this.oY = this.pg, this.wut = !0) }, i.EJ = function () { this.wut && (this.wut = !1, this._g = this.aY, this.C$(this.uY), this.tx ? this.dN() : se(this.sN())) }, i.Nut = function () { var t = St(At.mark(function t(n, i) { var e, r, s, u, o, a, h, c, f; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: Rn(i), e = [], this.tj = !1, this.I3 = !1, r = this.lut.slice(), s = n.slice(), An(this.lut), u = 0; case 8: if (!(u < r.length)) { t.next = 24; break } if (o = r[u], !(a = o.f5) || !kn(s, a)) { t.next = 17; break } this.lut.push(o), e.push(o.Ph(a, i)), pn(s, a), t.next = 21; break; case 17: return this.D3.qL(o.Ag), t.next = 20, o.Af(); case 20: Rn(i); case 21: u++, t.next = 8; break; case 24: for (h = 0; h < s.length; h++)c = s[h], f = this.But(c.K8), this.D3.GL(f.Ag), this.lut.push(f), this.Put(f), e.push(f.Ph(c, i)); return t.next = 27, Tt.all(e); case 27: this.Mut(), this.Ttt(), this.but(); case 30: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.Put = function (t) { t.mo(["contentprotectionerror", "encrypted", "error", "DK", "representationchange", "segmentnotfound", "_f", "m3", "b3"], this.do), t.mo("CJ", this.yut), t.mo("DJ", this.mut), t.mo("xJ", this.kut), t.mo("OJ", this.Aut), t.mo("DK", this.Tut) }, i.Ttt = function () { var t = this.tj, n = this.jf; this.tj = n, !t && n ? this._o(new rC(this)) : t && !n && this._o(new sC(this)) }, i.but = function () { var t = this.I3, n = this.d5; this.I3 = n, !t && n ? this._o(new LO(this)) : t && !n && this._o(new jO(this)) }, i.Af = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.To(), this.gut && this.gut.eh(), t.next = 4, this._ut.Af(); case 4: return t.next = 6, Tt.all(this.lut.map(function (t) { return t.Af() })); case 6: return An(this.lut), t.next = 9, this.Dut(); case 9: if (!this.$E) { t.next = 13; break } return t.next = 12, this.$E.catch(q); case 12: this.$E = void 0; case 13: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.B_ = function () { }, i.Z_ = function () { }, T(n, [{ key: "SN", get: function () { return this.pg ? this.Fl.Hl(this.yg) : this.Lut } }, { key: "rN", get: function () { return this.wut ? this.tx : this.jut } }, { key: "Ff", get: function () { return this.Bw } }, { key: "Ag", get: function () { return this.D3 } }, { key: "d5", get: function () { return this.lut.some(function (t) { return t.d5 }) } }, { key: "jx", get: function () { if (!this.lut.length) return RE.Vd(); for (var t = new RE([Eo.cm, Eo.fm]), n = 0, i = this.lut; n < i.length; n++) { var e = i[n]; t = t.dd(e.jx) } if (t.Sf > 0 && isFinite(this.Zy)) { var r = new Eo(this.Zy), s = t.Fl(t.Sf - 1); r.Jp(s) && (t = t.bd(new RE([s, r]).rd())) } return t } }, { key: "SV", get: function () { var t = this.yg, n = this.hg, i = n.Ed(t); if (-1 !== i) return { Ll: n.Ll(i), Fl: n.Fl(i) } } }, { key: "fK", get: function () { for (var t = RE.Vd(), n = 0, i = this.lut; n < i.length; n++) { var e = i[n]; t = t.bd(e.fK) } return t } }, { key: "v5", get: function () { return this.$K } }, { key: "jf", get: function () { return this.lut.some(function (t) { return t.jf }) } }, { key: "hg", get: function () { if (0 === this.lut.length) return RE.Vd(); for (var t = this.lut.map(function (t) { return t.hg }), n = new RE([Eo.cm, Eo.fm]), i = 0; i < t.length; i++) { var e = t[i]; n = n.dd(e) } if (0 === n.Sf) return n; if (this.WZ()) { for (var r = n.Fl(n.Sf - 1), s = Eo.cm, u = 0; u < t.length; u++) { var o = t[u]; s = Eo.Ql(s, o.Fl(o.Sf - 1)) } n = n.bd(new RE([r, s], [!0, !0])) } return n } }, { key: "_g", get: function () { return this.aY }, set: function (t) { var n = this.aY; this.aY = t, this.wut ? n !== t && this._o(new Hl(this.yg.um, this._g)) : this.Fut(t) } }, { key: "pg", get: function () { return this.wut ? this.oY : this.Uut } }, { key: "Fl", get: function () { var t = this.Zy; if (!p(t) && 9007199254740991 !== t) return new Eo(t); if (!this.lut.length) return new Eo(NaN); for (var n = Eo.cm, i = 0, e = this.lut; i < e.length; i++) { var r = e[i]; n = Eo.Ql(n, r.Fl) } return n } }, { key: "yg", get: function () { return this.wut ? this.uY : this.Vut } }]), n }(ar); function $O(t, n) { if (t.length) { for (var i, e = 0; e < t.length; e++) { i = VO(i, GO(t[e].Q3, n)) } return i } } var QO = function (t) { function n() { return t.call(this, "vnt") || this } return rt(n, t), n }(Mn), YO = function (t) { function n() { return t.call(this, "Hut") || this } return rt(n, t), n }(Mn), ZO = function (t) { function n(n, i, e, r, s, u, o, a, h) { var c; return (c = t.call(this, e, i, u, a) || this).SK = void 0, c.Het = [], c.Gut = function () { c._o(new Oh(c.Fl.um)) }, c.zut = function (t) { c._o(new PO(c.yg.um, t.Po, t.Lo)) }, c.qut = function () { c._o(new Fh(c.yg.um)) }, c.Wut = function () { c._o(new Mh(c.yg.um)) }, c.Xut = function () { c._o(new ru(c.yg.um)) }, c.$ut = function () { c._o(new Hl(c.yg.um, c._g)) }, c.Qut = function () { c.Zf > eu.h_ && c._o(new Ph(c.yg.um)) }, c.Yut = function () { c.SK && c.Zut(c.SK) }, c.Kut = function () { c._o(new su(c.yg.um, c.ux)) }, c.Jut = function (t) { var n = t.Hj; if (n) for (var i = 0, e = c.tot; i < e.length; i++) { if ((e[i].Q3.iA || []).some(function (t) { return t.Fk && Wi(Ri(n), Bi(t.Fk.replace(/-/g, ""))) })) return void c._o(new fw("Content unavailable due to DRM restrictions")) } }, c.iot = function () { if ("video" === c.$K) { var t = c.pU; t.zx > 0 && t.Gx > 0 && c._o(new aw) } }, c.uit = function () { c._o(new YO) }, c.eot = n, c.hH = r, c.pU = s, c.vV = new gp(c.pU, !0), c.lV = h, c.lV.mo(es.Ol, c.Jut), c.lV.mo(_p, c.do), c.ftt = o, c.Cf(), c } rt(n, t); var i = n.prototype; return i.Nx = function () { if (rD(this.pU)) return this.pU.Nx() }, i.Z_ = function () { this.pU.Z_() }, i.B_ = function () { this.pU.B_() }, i.Cf = function () { this.pU.mo(es.cl, this.Gut), this.pU.mo(es.ll, this.qut), this.pU.mo("error", this.do), this.pU.mo(es.yl, this.Wut), this.pU.mo(es.bl, this.Xut), this.pU.mo(es.Tl, this.$ut), this.pU.mo(es.xl, this.Kut), this.pU.mo(es.Rl, this.do), this.pU.mo(es.Il, this.do), this.pU.mo(es.Dl, this.Qut), this.mo("loadedmetadata", this.iot), this.pU.mo(es.El, this.iot), this.pU.mo("Mo", this.zut), this.aH.mo("l$", this.Yut), this.vV.mo(dp, this.do) }, i.Df = function () { this.pU.So(es.cl, this.Gut), this.pU.So(es.ll, this.qut), this.pU.So("error", this.do), this.pU.So(es.yl, this.Wut), this.pU.So(es.bl, this.Xut), this.pU.So(es.Tl, this.$ut), this.pU.So(es.xl, this.Kut), this.pU.So(es.Rl, this.do), this.pU.So(es.Il, this.do), this.pU.So(es.Dl, this.Qut), this.So("loadedmetadata", this.iot), this.pU.So(es.El, this.iot), this.pU.So("Mo", this.zut), this.aH.So("l$", this.Yut), this.vV.So(dp, this.do), this.lV.So(_p, this.do), this.lV.So(es.Ol, this.Jut) }, i.rot = function (t) { for (var n = 0, i = this.lut; n < i.length; n++) { var e = i[n]; if (e.v5 === t) return e } }, i.Fut = function (t) { this.pU._g = t }, i.Nut = function () { var n = St(At.mark(function n(i, e) { var r, s; return At.wrap(function (n) { for (; ;)switch (n.prev = n.next) { case 0: if (r = i.some(function (t) { return "audio" === t.K8 }), !this.SK.IJ) { n.next = 5; break } return Rn(e), n.next = 5, this.SK.IJ.ej(r, e); case 5: if (s = i.some(function (t) { return "video" === t.K8 }), !this.SK.RJ) { n.next = 10; break } return Rn(e), n.next = 10, this.SK.RJ.ej(s, e); case 10: return n.next = 12, t.prototype.Nut.call(this, i, e); case 12: Rn(e), this.SK.dJ(this.Fl.Kp(1).Xp); case 14: case "end": return n.stop() } }, n, this) })); return function (t, i) { return n.apply(this, arguments) } }(), i.But = function (t) { return new MO(t, this, this.OS, this.aH, this.ftt, this.F3) }, i.Mut = function () { }, i.Out = function () { var t = St(At.mark(function t(n, i, e) { var r, s, u, o; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return Rn(e), t.next = 3, this.pU.Ph(n); case 3: for (r = t.sent, s = 0; s < i.length; s++)u = i[s], o = u.Y3, kn(this.Het, o) || (o.mo("C8", this.uit), this.Het.push(o)); if (this.SK = r, this.Zut(r), r === this.SK) { t.next = 9; break } return t.abrupt("return"); case 9: this.lV.wx(this.Rj, this.SK); case 10: case "end": return t.stop() } }, t, this) })); return function (n, i, e) { return t.apply(this, arguments) } }(), i.Zut = function (t) { t.RJ && (t.RJ.v$ = this.aH.v$), t.IJ && (t.IJ.v$ = this.aH.v$) }, i.fut = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!tn(n, "audio")) { t.next = 5; break } if (!this.SK || !this.SK.IJ) { t.next = 3; break } return t.abrupt("return", this.SK.IJ); case 3: t.next = 8; break; case 5: if (!tn(n, "video")) { t.next = 8; break } if (!this.SK || !this.SK.RJ) { t.next = 8; break } return t.abrupt("return", this.SK.RJ); case 8: throw new v("Cannot allocate source buffer for mime type " + n); case 9: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.Dut = function () { var t = St(At.mark(function t() { var n, i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!this.SK) { t.next = 6; break } for (n = 0, i = this.Het; n < i.length; n++)i[n].So("C8", this.uit); return An(this.Het), t.next = 5, this.pU.bf(); case 5: this.SK = void 0; case 6: return t.next = 8, this.lV.bf(); case 8: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.Iut = function () { this.pU.dN() }, i.Sut = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!this.d5) { t.next = 3; break } return t.next = 3, this.Ro("vut"); case 3: return t.next = 5, this.pU.sN(); case 5: if (this.SV) { t.next = 10; break } return t.next = 8, this.Ro("progress"); case 8: t.next = 5; break; case 10: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.Eut = function () { var t = St(At.mark(function t(n, i) { var e, r, s; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: e = !0, r = n; case 2: return (s = this.jx).Sf > 0 && !s.fd(r) && (r = s.od(r), e = !0), e && (e = !1, this.pU.$o(r.um)), t.next = 7, Tt.race([this.pU.Ro(es.Il, i), this.Ro([es.Nl, "Hut"], i)]); case 7: if (this.pU.pg) { t.next = 2; break } case 8: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.WZ = function () { return !!this.SK && this.SK.WZ }, i.cut = function () { this.WZ() && this._o(new QO) }, i.Af = function () { var n = St(At.mark(function n() { return At.wrap(function (n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, t.prototype.Af.call(this); case 2: return this.Df(), this.vV.Af(), n.next = 6, this.lV.Af(); case 6: this.hH.CV(this.pU); case 7: case "end": return n.stop() } }, n, this) })); return function () { return n.apply(this, arguments) } }(), T(n, [{ key: "Vut", get: function () { return new Eo(this.pU.yg) } }, { key: "Zy", get: function () { return this.pU.Zy } }, { key: "Lut", get: function () { return this.pU.SN } }, { key: "Zf", get: function () { return this.pU.Zf } }, { key: "Dnt", get: function () { return this.pU && this.pU.Zf >= eu.c_ } }, { key: "Ww", get: function () { return this.eot.Ww } }, { key: "A_", get: function () { return this.pU.xV() } }, { key: "RE", get: function () { return this.pU.RE }, set: function (t) { this.RE !== t && (this.pU.RE = t) } }, { key: "jut", get: function () { return this.pU.rN } }, { key: "wg", get: function () { return this.pU.wg } }, { key: "Uut", get: function () { return this.pU.pg } }, { key: "Gx", get: function () { return rD(this.pU) ? this.pU.Gx : 0 } }, { key: "zx", get: function () { return rD(this.pU) ? this.pU.zx : 0 } }, { key: "ux", get: function () { return this.pU.ux }, set: function (t) { this.ux !== t && (this.pU.ux = t) } }, { key: "qw", get: function () { return this.eot.qw } }, { key: "Rut", get: function () { return !!this.SK } }, { key: "tot", get: function () { return this.lut.map(function (t) { return t.f5 }).filter(P) } }]), n }(XO), KO = function () { function t(t) { this.aV = t } return t.prototype.Pnt = function (t, n, i, e, r, s, u, o) { var a = this.aV.hV(i), h = new Hy(a, n, o); return new ZO(t, n, i, this.aV, a, r, s.lowLatency, u, h) }, t }(), JO = function () { function t(t, n, i, e) { this.uot = t, this.oot = n, this.aot = i, this.hot = e } var n = t.prototype; return n.Znt = function () { var t = St(At.mark(function t(n) { var i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, this.uot.cot(n.map(SB)); case 2: return i = t.sent, t.abrupt("return", i.shift()); case 4: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), n.p7 = function (t, n) { var i = EB(t, n); return this.oot.Uo(i) }, n.N7 = function () { var t = St(At.mark(function t(n, i) { var e, r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return r = EB(n, i), t.next = 3, this.aot.Vo(r); case 3: if (t.t1 = e = t.sent, t.t0 = null === t.t1, t.t0) { t.next = 7; break } t.t0 = void 0 === e; case 7: if (!t.t0) { t.next = 11; break } t.t2 = void 0, t.next = 12; break; case 11: t.t2 = e.data; case 12: return t.abrupt("return", t.t2); case 13: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), n.fot = function (t) { return this.hot.Vo(t) }, t }(), tP = function () { function t() { } var n = t.prototype; return n.eit = function (t) { return Tt.reject(nP) }, n.vot = function (t) { return Tt.reject(nP) }, n.Uo = function (t) { return Tt.resolve(!1) }, n.Vo = function (t, n) { return Tt.resolve(void 0) }, n.cot = function (t) { return Tt.resolve([]) }, n.lot = function () { return Tt.resolve([]) }, n.dot = function (t, n) { return Tt.resolve([]) }, n.Mh = function (t) { return Tt.reject(nP) }, n._ot = function (t) { return Tt.reject(nP) }, n.got = function () { return Tt.reject(nP) }, t }(), nP = "Storage disabled", iP = function () { function t() { this.wot = new tP, this.u6 = new tP, this.yot = new tP, this.pot = new tP, this.mot = new tP } return t.C7 = function () { return Tt.resolve(new t) }, t.prototype.kot = function (t) { return Tt.reject(eP) }, t }(), eP = "Storage disabled", rP = function () { function t(t) { var n = this; this.vh = new Oi, this.bot = void 0, this.vh.nh(t), this.vh._a.then(function (t) { n.bot = t }) } var n = t.prototype; return n.eit = function () { var t = St(At.mark(function t(n) { var i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (t.t0 = this.bot, t.t0) { t.next = 5; break } return t.next = 4, this.Aot; case 4: t.t0 = t.sent; case 5: return i = t.t0, t.abrupt("return", i.eit(n)); case 7: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), n.vot = function () { var t = St(At.mark(function t(n) { var i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (t.t0 = this.bot, t.t0) { t.next = 5; break } return t.next = 4, this.Aot; case 4: t.t0 = t.sent; case 5: return i = t.t0, t.abrupt("return", i.vot(n)); case 7: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), n.Uo = function () { var t = St(At.mark(function t(n) { var i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (t.t0 = this.bot, t.t0) { t.next = 5; break } return t.next = 4, this.Aot; case 4: t.t0 = t.sent; case 5: return i = t.t0, t.abrupt("return", i.Uo(n)); case 7: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), n.Vo = function () { var t = St(At.mark(function t(n, i) { var e; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (t.t0 = this.bot, t.t0) { t.next = 5; break } return t.next = 4, this.Aot; case 4: t.t0 = t.sent; case 5: return e = t.t0, t.abrupt("return", e.Vo(n, i)); case 7: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), n.cot = function () { var t = St(At.mark(function t(n) { var i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (t.t0 = this.bot, t.t0) { t.next = 5; break } return t.next = 4, this.Aot; case 4: t.t0 = t.sent; case 5: return i = t.t0, t.abrupt("return", i.cot(n)); case 7: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), n.lot = function () { var t = St(At.mark(function t() { var n; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (t.t0 = this.bot, t.t0) { t.next = 5; break } return t.next = 4, this.Aot; case 4: t.t0 = t.sent; case 5: return n = t.t0, t.abrupt("return", n.lot()); case 7: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), n.dot = function () { var t = St(At.mark(function t(n, i) { var e; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (t.t0 = this.bot, t.t0) { t.next = 5; break } return t.next = 4, this.Aot; case 4: t.t0 = t.sent; case 5: return e = t.t0, t.abrupt("return", e.dot(n, i)); case 7: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), n.Mh = function () { var t = St(At.mark(function t(n) { var i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (t.t0 = this.bot, t.t0) { t.next = 5; break } return t.next = 4, this.Aot; case 4: t.t0 = t.sent; case 5: return i = t.t0, t.abrupt("return", i.Mh(n)); case 7: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), n._ot = function () { var t = St(At.mark(function t(n) { var i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (t.t0 = this.bot, t.t0) { t.next = 5; break } return t.next = 4, this.Aot; case 4: t.t0 = t.sent; case 5: return i = t.t0, t.abrupt("return", i._ot(n)); case 7: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), n.got = function () { var t = St(At.mark(function t() { var n; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (t.t0 = this.bot, t.t0) { t.next = 5; break } return t.next = 4, this.Aot; case 4: t.t0 = t.sent; case 5: return n = t.t0, t.abrupt("return", n.got()); case 7: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), T(t, [{ key: "Aot", get: function () { return this.vh._a } }]), t }(), sP = function () { function t(t) { var n = this; this.vh = new Oi, this.Tot = void 0, this.vh.nh(t); var i = this.vh._a; i.then(function (t) { n.Tot = t }), this.u6 = new rP(i.then(function (t) { return t.u6 })), this.wot = new rP(i.then(function (t) { return t.wot })), this.yot = new rP(i.then(function (t) { return t.yot })), this.pot = new rP(i.then(function (t) { return t.pot })), this.mot = new rP(i.then(function (t) { return t.mot })) } return t.prototype.kot = function () { var t = St(At.mark(function t(n) { var i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (t.t0 = this.Tot, t.t0) { t.next = 5; break } return t.next = 4, this.Sot; case 4: t.t0 = t.sent; case 5: return i = t.t0, t.next = 8, i.kot(n); case 8: return t.abrupt("return", t.sent); case 9: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), T(t, [{ key: "Sot", get: function () { return this.vh._a } }]), t }(), uP = function () { function t(t) { this.Eot = [], this.Iot = !0, this.Rot = t } var n = t.prototype; return n.C7 = function () { return new sP(this.Not()) }, n.Not = function () { var t = St(At.mark(function t() { var n, i, e; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!this.Iot) { t.next = 4; break } return t.next = 3, Tt.resolve(); case 3: this.Iot = !1; case 4: n = 0, i = this.Eot; case 5: if (!(n < i.length)) { t.next = 18; break } return e = i[n], t.prev = 7, t.next = 10, e(); case 10: return t.abrupt("return", t.sent); case 13: t.prev = 13, t.t0 = t.catch(7); case 15: n++, t.next = 5; break; case 18: return t.next = 20, this.Rot(); case 20: return t.abrupt("return", t.sent); case 21: case "end": return t.stop() } }, t, this, [[7, 13]]) })); return function () { return t.apply(this, arguments) } }(), n.TY = function (t) { if (!this.Iot) throw new v("Registration overdue"); this.Eot.push(t) }, t }(), oP = function () { var t = function () { function t() { } return t.TY = function (n) { t.Cot.TY(n) }, T(t, null, [{ key: "q", get: function () { return t.Dot || (t.Dot = t.Cot.C7()), t.Dot } }]), t }(); return t.Cot = new uP(iP.C7), t.Dot = void 0, t }(), aP = function () { var t = St(At.mark(function t(n) { var i, r, s, u, o; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (i = n.bA, MediaSource.isTypeSupported(i) || (a = n.oA, h = n.tA, a && (wd(a) ? Ug(h) || Hg(h) : Jt(a, _d.APPLICATION_TTML_XML) || Jt(a, _d.TEXT_VTT) || Jt(a, _d.IMAGE_JPEG)))) { t.next = 3; break } return t.abrupt("return", !1); case 3: if (!n.iA) { t.next = 17; break } r = n.iA, s = r.map(function (t) { return Zt(t.Vk) }).filter(P), u = 0; case 7: if (!(u < s.length)) { t.next = 16; break } return o = s[u], t.next = 11, e.$u(o, i); case 11: if (!t.sent) { t.next = 13; break } return t.abrupt("return", !0); case 13: u++, t.next = 7; break; case 16: return t.abrupt("return", !1); case 17: return t.abrupt("return", !0); case 18: case "end": return t.stop() }var a, h }, t) })); return function (n) { return t.apply(this, arguments) } }(); kp(function () { var t = function (t) { function n(n, i, e, r, s) { return t.call(this, n, new KO(i), e, r, s, new JO(oP.q.yot, oP.q.wot, oP.q.u6, oP.q.mot), rr(), aP) || this } return rt(n, t), n.wV = function (t) { return OO.wV(t) }, n }(OO); return t.MA = 1, t }()); var hP = []; function cP() { hP.shift()() } function fP(t) { hP.push(t), a(cP, 0) } var vP = function () { function t(t) { this.xot = t } var n = t.prototype; return n.Oot = function (t) { return this.Bot = this.Bot || {}, void 0 === this.Bot[t] && (this.Bot[t] = []), this.Bot[t] }, n.addEventListener = function (t, n) { var i = this.Oot(t); -1 === i.indexOf(n) && i.push(n) }, n.uf = function (t) { (this.Pot || (this.Pot = [])).push(t) }, n.removeEventListener = function (t, n) { var i = this.Oot(t); n ? pn(i, n) : i.length = 0 }, n.hf = function (t) { var n = this.Pot; n && pn(n, t) }, n.To = function () { this.Bot = void 0 }, n.dispatchEvent = function (t, n) { if (n) return fP(this.dispatchEvent.bind(this, t)); "string" == typeof t && (t = { type: t }); for (var i = this.Oot(t.type).slice(), e = this.Pot && this.Pot.slice(), r = 0; r < i.length; r++) { i[r].call(this.xot || this, t) } if (e) for (var s = 0; s < e.length; s++) { e[s].call(this.xot || this, t) } }, n.Mot = function (t) { return Boolean(this.Bot && this.Bot[t] && this.Bot[t].length) }, n.Lot = function () { return this.Bot ? g.keys(this.Bot) : [] }, t }(), lP = function () { var t = function () { function t() { this.jot = [] } var n = t.prototype; return n.C7 = function (t, n) { var i = this.jot[t]; return i ? new i(n) : null }, n.TY = function (t, n) { this.jot[t] = n }, t }(); return t.q = new t, t }(); function dP(t, n, i, e, r, s) { var u = new Qa; return n && u.set("Range", "bytes=" + n[0] + "-" + n[1]), new th({ Mk: t, mT: i, yT: u, TT: e, pT: "GET", Ou: "segment", _h: r, ST: s }) } var gP = function (t) { function n(n, i, e, r, s, u) { var o; return (o = t.call(this) || this).NF = null, o.lq = new ie, o.Fot = function (t, n) { return o.ST(t, n) }, o.zB = n, o.sit = i, o.mT = e, o.Uot = r, o.SW = s, o.Vot = new yP, o.OS = u, o.Hot = oP.q.wot, o.Got = oP.q.u6, o } rt(n, t); var i = n.prototype; return i.Ll = function () { return this.zot(this.lq._h) }, i.zot = function () { var t = St(At.mark(function t(n) { var i, e, r, s, u, o, a; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return $P(i = this.sit) ? (e = i.sit, r = [i.Gk.Ll, i.Gk.Fl]) : (e = i, r = void 0), this.Vot.qot(), t.prev = 3, t.next = 6, this.Wot(e, r); case 6: if (s = t.sent, Rn(n), s) { t.next = 12; break } return t.next = 11, this.Xot(e, r, n); case 11: s = t.sent; case 12: return t.next = 14, s.ei(); case 14: u = t.sent, Rn(n), this.$ot(u, s.Ej), t.next = 28; break; case 19: if (t.prev = 19, t.t0 = t.catch(3), !In(t.t0)) { t.next = 25; break } return t.abrupt("return"); case 25: a = t.t0 instanceof YA ? t.t0.NF.Ej : 0, o = new v('Could not load fragment: "' + this.sit + '", HTTP status ' + a); case 27: return t.abrupt("return", this.Qot(o)); case 28: case "end": return t.stop() } }, t, this, [[3, 19]]) })); return function (n) { return t.apply(this, arguments) } }(), i.Wot = function () { var t = St(At.mark(function t(n, i) { var e, r, s, u; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, e = EB(n, i), t.next = 4, this.Hot.Uo(e); case 4: if (!t.sent) { t.next = 11; break } return t.next = 7, this.Got.Vo(e); case 7: return r = t.sent, s = dP(n, i, this.mT, this.Uot), u = r.data.buffer, t.abrupt("return", new XA({ ei: u, yT: {}, HT: s, Tq: n, mT: this.mT, Ej: 200, Ij: "" })); case 11: t.next = 16; break; case 13: t.prev = 13, t.t0 = t.catch(0); case 16: return t.abrupt("return", null); case 17: case "end": return t.stop() } }, t, this, [[0, 13]]) })); return function (n, i) { return t.apply(this, arguments) } }(), i.Xot = function (t, n, i) { var e = dP(t, n, this.mT, this.Uot, i, this.Fot); return this.OS.HT(e) }, i.ST = function (t, n) { var i = { type: "Yot", HT: this, xS: t, Zot: n = void 0 === n ? NaN : n }; this.Vot.Kot(t, n), this.dispatchEvent(i) }, i.$ot = function (t, n) { var i = this.mT === Wa.fT ? t.byteLength : 0; this.Vot.Jot(i), this.mT === Wa.dT ? this.NF = t : this.NF = new m(t), this.nat = n, t = null, this.Qot(), this.NF = null }, i.eh = function (t) { return this.lq.eh(), t || ((t = new v('Aborted fragment load: "' + this.sit + '"')).aborted = !0), this.Qot(t) }, i.Qot = function (t) { this.Vot.iat(); var n = { type: "bx", HT: this }; return this.dispatchEvent(n), this.SW(t || null, this) }, n }(vP); function _P() { return h_() / 1e3 } var wP, yP = function (t) { function n() { var n; return (n = t.call(this) || this).F6 = NaN, n.j6 = NaN, n.eat = NaN, n.L6 = NaN, n.rat = 0, n.sat = NaN, n.F6 = _P(), n } rt(n, t); var i = n.prototype; return i.qot = function () { this.F6 = _P(), this.dispatchEvent("Lh") }, i.Kot = function (t, n) { this.eat = _P(), this.uat || (this.j6 = this.eat), this.rat = t, this.sat = n || this.sat || NaN, this.dispatchEvent("Lh") }, i.Jot = function (t) { this.Kot(t, t) }, i.iat = function () { this.L6 = _P(), this.dispatchEvent("Lh") }, T(n, [{ key: "uat", get: function () { return !p(this.j6) } }, { key: "oat", get: function () { return !p(this.L6) } }, { key: "aat", get: function () { return (this.j6 || _P()) - this.F6 } }, { key: "fat", get: function () { return (this.L6 || this.eat) - this.j6 } }, { key: "vat", get: function () { return (this.L6 || this.eat) - this.F6 } }]), n }(vP), pP = function (t) { function n(n, i) { var e; return (e = t.call(this) || this).dat = [], e._at = null, e.gat = function (t) { return e.wat(t) }, e.Uot = !(!i || i.crossOrigin !== Qc.o_), e.OS = n, e } rt(n, t); var i = n.prototype; return i.Ph = function (t, n, i, e) { var r = new gP(t, n, i, this.Uot, e, this.OS); return r.addEventListener("bx", this.gat), this.dat.push(r), this.yat(), r }, i.zo = function (t, n) { var i = function (t) { return !n || t.zB === n }, e = this.dat.filter(i); !t && this._at && i(this._at) && e.push(this._at); for (var r = 0; r < e.length; r++) { e[r].eh() } return e }, i.yat = function () { if (!this._at) { var t = this.dat.shift(); t && (this._at = t, t.Ll()) } }, i.wat = function (t) { var n = t.HT, i = this.dat.indexOf(n); -1 !== i && mn(this.dat, i), this._at === n && (this._at = null, this.yat()) }, n }(vP); function mP(t, n) { return /^https?:\/\//.exec(t) ? t : /^:\/\//.exec(t) ? t : 0 === t.indexOf("/") ? n.substr(0, n.indexOf("/", 8)) + t : n + t } function kP(t, n) { return t.length >= n.length && 0 === t.lastIndexOf(n, 0) } function bP(t) { var n = t.indexOf(":"); return -1 !== n && t.length > n + 1 ? t.substring(n + 1) : null } function AP(t) { for (var n = {}, i = /(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g, e = i.exec(t); null !== e;) { var r = e[2], s = void 0; s = void 0 !== e[6] ? Bi(e[6]) : void 0 !== e[7] ? { width: y(e[8]), height: y(e[10]) } : void 0 !== e[12] ? y(e[12]) : void 0 !== e[14] ? e[14] : void 0 !== e[16] ? e[16] : null, n[r.toLowerCase()] = s, e = i.exec(t) } return n } var TP, SP = "x-"; function EP(t, n, i, e) { var r = t.split("@"), s = mP(n, i), u = w(r[0], 10), o = r[1] ? w(r[1], 10) : e; return { sit: s, toString: function () { return s }, indexOf: function (t) { return s.indexOf(t) }, Gk: { Ll: o, Fl: o + u - 1 } } } function IP(t, n, i) { var e, r, s, u, o, a = 0, h = 0, c = 0, f = null, v = 0, l = !1, d = [], g = null, p = 0, k = t.match(/[^\r\n]+/g); if (!k || "#EXTM3U" !== k[0].trim()) throw new RN("INVALID_HLS_MANIFEST", { code: "HMP2670", uri: n }); for (var b = { live: !0, hasEnd: !1, isEvent: !1, streams: [], fragments: [], media: [], dateRanges: [], isMasterPlaylist: !1, uri: n, metadata: null, duration: NaN, estimateDuration: NaN }, A = 1; A < k.length; A += 1) { var T = k[A].trim(); if (d.push(T + ""), kP(T, "#EXT")) { if (kP(T, "#EXTINF")) c = (c = y(bP(T))) || .5; else if (kP(T, "#EXT-X-BYTERANGE")) f = bP(T); else if (kP(T, "#EXT-X-KEY")) (s = AP(T)).method && "NONE" === s.method ? s = null : s.absoluteURI = mP(s.uri, i); else if (kP(T, "#EXT-X-DISCONTINUITY") && !kP(T, "#EXT-X-DISCONTINUITY-")) l = !0, v += 1; else if (kP(T, "#EXT-X-STREAM-INF")) (r = AP(T)).pat = h++, (A += 1) < k.length && (r.uri = mP(k[A].trim(), i), b.streams.push(r)); else if (kP(T, "#EXT-X-MEDIA") && !kP(T, "#EXT-X-MEDIA-")) (u = AP(T)).uri && (u.uri = mP(u.uri, i)), b.media.push(u); else if (kP(T, "#EXT-X-PROGRAM-DATE-TIME")) g = new Date(bP(T)); else if (kP(T, "#EXT-X-DISCONTINUITY-SEQUENCE")) b.mat = !0, b.bat = w(bP(T), 10); else if (kP(T, "#EXT-X-MEDIA-SEQUENCE")) a = w(bP(T), 10), b.Aat = !0, b.Tat = a; else if (kP(T, "#EXT-X-TARGETDURATION")) b.targetDuration = w(bP(T), 10), b.hasTargetDuration = !0; else if (kP(T, "#EXT-X-PLAYLIST-TYPE:EVENT")) b.isEvent = !0; else if (kP(T, "#EXT-X-ENDLIST")) b.live = !1, b.hasEnd = !0; else if (kP(T, "#EXT-X-MAP")) { var S = AP(T), E = S.uri, I = S.byterange; o = I ? EP(I, E, i, 0) : mP(E, i) } else if (kP(T, "#EXT-X-VERSION")) b.version = w(bP(T), 10); else if (kP(T, "#EXT-X-DATERANGE")) { var R = RP(T); b.dateRanges.push(R) } } else if (kP(T, "#")); else if (0 !== T.length) { f ? p = (e = EP(f, T, i, p)).Gk.Fl + 1 : e = mP(T, i); var C, N = s && Et({}, s); s && void 0 === s.iv && (C = a % 4294967295, N.iv = new m([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, C >> 24, C >> 16, C >> 8, 255 & C])), b.fragments.push({ start: 0, duration: c, uri: e, pat: a, Sat: l, Eat: v, key: N, Iat: g, Rat: d, Nat: !1, ett: o }), a += 1, c = 0, f = null, l = !1, g = null, d = [] } } return b.hasEnd && b.fragments.length && (b.fragments[b.fragments.length - 1].Nat = !0), b.isMasterPlaylist = 0 !== b.streams.length, b.metadata = function (t) { var n = t && t.fragments && t.fragments.length, i = t.targetDuration, e = 0, r = 0; if (!n) return null; for (var s = 0, u = t.fragments; s < u.length; s++) { var o = u[s]; r += o.duration, i = _.min(i, o.duration), e = _.max(e, o.duration) } return { Cat: i, Dat: e, xat: n ? t.fragments[n - 1].duration : 0, Oat: r / n, Bat: r } }(b), function (t) { if (!t.isMasterPlaylist) { t.duration = 0; for (var n = 0, i = t.fragments; n < i.length; n++) { var e = i[n]; t.duration += e.duration } t.estimateDuration = t.duration / t.fragments.length, t.targetDuration || (t.targetDuration = t.estimateDuration), t.live && (t.fragments.length < 10 ? t.duration = -.001 : t.duration = -(t.duration - 3 * t.targetDuration)) } }(b), function (t) { for (var n = 0, i = 0, e = t.fragments; i < e.length; i++) { var r = e[i]; r.start = n, n += r.duration } }(b), function (t) { t.streams.sort(function (t, n) { return t.bandwidth && n.bandwidth && t.bandwidth !== n.bandwidth ? t.bandwidth - n.bandwidth : t.resolution && n.resolution && t.resolution.width !== n.resolution.width && t.resolution.height !== n.resolution.height ? t.resolution.height * t.resolution.width - n.resolution.height * n.resolution.width : t.pat - n.pat }) }(b), function (t, n) { for (var i = {}, e = 0; e < t.media.length; e += 1) { var r = t.media[e]; r.type === n && r.uri && (i[r["group-id"]] = (i[r["group-id"]] || 0) + 1) } for (var s = t.media.length - 1; s >= 0; s -= 1) { var u = t.media[s]; u.type !== n || i[u["group-id"]] || mn(t.media, s) } }(b, "VIDEO"), function (t) { for (var n = 0, i = 0, e = t.streams; i < e.length; i++)e[i].id = n, n += 1; for (var r = 0, s = t.media; r < s.length; r++)s[r].id = n, n += 1 }(b), function (t) { for (var n = function (n, i) { var e = i[n]; "video" in e && (e.media = function (t, n) { for (var i, e = t.length >>> 0, r = arguments[1], s = 0; s < e; s++)if (i = t[s], n.call(r, i, s, t)) return i }(t.media, function (t) { return t["group-id"] == e.video })) }, i = 0, e = t.streams; i < e.length; i++)n(i, e) }(b), b } function RP(t) { var n = AP(t), i = function (t) { for (var n = {}, i = 0, e = g.keys(t); i < e.length; i++) { var r = e[i]; tn(r, SP) && (n[r.substr(SP.length)] = t[r]) } return n }(n), e = n["start-date"] ? new Date(n["start-date"]) : void 0, r = n["end-date"] ? new Date(n["end-date"]) : void 0, s = "YES" === n["end-on-next"] || void 0, u = n["scte35-cmd"] ? n["scte35-cmd"].buffer : void 0, o = n["scte35-out"] ? n["scte35-out"].buffer : void 0, a = n["scte35-in"] ? n["scte35-in"].buffer : void 0; return { Ff: n.id, Pat: n.class, IV: e, Mat: r, Zy: n.duration, Lat: n["planned-duration"], jat: s, Fat: i, Uat: u, Vat: o, Hat: a } } !function (t) { t.NO_EXTM3U = "HMP2670", t[t.DATERANGE_INVALID_1 = 101] = "DATERANGE_INVALID_1", t[t.DATERANGE_INVALID_2 = 102] = "DATERANGE_INVALID_2", t[t.DATERANGE_INVALID_3 = 103] = "DATERANGE_INVALID_3", t[t.DATERANGE_INVALID_4 = 104] = "DATERANGE_INVALID_4", t[t.DATERANGE_INVALID_5 = 105] = "DATERANGE_INVALID_5", t[t.DATERANGE_INVALID_6 = 106] = "DATERANGE_INVALID_6" }(TP || (TP = {})); (wP = {})[TP.NO_EXTM3U] = "The manifest does not contain a EXTM3U tag.", wP[TP.DATERANGE_INVALID_1] = "An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.", wP[TP.DATERANGE_INVALID_2] = "Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.", wP[TP.DATERANGE_INVALID_3] = "An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.", wP[TP.DATERANGE_INVALID_4] = "If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.", wP[TP.DATERANGE_INVALID_5] = "If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.", wP[TP.DATERANGE_INVALID_6] = "If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute."; var CP = function () { function t() { } return t.prototype.GO = function (t, n, i) { return IP(t, n, i) }, t }(); function NP(t) { return -1 === (t = t.split("#")[0].split("?")[0]).indexOf("/") ? t : t.substring(0, t.lastIndexOf("/") + 1) } var DP = function () { function t(t, n, i) { this.Gat = new CP, this.gc = t, this.OS = i; var e = this.gc && this.gc.crossOrigin === Qc.o_, r = new TB(i, e, 1); this.Jnt = NB(r, new JO(oP.q.yot, oP.q.wot, oP.q.u6, oP.q.mot)) } var n = t.prototype; return n.Ph = function (t, n, i) { var e = this.hW(t, n); return i && e.then(function (t) { return i(null, t) }, function (t) { return i(t) }), e }, n.hW = function () { var t = St(At.mark(function t(n, i) { var e, r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, t.next = 3, this.Jnt.Ynt([n], i); case 3: return e = t.sent, n = e.Tq, r = this.Gat.GO(e.Xnt, n, NP(n)), t.abrupt("return", { zat: r, qat: e.Xnt }); case 10: if (t.prev = 10, t.t0 = t.catch(0), !(t.t0 instanceof QA)) { t.next = 16; break } throw new RN("MANIFEST_NOT_FOUND", { code: "MFL8600", uri: n }); case 16: if (!(t.t0 instanceof YA)) { t.next = 24; break } if (0 !== t.t0.NF.Ej) { t.next = 21; break } throw new RN("MANIFEST_CORS_ERROR", { code: "MFL3900", uri: n, status: t.t0.NF.Ej }); case 21: throw new RN("MANIFEST_NOT_FOUND", { code: "MFL4100", uri: n, status: t.t0.NF.Ej }); case 22: t.next = 25; break; case 24: throw new RN("ERROR", { error: t.t0, uri: n }); case 25: case "end": return t.stop() } }, t, this, [[0, 10]]) })); return function (n, i) { return t.apply(this, arguments) } }(), t }(), xP = function (t) { function n(n, i) { var e; return (e = t.call(this) || this).Wat = new DP(i || {}, oP.q.yot, n), e } rt(n, t); var i = n.prototype; return i.bx = function () { void 0 !== this.Xat && (h(this.Xat), this.Xat = void 0), this.$at && this.$at.HT && (this.$at = void 0) }, i.Qat = function (t) { if (this.Yat) for (var n = 0, i = this.Yat.fragments; n < i.length; n++) { var e = i[n]; if (e.uri === t) return e } }, n.Zat = function (t, n, i, e) { var r, s = t.targetDuration, u = t.metadata; return r = t.fragments.length && u && (!s || u.Bat < 3 * s) ? 1e3 * u.Cat : s ? 1e3 * s : 1e4, i === n && (r /= 2), r = _.max(r - e, 1e3) }, i.Kat = function (t) { if (t.fragments.length > 0) for (var n = this.Qat(t.fragments[0].uri), i = n && n.pat || 0, e = 0, r = t.fragments; e < r.length; e++) { r[e].pat += i } }, i.Jat = function (t, i, e, r, s, u) { var o = this; if (this.$at && e === this.$at.HT) { var h = h_() - i; if (r) { this.$at = void 0, this.Jg = r; var c = { type: "Bo", Bo: r }; return this.dispatchEvent(c), s && s(r) } this.$at = void 0; var f = u.zat, v = u.qat; f.Aat || this.Kat(f), t === this.tht && (this.nht = f), this.Yat = f; var l = n.Zat(f, v, this.iht, h); f.live ? f.isMasterPlaylist || (this.Xat = a(function () { return o.hW(t) }, l)) : this.bx(), s && s(r, u); var d = { type: "eht", manifest: f, manifestText: v }; this.dispatchEvent(d), this.iht = v } }, i.hW = function (t, n) { var i = this, e = h_(), r = t; h(this.Xat), this.Xat = void 0; var s = this.Wat.Ph(r, {}, function (r, u) { return i.Jat(t, e, s, r, n, u) }); this.$at = { HT: s, Mk: t } }, i.Ll = function (t, n) { var i, e, r, s = this, u = !1; (r = t || (this.Yat ? this.Yat.uri : this.tht)) && (this.$at && this.$at.Mk === t ? n && (i = function (t) { s.removeEventListener("Bo", e), s.removeEventListener("eht", i); var r = t; n(null, { zat: r.manifest, qat: r.manifestText }) }, e = function (t) { s.removeEventListener("Bo", e), s.removeEventListener("eht", i), n(t.Bo) }, this.addEventListener("Bo", e), this.addEventListener("eht", i)) : (this.bx(), this.hW(r, function (t, i) { if (!u) return u = !0, n && n(t, i) }))) }, i.rht = function (t) { t && (this.iht = void 0, this.nht && this.nht.isMasterPlaylist ? this.Ll(t.uri) : this.Yat && !this.sht() && this.Ll(this.Yat.uri)) }, i.Af = function () { this.bx(), this.To() }, i.sht = function () { return !!this.$at || !!this.Xat || !(!this.Yat || this.Yat.live) }, T(n, [{ key: "zat", get: function () { return this.Yat } }, { key: "uht", get: function () { return this.nht } }, { key: "oht", get: function () { return this.tht }, set: function (t) { this.bx(), this.iht = void 0, this.nht = void 0, this.Yat = void 0, this.tht = t } }]), n }(vP); function BP(t) { return t.pat } var OP = function () { function t() { this.JG = [], this.aht = {}, this.hht = 0 } var n = t.prototype; return n.cht = function (t) { var n = this.aht[t]; return void 0 === n ? -1 : n - this.hht }, n.fht = function (t) { return this.JG[t] }, n.vht = function (t) { return this.fht(this.cht(t)) }, n.dht = function (t) { return !!this.fht(t) }, n._ht = function (t) { return !!this.vht(t) }, n.ght = function () { return this.JG }, n.kd = function (t) { var n, i = this.JG, e = i.length ? i[i.length - 1] : null; if (this.cht(t.pat) >= 0) return !1; if (e && t.pat > e.pat) n = i.length; else { var r = Qg(this.JG, t.pat, BP, bo); if (r >= 0) return !1; n = -(r + 1) } return this.wht(t, n), !0 }, n.Mh = function (t) { var n = this.JG, i = this.aht, e = this.cht(t.pat); return !(e < 0) && (n.splice(e, 0, t), delete i[t.pat], this.yht(e), !0) }, n.pht = function (t) { var n = this.JG, i = this.aht; t = _.min(t, n.length); for (var e = 0; e < t; e++)delete i[n[e].pat]; n.splice(0, t), this.hht += t }, n.wht = function (t, n) { var i = this.JG; n >= i.length ? i.push(t) : i.splice(n, 0, t), this.yht(n) }, n.yht = function (t) { for (var n = this.JG, i = this.aht, e = this.hht, r = n.length, s = t; s < r; s++)i[n[s].pat] = s + e }, T(t, [{ key: "Sf", get: function () { return this.JG.length } }]), t }(), PP = function () { function t(t, n, i) { this.mht = t, this.kht = n, this.bht = i } var n = t.prototype; return n.compute = function () { return this.mht.live ? this.mht.mat ? this.mht.bat : this.estimateDiscontinuitySequenceNumber() : 0 }, n.estimateDiscontinuitySequenceNumber = function () { var t = 0; return this.bht && (t += this.Aht()), this.Tht() && (t += this.Sht(t)), t }, n.Tht = function () { return void 0 !== this.kht.Eht.vht(this.mht.fragments[0].pat) }, n.Sht = function (t) { var n = this.mht.fragments[0]; return this.kht.Eht.vht(n.pat).Eat - (n.Eat + t) || 0 }, n.Aht = function () { var t = MP(this.mht), n = MP(this.bht.Iht), i = this.estimateMinimalOffset(n, t); return this.getOldDiscontinuitySequenceNumber(this.bht) + i }, n.estimateMinimalOffset = function (t, n) { for (var i = 0, e = 1 / 0, r = 0; r < t.length; r += 1) { for (var s = 0, u = 0; u < n.length + t.length; u += 1) { var o = t[u] || 0, a = n[u - r] || 0; s += _.abs(o - a) } s < e && (i = r, e = s) } return i }, n.getOldDiscontinuitySequenceNumber = function (t) { return t.Iht.fragments.length ? this.bht.Rht(t.Iht.fragments[0].pat).Eat : 0 }, t }(); function MP(t) { for (var n = [], i = 0, e = 0, r = t.fragments; e < r.length; e++) { var s = r[e]; s.Sat && (n.push(i), i = 0), i += s.duration } return n.push(i), n } var LP = function (t) { function n(n) { return t.call(this, "Lh", n) || this } return rt(n, t), n.prototype.lf = function () { return new jP(this.NM.vf) }, n }(n_), jP = function (t) { function n(n) { return t.call(this, "update", n) || this } return rt(n, t), n }(i_), FP = function (t) { function n(n, i) { var e, r = UP(i, n.Zy, n.IV, n.Mat); return (e = t.call(this, i, r, void 0, !1, n.Ff) || this).Nht = n.Pat, e.Cht = n.IV, e.Dht = n.Mat, e.KC = n.Zy, e.xht = n.Lat, e.Oht = Boolean(n.jat), e.Bht = n.Fat || {}, e.Pht = n.Uat, e.Mht = n.Vat, e.Lht = n.Hat, e.jht(), e.Fht(), e } rt(n, t); var i = n.prototype; return i.Lh = function (t) { var n = !1; if (void 0 === this.Nht && void 0 !== t.Pat && (n = !0, this.Nht = t.Pat), void 0 === this.Dht && void 0 !== t.Mat && (n = !0, this.Dht = t.Mat), void 0 === this.KC && void 0 !== t.Zy && (n = !0, this.KC = t.Zy), void 0 === this.xht && void 0 !== t.Lat && (n = !0, this.xht = t.Lat), !this.Oht && t.jat && (n = !0, this.Oht = t.jat), t.Fat) for (var i = 0, e = g.keys(t.Fat); i < e.length; i++) { var r = e[i]; void 0 === this.Bht[r] && (n = !0, this.Bht[r] = t.Fat[r]) } void 0 === this.Pht && void 0 !== t.Uat && (n = !0, this.Pht = t.Uat), void 0 === this.Mht && void 0 !== t.Vat && (n = !0, this.Mht = t.Vat), void 0 === this.Lht && void 0 !== t.Hat && (n = !0, this.Lht = t.Hat), this.jht(), this.Fht(), this.Uht(), n && this._o(new LP(this)) }, i.jht = function () { this.KC && !this.Dht && (this.Dht = new Date(this.Cht.getTime() + 1e3 * this.KC)) }, i.Fht = function () { this.Dht && !this.KC && (this.KC = et(this.Dht.getTime() - this.Cht.getTime())) }, i.Uht = function () { this.UP === 1 / 0 && (this.Dht || this.KC) && (this.UP = UP(this.FP, this.KC, this.Cht, this.Dht)) }, T(n, [{ key: "vf", get: function () { var t, n, i; return this.cf || (this.cf = (i = { get track() { return t.df.vf }, get id() { return t.Ff }, get startTime() { return t.zk }, get endTime() { return t.OP }, get content() { return t.BP }, get class() { return t.Pat }, get startDate() { return t.IV }, get endDate() { return t.Mat }, get duration() { return t.Zy }, get plannedDuration() { return t.Lat }, get endOnNext() { return t.jat }, get scte35Cmd() { return t.Uat }, get scte35Out() { return t.Vat }, get scte35In() { return t.Hat }, get customAttributes() { return t.Fat }, addEventListener: function (t, i) { t = Pr(t, Or), n.mo(t, i) }, removeEventListener: function (t, i) { t = Pr(t, Or), n.So(t, i) } }, n = new kr(t = this, i), i)), this.cf } }, { key: "Pat", get: function () { return this.Nht } }, { key: "IV", get: function () { return this.Cht } }, { key: "Mat", get: function () { return this.Dht } }, { key: "Zy", get: function () { return this.KC } }, { key: "Lat", get: function () { return this.xht } }, { key: "jat", get: function () { return this.Oht } }, { key: "Uat", get: function () { return this.Pht } }, { key: "Vat", get: function () { return this.Mht } }, { key: "Hat", get: function () { return this.Lht } }, { key: "Fat", get: function () { return this.Bht } }]), n }(ld); function UP(t, n, i, e) { return P(n) ? t + n : e ? t + (et(e.getTime()) - et(i.getTime())) : 1 / 0 } var VP, HP, zP, qP, GP, WP = function (t) { function n() { return t.call(this, void 0, void 0, "daterange") || this } rt(n, t); var i = n.prototype; return i.Lh = function (t, n) { var i = this; t = function (t) { for (var n = Rt(), i = [], e = 0; e < t.length; e++) { var r = t[e]; if (n.has(r.Ff)) { var s = n.get(r.Ff), u = Et(Et(Et({}, s), Nr(r)), { Fat: Et(Et({}, s.Fat), r.Fat) }); n.set(r.Ff, u) } else n.set(r.Ff, r), i.push(r.Ff) } return i.map(function (t) { return n.get(t) }) }(t); for (var e = this.Kf.Tf, r = function (n) { var r = e[n], s = wn(t, function (t) { return t.Ff === r.Ff }); s ? r.Lh(s) : i.IL(r) }, s = e.length - 1; s >= 0; s--)r(s); for (var u = 0, o = t; u < o.length; u++) { var a = o[u], h = a.IV; if (void 0 !== h && !this.kL(a.Ff)) { var c = n(h); this.SL(new FP(a, c)) } } }, i.SL = function (n) { this.Vht(n), t.prototype.SL.call(this, n) }, i.Vht = function (t) { var n = this.rL.filter(function (n) { return n.Pat === t.Pat }).pop(); n && n.jat && n.Lh({ Ff: n.Ff, Mat: t.IV }) }, n }(Ep); function XP(t) { return $P(t) ? { Mk: t.sit, Gk: [t.Gk.Ll, t.Gk.Fl], TT: !0 } : { Mk: t.toString(), TT: !0 } } function $P(t) { return void 0 !== t.Gk } function QP(t) { return t && t.Hht && Jd(t.Hht) || !1 } function YP(t) { if (!t) return ha.cm; if (!QP(t)) return ha.Ym(t.duration); var n = t.Ght || ha.cm, i = t.zht || ha.cm, e = ha.Ym(t.duration); return n.Dm() || i.Dm() ? n.Dm() ? i.Dm() ? e.Dm() ? ha.cm : e : i : n : ha.$l(n, i) } function ZP(t) { for (var n = 0; n < t.length; n++) { var i = t[n]; if (i.NL) return i } return null } function KP(t) { return ZP(t) || function (t) { return t.filter(function (t) { return t.qht }) }(t)[0] || t[0] } function JP(t, n) { for (var i = 0; i < n.length; i++) { var e = n[i]; kn(t, e) || t.push(e) } return t } function tM(t) { switch (t) { case qP.Wht: case qP.Xht: return "video"; case qP.$ht: return "audio" } } !function (t) { t.Qht = "alternative", t.Yht = "main", t.Zht = "commentary", t.Kht = "", t.Xx = "descriptions", t.Jht = "main-desc", t.tct = "translation" }(VP || (VP = {})), function (t) { t.Qht = "alternative", t.Yht = "main", t.Zht = "commentary", t.Kht = "", t.Wx = "captions", t.nct = "sign", t.qx = "subtitles" }(HP || (HP = {})), function (t) { t.Wht = "video", t.$ht = "audio", t.ict = "closedCaption", t.ect = "variant" }(zP || (zP = {})), function (t) { t[t.xC = -1] = "xC", t[t.$ht = 0] = "$ht", t[t.Wht = 1] = "Wht", t[t.Xht = 2] = "Xht" }(qP || (qP = {})), function (t) { t[t.xC = -1] = "xC", t[t.rct = 1] = "rct", t[t.sct = 2] = "sct", t[t.uct = 3] = "uct", t[t.act = 4] = "act" }(GP || (GP = {})), function (t) { t.hct = function (n) { return n >= t.sct }, t.cct = function (n) { return n === t.sct || n === t.uct } }(GP || (GP = {})); var nM = function (t) { function n() { var n; return (n = t.call(this) || this).fct = [], n.vct = function () { return n.dispatchEvent("lct") }, n.dct = function () { return n.dispatchEvent("_ct") }, n } rt(n, t); var i = n.prototype; return i.kd = function (t) { this.fct.push(t), t.addEventListener("_ct", this.dct), t.addEventListener("gct", this.vct), this.dispatchEvent("wct"), t.disabled || this.dispatchEvent("lct") }, i.Mh = function (t) { var n = this.fct.indexOf(t); n < 0 || (mn(this.fct, n), t.removeEventListener("_ct", this.dct), t.removeEventListener("gct", this.vct), this.dispatchEvent("wct"), t.disabled || this.dispatchEvent("lct")) }, i.zo = function () { for (var t = !!this.yct.length, n = !!this.pct.length, i = 0, e = this.fct; i < e.length; i++) { e[i].removeEventListener("gct", this.vct) } this.fct.length = 0, t && this.dispatchEvent("wct"), n && this.dispatchEvent("lct") }, i.Af = function () { this.To(), this.zo() }, T(n, [{ key: "yct", get: function () { return this.fct } }, { key: "pct", get: function () { return this.fct.filter(function (t) { return !t.disabled }) } }]), n }(vP); function iM(t) { if (!t) return null; for (var n = { mct: "", kct: "", bct: "" }, i = t.toLowerCase().split(","), e = 0; e < i.length; e++) { var r = i[e], s = r.trim(); "mp4a.40.5" === s || "mp4a.40.05" === s ? n.mct = "mp4a.40.5" : "mp4a.40.2" === s || "mp4a.40.02" === s ? n.mct = "mp4a.40.2" : "mp4a.40.29" === s ? n.mct = "mp4a.40.29" : 0 === s.indexOf("mp4a.40.3") ? n.mct = s : "ec-3" === s ? n.mct = s : 0 === s.indexOf("avc") ? n.kct = r : n.bct += "," + s } return n } var eM = function (t) { function n(n, i, e, r, s, u, o, a, h, c, f, v, l, d, g, _) { var w; return void 0 === g && (g = VP.Yht), (w = t.call(this) || this).Act = new OP, w.Tct = NaN, w.Sct = void 0, w.Ect = void 0, w.wL = void 0, w.Ict = void 0, w.Rct = !1, w.Nct = null, w.Cct = !1, w.grt = !0, w.Dct = !0, w.xct = !0, w.Oct = void 0, w.Bct = void 0, w.Pct = void 0, w.Mct = void 0, w.Lct = void 0, w.jct = void 0, w.Fct = null, w.Uct = void 0, w.Vct = void 0, w.X7 = n, w.Hct = Boolean(d), w.rU = i, w.Bw = e || 0 === e ? e : -1, w.Gct = r, w.sy = s, w.zct = Boolean(u), w.qct = Boolean(o), w.Wct = iM(a), w.Xct = _, w.$ct = h, w.Ict = c, w.Qct = f, w.Ect = v, w.wL = l, w.gL = g, w } rt(n, t), n.createFromPlaylistStream = function (t, i, e) { return new n(t, i.name || i.media && i.media.name || void 0, i.id, i["average-bandwidth"], i.uri, void 0, void 0, i.codecs, i.pat, i.audio, i.resolution, i.bandwidth, i.media ? i.media.language : void 0, e, t.Yct[0] ? t.Yct[0].Vf : VP.Yht) }, n.createFromPlaylistMedia = function (t, i, e, r) { return new n(t, i.name, i.id, void 0, i.uri, !!i.default && "yes" === i.default.toLowerCase(), i.autoselect ? "yes" === i.autoselect.toLowerCase() : void 0, void 0, void 0, void 0, void 0, void 0, i.language, e, function (t) { if (t.default && "yes" === t.default.toLowerCase()) return t.characteristics && Jt(t.characteristics, "public.accessibility.describes-video") ? VP.Jht : VP.Yht; if (t.characteristics && Jt(t.characteristics, "public.accessibility.describes-video")) return VP.Xx; return VP.Qht }(i), r) }, n.createFromUri = function (t, i, e) { return new n(t, void 0, void 0, void 0, i, void 0, void 0, void 0, void 0, void 0, void 0, void 0, void 0, e) }; var i = n.prototype; return i.Zct = function (t, n) { var i = h_(), e = new PP(t, this, n).compute(), r = this.Kct(t.fragments), s = r.oldFragments, u = r.newFragments; this.Jct(s, i), this.tft(u, i, e), this.Sct !== t && this.nft(!0), this.Sct = t, this.dispatchEvent({ type: "ift", eft: this }), this.dispatchEvent("renditionUpdated") }, i.Rht = function (t) { return this.Act.vht(t) }, i.rft = function () { null !== this.Nct && h(this.Nct), this.dispatchEvent("gct"), this.dispatchEvent("renditionUpdated") }, i.sft = function (t) { this.Cct = t, this.rft() }, i.uft = function () { this.oft(3e4) }, i.Af = function () { null !== this.Nct && h(this.Nct), this.To() }, i.aft = function () { var t = this.grt; this.grt = this.Dct && this.xct, t !== this.grt && this.dispatchEvent("_ct") }, i.nft = function (t) { this.Dct = t, this.aft() }, i.hft = function (t) { this.xct = t, this.aft() }, i.cft = function (t) { this.Wct = "string" == typeof t ? iM(t) : t, this.dispatchEvent("renditionUpdated") }, i.oft = function (t) { var n = this; this.Rct = !0, this.rft(), this.Nct = a(function () { n.Rct = !1, n.rft() }, t) }, i.fft = function (t, n) { return t ? !n && t.mct && t.kct ? qP.Xht : t.kct ? qP.Wht : t.mct ? qP.$ht : qP.xC : qP.xC }, i.Kct = function (t) { void 0 === t && (t = []); for (var n = [], i = [], e = 0, r = t; e < r.length; e++) { var s = r[e]; this.Act._ht(s.pat) ? n.push(s) : i.push(s) } return { oldFragments: n, newFragments: i } }, i.Jct = function (t, n) { for (var i = 0; i < t.length; i++) { var e = t[i], r = this.Act.vht(e.pat); r.Rat = JP(r.Rat, e.Rat), r.Iat = e.Iat || r.Iat, r.vft = n } }, i.tft = function (t, n, i) { var e = this.lft(t); !function (t, n) { for (var i = 0, e = t.length - 1; e >= 0; e--) { var r = t[e]; r.JO = n - i, i += 1e3 * r.duration } }(e, n), function (t, n) { for (var i = 0; i < t.length; i++) { var e = t[i]; e.Eat += n } }(e, i), this.addRenditionFragments(e) }, i.lft = function (t) { for (var n = [], i = 0; i < t.length; i++) { var e = t[i]; e.eft = this; var r = Et({}, e); n.push(r) } return n }, i.addRenditionFragments = function (t) { for (var n = 0; n < t.length; n++) { var i = t[n]; this.Act.kd(i), p(this.Tct) && (this.Tct = i.pat) } }, T(n, [{ key: "Ff", get: function () { return this.Bw } }, { key: "disabled", get: function () { return this.Rct || this.Cct }, set: function (t) { this.Rct = t, this.rft() } }, { key: "dg", get: function () { return this.grt } }, { key: "tA", get: function () { return this.Wct } }, { key: "bandwidth", get: function () { return this.Ect }, set: function (t) { this.Ect = t, this.dispatchEvent("renditionUpdated") } }, { key: "Vf", get: function () { return this.gL } }, { key: "resolution", get: function () { return this.Qct }, set: function (t) { this.Qct = t, this.dispatchEvent("renditionUpdated") } }, { key: "uri", get: function () { return this.sy || this.Sct && this.Sct.uri }, set: function (t) { this.sy = t, this.dispatchEvent("renditionUpdated") } }, { key: "Iht", get: function () { return this.Sct } }, { key: "Eht", get: function () { return this.Act } }, { key: "dft", get: function () { return void 0 !== this.Xct ? this.Xct : this.fft(this.Wct, this.Hct) } }, { key: "_ft", get: function () { return this.Sct ? this.Sct.live ? this.Sct.duration < -60 ? GP.uct : GP.act : GP.rct : GP.xC } }, { key: "Fn", get: function () { return this.rU }, set: function (t) { this.rU = t, this.dispatchEvent("renditionUpdated") } }, { key: "pat", get: function () { return this.$ct } }, { key: "Gf", get: function () { return this.wL } }, { key: "NL", get: function () { return this.zct } }, { key: "qht", get: function () { return this.qct || this.zct } }, { key: "mct", get: function () { return this.Ict } }, { key: "gft", get: function () { return this.Tct } }, { key: "Dnt", get: function () { return !!this.Iht } }, { key: "wft", get: function () { return this.Gct } }, { key: "vq", get: function () { return this.X7 } }]), n }(vP); function rM(t, n, i) { return ig(i, t.Od(n)) } var sM = function (t) { function n(n, i, e, r) { var s; (s = t.call(this) || this).Act = new OP, s.Sct = void 0, s.yft = null, s.pft = [], s.mft = function () { return s.kft() }, s.bft = function () { return s.Aft() }, s.Tft = function (t, n, i) { if (t) s.dispatchEvent({ type: "error", error: t }); else if (s.Sft) { var e = dg(n.NF); if (e) { for (var r = e.AM || { TM: ha.cm, SM: ha.cm }, u = 0, o = e.Kf; u < o.length; u++) { var a = o[u]; s.pft.push({ Y1: i, Eft: rM(ha.Ym(a.zk), r.SM, r.TM), Ift: rM(ha.Ym(a.OP), r.SM, r.TM), NM: a }) } s.Rft() } } }, s.X7 = n, s.iO = i.type, s.Bw = i.id || 0 === i.id ? i.id : -1, s.sy = i.uri, s.wL = i.language, s.rU = i.name, s.zct = !!i.default && "yes" === i.default.toLowerCase(), s.qct = !!i.autoselect && "yes" === i.autoselect.toLowerCase(), s.Nft = new pP(r, e), s.Cft = new xP(r, e); var u = function (t) { if (Jt(t.characteristics, "public.accessibility.describes-music-and-sound")) return Xc.Wx; return Xc.qx }(i); return s.Sft = new U_(u, s.rU, s.wL, void 0, "webvtt"), s.Sft.mo("mf", s.mft), s.Cft.oht = s.sit, s.Cft.addEventListener("eht", function (t) { s.Zct(t.manifest) }), s.addEventListener("Dft", function (t) { var n = t.Y1; s.Nft.Ph("xft", n.uri, Wa.dT, function (t, i) { return s.Tft(t, i, n) }) }), s.zct && (s.Sft.Yf = Vr.$f), s } rt(n, t); var i = n.prototype; return i.Zct = function (t) { this.Sct = t, this.Jct(t.fragments), this.Aft(), this.dispatchEvent({ type: "ift", rendition: this }), this.dispatchEvent("renditionUpdated") }, i.Af = function () { this.To(), this.xP = null }, i.Rft = function () { if (this.pft.length && this.yft) { for (var t = [], n = 0, i = this.pft; n < i.length; n++) { var e = i[n], r = this.yft.Oft(e.Y1, e.Eft); if (r.gm()) t.push(e); else { var s = this.yft.Oft(e.Y1, e.Ift), u = new Hd(r.Pm(), s.Pm(), e.NM.BP, void 0, e.NM.Ff); this.Sft.SL(u) } } this.pft = t } }, i.Jct = function (t) { for (var n = 0; n < t.length; n++) { var i = t[n]; i.eft = this; var e = this.Act.vht(i.pat); e ? e.Rat = JP(e.Rat, i.Rat) : (e = Et({}, i), this.Act.kd(e), this.dispatchEvent({ type: "Dft", Y1: e })) } }, i.Aft = function () { this.yft && this.yft.Bft(this, this.Act), this.Rft() }, i.kft = function () { switch (this.Sft.Yf) { case Vr.$f: case Vr.Xf: this.Cft.sht() || this.Cft.Ll(); break; case Vr.Wf: this.Cft.bx() } }, T(n, [{ key: "xft", get: function () { return this.Sft } }, { key: "xP", get: function () { return this.yft }, set: function (t) { this.yft && this.yft.removeEventListener("Pft", this.bft), this.yft = t, this.Aft(), this.yft && this.yft.addEventListener("Pft", this.bft) } }, { key: "Ff", get: function () { return this.Bw } }, { key: "Gf", get: function () { return this.wL } }, { key: "NL", get: function () { return this.zct } }, { key: "qht", get: function () { return this.qct || this.zct } }, { key: "sit", get: function () { return this.sy } }, { key: "uri", get: function () { return this.sy } }, { key: "Iht", get: function () { return this.Sct } }, { key: "Eht", get: function () { return this.Act } }, { key: "Ou", get: function () { return this.iO } }, { key: "_ft", get: function () { return this.Sct ? this.Sct.live ? this.Sct.duration < -60 ? GP.uct : GP.act : GP.rct : GP.xC } }, { key: "Fn", get: function () { return this.rU }, set: function (t) { this.rU = t, this.Sft.Hf = this.rU } }, { key: "vq", get: function () { return this.X7 } }, { key: "disabled", get: function () { return !1 } }]), n }(vP), uM = function (t) { function n(n, i, e) { var r; (r = t.call(this) || this).Mft = ["renditionUpdated", "ift", "Lft"], r.Yat = null, r.jft = null, r.Fft = null, r.Uft = null, r.Vft = new nM, r.Hft = new nM, r.Gft = new nM, r.j_ = {}, r.nht = null, r.KC = NaN, r.do = function (t) { return r.dispatchEvent(t) }, r.gc = n, r.OS = i, r.zft = e; var s = st(r); return r.qft = function () { s.Wft(this) }, r.Xft = function (t) { s.$ft(this, t) }, r } rt(n, t); var i = n.prototype; return i.Qft = function (t, n) { var i = new TR(n); return i.Yf = Vr.Xf, this.j_[i.Ff] = i, this.dispatchEvent({ type: "Yft", df: i }), i }, i.Zft = function (t, n, i) { var e = new Ep(i, "manifest"); return e.Yf = Vr.Xf, this.j_[e.Ff] = e, this.dispatchEvent({ type: "Yft", df: e }), e }, i.Kft = function (t, n) { if (t) { var i = t.Kf, e = t.Jft, r = t && this.j_[e]; r || (r = new TR(t.Qf), this.j_[e] = r, r.Yf = Vr.Xf, this.dispatchEvent({ type: "Yft", df: r })); for (var s = 0; s < i.length; s++) { var u = i[s]; r.SL(u) } } }, i.tvt = function (t) { t && (this.l3 || (this.l3 = new U_(Xc.Wx, "CC1", "en", !0, "cea608"), this.j_.CC1 = this.l3, this.dispatchEvent({ type: "Yft", df: this.l3 })), this.l3.SL(t)) }, i.nvt = function (t, n, i) { var e = this.j_[t]; if (e) { var r = []; !function (t, n, i, e) { for (var r = 0, s = t.Kf.Tf; r < s.length; r++) { var u = s[r]; if (u.zk >= i) break; n < u.OP && e.push(u) } }(e, n, i, r); for (var s = 0; s < r.length; s++) { var u = r[s]; e.IL(u) } } }, i.ivt = function (t, n) { return this.evt(t, n) }, i.rvt = function (t) { var n; return (n = this.svt(t, this.Vft)) ? n : (n = this.svt(t, this.Hft)) ? n : n = this.svt(t, this.Gft) }, i.Af = function () { this.Io(this.Vft), this.Vft.Af(), this.Io(this.Hft), this.Hft.Af(), this.Io(this.Gft), this.Gft.Af(), this.j_ = {}, this.l3 = void 0, this.uvt && (this.uvt.Af(), this.uvt = void 0), this.nht = null, this.KC = NaN, this.Yat = null, this.jft = null, this.Fft = null, this.Uft = null, this.dispatchEvent("Af") }, i.ovt = function (t) { var n = eM.createFromUri(this, t.uri); this.Io(this.Hft), this.Hft.kd(n), n.addEventListener("renditionUpdated", this.qft) }, i.Wft = function (t) { var n = t.Iht, i = t._ft; if (p(this.KC) || GP.hct(i)) { if (GP.xC === i) return; if (!n) return; this.KC = n.duration, this.dispatchEvent("avt") } p(this.KC) || GP.rct !== i || t.removeEventListener("renditionUpdated", this.qft) }, i.cvt = function (t) { var n = this; this.Io(this.Vft), this.Vft.zo(), this.Io(this.Hft), this.Hft.zo(), this.Gft.zo(), this.nht = t; for (var i = t.streams.map(function (t) { return eM.createFromPlaylistStream(n, t) }).filter(function (t) { return function (t) { if (!t) return !0; if (t.mct && !Jt(t.mct, "mp4a") && !Jt(t.mct, "mp3")) return !1; if (t.kct && !Jt(t.kct, "avc1")) return !1; return !0 }(t.tA) }), e = i.some(function (t) { return t.tA && t.tA.mct }), r = i.some(function (t) { return t.tA && t.tA.kct }), s = 0; s < i.length; s++) { var u = i[s], o = Boolean(u.tA && u.tA.mct), a = Boolean(u.tA && u.tA.kct); e && !o || r && !a || (this.Hft.kd(u), u.addEventListener("renditionUpdated", this.qft)) } for (var h = function (t, i) { var e = i[t]; switch (e.type.toLowerCase()) { case "subtitles": if (!n.zft) { var r = new sM(n, e, n.gc, n.OS); n.Gft.kd(r), n.dispatchEvent({ type: "Yft", df: r.xft }) } break; case "closed-captions": break; case "audio": if (!n.Hft.yct.some(function (t) { return t.mct === e["group-id"] })) return "continue"; var s = e.uri ? qP.$ht : qP.Xht, u = eM.createFromPlaylistMedia(n, e, !1, s); n.Vft.kd(u) } }, c = 0, f = t.media; c < f.length; c++)h(c, f); this.fvt = KP(this.Yct.pct) || null, this.dispatchEvent("vvt") }, i.svt = function (t, n) { for (var i = 0, e = n.yct; i < e.length; i++) { var r = e[i]; if (r.uri === t) return r } return null }, i.$ft = function (t, n) { this.dispatchEvent(Et(Et({}, n), { eft: t })) }, i.lvt = function (t) { for (var n = 0, i = t.yct; n < i.length; n++)for (var e = i[n], r = 0, s = this.Mft; r < s.length; r++) { var u = s[r]; e.addEventListener(u, this.Xft) } }, i.Io = function (t) { for (var n = 0, i = t.yct; n < i.length; n++) { i[n].Af() } }, i.dvt = function (t, n) { 0 !== t.length && this.gc.hlsDateRange && (this.uvt || (this.uvt = new WP, this.dispatchEvent({ type: "Yft", df: this.uvt })), this.uvt.Lh(t, n)) }, i._vt = function (t, n) { if (this.jft !== t) { var i = this.jft; this.jft = t, this.dispatchEvent({ type: "gvt", dft: "mct", eft: this.jft, wvt: i, yvt: n }) } }, i.evt = function (t, n) { if (this.Fft !== t) { var i = this.Fft; this.Fft = t, t && this.dispatchEvent({ type: "gvt", dft: "kct", eft: this.Fft, wvt: i, yvt: n }) } }, i.pvt = function (t) { for (var n = 0, i = t.yct; n < i.length; n++) { var e = i[n]; if (e._ft !== GP.xC) return e._ft } return null }, T(n, [{ key: "zat", get: function () { return this.Yat }, set: function (t) { t && (0 === t.streams.length ? this.ovt(t) : this.cvt(t), this.Yat = t, this.lvt(this.Hft), this.lvt(this.Vft), this.dispatchEvent("mvt")) } }, { key: "uht", get: function () { return this.nht } }, { key: "Zy", get: function () { return this.KC } }, { key: "Ag", get: function () { var t = this, n = this.Gft.yct.map(function (t) { return t.xft }), i = g.keys(this.j_).map(function (n) { return t.j_[n] }); return this.l3 && i.push(this.l3), this.uvt && i.push(this.uvt), n.concat(i) } }, { key: "fvt", get: function () { return this.jft }, set: function (t) { this._vt(t, !0) } }, { key: "kvt", get: function () { return this.Fft }, set: function (t) { this.evt(t, !1) } }, { key: "Yct", get: function () { return this.Vft } }, { key: "bvt", get: function () { return this.Hft } }, { key: "Avt", get: function () { return this.Gft.yct } }, { key: "_ft", get: function () { var t; return null !== (t = this.jft && this.jft._ft) && t !== GP.xC ? t : null !== (t = this.Fft && this.Fft._ft) && t !== GP.xC ? t : null !== (t = this.pvt(this.Vft)) ? t : null !== (t = this.pvt(this.Hft)) ? t : GP.xC } }]), n }(vP); var oM = function (t) { function n(n, i, e) { var r, s, u, o, a; return (r = t.call(this) || this).pO = [], r.Tvt = {}, r.do = function (t) { return r.dispatchEvent(t) }, r.Svt = function (t) { r.Evt(t) }, r.Ivt = function (t) { r.handleRenditionUpdated(t) }, r.Rvt = function (t) { for (var n = 0, i = r.pO; n < i.length; n++) { i[n].Nvt.Rvt(t) } }, r.Cvt = n, r.Dvt = i, r.xvt = e, r.Dvt && r.Dvt.addEventListener("gvt", r.Svt), r.xvt && (r.xvt.addEventListener("renditionUpdated", r.Ivt), r.xvt.addEventListener("Ovt", r.Rvt)), r.vf = (s = st(r), u = new vP, o = { get length() { return s.pO.length }, enable: function (t) { s.kO(s.Bvt(t && t.id) || t) }, disable: function (t) { s.bO(s.Bvt(t && t.id) || t) }, item: function (t) { return s.pO[t] && s.pO[t].vf }, getTrackByID: function (t) { var n = s.Bvt(t); return n && n.vf }, addEventListener: function (t, n) { u.addEventListener(t, n) }, removeEventListener: function (t, n) { u.removeEventListener(t, n) } }, a = function (t) { return u.dispatchEvent(t, !0) }, s.addEventListener("addtrack", a), s.addEventListener("enabledtrack", a), s.addEventListener("disabledtrack", a), o), r } rt(n, t); var i = n.prototype; return i.Bvt = function (t) { return this.Tvt[t] }, i.pf = function (t) { for (var n = 0, i = t.Nvt.zf; n < i.length; n++) { var e = i[n]; e.Ff === this.Pvt() && (e.GP = !0) } t.addEventListener("enabledtrack", this.do), t.addEventListener("disabledtrack", this.do), this.pO.push(t), this.Tvt[t.Ff] = t, this.dispatchEvent({ type: "addtrack", track: t.vf }) }, i.kO = function (t) { if (t) { var n = this.Tvt[t.Ff]; if (n && !n.jf) { for (var i = this.pO.length - 1; i >= 0; i--)this.pO[i].V_(); n.U_() } } }, i.bO = function (t) { }, T(n, [{ key: "Mvt", get: function () { return this.Pvt() } }]), n }(vP); var aM = function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, i, e) || this).Lvt = NaN, r } rt(n, t); var i = n.prototype; return i.Pvt = function () { return this.Lvt }, i.Evt = function (t) { t.jvt ? this.Fvt(t.Uvt) : t.Vvt && this.Fvt(t.Vvt) }, i.Fvt = function (t) { t && (this.Lvt = t.Ff), this.pO.forEach(function (n) { return n.Ttt(t) }) }, i.handleRenditionUpdated = function (t) { if (t.eft && t.eft.dft === qP.$ht) for (var n = 0, i = this.pO; n < i.length; n++) { i[n].Hvt(t) } }, i.kO = function (n) { var i = n; if (!i) { var e = this.pO.filter(function (t) { return t.NL }); e.length > 0 && (i = e[0]) } t.prototype.kO.call(this, i) }, T(n, [{ key: "Ou", get: function () { return "audio" } }]), n }(oM), hM = function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, i, e) || this).Gvt = NaN, r } rt(n, t); var i = n.prototype; return i.Pvt = function () { return this.Gvt }, i.Evt = function (t) { (t.zvt || t.Uvt) && (t.Uvt && (this.Gvt = t.Uvt.Ff), this.pO.forEach(function (n) { return n.Ttt(t.Uvt) })) }, i.handleRenditionUpdated = function (t) { if (t.eft && t.eft.dft === qP.Wht) for (var n = 0, i = this.pO; n < i.length; n++) { i[n].Hvt(t) } }, T(n, [{ key: "Ou", get: function () { return "video" } }]), n }(oM), cM = function (t) { function n(n) { var i, e, r, s; return (i = t.call(this) || this).GP = !1, i.qvt = !0, i.eft = n, i.GP = !1, i.vf = (e = st(i), r = new vP, s = { get bandwidth() { return e.eft && e.eft.bandwidth }, get averageBandwidth() { return e.eft && e.eft.averageBandwidth }, get codecs() { return e.tA }, get resolution() { return e.Wvt }, get frameRate() { return MC(e.rA, 2) }, get id() { return e.Ff }, get uri() { return e.eft && e.eft.uri }, get name() { return e.Fn }, set name(t) { e.Fn = t }, get enabled() { return e.jf }, set enabled(t) { e.jf = Boolean(t) }, addEventListener: function (t, n) { r.addEventListener(t, n) }, removeEventListener: function (t, n) { r.removeEventListener(t, n) } }, e.addEventListener("qualityupdated", function (t) { return r.dispatchEvent(t, !0) }), s), i } rt(n, t); var i = n.prototype; return i.Xvt = function (t) { var n = !!t && this.Ff === t.Ff; this.GP !== n && (this.GP = n, this.dispatchEvent({ type: "activequalitychanged", quality: this.vf })) }, i.Hvt = function (t) { return this.eft.Ff === t.eft.Ff && (this.eft = t.eft, this.dispatchEvent({ type: "qualityupdated", quality: this.vf }), !0) }, T(n, [{ key: "jf", get: function () { return this.qvt }, set: function (t) { this.qvt = t, this.eft.sft(!t) } }, { key: "Vf", get: function () { return this.eft.Vf } }, { key: "Wvt", get: function () { return this.eft.resolution ? { width: this.eft.resolution.width, height: this.eft.resolution.height } : { width: NaN, height: NaN } } }, { key: "Fn", get: function () { return this.eft.Fn }, set: function (t) { this.eft.Fn = t, this.dispatchEvent({ type: "qualityupdated", quality: this.vf }) } }, { key: "Ff", get: function () { return this.eft.Ff } }]), n }(vP); var fM = function (t) { function n(n) { return t.call(this, n) || this } return rt(n, t), T(n, [{ key: "tA", get: function () { return this.eft.tA && this.eft.tA.kct || "" } }, { key: "rA", get: function () { return MC(Number(this.eft.Vct), 2) } }]), n }(cM), vM = function (t) { function n(n) { return t.call(this, n) || this } return rt(n, t), T(n, [{ key: "tA", get: function () { return this.eft.tA && this.eft.tA.mct || "" } }, { key: "rA", get: function () { return MC(Number(this.eft.Uct), 2) } }]), n }(cM), lM = function (t) { function n(n, i) { var e, r, s, u, o; (e = t.call(this) || this).r7 = null, e.$vt = {}, e.do = function (t) { return e.dispatchEvent(t) }, e.zf = n, e.xvt = i; for (var a = e.zf.length - 1; a >= 0; a--) { var h = e.zf[a]; e.$vt[h.Ff] = h } return e.zf.forEach(function (t) { return t.addEventListener("activequalitychanged", e.do) }), e.vf = (r = st(e), s = new vP, u = { item: function (t) { var n = r.yf(t); return n && n.vf }, getQualitiesByIDs: function (t) { return r.Qvt(t).map(function (t) { return t.vf }) }, get length() { return r.zf.length }, get activeQuality() { return r.Lf && r.Lf.vf }, get targetQuality() { return r.qf ? 1 === r.qf.length ? r.qf[0].vf : r.qf.map(function (t) { return t.vf }) : null }, set targetQuality(t) { if (t) { var n = M(t) ? t : [t]; r.qf = r.Qvt(n.map(function (t) { return t.id })) } else r.qf = null }, addEventListener: function (t, n) { s.addEventListener(t, n) }, removeEventListener: function (t, n) { s.removeEventListener(t, n) } }, o = function (t) { return s.dispatchEvent(t, !0) }, r.addEventListener("activequalitychanged", o), r.addEventListener("targetqualitychanged", o), u), e } rt(n, t); var i = n.prototype; return i.Yvt = function (t) { return !!t && this.zf.some(function (n) { return n.Ff === t.Ff }) }, i.Zvt = function (t, n) { for (var i = 0, e = this.zf; i < e.length; i++) { e[i].Xvt(t) } }, i.Qvt = function (t) { var n = this; return t && t.map(function (t) { return n.$vt[t] }).filter(function (t) { return t }) }, i.Kvt = function () { for (var t = this.zf.length - 1; t >= 0; t--)this.zf[t].GP = !1 }, i.Rvt = function (t) { var n = this.xvt.Jvt, i = this.Qvt(n); n && n.length > 0 && i && i.length > 0 ? this.dispatchEvent({ type: "targetqualitychanged", quality: i[0].vf }) : n && 0 !== n.length || this.dispatchEvent({ type: "targetqualitychanged", quality: null }) }, i.yf = function (t) { return this.zf[t] }, T(n, [{ key: "Lf", get: function () { for (var t = 0, n = this.zf; t < n.length; t++) { var i = n[t]; if (i.GP) return i } return null } }, { key: "qf", get: function () { return this.r7 }, set: function (t) { this.r7 = this.tlt(t) } }]), n }(vP); var dM = function (t) { function n(n, i) { return t.call(this, n, i) || this } rt(n, t); var i = n.prototype; return i.U_ = function () { this.xvt && (this.xvt.Lvt = this.zf[0].Ff) }, i.V_ = function (t) { this.xvt && (this.xvt.Lvt = null) }, i.tlt = function (t) { }, n }(lM), gM = function (t) { function n(n, i) { return t.call(this, n, i) || this } rt(n, t); var i = n.prototype; return i.U_ = function () { if (this.tlt(this.qf), this.xvt) { var t = this.xvt.Cvt; if (!t) return; var n = wn(t.nlt.Yct.yct, function (t) { return !t.uri }); this.xvt.Lvt = n ? n.Ff : null } }, i.Zvt = function (n, i) { "video" === i && t.prototype.Zvt.call(this, n, i) }, i.V_ = function (t) { "video" === t && this.Kvt() }, i.tlt = function (t) { if (!this.xvt) return this.qf; var n = t ? this.Qvt(t.map(function (t) { return t.Ff })) : null; if (n && n.length > 0) { var i = n.map(function (t) { return t.Ff }); return this.xvt.Jvt = i, n } return t ? this.qf : (this.xvt.Jvt = null, null) }, n }(lM), _M = function (t) { function n(n, i) { var e, r, s; return (e = t.call(this) || this).Ou = n, e.Nvt = i, e.Ff = i.yf(0).Ff, e.tj = e.Nvt.zf.some(function (t) { return t.GP }), e.Fn = i.yf(0).eft.Fn, e.vf = (r = st(e), s = new vP, { get id() { return r.Ff }, get enabled() { return r.jf }, get qualities() { return r.Nvt && r.Nvt.vf }, get language() { return r.Gf }, get default() { return r.NL }, get name() { return r.Fn }, set name(t) { r.Fn = t }, addEventListener: function (t, n) { s.addEventListener(t, n) }, removeEventListener: function (t, n) { s.removeEventListener(t, n) } }), e } rt(n, t); var i = n.prototype; return i.Ttt = function (t) { var n = this.Nvt.Yvt(t); this.ej(n), this.Nvt.Zvt(t, this.Ou) }, i.ej = function (t) { this.tj !== t && (t ? (this.tj = !0, this.dispatchEvent({ type: "enabledtrack", track: this.vf })) : (this.tj = !1, this.dispatchEvent({ type: "disabledtrack", track: this.vf }))) }, i.U_ = function () { this.tj || this.Nvt.U_() }, i.V_ = function () { this.tj && this.Nvt.V_(this.Ou) }, i.Hvt = function (t) { t.eft.Ff === this.Ff && (this.Fn = t.eft.Fn); for (var n = 0, i = this.Nvt.zf; n < i.length; n++) { i[n].Hvt(t) } }, T(n, [{ key: "jf", get: function () { return this.tj } }, { key: "Gf", get: function () { return this.ilt() } }, { key: "Vf", get: function () { return this.elt() } }, { key: "NL", get: function () { var t = "video" === this.Ou, n = this.Nvt.zf && this.Nvt.zf[0].eft.NL; return t || n } }]), n }(vP); var wM = function (t) { function n(n) { return t.call(this, "video", n) || this } rt(n, t); var i = n.prototype; return i.elt = function () { return HP.Yht }, i.ilt = function () { return "" }, n }(_M), yM = function (t) { function n(n) { return t.call(this, "audio", n) || this } rt(n, t); var i = n.prototype; return i.elt = function () { return this.Nvt.zf[0].eft.Vf }, i.ilt = function () { return this.Nvt.zf[0].eft.Gf || "" }, n }(_M), pM = function () { function t(t, n, i) { var e = this; this.rlt = function () { var t = e.slt; t.removeEventListener("ult", e.rlt); var n = t.nlt.bvt.yct, i = t.nlt.Yct.yct, r = n.map(function (t) { return new fM(t) }); if (r.length > 0) { var s = new gM(r, e.olt); e.hlt.pf(new wM(s)); var u = wn(i, function (t) { return !t.uri }), o = 0 === i.length; if (n.length > 0 && (Boolean(u) || o)) { var a = new yM(s); u && (a.Fn = u.Fn), e.clt.pf(a) } } for (var h = 0; h < i.length; h++) { var c = i[h]; if (c.uri) { var f = new vM(c), v = new dM([f], e.olt); e.clt.pf(new yM(v)) } } }, this.slt = t, this.olt = i, this.clt = new aM(t, n, i), this.hlt = new hM(t, n, i), t && (t.ult ? this.rlt() : t.addEventListener("ult", this.rlt)) } return T(t, [{ key: "og", get: function () { return this.clt } }, { key: "Tg", get: function () { return this.hlt } }]), t }(), mM = ["loadedmetadata", "durationchange", "Bo", "pW", "dg", "Yot"], kM = ["flt", "gvt", "vlt", "Bo"], bM = function (t) { function n(n, i, e, r, s, u, o) { var a; (a = t.call(this) || this).llt = null, a.dlt = [], a._lt = [], a.glt = function (t) { return a.dispatchEvent(t) }, a.wlt = function (t) { return a.ylt(t) }, a.plt = function (t) { return a.klt(t) }, a.UD = n.src, a.blt = n.type, a.Alt = i, a.Tlt = e, a.Slt = r, a.Cvt = s, a.Dvt = u, a.Cvt && (a.Cvt.addEventListener("uat", a.glt), a.Cvt.addEventListener("Elt", a.glt)); var h = new pM(a.Cvt, a.Dvt, o); return a.Tg = h.Tg, a.og = h.og, a.C_ = null, a.UD && (a.Dvt && a.Dvt.bf(), a.Cvt && (a.Cvt.oht = a.UD)), a } rt(n, t); var i = n.prototype; return i.Ilt = function (t) { this.Dvt && this.Dvt.Ph(t), this.Cvt && this.Cvt.Rlt(), this.C_ && this.Nlt() }, i.Clt = function () { this.Dvt && this.Dvt.Clt(), this.Cvt && this.Cvt.Dlt() }, i.xlt = function () { if (this.Cvt) for (var t = 0; t < mM.length; t++) { var n = mM[t]; this.Cvt.addEventListener(n, this.wlt) } if (this.Dvt) for (var i = 0; i < kM.length; i++) { var e = kM[i]; this.Dvt.addEventListener(e, this.plt) } }, i.Olt = function () { if (this.Cvt) for (var t = 0; t < mM.length; t++) { var n = mM[t]; this.Cvt.removeEventListener(n, this.wlt) } if (this.Dvt) for (var i = 0; i < kM.length; i++) { var e = kM[i]; this.Dvt.removeEventListener(e, this.plt) } }, i.Nlt = function () { if (this.Cvt && this.dlt.length) { var t = this.dlt.slice(); An(this.dlt); for (var n = 0; n < t.length; n++) { var i = t[n]; this.Cvt.dispatchEvent(i) } } if (this.Dvt && this._lt.length) { var e = this._lt.slice(); An(this._lt); for (var r = 0; r < e.length; r++) { var s = e[r]; this.Dvt.dispatchEvent(s) } } }, i.ylt = function (t) { this.dlt.push(t) }, i.klt = function (t) { this._lt.push(t) }, i.Af = function () { this.dispatchEvent("Af"), this.To(), this.Dvt && this.Dvt.Af(), this.Slt && this.Slt.Af(), this.Cvt && this.Cvt.Af(), this.llt = null, An(this.dlt), An(this._lt) }, T(n, [{ key: "C_", get: function () { return this.llt }, set: function (t) { this.Olt(), this.llt = t, this.C_ ? this.dispatchEvent("Xh") : this.xlt() } }]), n }(vP), AM = function (t) { function n() { var n; return (n = t.apply(this, arguments) || this).slt = null, n.do = function (t) { n.dispatchEvent(t, !0) }, n } return rt(n, t), T(n, [{ key: "Lvt", get: function () { var t = this.slt && this.slt.nlt.fvt; return t ? t.Ff : null }, set: function (t) { var n; this.slt && (n = null === t ? KP(this.slt.nlt.Yct.yct) : this.slt.nlt.Yct.yct.filter(function (n) { return t === n.Ff }).shift(), this.slt.nlt.fvt = n || null) } }, { key: "Jvt", get: function () { return this.slt && this.slt.Blt || null }, set: function (t) { this.slt && (this.slt.Plt(t), this.dispatchEvent("Ovt")) } }, { key: "Cvt", get: function () { return this.slt }, set: function (t) { this.slt && (this.slt.nlt.removeEventListener("mvt", this.do), this.slt.nlt.removeEventListener("renditionUpdated", this.do), this.slt.nlt.removeEventListener("vvt", this.do)), this.slt = t, this.slt && (this.slt.nlt.addEventListener("mvt", this.do), this.slt.nlt.addEventListener("renditionUpdated", this.do), this.slt.nlt.addEventListener("vvt", this.do)) } }]), n }(vP); function TM(n) { return t.URL && t.URL.createObjectURL ? t.URL.createObjectURL(n) : t.webkitURL && t.webkitURL.createObjectURL ? t.webkitURL.createObjectURL(n) : t.createObjectURL ? t.createObjectURL(n) : null } function SM(n) { return t.URL && t.URL.revokeObjectURL ? t.URL.revokeObjectURL(n) : t.webkitURL && t.webkitURL.revokeObjectURL ? t.webkitURL.revokeObjectURL(n) : t.revokeObjectURL ? t.revokeObjectURL(n) : void 0 } function EM(t, n) { return vm([t], { type: n }) } var IM = "iframe.html", RM = 0, CM = k && (k.bind && k.bind(k) || k), NM = function (t) { function n(n) { var i; return (i = t.call(this) || this).Mlt = void 0, i.Llt = [], i.jlt = !1, i.do = function (t) { return i.dispatchEvent(t) }, n && i.Xh(n), i } rt(n, t); var i = n.prototype; return i.postMessage = function (t) { this.jlt || (this.Mlt ? this.Mlt.postMessage(t) : this.Llt.push(t)) }, i.Xh = function (t) { if (this.jlt) t.terminate(); else { this.Mlt = t, this.Mlt.addEventListener("message", this.do, !1), this.Mlt.addEventListener("error", this.do, !1); for (var n = 0, i = this.Llt; n < i.length; n++) { var e = i[n]; this.Mlt.postMessage(e) } this.Llt.length = 0 } }, i.terminate = function () { this.To(), this.jlt = !0, this.Llt.length = 0, this.Mlt && (this.Mlt.removeEventListener("message", this.do, !1), this.Mlt.removeEventListener("error", this.do, !1), this.Mlt.terminate(), this.Mlt = void 0) }, n }(vP); var DM = function (n) { function i(i, e, r) { var u, o, a; return (u = n.call(this) || this).Flt = function () { return u.Ult() }, u.Vlt = function (t) { return u.Hlt(t) }, u.Ff = i, u.Glt = e, u.zlt = (o = r + IM, (a = s.createElement("iframe")).width = "0", a.height = "0", a.style.display = "none", a.src = o, s.body.appendChild(a), a), u.qlt = u.zlt.contentWindow, u.Wlt = Nl(r), u.zlt.addEventListener("load", u.Flt), t.addEventListener("message", u.Vlt), u } rt(i, n); var e = i.prototype; return e.Ult = function () { this.zlt.removeEventListener("load", this.Flt), this.qlt.postMessage({ type: "initialize", id: this.Ff, script: this.Glt }, "*") }, e.Hlt = function (t) { Nl(t.origin) === this.Wlt && t.data.id === this.Ff && ("initialized" === t.data.type ? this.dispatchEvent("initialized") : "error" === t.data.type ? this.dispatchEvent({ type: "error", message: t.data.data.message, filename: t.data.data.filename, lineno: t.data.data.lineno }) : this.dispatchEvent({ type: "message", data: t.data.data })) }, e.postMessage = function (t) { this.qlt.postMessage({ type: "message", data: t }, "*") }, e.terminate = function () { this.zlt.removeEventListener("load", this.Flt), t.removeEventListener("message", this.Vlt), this.qlt.postMessage({ type: "terminate" }, "*"), this.zlt.parentNode.removeChild(this.zlt) }, i }(vP); function xM() { return (xM = St(At.mark(function t(n, i) { var e, r, s, u, o, a; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return e = TS.wW, t.prev = 1, r = new th({ Mk: n, pT: "GET", mT: Wa.dT }), t.next = 5, e.HT(r); case 5: return s = t.sent, t.next = 8, s.ei(); case 8: u = t.sent, i(void 0, u), t.next = 17; break; case 12: t.prev = 12, t.t0 = t.catch(1), o = new v("PLAYER_INCORRECTLY_CONFIGURED"), a = t.t0 instanceof YA ? t.t0.NF.Ej : -1, i({ yh: a, Bo: o }); case 17: case "end": return t.stop() } }, t, null, [[1, 12]]) }))).apply(this, arguments) } function BM(t, n) { function i(i) { return r(), F(e = i.data) && "2.74.0" === e.Xlt ? n(void 0, t) : n(new v("PLAYER_INCORRECTLY_CONFIGURED")); var e } function e(i) { i.preventDefault && i.preventDefault(), r(), t.terminate(), n({ message: i.message, filename: i.filename, lineno: i.lineno }) } function r() { t.removeEventListener("message", i), t.removeEventListener("error", e) } t.addEventListener("message", i), t.addEventListener("error", e) } function OM(t, n) { if (void 0 === t) return n({ message: "Worker could not be loaded." }); var i; try { i = new CM(t) } catch (t) { return n({ message: t.message }) } return BM(i, n) } var PM = !0; function MM(t, n) { var i = RM++, e = t + n, r = new NM; function u() { !function (t, n, i, e) { var r; function u() { a(), BM(r, e) } function o(t) { t.preventDefault && t.preventDefault(), a(), r.terminate(), e({ message: t.message, filename: t.filename, lineno: t.lineno }) } function a() { r.removeEventListener("initialized", u), r.removeEventListener("error", o) } if (!s) return e({ message: "Could not create Worker.", filename: "workershim.js", lineno: 223 }); (r = new DM(t, n, i)).addEventListener("initialized", u), r.addEventListener("error", o) }(i, e, t, o) } function o(t, n, i) { t ? r.dispatchEvent({ type: "error", message: t.message, filename: t.filename, lineno: t.lineno }) : (r.Xh(n), i && r.dispatchEvent(i)) } return OM(e, function (t, n, i) { t ? function (t, n) { xM.apply(this, arguments) }(e, function (t, n) { t ? t.yh >= 400 ? o(t.Bo) : u() : n && function (t, n) { if (!PM) return n({ message: "Could not create Worker.", filename: "workershim.js", lineno: 196 }); OM(TM(EM(t, "application/javascript")), function (t, i, e) { return t && (PM = !1), n(t, i, e) }) }(n, function (t, n, i) { t ? u() : o(t, n, i) }) }) : o(t, n, i) }), r } function LM(t, n) { if (n < 0) throw new v("The index provided (" + n + ") must be non-negative"); if (n >= t.length) throw new v("The index provided (" + n + ") is greater than the maximum bound (" + t.length + ")") } function jM(t) { return { get length() { return t.length }, start: function (n) { return LM(t, n |= 0), t.start(n) }, end: function (n) { return LM(t, n |= 0), t.end(n) } } } function FM(t, n) { return t.Ll - n.Ll } var UM = function () { function t(t) { this.f2 = t } var n = t.prototype; return n.start = function (t) { return this.f2[t].Ll }, n.end = function (t) { return this.f2[t].Fl }, n.$lt = function () { return this.f2 }, T(t, [{ key: "length", get: function () { return this.f2.length } }]), t }(), VM = new UM([]), HM = new UM([{ Ll: -1 / 0, Fl: 1 / 0 }]); function zM(t, n) { return function (t, n) { var i = t.length; if (n = +n || 0, i < 2) return t; for (var e = [], r = t.start(0), s = t.end(0), u = 1; u < i; u++) { var o = t.start(u), a = t.end(u); r <= o && s >= a || (s + n >= o ? s = a : (e.push({ Ll: r, Fl: s }), r = o, s = a)) } return e.push({ Ll: r, Fl: s }), new UM(e) }(function (t) { var n = $M(t); return n.sort(FM), new UM(n) }(t), n) } function qM(t, n) { for (var i = [], e = 0, r = 0; e < t.length && r < n.length;) { var s = _.max(t.start(e), n.start(r)), u = _.min(t.end(e), n.end(r)); s < u && i.push({ Ll: s, Fl: u }), t.end(e) < n.end(r) ? e += 1 : r += 1 } return new UM(i) } function GM(t) { var n = t.length; if (!n) return HM; var i = [], e = t.start(0); e !== -1 / 0 && i.push({ Ll: -1 / 0, Fl: e }); for (var r = 0; r < n - 1; r += 1)i.push({ Ll: t.end(r), Fl: t.start(r + 1) }); var s = t.end(n - 1); return s !== 1 / 0 && i.push({ Ll: s, Fl: 1 / 0 }), new UM(i) } function WM(t, n) { return -1 !== XM(t, n) } function XM(t, n) { return function (t, n, i, e) { n += e = +e || 0, i -= e; for (var r = 0; r < t.length; r += 1)if (t.start(r) <= n && i <= t.end(r)) return r; return -1 }(t, n, n) } function $M(t) { if (t instanceof UM) return t.$lt(); var n = []; if (!t) return n; for (var i = 0; i < t.length; i++)n.push({ Ll: t.start(i), Fl: t.end(i) }); return n } function QM(t, n) { return i = [t, n], r = (e = r = []).concat.apply(e, i.map($M)), zM(new UM(r)); var i, e, r } var YM = .001; function ZM(t, n, i) { return i = +i || 0, t.Ll - i <= n.Fl && n.Ll <= t.Fl + i } function KM(t) { var n = { Ll: NaN, Fl: NaN, Eht: t }; return JM(n), n } function JM(t) { var n = t.Eht; n.length ? (n.sort(FM), t.Ll = n[0].Ll, t.Fl = n[n.length - 1].Fl) : (t.Ll = NaN, t.Fl = NaN) } function tL(t) { return void 0 !== t.Eht } function nL(t, n, i) { for (var e = [], r = 0; r < t.length; r++) { var s = t[r], u = _.max(s.Ll, n), o = _.min(s.Fl, i); if (u < o) { var a = void 0; a = s.Ll === u && s.Fl === o ? s : { Ll: u, Fl: o, aB: s.aB }, e.push(a) } } return e } function iL(t, n) { var i = _.min(t.Ll, n.Ll), e = _.max(t.Fl, n.Fl), r = t.Eht, s = n.Eht, u = r.concat(s), o = r.length ? r[r.length - 1] : null, a = s.length ? s[0] : null; return o && a && o.aB === a.aB && ZM(o, a, YM) && u.splice(r.length - 1, 2, function (t, n) { var i = t.aB || n.aB; return { Ll: _.min(t.Ll, n.Ll), Fl: _.max(t.Fl, n.Fl), aB: i } }(o, a)), KM(u = nL(u, i, e)) } var eL, rL = function () { function t(t, n) { this.f2 = function (t) { for (var n = [], i = 0; i < t.length; i += 1) { var e = t[i], r = void 0; tL(e) ? JM(r = e) : r = KM([e]), r.Eht.length && r.Ll < r.Fl && n.push(r) } return n }(t), n || this.Qlt() } var n = t.prototype; return n.start = function (t) { return this.f2[t] && this.f2[t].Ll }, n.end = function (t) { return this.f2[t] && this.f2[t].Fl }, n.Eht = function (t) { return this.f2[t] && this.f2[t].Eht }, n.Ylt = function (t, n) { return this.Zlt(t, t, n) }, n.Zlt = function (t, n, i) { t += i = +i || 0, n -= i; for (var e = 0; e < this.length; e += 1)if (this.start(e) <= t && n <= this.end(e)) return e; return -1 }, n.Klt = function (t, n, i) { t -= i = +i || 0, n += i; for (var e = 0; e < this.length; e += 1)if (this.start(e) < n && t < this.end(e)) return e; return -1 }, n.Jlt = function (t, n) { t += n = +n || 0; for (var i = this.length - 1; i >= 0; i -= 1)if (this.start(i) <= t) return i; return -1 }, n.tdt = function (t, n) { t -= n = +n || 0; for (var i = 0; i < this.length; i += 1)if (t <= this.end(i)) return i; return -1 }, n.sL = function (t) { return -1 !== this.Ylt(t) }, n.Id = function (t, n, i) { return -1 !== this.Zlt(t, n, i) }, n.Nd = function (t, n, i) { return -1 !== this.Klt(t, n, i) }, n.dd = function (t) { for (var n = [], i = 0, e = 0; i < this.length && e < t.length;) { var r = _.max(this.start(i), t.start(e)), s = _.min(this.end(i), t.end(e)); if (r < s) { var u = nL(this.Eht(i), r, s); n.push(KM(u)) } this.end(i) < t.end(e) ? i += 1 : e += 1 } return this.C7(n, !0) }, n.Od = function (t) { return this.length && t.length ? this.dd(GM(t)) : this }, n.bd = function (t) { return this.length ? t.length ? this.C7(this.f2.concat(t.f2)) : this : t }, n.ndt = function (t) { for (var n = [], i = 0, e = this.f2; i < e.length; i++)for (var r = 0, s = e[i].Eht; r < s.length; r++) { var u = t(s[r]); u && n.push(u) } return this.C7(n) }, n.xd = function (t) { return this.ndt(function (n) { return t(n) ? n : null }) }, n.idt = function () { if (!this.length) return this; for (var t = this.f2.slice(), n = 0; n < t.length - 1; n += 1) { var i = t[n], e = t[n + 1]; e && this.edt(i, e) && (t.splice(n, 2, iL(i, e)), n -= 1) } return this.C7(t, !0) }, n.edt = function (t, n) { var i = t.Eht, e = n.Eht, r = i.length ? i[i.length - 1] : null, s = e.length ? e[0] : null; return r && s && this.rdt(r, s) }, n.Qlt = function () { var t = this.f2; t.sort(FM); for (var n = 0; n < t.length - 1; n += 1) { var i = t[n], e = t[n + 1]; e && ZM(i, e, YM) && (t.splice(n, 2, iL(i, e)), n -= 1) } }, T(t, [{ key: "length", get: function () { return this.f2.length } }]), t }(), sL = function (t) { function n(n, i) { return t.call(this, n, i) || this } rt(n, t); var i = n.prototype; return i.C7 = function (t, i) { return new n(t, i) }, i.rdt = function (t, n) { return n.aB.eft === t.aB.eft && n.aB.pat === t.aB.pat + 1 }, n }(rL); function uL(t, n) { for (var i = [], e = 0; e < n.length; e++) { var r = n[e], s = t.sdt(r), u = t.udt(r, s); i.push({ Ll: s.Pm(), Fl: u.Pm(), aB: r }) } return new sL(i).idt() } function oL(t) { return t.odt !== eL.adt } function aL(t) { return 0 === t.odt } function hL(t) { return t.odt >= 0 } function cL(t, n) { for (var i = [], e = 0; e < n.length; e++)for (var r = !1, s = 0, u = n.Eht(e); s < u.length; s++) { var o = u[s]; if (!r) { var a = o.aB; if (QP(a) && oL(a)) { if ((r = hL(a)) && !aL(a)) { var h = t.Oft(a, a.hdt).Pm(); o = { Ll: _.max(o.Ll, h), Fl: o.Fl, aB: a } } } else r = !0; 0 } r && i.push(o) } return new sL(i) } function fL(t, n) { return { audio: t.audio ? yL(t.audio, n) : void 0, video: t.video ? bL(t.video, n) : void 0, cdt: t.cdt ? (i = t.cdt, { fdt: i.fdt, Jft: i.Jft, Qf: i.Qf, vdt: i.vdt, ldt: i.ldt, ddt: i.ddt, _dt: i._dt.map(vL), Kf: [] }) : void 0, e3: t.e3 ? t.e3.map(dL) : t.e3, gdt: t.gdt.fk() }; var i } function vL(t) { return { $O: t.$O, ZP: { Pk: t.ZP.Pk, K2: t.ZP.Z1.fk() }, KY: t.KY } } function lL(t) { return { $O: t.$O, ZP: { Pk: t.ZP.Pk, Z1: fa(t.ZP.K2) }, KY: t.KY } } function dL(t) { return { Z1: t.Z1.fk(), Mg: t.Mg, V1: t.V1, U1: t.U1, Ou: t.Ou, J1: t.J1, H1: t.H1, G1: t.G1 } } function gL(t) { return { Z1: fa(t.Z1), Mg: t.Mg, V1: t.V1, U1: t.U1, Ou: t.Ou, J1: t.J1, H1: t.H1, G1: t.G1 } } function _L(t) { return { fdt: t.fdt, KY: [], wdt: t.wdt, ydt: t.ydt, duration: t.duration, pdt: t.pdt, mdt: t.mdt.fk(), u3: t.u3, kdt: t.kdt.fk(), bdt: t.bdt, Adt: t.Adt.fk(), Tdt: t.Tdt.fk(), Sdt: t.Sdt.fk(), Edt: t.Edt.fk(), Idt: t.Idt.fk(), Rdt: t.Rdt.fk(), Ndt: t.Ndt.fk() } } function wL(t) { return { fdt: t.fdt, KY: [], wdt: t.wdt, ydt: t.ydt, duration: t.duration, pdt: t.pdt, mdt: fa(t.mdt), u3: t.u3, kdt: fa(t.kdt), bdt: t.bdt, Adt: fa(t.Adt), Tdt: fa(t.Tdt), Sdt: fa(t.Sdt), Edt: fa(t.Edt), Idt: fa(t.Idt), Rdt: fa(t.Rdt), Ndt: fa(t.Ndt) } } function yL(t, n) { switch (t.wdt) { case "aac-lc": case "he-aac": return function (t, n) { return Et(Et({}, mL(t)), { wdt: t.wdt, KY: t.KY.map(function (t) { return function (t, n) { var i = (e = t.ZP, Et(Et({}, SL(e)), { Cdt: e.Cdt, Ddt: e.Ddt, xdt: e.xdt })); var e; return t.Qo(i).fk(n) }(t, n) }), Fct: t.Fct, Odt: t.Odt }) }(t, n); case "mp3": return function (t, n) { return Et(Et({}, mL(t)), { wdt: t.wdt, KY: t.KY.map(function (t) { return function (t, n) { var i = (e = t.ZP, Et(Et({}, SL(e)), { FO: e.FO, Bdt: e.Bdt, Bx: e.Bx, Pdt: e.Pdt, Mdt: e.Mdt })); var e; return t.Qo(i).fk(n) }(t, n) }) }) }(t, n) } } function pL(t) { switch (t.wdt) { case "aac-lc": case "he-aac": return function (t) { return Et(Et({}, kL(t)), { wdt: t.wdt, KY: t.KY.map(function (t) { return function (t) { var n = mN.I2(t), i = (e = n.ZP, Et(Et({}, EL(e)), { Cdt: e.Cdt, Ddt: e.Ddt, xdt: e.xdt })); var e; return n.Qo(i) }(t) }), Fct: t.Fct, Odt: t.Odt }) }(t); case "mp3": return function (t) { return Et(Et({}, kL(t)), { wdt: t.wdt, KY: t.KY.map(function (t) { return function (t) { var n = mN.I2(t), i = (e = n.ZP, Et(Et({}, EL(e)), { FO: e.FO, Bdt: e.Bdt, Bx: e.Bx, Pdt: e.Pdt, Mdt: e.Mdt })); var e; return n.Qo(i) }(t) }) }) }(t) } } function mL(t) { return Et(Et({}, _L(t)), { KY: [], wdt: t.wdt, Ldt: t.Ldt, jdt: t.jdt, Fdt: t.Fdt, Udt: t.Udt }) } function kL(t) { return Et(Et({}, wL(t)), { KY: [], wdt: t.wdt, Ldt: t.Ldt, jdt: t.jdt, Fdt: t.Fdt, Udt: t.Udt }) } function bL(t, n) { return Et(Et({}, _L(t)), { wdt: t.wdt, KY: t.KY.map(function (t) { return function (t, n) { t.fk(n); var i = (e = t.ZP, Et(Et({}, AL(e)), { Zy: e.Zy, J2: e.J2.fk(), t3: e.t3, n3: e.n3, Vdt: e.Vdt && e.Vdt.fk(), Hdt: e.Hdt && e.Hdt.fk(), i3: e.i3, s3: e.s3, e3: e.e3, r3: e.r3 })); var e; return t.Qo(i).fk(n) }(t, n) }), Gdt: t.Gdt, zdt: t.zdt, FB: t.FB, width: t.width, height: t.height, Q2: t.Q2, qdt: t.qdt, Z2: t.Z2, Oct: t.Oct, Bct: t.Bct, VB: t.VB, HB: t.HB }) } function AL(t) { var n; return Et(Et({}, { Pk: (n = t).Pk, K2: n.K2.fk() }), { R2: t.R2.fk(), N2: t.N2.fk() }) } function TL(t) { var n; return Et(Et({}, { Pk: (n = t).Pk, K2: fa(n.K2) }), { R2: fa(t.R2), N2: fa(t.N2) }) } function SL(t) { return Et({}, AL(t)) } function EL(t) { return Et({}, TL(t)) } function IL(t) { var n = t.video, i = n && n.KY; if (!n) return 0; if (!i) return NaN; for (var e = 0; e < i.length; e += 1) { if (i[e].ZP.i3) return e } return NaN } function RL(t) { var n = t.Wdt.video, i = n && n.KY; if (!n) return 0; if (!i) return NaN; for (var e = i.length - 1; e >= 0; e -= 1) { if (i[e].ZP.i3) return e } return NaN } function CL(t) { if (!t) return null; switch (t.wdt) { case "h.264": return function (t) { return t.FB ? "avc1." + (t.Q2 < 16 ? "0" : "") + ((t.Q2 << 16) + (t.qdt << 8) + t.Z2).toString(16) : null }(t); case "mp3": return "mp4a.40.34"; case "aac-lc": return t.Odt ? "mp4a.40.5" : "mp4a.40.2"; case "he-aac": return "mp4a.40.5"; default: return null } } function NL(t, n) { var i = t.info, e = i.eft, r = t.Wdt, s = e.Rht(t.info.pat - 1), u = r.audio || void 0, o = r.video || void 0, a = u && CL(u), h = o && CL(o), c = (!u || a) && (!o || h) ? { mct: a, kct: h } : null, f = u && !p(u.bdt) ? u.bdt : null, v = o && !p(o.bdt) ? o.bdt : null, l = rg(u && u.Tdt, o && o.Tdt), d = rg(u && u.Sdt, o && o.Sdt), g = sg(u && u.Rdt, o && o.Rdt), w = sg(u && u.Ndt, o && o.Ndt), y = o && o.mdt.kd(ha.Ym(o.duration)), m = u && u.mdt.kd(ha.Ym(u.duration)), k = QP(s), b = k && s.width || e.resolution && e.resolution.width, A = k && s.width || e.resolution && e.resolution.height; t.metadata = { start: _.max(null === f ? v || 0 : null === v ? f : _.min(f, v), 0), Xdt: i, duration: y && m ? ha.$l(y, m).Pm() : (y || m || ha.cm).Pm(), $dt: l, Qdt: d, Ydt: g, Zdt: w, audio: { start: _.max(0, f || 0), duration: u && u.pdt || 0, wdt: a, rA: u && u.u3, $dt: u && u.Tdt, Qdt: u && u.Sdt, Ydt: u && u.Rdt, Zdt: u && u.Ndt }, video: { start: _.max(0, v || 0), duration: o && o.pdt || 0, wdt: h, rA: o && o.u3, $dt: o && o.Tdt, Qdt: o && o.Sdt, Ydt: o && o.Rdt, Zdt: o && o.Ndt }, x_: o ? { width: o.width || b, height: o.height || A } : null, pat: i.pat, size: n, quality: e, tA: c, Nat: i.Nat, Kdt: i.Kdt } } function DL(t, n) { var i, e, r, s, u = { start: 0, duration: 0, wdt: null, rA: null, $dt: null, Qdt: null, Ydt: null, Zdt: null }; return "mct" === n ? (e = u, r = i = Et(Et({}, u), t.video), s = t.x_) : (e = i = Et(Et({}, u), t.audio), r = u, s = null), { start: i.start, Xdt: t.Xdt, duration: i.duration, $dt: i.$dt, Qdt: i.Qdt, Ydt: i.Ydt, Zdt: i.Zdt, audio: e, video: r, x_: s, pat: t.pat, size: t.size, quality: t.quality, tA: t.tA, Nat: t.Nat, Kdt: t.Kdt } } function xL(t, n) { return t + "Jdt" + n.pat + "t_t" + n.uri } !function (t) { t.adt = -1, t.n_t = -2 }(eL || (eL = {})); var BL = function (t) { function n(n) { var i; return (i = t.call(this) || this).i_t = Rt(), i.e_t = void 0, i.r_t = void 0, i.s_t = function (t) { var n = t.data, e = n.u_t; if (i.i_t.get(e)) switch (n.o_t) { case "a_t": 0; var r = n.h_t; i.c_t(e, r); break; case "f_t": var s = n.v_t; i.l_t(e, new RN("PLAYBACK_ISSUE", { code: s })); default: 0 } }, i.d_t = function (t) { var n, e, r, s, u = t.data, o = u.__t; if (i.i_t.get(o)) switch (u.g_t) { case "w_t": 0; var a = u.y_t; i.p_t(o, { audio: (n = a).audio ? pL(n.audio) : void 0, video: n.video ? (r = n.video, s = wL(r), Et(Et({}, s), { wdt: r.wdt, KY: r.KY.map(function (t) { return function (t) { var n, i = mN.I2(t), e = Et(Et({}, TL(n = i.ZP)), { Zy: n.Zy, J2: fa(n.J2), t3: n.t3, n3: n.n3, Vdt: n.Vdt && fa(n.Vdt), Hdt: n.Hdt && fa(n.Hdt), i3: n.i3, s3: n.s3, e3: n.e3, r3: n.r3 }); return i.Qo(e) }(t) }), Gdt: r.Gdt, zdt: r.zdt, FB: r.FB, width: r.width, height: r.height, Q2: r.Q2, qdt: r.qdt, Z2: r.Z2, Oct: r.Oct, Bct: r.Bct, VB: r.VB, HB: r.HB })) : void 0, cdt: n.cdt ? (e = n.cdt, { fdt: e.fdt, Jft: e.Jft, Qf: e.Qf, vdt: e.vdt, ldt: e.ldt, ddt: e.ddt, _dt: e._dt.map(lL), Kf: [] }) : void 0, e3: n.e3 ? n.e3.map(gL) : n.e3, gdt: fa(n.gdt) }); break; case "m_t": var h = u.k_t; i.l_t(o, new RN("PLAYBACK_ISSUE", { code: h })); default: 0 } }, i.b_t = function (t) { if ("PLAYER_INCORRECTLY_CONFIGURED" === t.message) { var n = { type: "Bo", Bo: new RN("PLAYER_INCORRECTLY_CONFIGURED", { code: "THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation" }) }; tt(n.Bo.info.code), i.dispatchEvent(n) } else 0 }, i.gc = n, i.r_t = i.A_t(), i } rt(n, t); var i = n.prototype; return i.eh = function (t) { var n = []; this.i_t.forEach(function (i, e) { t && i.zB !== t || n.push(e) }), this.T_t(n) }, i.T_t = function (t) { for (var n = 0; n < t.length; n++) { var i = t[n]; this.i_t.delete(i) } if (t.length) { if (this.e_t) { var e = { S_t: "E_t", I_t: t }; this.e_t.postMessage(e) } if (this.r_t) { var r = { R_t: "E_t", N_t: t }; this.r_t.postMessage(r) } } }, i.l_t = function (t, n) { var i = this.i_t.get(t); if (i) { var e = i.SW; this.i_t.delete(t), e(n) } }, i.C_t = function (t, n, i, e) { this.e_t || (this.e_t = this.D_t()); var r = { S_t: "x_t", O_t: t, B_t: n, P_t: i, M_t: e }; this.e_t.postMessage(r) }, i.L_t = function (t, n) { this.r_t || (this.r_t = this.A_t()); var i = { R_t: "j_t", F_t: t, U_t: n, V_t: this.i_t.get(t).H_t }; this.r_t.postMessage(i) }, i.c_t = function (t, n) { this.L_t(t, n) }, i.D_t = function () { var t = MM(this.gc.libraryLocation, "theoplayer.d.js"); return t.addEventListener("message", this.s_t), t.addEventListener("error", this.b_t), t }, i.G_t = function (t) { var n = t.Wdt.video, i = n && n.KY && n.KY[0]; i && i.ZP.i3 }, i.p_t = function (t, n) { var i = this.i_t.get(t), e = i.SW, r = i.z_t, s = { Wdt: n, info: i.q_t, metadata: null }; this.i_t.delete(t), this.G_t(s), function (t) { var n = t.info.eft.Rht(t.info.pat - 1), i = t.Wdt; t.info.Kdt = t.info.Sat, n && (i.audio || i.video ? i.video && !i.video.zdt && !i.video.Gdt && i.video.u3 && n.Vct && i.video.u3 !== n.Vct ? t.info.Kdt = !0 : i.video && (i.video.height && n.height && i.video.height !== n.height || i.video.width && n.width && i.video.width !== n.width) && (t.info.Kdt = !0) : t.info.Kdt = !0) }(s), NL(s, r), function (t) { var n = t.info, i = n.eft, e = t.metadata, r = t.Wdt; if (n.W_t = ha.Ym(e.duration), n.Ght = r.audio && r.audio.mdt.kd(ha.Ym(r.audio.duration)) || ha.cm, n.zht = r.video && r.video.mdt.kd(ha.Ym(r.video.duration)) || ha.cm, n.X_t = r.audio && r.audio.mdt || ha.cm, n.$_t = r.video && r.video.mdt || ha.cm, n.Q_t = e.audio.$dt, n.Y_t = e.audio.Qdt, n.Z_t = e.video.$dt, n.K_t = e.video.Qdt, n.Hht = e.$dt, n.J_t = e.Qdt, n.tgt = e.audio.Ydt, n.ngt = e.audio.Zdt, n.igt = e.video.Ydt, n.egt = e.video.Zdt, n.Ydt = e.Ydt, n.Zdt = e.Zdt, r.video) { var s = IL(t.Wdt), u = r.video.KY && r.video.KY[s]; u ? (n.odt = s, n.hdt = u.ZP.R2, n.rgt = u.ZP.N2) : n.odt = eL.n_t } else n.odt = eL.adt; n.Vct = r.video && r.video.u3 || 0, n.width = r.video && r.video.width || 0, n.height = r.video && r.video.height || 0, i.dispatchEvent({ type: "Lft", q_t: t.info }), !i.resolution && e.x_ && (i.resolution = e.x_), i.bandwidth || (i.bandwidth = 8 * e.size / e.duration), !e.tA || i.tA && !i.tA.mct == !e.tA.mct && !i.tA.kct == !e.tA.kct || i.cft(e.tA), r.audio && void 0 !== r.audio.Fct && (i.Fct = r.audio.Fct), i.Oct = r.video && r.video.Oct || i.Oct, i.Bct = r.video && r.video.Bct || i.Bct, i.Pct = r.audio && r.audio.fdt || void 0, i.Mct = r.video && r.video.fdt || void 0, i.Lct = r.audio && r.audio.wdt || void 0, i.jct = r.video && r.video.wdt || void 0, i.Uct = r.audio && r.audio.u3 || void 0, i.Vct = r.video && r.video.u3 || void 0 }(s), e(null, s) }, i.A_t = function () { var t = MM(this.gc.libraryLocation, "theoplayer.e.js"); return t.addEventListener("message", this.d_t), t.addEventListener("error", this.b_t), t }, i.sgt = function (t, n, i, e) { var r = this; t.getKey(e).then(function (t) { var s = i; i = void 0, r.i_t.has(n) && r.C_t(n, s, t, e.iv) }).catch(function (t) { i = void 0, r.i_t.has(n) && r.l_t(n, t) }) }, i.ugt = function (t, n, i, e, r, s) { var u = xL(t, e), o = e.eft; this.i_t.set(u, { zB: t, q_t: e, H_t: { ogt: e.duration, tA: o.tA, Oct: o.Oct, Bct: o.Bct, Pct: o.Pct, Mct: o.Mct, Lct: o.Lct, jct: o.jct, Fct: !this.gc.skipImplicitHEAACDetection && o.Fct, rtt: r }, z_t: i.length, SW: s }), e.key ? this.sgt(n, u, i, e.key) : this.L_t(u, i) }, i.agt = function (t) { var n = []; return this.i_t.forEach(function (i) { i.zB === t && n.push(i.q_t) }), n }, i.hgt = function (t, n) { var i = xL(t, n); return this.i_t.has(i) }, i.Af = function () { this.eh(), this.e_t && (this.e_t.terminate(), this.e_t = void 0), this.r_t && (this.r_t.terminate(), this.r_t = void 0) }, n }(vP); function OL(t, n) { return t + "cgt" + n } function PL(t) { return OL(t.eft.Ff, t.pat) } function ML(t) { return !(!t || !t.Wdt) } var LL = function () { function t(t, n, i) { this.fgt = [], this.vgt = Rt(), this.lgt = 1, this.xP = t, this.dgt = n, this._gt = i } var n = t.prototype; return n.ggt = function (t) { var n = PL(t.info); if (this.vgt.has(n)) this.wgt(t.info, t); else { this.fgt.push(n), this.vgt.set(n, t); for (var i = this.dgt.ygt + 10; this.fgt.length > 8 * this.pgt && this.mgt > i * this.pgt;) { var e = this.vgt.get(this.fgt[0]), r = this._gt.kgt, s = null == e ? void 0 : e.info; if (s) { var u = s.start, o = u + s.duration, a = new hs([u, o]), h = r, c = h + this.dgt.ygt; if (new hs([h, c]).dd(a).Sf > 0) break } this.vgt.delete(this.fgt.shift()) } } }, n.bgt = function (t, n) { var i = OL(t, n), e = this.vgt.get(i), r = this.fgt.indexOf(i); return !(!e || -1 === r) && (mn(this.fgt, r), this.vgt.delete(i), !0) }, n.zo = function () { this.fgt.length = 0, this.vgt.clear() }, n.Agt = function () { for (var t = {}, n = 0, i = this.fgt; n < i.length; n++) { var e = i[n], r = this.vgt.get(e); ML(r) && (t[r.info.eft.Ff] = (t[r.info.eft.Ff] || 0) + 1) } return t }, n.Tgt = function (t, n) { var i = [], e = this.Sgt(t, n); if (!ML(e)) return i; do { i.push(e), n += 1, e = this.Sgt(t, n) } while (ML(e)); return i }, n.Egt = function (t, n) { return !!this.Sgt(t, n) }, n.Igt = function (t, n) { return ML(this.Sgt(t, n)) }, n.Sgt = function (t, n) { return this.vgt.get(OL(t, n)) }, n.wgt = function (t, n) { var i = PL(t), e = this.fgt.indexOf(i); return -1 !== e && (mn(this.fgt, e), this.fgt.push(i), n && this.vgt.set(i, n), !0) }, n.Rgt = function () { for (var t = [], n = 0, i = this.fgt; n < i.length; n++) { var e = i[n], r = this.vgt.get(e); t.push(r.info) } return t }, n.Ngt = function () { for (var t = [], n = 0, i = this.fgt; n < i.length; n++) { var e = i[n], r = this.vgt.get(e); r && ML(r) && t.push(r.info) } return t }, T(t, [{ key: "mgt", get: function () { for (var t = uL(this.xP, this.Rgt()), n = 0, i = 0; i < t.length; i++)n += t.end(i) - t.start(i); return n } }, { key: "pgt", get: function () { return this.lgt }, set: function (t) { t > 0 && (this.lgt = _.max(t, 1)) } }]), t }(); function jL(t, n, i, e) { if (!t) return i; if (!i) return t; if (t.wdt === i.wdt) { var r, s, u = t.Gdt || i.Gdt; if (u) s = 1 / (r = t.kdt.kd(i.kdt).$m(2)).Pm(); else { if (t.u3 !== i.u3) return; if (!t.kdt.Hl(i.kdt)) return; r = t.kdt, s = t.u3 } if (t.width === i.width && t.height === i.height) { var o, a = t.zdt || i.zdt || !t.kdt.Hl(i.kdt); if (t.KY) if (i.KY) if (e) o = t.KY.concat(i.KY), FL(t.KY, i.KY, VL); else { !function (t, n, i) { var e = t.length, r = ha.cm; t = ln(t, function (t, n) { return kN(t.ZP, n.ZP).Gl(ha.cm) }); for (var s = 1; s < e; s += 1) { var u = t[s - 1].ZP, o = t[s].ZP, a = kN(o, u); a.Xl(ha.cm) && (a = n), r = r.kd(a), u.J2 = a, u.Zy = a.Pm() } if (e > 0) { var h = t[e - 1].ZP, c = ha.Ql(ha.Ym(_.round(i - r.Pm())), n); h.J2 = c, h.Zy = c.Pm() } }(n.KY.concat(i.KY), r, n.duration + i.duration), o = t.KY.concat(i.KY), FL(t.KY, i.KY, VL) } else o = t.KY; else o = i.KY; return { wdt: t.wdt, Q2: t.Q2, Z2: t.Z2, qdt: t.qdt, u3: s, kdt: r, Gdt: u, zdt: a, width: t.width, height: t.height, Oct: t.Oct, Bct: t.Bct, FB: t.FB, duration: t.duration + i.duration, pdt: t.pdt + i.pdt, mdt: t.mdt, bdt: t.bdt, Adt: t.Adt, Tdt: t.Tdt, Sdt: t.Sdt, Edt: zL(i.Edt, t.Edt), Idt: zL(i.Idt, t.Idt), Rdt: zL(i.Rdt, t.Rdt), Ndt: zL(i.Ndt, t.Ndt), KY: o, ydt: t.ydt || i.ydt, VB: t.VB, HB: t.HB } } } } function FL(t, n, i) { for (var e = n[0].ZP.K2, r = t[t.length - 1].ZP.K2, s = e.Od(r), u = eg(e, r).Od(s), o = 0; o < n.length; o++) { i(n[o].ZP, u) } } function UL(t, n) { t.N2 = t.N2.kd(n), t.R2 = t.R2.kd(n), t.K2 = t.K2.kd(n) } function VL(t, n) { UL(t, n), t.J2 = t.J2.kd(n), t.Hdt = HL(t.Hdt, n), t.Vdt = HL(t.Vdt, n) } function HL(t, n) { if (t) return t.kd(n) } function zL(t, n) { return n.kd(eg(t, n)) } function qL(t, n) { var i = { audio: void 0, video: void 0, gdt: t.gdt }; if ("video" === n) { if (!t.audio) return i; i.audio = { wdt: t.audio.wdt, u3: t.audio.u3, kdt: t.audio.kdt, duration: t.audio.duration, pdt: t.audio.pdt, mdt: ha.cm, bdt: t.audio.bdt, Adt: t.audio.Adt, Tdt: t.audio.Tdt, Sdt: t.audio.Sdt, Edt: t.audio.Edt, Idt: t.audio.Idt, Rdt: t.audio.Rdt, Ndt: t.audio.Ndt, KY: t.audio.KY, Udt: t.audio.Udt, Fdt: t.audio.Fdt, ydt: t.audio.ydt, Ldt: t.audio.Ldt, jdt: t.audio.jdt } } if ("audio" === n) { if (!t.video) return i; i.video = { wdt: t.video.wdt, Q2: t.video.Q2, Z2: t.video.Z2, qdt: t.video.qdt, u3: t.video.u3, kdt: t.video.kdt, Gdt: t.video.Gdt, zdt: t.video.zdt, width: t.video.width, height: t.video.height, Oct: t.video.Oct, Bct: t.video.Bct, VB: t.video.VB, HB: t.video.HB, FB: t.video.FB, duration: t.video.duration, pdt: t.video.pdt, mdt: ha.cm, bdt: t.video.bdt, Adt: t.video.Adt, Tdt: t.video.Tdt, Sdt: t.video.Sdt, Edt: t.video.Edt, Idt: t.video.Idt, Rdt: t.video.Rdt, Ndt: t.video.Ndt, KY: t.video.KY, ydt: t.video.ydt } } return i } function GL(t, n, i, e) { var r = function (t, n) { if (!t) return n; if (!n) return t; var i; if ((t.wdt === n.wdt || !t.wdt || !n.wdt) && t.u3 === n.u3 && t.kdt.Hl(n.kdt) && t.Fdt === n.Fdt) return t.KY ? n.KY ? (i = t.KY.concat(n.KY), FL(t.KY, n.KY, UL)) : i = t.KY : i = n.KY, { wdt: t.wdt, u3: t.u3, kdt: t.kdt, duration: t.duration + n.duration, pdt: t.pdt + n.pdt, mdt: t.mdt, bdt: t.bdt, Adt: t.Adt, Tdt: t.Tdt, Sdt: t.Sdt, Edt: zL(n.Edt, t.Edt), Idt: zL(n.Idt, t.Idt), Rdt: zL(n.Rdt, t.Rdt), Ndt: zL(n.Ndt, t.Ndt), KY: i, Fdt: t.Fdt, Udt: t.Udt, ydt: t.ydt || n.ydt, Ldt: t.Ldt, jdt: t.jdt } }(t.audio ? t.audio : void 0, i.audio ? i.audio : void 0); if (!t.audio && !i.audio || r) { var s = jL(t.video ? t.video : void 0, n.video, i.video, e); if (!t.video && !i.video || s) return { audio: r, video: s, gdt: t.gdt } } } function WL(t) { return qL(t, "audio") } function XL(t) { return qL(t, "video") } var $L = function () { function t(t, n) { var i = this; this.Cgt = !1, this.Dgt = 0, this.xgt = 0, this.Ogt = function () { return i.Bgt() }, this.Pgt = t, this.HT = n, this.Vot = n.Vot, this.Vot.addEventListener("Lh", this.Ogt) } return t.prototype.Bgt = function () { var t = this.Vot.rat, n = 1e3 * this.Vot.fat, i = 1e3 * this.Vot.aat; this.Vot.uat && (this.Cgt || (this.Pgt.Mgt(i), this.Cgt = !0), n > this.xgt && (this.Pgt.Lgt(n - this.xgt, t - this.Dgt), this.Dgt = t, this.xgt = n)) }, t }(), QL = function () { function t() { this.jgt = new ND, this.Fgt = new DD } var n = t.prototype; return n.Ugt = function (t) { new $L(this, t) }, n.Lgt = function (t, n) { this.jgt.b6(t, n) }, n.Mgt = function (t) { this.Fgt.b6(t) }, n.Af = function () { }, T(t, [{ key: "Vgt", get: function () { return this.Fgt.A6() / 1e3 } }, { key: "U6", get: function () { return this.jgt.A6() } }]), t }(), YL = function () { function t() { this.Hgt = Rt() } var n = t.prototype; return n.Ggt = function (t, n) { var i, e, r = this.Hgt.get(t); return Boolean(r && (i = r.sit, e = n, U(i) ? i === e : function (t, n) { return t.sit === n.sit && t.Gk.Ll === n.Gk.Ll && t.Gk.Fl === n.Gk.Fl }(i, e))) }, n.zgt = function (t, n) { if (this.Ggt(t, n)) return this.Hgt.get(t).ei }, n.qgt = function (t, n, i) { this.Hgt.set(t, { sit: n, ei: i }) }, n.zo = function () { this.Hgt.clear() }, t }(), ZL = 5, KL = 5; function JL(t) { if (!t.Wdt.video) return []; for (var n = [], i = 0; i < t.Wdt.video.KY.length; i++) { var e = t.Wdt.video.KY[i].ZP; e.i3 && n.push({ Wk: i, Wgt: e.R2 }) } return n } var tj = ha.Ym(.04), nj = function (t) { function n(n, i, e, r) { var s; return (s = t.call(this) || this).Xgt = Rt(), s.$gt = Rt(), s.Qgt = 1, s.gc = n, s.Ygt = i, s.OS = e, s.Zgt = new YL, s.dgt = r, s.Kgt = new pP(e, n), s.Jgt = new QL, s.twt = new BL(n), s.twt.addEventListener("Bo", function (t) { s.dispatchEvent(t) }), s } rt(n, t); var i = n.prototype; return i.nwt = function (t) { this.twt.eh(t), this.Kgt.zo(!1, t) }, i.zo = function (t) { this.nwt(t), t ? this.Xgt.get(t).zo() : this.Xgt.forEach(function (t) { return t.zo() }) }, i.Af = function () { this.To(), this.Kgt.zo(), this.Xgt.forEach(function (t) { return t.zo() }), this.Xgt.clear(), this.twt.Af() }, i.pf = function (t, n, i) { if (!this.Xgt.has(t)) { var e = new LL(n, this.dgt, i); e.pgt = this.pgt, this.Xgt.set(t, e) } }, i.iwt = function () { var t = St(At.mark(function t(n, i, e) { var r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!this.Zgt.Ggt(i, e)) { t.next = 2; break } return t.abrupt("return", this.Zgt.zgt(i, e)); case 2: return t.next = 4, this.ewt(n, e); case 4: return r = t.sent, this.Zgt.qgt(i, e, r), t.abrupt("return", r); case 7: case "end": return t.stop() } }, t, this) })); return function (n, i, e) { return t.apply(this, arguments) } }(), i.ewt = function (t, n) { var i = this; return new Tt(function (e, r) { i.Kgt.Ph(t, n, Wa.fT, function (t, n) { t && r(t), e(new m(n.NF)) }) }) }, i.rwt = function (t, n, i, e) { var r = this.Xgt.get(t), s = r.Sgt(n.eft.Ff, n.pat); if (r.Igt(n.eft.Ff, n.pat)) r.wgt(n), this.dispatchEvent({ type: "swt", zB: t, Y1: s }); else { if (!s) return this.uwt(t, n, i, e); r.wgt(n), this.owt(t, n, i, s.awt) } return e && e(), null }, i.uwt = function (t, n, i, e) { var r = this, s = this.Xgt.get(t), u = function (t, n) { return t + "hwt" + n.pat + "t_t" + n.uri }(t, n); if (this.$gt.has(u)) return null; this.$gt.set(u, !0); var o = this.Kgt.Ph(t, n.uri, Wa.fT, function (a, h) { return r.$gt.delete(u), a ? e && e(a) : (s.Igt(n.eft.Ff, n.pat) || s.ggt({ info: n, awt: o.NF }), r.rwt(t, n, i), e && e(a, h)) }); return this.Jgt.Ugt(o), o }, i.owt = function (t, n, i, e) { var r = this, s = this.Xgt.get(t); this.twt.hgt(t, n) || (n && n.key && this.Ygt.getKey(n.key).catch(q), this.twt.ugt(t, this.Ygt, e, n, i, function (n, i) { if (n) return r.dispatchEvent({ type: "Bo", Bo: n }); s.ggt(i), r.dispatchEvent({ type: "swt", zB: t, Y1: i }) })) }, i.cwt = function (t, n, i) { var e = i.length, r = "mct" === t ? ej : rj; if (!ij(n, i)) return null; if (e <= 1) return i; for (var s = 1; s < e; s += 1) { var u = i[s], o = i[s - 1]; if (u.metadata.Kdt) { if ("fwt" === this.gc.vwt || r(u, o)) { var a = i.splice(0, s); return ij(n, a) ? a : this.cwt(t, n, i) } 0 } } return i }, i.lwt = function (t, n, i, e) { for (var r = this.Xgt.get(t).Ngt(), s = e.dwt, u = function (t) { var e = i[t], u = r.filter(function (t) { return t.eft === e }), o = uL(n, u), a = o.Ylt(s.Pm(), tj.Pm()); if (a >= 0 && ha.Ym(o.end(a)).Od(s).Zp(tj)) return { v: !0 } }, o = 0; o < i.length; o++) { var a = u(o); if ("object" == typeof a) return a.v } return !1 }, i._wt = function (t, n, i, e, r) { if (!x.wn) return !0; if (r.gwt || this.lwt(t, n, i, r)) return !0; var s = ha.Ql(e, r.wwt); return r.dwt.Od(s).Zp(ha.Ym(2)) }, i.ywt = function (t, n, i, e, r, s, u, o) { var a = n.Tgt(r.Ff, s), h = this.cwt(t, s, a); if (!h || 0 === h.length) return null; var c, f = h[0], v = e.sdt(f.info), l = wj(t, e, f); if ("kct" !== t || function (t, n, i) { return !!t && t.aB.eft === n && i.Zp(ha.Ym(t.Fl)) && i.Xl(ha.Ym(t.Fl).kd(tj)) }(i, r, l)) return { Eht: h, pwt: ha.$l(v, l) }; f.Wdt.video && (f = (h = cj(h, function (t, n, i, e) { for (var r = 0, s = 0, u = 0; u < t.length; u += 1)for (var o = t[u], a = JL(o), h = 0; h < a.length; h++) { var c = a[h]; if (n.Oft(o.info, c.Wgt).Jp(i.Od(e))) return { mwt: r, kwt: s }; r = u, s = c.Wk } return { mwt: r, kwt: s } }(h, e, u, o)))[0]); if (l = wj(t, e, f), function (t) { var n = t.Wdt.video, i = n && n.KY, e = i && i[0], r = e && e.ZP.i3; if (!n) return !0; return !!r }(f)) return { Eht: h, pwt: ha.$l(v, l) }; var d = function (t) { for (var n = 0; n < t.length; n++) { var i = IL(t[n].Wdt); if (!p(i)) return { mwt: n, kwt: i } } return null }(h), g = ha.Ql(u, dj(t, e, r.Rht(s))); if (f.info.pat === s) { if (d && (l = wj(t, e, (c = cj(h, d))[0]), g.Od(l).Zp(o))) return { Eht: c, pwt: ha.$l(v, l) }; for (var _ = s - 1; n.Igt(r.Ff, _);) { var w = n.Tgt(r.Ff, _); if ((f = (c = this.cwt(t, s, w)) && c[0] && hj(c[0], RL(c[0]))) && (l = wj(t, e, f), g.Od(l).Zp(o))) return c[0] = f, { Eht: c, pwt: ha.$l(v, l) }; _ -= 1 } } return function (t) { var n = t.eft; if (n.Iht && n.Iht.live) return !1; if (!n.Rht(t.pat - 1)) return !1; return !0 }(h[0].info) ? null : d ? { Eht: h = cj(h, d), pwt: v } : null }, i.bwt = function (t, n, i, e, r, s, u, o, a, h, c) { var f = s.Awt(o, a, n), v = f && f.aB; if (!v) return null; var l = v.pat; do { var d = l, g = o.Rht(d), _ = dj(n, s, g); if (!gj(n, s, g).Wl(a) || g.Nat) { if (_.kd(tj).Jp(h)) break; if (ha.Ql(ha.cm, a.Od(_)).Wl(c) && i.Igt(o.Ff, d - 1) && i.Igt(o.Ff, d)) i.Sgt(o.Ff, d).metadata.Kdt || (d -= 1); var w = this.Twt(t, n, i, e, r, s, u, o, d, a, c); if (w && (aj(w, a, h) || w.gwt)) return w } } while (i.Igt(o.Ff, ++l)); return null }, i.Twt = function (t, n, i, e, r, s, u, o, a, h, c) { var f = o.Rht(a), v = this.ywt(n, i, e, s, o, a, h, c), l = v && v.Eht, d = v && v.pwt, g = l && l[l.length - 1], w = g && g.metadata.Nat; if (!(l = function (t, n) { if (!n || !n.length) return n; var i = "mct" === t ? sj : uj; return n.map(i).filter(oj) }(n, l)) || !l.length) { if (w) { var y = [], p = s.sdt(g.info); return y.CK = p, y.Swt = p, y.wwt = p, y.Ewt = p, y.dwt = p, y.gwt = w, y } return null } var m = l = "kct" === n ? function (t, n, i) { var e = i[0].Wdt.video; return i[0].info.Sat ? function (t, n, i, e) { var r = yn(e.KY, function (t) { return t.ZP.i3 }); if (r < 0) return i; var s = e.KY[r].ZP, u = n.Oft(i[0].info, s.R2), o = t.Jlt(u.Pm()), a = ha.Ym(t.end(o)); if (a.gm()) return i; var h = u.Od(a).Kp(Qd, 2); if (h.Xl(ha.cm)) return i; var c = mj(e.KY.slice(r), h); return i[0] = vj(i[0], c), i }(t, n, i, e) : function (t, n, i, e) { var r = e.kdt.zm(ZL), s = e.KY[0].ZP, u = n.Oft(i[0].info, s.N2), o = yj(t, u, r); if (o.gm()) return i; var a = u.Od(o).Kp(Qd, 2); if (a.Xl(ha.cm) || a.Jp(r)) return i; var h = mj(e.KY, a); return i[0] = vj(i[0], h), i }(t, n, i, e) }(r, s, l) : function (t, n, i) { var e; if ("mp3" === (null === (e = i[0].Wdt.audio) || void 0 === e ? void 0 : e.wdt)) return i; var r = i[0].Wdt.audio, s = r.KY[0].ZP; return i[0].info.Sat ? function (t, n, i, e, r) { var s = n.Oft(i[0].info, r.R2), u = t.Jlt(s.Pm()), o = ha.Ym(t.end(u)); if (o.gm()) return i; var a = s.Od(o).Pm(), h = _.floor(a / e.kdt.Pm()); if (h <= 0) return i; var c = pj(e, h); return i[0] = fj(i[0], c), i }(t, n, i, r, s) : function (t, n, i, e, r) { var s = n.Oft(i[0].info, r.N2), u = yj(t, s, e.kdt.zm(KL)); if (u.gm()) return i; var o = s.Od(u).Pm(), a = _.floor(o / e.kdt.Pm()); if (0 === a || _.abs(a) > KL) return i; var h = pj(e, a); return i[0] = fj(i[0], h), i }(t, n, i, r, s) }(r, s, l), k = m[0]; if (f.pat < k.info.pat && (d = s.sdt(f)), m.CK = d, m.Swt = function (t, n, i) { return n.Oft(i.info, _j(t, i).Qdt) }(n, s, k), m.wwt = wj(n, s, k), m.Ewt = function (t, n, i) { return n.Oft(i.info, _j(t, i).Zdt) }(n, s, m[m.length - 1]), m.dwt = function (t, n, i) { return n.Oft(i.info, _j(t, i).Ydt) }(n, s, m[m.length - 1]), m.gwt = w, !this._wt(t, s, u, h, m)) return null; var b = k.Wdt.video; return !b || (b.Oct = b.Oct || o.Oct, b.Bct = b.Bct || o.Bct, b.Oct && b.Bct) ? m : null }, i.Iwt = function (t, n, i, e, r, s, u, o, a, h) { for (var c = null, f = u.length - 1; f >= 0; f -= 1) { var v = u[f], l = this.bwt(t, n, i, e, r, s, u, v, o, a, h); l && (c && !l.wwt.Wl(c.wwt) || (c = l)) } return c }, i.Rwt = function (t, n, i, e, r, s, u, o, a) { for (var h = ha.Ym(u), c = ha.Ym(o), f = ha.Ym(a), v = this.Xgt.get(t), l = new UM([{ Ll: h.Pm(), Fl: h.kd(c).Pm() }]), d = r.dd(l), g = function (t) { if (0 === t.length) return null; var n = t.Eht(t.length - 1), i = n[n.length - 1]; if (!i.aB.ntt) return null; return i }(r), _ = qM(GM(d), l), w = 0; w < _.length; w++) { var y = ha.Ym(_.start(w)), p = ha.Ym(_.end(w)), m = kj(d, y, p), k = y.kd(m).Kp(Qd, 2), b = p.Kp(Qd, 2); if (k.Wl(b)) { if (g && k.Zp(ha.Ym(g.Fl))) continue; var A = this.Iwt(t, n, v, s, r, i, e, k, b, f); if (A) return A } } return null }, i.Ngt = function (t) { return this.Xgt.get(t).Ngt() }, i.agt = function (t) { return this.twt.agt(t) }, T(n, [{ key: "pgt", get: function () { return this.Qgt }, set: function (t) { t > 0 && (this.Qgt = t, this.Xgt.forEach(function (n) { return n.pgt = t })) } }, { key: "Vgt", get: function () { return this.Jgt.Vgt } }, { key: "U6", get: function () { return this.Jgt.U6 } }]), n }(vP); function ij(t, n) { for (var i = 0; i < n.length; i++) { if (n[i].info.pat === t) return !0 } return !1 } function ej(t, n) { return t.metadata.audio.wdt !== n.metadata.audio.wdt || (t.metadata.audio.rA !== n.metadata.audio.rA || (!(!t.Wdt.audio || !n.Wdt.audio || t.Wdt.audio.Fdt === n.Wdt.audio.Fdt) || !ng(t.metadata.audio.$dt, t.metadata.audio.Qdt).Hl(ng(n.metadata.audio.Ydt, n.metadata.audio.Zdt)))) } function rj(t, n) { return t.metadata.video.wdt !== n.metadata.video.wdt || (!(!t.metadata.x_ || !n.metadata.x_ || t.metadata.x_.height === n.metadata.x_.height && t.metadata.x_.width === n.metadata.x_.width) || (!(!n.Wdt.video || n.Wdt.video.zdt || t.metadata.video.rA === n.metadata.video.rA) || ng(t.metadata.video.$dt, t.metadata.video.Qdt) !== ng(n.metadata.video.Ydt, n.metadata.video.Zdt))) } function sj(t) { return t.Wdt.video && (t = { Wdt: XL(t.Wdt), info: t.info, metadata: DL(t.metadata, "kct") }), t } function uj(t) { return t.Wdt.audio && (t = { Wdt: WL(t.Wdt), info: t.info, metadata: DL(t.metadata, "mct") }), t } function oj(t) { return Boolean(t && (t.Wdt.audio || t.Wdt.video)) } function aj(t, n, i) { var e = ha.Ql(n, t.wwt), r = ha.$l(i, t.dwt), s = tj; return x.fn && (e.Xl(t.wwt) ? s = s.kd(t.wwt).Od(t.Swt) : r.Zp(t.dwt) && (s = s.kd(t.dwt).Od(t.Ewt))), r.Od(e).Zp(s) } function hj(t, n) { return p(n) ? null : 0 === n ? t : vj(t, t.Wdt.video.KY.slice(n)) } function cj(t, n) { return (t = t.slice(n.mwt))[0] = hj(t[0], n.kwt), t } function fj(t, n) { var i = { info: t.info, Wdt: { audio: XL(t.Wdt).audio, video: null, gdt: t.Wdt.gdt }, metadata: null }, e = i.Wdt.audio; e.KY = n; var r = n[0].ZP; return e.Adt = r.K2, e.bdt = e.Adt.Pm(), lj(e, i.Wdt.gdt, e.kdt), NL(i, t.metadata.size), i.metadata = DL(i.metadata, "kct"), i } function vj(t, n) { var i = { info: t.info, Wdt: { audio: null, video: WL(t.Wdt).video, gdt: t.Wdt.gdt }, metadata: null }, e = i.Wdt.video; e.KY = n; var r = n[0].ZP; e.Adt = r.K2, e.bdt = e.Adt.Pm(); var s = n[n.length - 1].ZP.J2; return lj(e, i.Wdt.gdt, s), NL(i, t.metadata.size), i.metadata = DL(i.metadata, "mct"), i } function lj(t, n, i) { for (var e = ha.Km, r = ha.Km, s = ha.Jm, u = ha.Jm, o = 0, a = t.KY; o < a.length; o++) { var h = a[o].ZP; e = ha.$l(h.N2, e), r = ha.$l(h.R2, r), s = ha.Ql(h.N2, s), u = ha.Ql(h.R2, u) } t.Tdt = r, t.Sdt = e, t.Edt = u, t.Idt = s, t.mdt = ha.Ql(eg(t.Adt, n), ha.cm), t.Rdt = ig(t.Edt, i), t.Ndt = ig(t.Idt, i), t.pdt = ng(t.Rdt, t.Tdt).Pm(), t.duration = t.pdt } function dj(t, n, i) { if (QP(i)) { var e = "mct" === t ? i.Q_t : i.Z_t; return Jd(e) || (e = i.Hht), n.Oft(i, e) } return i && n.sdt(i) } function gj(t, n, i) { if (QP(i)) { var e = "mct" === t ? i.tgt : i.igt; return Jd(e) || (e = i.Hht), n.Oft(i, e) } return i && n.sdt(i).kd("mct" === t ? function (t) { return QP(t) ? t.Ght || ha.cm : t && ha.Ym(t.duration) || ha.cm }(i) : function (t) { return QP(t) ? t.zht || ha.cm : t && ha.Ym(t.duration) || ha.cm }(i)) } function _j(t, n) { return "mct" === t ? n.metadata.audio : n.metadata.video } function wj(t, n, i) { return n.Oft(i.info, _j(t, i).$dt) } function yj(t, n, i) { var e = t.Ylt(n.Pm(), i.Pm()); if (-1 !== e) for (var r = t.Eht(e), s = r.length - 1; s >= 0; s--) { var u = r[s]; if (n.Od(ha.Ym(u.Fl)).lm().Xl(i)) return ha.Ym(u.aB.Ewt); if (n.Od(ha.Ym(u.Ll)).lm().Xl(i)) return ha.Ym(u.aB.Nwt) } return ha.Zm } function pj(t, n) { var i; if (n < 0) i = t.KY.slice(-n); else { 0; var e = new mN, r = function (t, n) { if (t) switch (n) { case 1: return new m([1, 64, 34, 128, 163, 78, 230, 128, 186, 8, 0, 0, 0, 28, 6, 241, 193, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]); case 2: case 3: return new m([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]) } else switch (n) { case 1: return new m([0, 200, 0, 128, 35, 128]); case 2: return new m([33, 0, 73, 144, 2, 25, 0, 35, 128]); case 3: return new m([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 142]); case 4: return new m([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 128, 44, 128, 8, 2, 56]); case 5: return new m([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 56]); case 6: return new m([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 0, 178, 0, 32, 8, 224]) }return null }(t.Odt, t.Fdt); e.l2(r, 0, r.length), i = t.KY.slice(); for (var s = 0; s < n; s++) { var u = i[0].ZP, o = e.Qo(Et(Et({}, e.ZP), { K2: ng(u.K2, t.kdt), Pk: u.Pk - t.kdt.Pm(), N2: ng(u.N2, t.kdt), R2: ng(u.R2, t.kdt) })); i.unshift(o) } } return i } function mj(t, n) { var i = t[0].ZP, e = t.slice(); return e[0] = t[0].Qo(Et(Et({}, i), { K2: ng(i.K2, n), Pk: i.Pk - n.Pm(), N2: ng(i.N2, n), n3: i.n3 - n.Pm(), R2: ng(i.R2, n), t3: i.t3 - n.Pm(), J2: ha.Ql(ha.cm, i.J2.kd(n)), Zy: _.max(0, i.Zy + n.Pm()) })), e } function kj(t, n, i) { for (var e = 0; e < t.length - 1; e++) { var r = t.Eht(e), s = t.Eht(e + 1); if (r.length && s.length && ha.Ym(r[0].Ll).Xl(n) && ha.Ym(s[s.length - 1].Fl).Zp(i) && s[0].aB.Eht[0].Zo.Xdt.Sat) return tj.zm(5) } return tj } function bj(t) { return new Aj(t.bA, t.ei) } var Aj = function () { function t(t, n) { this.Cwt = n, this.bA = t } return t.prototype.Dwt = function (t) { SM(t) }, T(t, [{ key: "ei", get: function () { return this.Cwt } }, { key: "xwt", get: function () { return TM(EM(this.Cwt, this.bA)) } }]), t }(), Tj = function () { function t(t, n, i) { this.sit = "data:" + t + ";" + n + "," + i } return t.prototype.Dwt = function (t) { }, T(t, [{ key: "xwt", get: function () { return this.sit } }]), t }(), Sj = function () { function t(t, n, i, e, r, s, u, o, a, h) { this.Owt = 0, this.Bwt = t, this.Pwt = n, this.zB = i, this.bA = e, this.Y1 = r, this.Mwt = s, this.NP = u, this.Lwt = o, this.jwt = a, this.SW = h } return t.Fwt = function (t, n, i, e, r, s, u, o, a, h) { switch (n) { case "Uwt": return new Ej(t, i, e, r, s, u, o, a, h); case "Vwt": return new Ij(t, i, e, r, s, u, o, a, h) } }, t }(), Ej = function (t) { function n(n, i, e, r, s, u, o, a, h) { return t.call(this, "Uwt", n, i, e, r, s, u, o, a, h) || this } return rt(n, t), n.prototype.Hwt = function () { return { Gwt: "zwt", qwt: this.Pwt, Wwt: "Xwt", $wt: "Qwt", Ywt: this.bA, Zwt: fL(this.Y1, []), Kwt: this.jwt, Jwt: this.Lwt.fk(), tyt: this.Mwt.fk(), nyt: this.NP.fk() } }, n }(Sj), Ij = function (t) { function n(n, i, e, r, s, u, o, a, h) { return t.call(this, "Vwt", n, i, e, r, s, u, o, a, h) || this } return rt(n, t), n.prototype.Hwt = function () { return { Gwt: "zwt", qwt: this.Pwt, Wwt: "audio/mpeg" === this.bA ? "iyt" : "eyt", $wt: up ? "ryt" : "Qwt", Ywt: this.bA, Zwt: fL(this.Y1, []) } }, n }(Sj), Rj = function () { function t() { this.syt = Rt(), this.uyt = 1 } var n = t.prototype; return n.oyt = function () { return (this.uyt++).toString() }, n.Fwt = function (t, n, i, e, r, s, u, o, a) { var h = this.oyt(), c = Sj.Fwt(h, n, t, i, e, r, s, u, o, a); return this.ayt(c), c }, n.hyt = function (t) { return this.syt.get(t) }, n.ayt = function (t) { this.syt.set(t.Pwt, t) }, n.cyt = function (t) { this.syt.delete(t) }, n.fyt = function (t) { this.hyt(t).Owt = 1, this.cyt(t) }, n.vyt = function (t, n) { var i = this.hyt(t).SW; this.hyt(t).Owt = 2, this.cyt(t), i(n) }, n.lyt = function (t, n) { var i = this.hyt(t).SW; this.hyt(t).Owt = 3, this.cyt(t), i(null, n) }, n.zo = function (t) { var n = []; this.syt.forEach(function (i, e) { t && i.zB !== t || n.push(e) }); for (var i = 0; i < n.length; i++) { var e = n[i]; this.fyt(e) } }, t }(); var Cj = function () { function t(n) { var i = this; this.dyt = function (t) { var n = t.data._yt, e = t.data.gyt, r = t.data.wyt, s = t.data.yyt, u = i.syt.hyt(e); if (u && 1 !== u.Owt) switch (n) { case "pyt": i.myt(u, r); break; case "kyt": i.syt.vyt(e, new RN("PLAYBACK_ISSUE", { code: s })); break; default: 0 } }, this.byt = function (t) { 0 }, this.syt = new Rj, this.gc = n, this.Ayt = t.Tyt(n.vwt), this.Syt() } t.Tyt = function (t) { switch (t) { case "fwt": return "Uwt"; case "Eyt": return "Vwt" } }; var n = t.prototype; return n.zwt = function (t, n, i, e, r, s, u) { var o = { metadata: null, mct: null, kct: null, Bo: null }; i && i.length || u(new RN("PLAYBACK_ISSUE", { code: "SP154" })); var a = i[0], h = i[i.length - 1], c = a.info.pat + 1, f = a.info.eft, v = a.metadata, l = v.audio.wdt ? v.audio : void 0, d = v.video.wdt ? v.video : void 0, g = h.metadata, _ = g.audio.wdt ? g.audio : void 0, w = g.video.wdt ? g.video : void 0, y = e.kd(eg(v.Qdt, v.$dt)), m = e.kd(eg(v.$dt, v.$dt)), k = e.kd(l ? eg(l.Qdt, v.$dt) : ha.cm), b = e.kd(l ? eg(l.$dt, v.$dt) : ha.cm), A = e.kd(d ? eg(d.Qdt, v.$dt) : ha.cm), T = e.kd(d ? eg(d.$dt, v.$dt) : ha.cm), S = e.kd(eg(g.Zdt, v.$dt)), E = e.kd(eg(g.Ydt, v.$dt)), I = e.kd(_ ? eg(_.Zdt, v.$dt) : ha.cm), R = e.kd(_ ? eg(_.Ydt, v.$dt) : ha.cm), C = e.kd(w ? eg(w.Zdt, v.$dt) : ha.cm), N = e.kd(w ? eg(w.Ydt, v.$dt) : ha.cm); k = ha.Ql(ha.cm, k), A = ha.Ql(ha.cm, A); var D, x, B, O, P, M = GP.hct(n._ft) ? ha.Ym(100079991719) : ha.Ym(n.Zy), L = function (t) { for (var n = t[0].Wdt, i = n, e = 1; e < t.length; e++) { if (!(n = GL(i, t[e - 1].Wdt, t[e].Wdt, t[e].info.Kdt))) return i; i = n } return i }(i); if (L.audio) { x = (D = XL(L)).audio.duration; B = this.syt.Fwt(t, this.Ayt, "mp3" === D.audio.wdt ? "audio/mpeg" : "audio/mp4", D, k, b, M, c, function (t, n) { if (o.Bo = o.Bo || t, o.mct = n, D = !0, O) return u(o.Bo, o) }), this.Iyt(B), D = null } else D = !0; if (L.video) { P = (O = WL(L)).video.duration; B = this.syt.Fwt(t, this.Ayt, "video/mp4", O, A, T, M, c, function (t, n) { if (o.Bo = o.Bo || t, o.kct = n, O = !0, D) return u(o.Bo, o) }), this.Iyt(B), O = null } else O = !0; var j, F, U, V = i.map(function (t) { return t.metadata }), H = ha.Ym(x), z = ha.Ym(P), q = a.Wdt.audio && a.Wdt.video ? ha.$l(a.Wdt.audio.mdt.kd(H), a.Wdt.video.mdt.kd(z)) : a.Wdt.audio ? a.Wdt.audio.mdt.kd(H) : a.Wdt.video ? a.Wdt.video.mdt.kd(z) : ha.cm; if (q.Dm() && J("Segment with no valid audio or video track detected", a.info.uri), L.video) { var G = IL(L); if (p(G)) J("Segment without keyframes detected", a.info.uri), j = ha.Zm, F = ha.Zm, U = q.zm(1.5); else { var W = L.video.KY[G].ZP; j = e.kd(eg(W.N2, v.$dt)), F = e.kd(eg(W.R2, v.$dt)), U = ha.Ym(W.t3 - a.metadata.start) } } else j = k, F = b, U = ha.cm; var X = ha.Ql(U, ha.Ql(a.Wdt.audio && a.Wdt.audio.mdt || ha.cm, a.Wdt.video && a.Wdt.video.mdt || ha.cm)); o.metadata = { pat: c, Ll: e.Pm(), Nwt: y.Pm(), CK: m.Pm(), Ewt: S.Pm(), dwt: E.Pm(), rgt: j.Pm(), hdt: F.Pm(), pwt: ha.$l(e, r).Pm(), Zy: q.Pm(), Eht: V, Yo: X.Pm(), mct: l && { Ll: b.Pm(), Nwt: k.Pm(), Fl: R.Pm(), Ewt: I.Pm(), Zy: x, wdt: l.wdt }, kct: d && { Ll: T.Pm(), Nwt: A.Pm(), Fl: N.Pm(), Ewt: C.Pm(), Zy: P, wdt: d.wdt, qw: v.x_.width, Ww: v.x_.height }, tA: v.tA, Kdt: v.Kdt, eft: f, Nat: s }, i = null, L = null }, n.Af = function () { this.syt.zo(), this.Ryt && (this.Ryt.terminate(), this.Ryt = null) }, n.eh = function (t) { this.syt.zo(t) }, n.myt = function (t, n) { switch (t.Bwt) { case "Uwt": var i = n; this.syt.lyt(t.Pwt, { initializer: bj(i.Nyt), m4s: bj(i.Cyt) }); break; case "Vwt": var e = n; this.syt.lyt(t.Pwt, (r = e, up ? new Tj(r.bA, "base64", r.ei) : new Aj(r.bA, r.ei))); break; default: 0 }var r }, n.Syt = function () { this.Ryt || (this.Ryt = MM(this.gc.libraryLocation, "theoplayer.p.js"), this.Ryt.addEventListener("message", this.dyt), this.Ryt.addEventListener("error", this.byt)) }, n.Iyt = function (t) { this.Ryt || this.Syt(), this.Ryt.postMessage(t.Hwt()) }, t }(), Nj = function (t) { function n(n, i) { var e; return (e = t.call(this) || this).gc = i, e.wf = Rt(), e.tht = null, e.Dyt = null, e.OS = n, e } rt(n, t); var i = n.prototype; return i.Ll = function () { var t = this, n = this.oht; if (n && !this.Dyt) { var i = new xP(this.OS, this.gc); i.addEventListener("Bo", function (i) { var e = i.Bo; t.dispatchEvent({ type: "xyt", Bo: e }), t.wf.has(n) && t.dispatchEvent({ type: "Bo", Bo: e, Oyt: n }) }), i.addEventListener("eht", function n(e) { i.removeEventListener("eht", n), i === t.Dyt && t.dispatchEvent({ type: "Byt", zat: e.manifest }) }), i.addEventListener("eht", function (i) { t.wf.has(n) && t.dispatchEvent({ type: n, zat: i.manifest }) }), this.Dyt = i, i.Ll(n) } }, i.Pyt = function (t, n) { this.Myt(t), this.Lyt(n) }, i.Lyt = function (t) { var n, i = this; this.wf.has(t) || (t === this.oht ? (this.Ll(), (n = this.Dyt).zat && this.dispatchEvent({ type: t, zat: n.zat }, !0)) : ((n = new xP(this.OS, this.gc)).addEventListener("Bo", function (n) { i.dispatchEvent({ type: n.type, Bo: n.Bo, Oyt: t }) }), n.addEventListener("eht", function (n) { i.dispatchEvent({ type: t, zat: n.manifest }) })), this.wf.set(t, n)) }, i.Myt = function (t) { if (this.wf.has(t)) { var n = this.wf.get(t); n !== this.Dyt && n.Af(), this.wf.delete(t), this.removeEventListener(t) } }, i.jyt = function (t) { if (this.wf.has(t)) { var n = this.wf.get(t); n.sht() || n.Ll(t) } }, i.Fyt = function () { var t = this; this.wf.forEach(function (n, i) { return t.jyt(i) }) }, i.bf = function () { this.wf.forEach(function (t) { return t.Af() }), this.wf.clear(), this.Dyt && (this.Dyt.Af(), this.Dyt = null), this.tht = null }, T(n, [{ key: "oht", get: function () { return this.Dyt && this.Dyt.zat ? this.Dyt.zat.uri : this.tht }, set: function (t) { this.bf(), this.tht = t } }]), n }(vP), Dj = function (t) { function n() { var n; return (n = t.call(this) || this).Uyt = NaN, n } rt(n, t); var i = n.prototype; return i.Vyt = function (t, n) { for (var i = t.length ? _.min.apply(_, t) : 0, e = 0; e < t.length; e++)t[e] -= i; for (var r = 0; r < n.length; r++) { n[r].Yo = ha.Ym(t[r] || 0) } var s = t.length ? _.max.apply(_, t) : 0; this.Uyt = s, this.dispatchEvent({ type: "Hyt", Gyt: s }) }, i.zyt = function (t, n) { var i = []; if (n.length < 2) return this.Vyt(i, n), !0; for (var e = n[0], r = 0; r < n.length; r++) { var s = n[r]; if (!s.qyt(t)) return !1; i[r] = s.Yo.kd(s.Wyt(e, t)).Pm() } return this.Vyt(i, n), !0 }, i.Xyt = function (t, n) { return this.zyt(t.Eat, n) }, i.$yt = function (t, n) { if (n.length < 2) return this.Vyt([], n), !0; var i = n[0].Qyt(t); if (p(i)) return !1; for (var e = 0; e < n.length; e++) { if (n[e].Qyt(t) !== i) return !1 } return this.zyt(i, n) }, i.bf = function () { this.Uyt = NaN }, i.Af = function () { this.To() }, T(n, [{ key: "Gyt", get: function () { return this.Uyt } }]), n }(vP), xj = .001; function Bj(t) { return t.metadata.eft.Ff + "Yyt" + t.metadata.pat + "Zyt" + t.metadata.Ll + "Kyt" + t.metadata.Zy } var Oj = function (t) { function n() { return t.apply(this, arguments) || this } rt(n, t); var i = n.prototype; return i.C7 = function (t, i) { return new n(t, i) }, i.rdt = function (t, n) { return !1 }, n }(rL); function Pj(t, n) { var i = new Oj([n]); return t.Od(i).bd(i) } function Mj(t, n) { var i = function (t, n) { var i = t.CK, e = t.hdt; if (!p(e) && e === i) return !0; return !t.Kdt && !!n && n.aB.eft === t.eft && i >= n.Fl && i <= n.Fl + xj }(t, n); return i || !p(t.hdt) ? { Ll: i ? t.CK : t.hdt, Fl: t.dwt, aB: t } : null } var Lj = function (t) { function n(n, i) { var e; return (e = t.call(this) || this).Jyt = null, e.tpt = function () { return e.npt() }, e.Q8 = [], e.hg = [], e.ipt = new Oj([]), e.ept = null, e.rpt = n, e.xP = i, e } rt(n, t); var i = n.prototype; return i.FJ = function (t) { var n = t.metadata, i = n && n.Eht; if (!i || !i.length) return Tt.resolve(); for (var e = [], r = n.Ll, s = 0; s < i.length; s++) { var u = i[s], o = r + u.duration; e.push({ Ll: r, Zy: u.duration, Fl: o, pat: u.pat, Zo: u }), r = o } var a = { Ff: Bj(t), Ll: t.metadata.Ll, Nwt: n.Nwt, CK: n.CK, spt: i[0].Xdt.Iat ? new Date(i[0].Xdt.Iat.getTime()) : null, Zy: t.metadata.Zy, Fl: t.metadata.Ll + t.metadata.Zy, Ewt: n.Ewt, dwt: n.dwt, rgt: n.rgt, hdt: n.hdt, Eht: e, eft: t.metadata.eft, ntt: t.metadata.Nat, Kdt: n.Kdt }; return this.Q8.push(a), this.upt(this.rpt.FJ(t), a) }, i.upt = function (t, n) { var i = this; return t.then(function () { if (pn(i.Q8, n)) { i.hg.push(n); var t = i.ept, e = Mj(n, t); e && (i.ipt = Pj(i.ipt, e)), i.ept = e } i.npt(), i.opt(n) }).catch(function () { pn(i.Q8, n) }) }, i.opt = function (t) { var n = t.Eht[0], i = t.Eht[t.Eht.length - 1], e = t.eft, r = e.Rht(n.pat - 1), s = GP.hct(e._ft); if (!r || s) { var u = e.Rht(n.pat), o = this.xP.sdt(u).Pm(); o < n.Ll && this.rpt.$Z(o, n.Ll) } for (var a = 0, h = this.hg; a < h.length; a++) { var c = h[a]; if (c.eft === t.eft) { var f = c.Eht[0], v = c.Eht[c.Eht.length - 1]; v.pat + 1 === n.pat && v.Fl !== n.Ll ? this.rpt.$Z(v.Fl, n.Ll) : f.pat - 1 === i.pat && i.Fl !== f.Ll && this.rpt.$Z(i.Fl, f.Ll) } } }, i.zo = function () { this.Q8.length = 0, this.hg.length = 0, this.ipt = new Oj([]), this.ept = null }, i.npt = function () { if (this.apt && !this.apt.lX) { var t = this.apt.hg || VM; t = function (t, n) { for (var i = $M(t), e = 0; e < i.length; e++) { var r = i[e], s = n.Jlt(r.Fl, xj); if (s >= 0) { var u = n.Eht(s), o = u[u.length - 1], a = o.aB.Ewt, h = o.aB.dwt; a - xj < r.Fl && r.Fl < h && (r.Fl = h) } } return new UM(i) }(t, this.ipt), this.hg = this.hg.filter(function (n) { return function (t, n, i, e) { n -= e = +e || 0, i += e; for (var r = 0; r < t.length; r += 1)if (t.start(r) < i && n < t.end(r)) return r; return -1 }(t, n.Ll, n.Fl) >= 0 }), this.ipt = this.ipt.dd(t) } }, i.Af = function () { this.To(), this.zo(), this.apt = null }, i.hpt = function (t) { var n = this.cpt(t); if (n) for (var i = 0, e = n.Eht; i < e.length; i++) { var r = e[i]; if (r.Ll <= t && r.Fl > t) return r } return null }, i.cpt = function (t) { for (var n = 0, i = this.hg; n < i.length; n++) { var e = i[n]; if (e.Ll <= t && e.Fl > t) return e } return null }, i.fpt = function (t) { for (var n = 0, i = this.hg; n < i.length; n++) { var e = i[n]; if (e.eft.Ff === t.eft.Ff) for (var r = 0, s = e.Eht; r < s.length; r++) { if (s[r].pat === t.pat) return !0 } } return !1 }, i.vpt = function () { return this.lpt()[0] }, i.lpt = function () { for (var t = this.ipt, n = this.ept, i = 0, e = this.Q8; i < e.length; i++) { var r = Mj(e[i], n); r && (t = Pj(t, r)), n = r } return [t, n] }, T(n, [{ key: "Sf", get: function () { return this.Q8.length + this.hg.length } }, { key: "apt", get: function () { return this.Jyt }, set: function (t) { this.Jyt && this.Jyt.removeEventListener("updateend", this.tpt), this.Jyt = t, this.Jyt && (this.Jyt.addEventListener("updateend", this.tpt), this.npt()) } }]), n }(vP); function jj(t, n, i) { !function (t, n, i) { for (var e = i._dt, r = [], s = 0; s < e.length; s++)for (var u = e[s], o = n.Oft(t, u.ZP.Z1).Pm(), a = 0, h = u.KY; a < h.length; a++) { var c = h[a]; r.push(new Np(o, c)) } i.Kf = r }(t, n, i) } function Fj(t, n) { return t && n ? _.abs(t.pat - n.pat) <= 1 ? ha.cm : ha.Sm(n.JO - t.JO, 1e3) : ha.cm } var Uj = function () { function t(t, n, i, e, r) { this.Yo = ha.cm, this.dpt = !1, this._pt = null, this.Sat = t, this.mwt = t.eft.Eht.cht(n.pat), this.Wk = this.mwt, this.gpt = i, this.wpt = e, this.Ou = r || null } var n = t.prototype; return n.Bg = function () { if (this._pt) return this._pt; var t = this.ypt(); return (t.ppt || t.Bo) && (this._pt = t), t }, n.mpt = function () { return { ppt: !1, Bo: !1, dpt: this.dpt, zk: ha.Zm } }, n.ppt = function (t) { return t.gm() ? { ppt: !1, Bo: !0, dpt: this.dpt, zk: ha.Zm } : { ppt: !0, Bo: !1, dpt: this.dpt, zk: t } }, t }(); function Vj(t, n) { switch (n) { case "mct": return Jd(t.Q_t) ? t.Q_t : t.Hht; case "kct": return Jd(t.Z_t) ? t.Z_t : t.Hht; default: return t.Hht } } var Hj = function (t) { function n() { return t.apply(this, arguments) || this } return rt(n, t), n.prototype.ypt = function () { var t = this.Sat, n = t.eft, i = n.Eht, e = i.fht(this.Wk); if (t.sL(e)) { if (this.wpt && t.kpt && QP(e)) { var r = Vj(e, this.Ou), s = t.bpt(r, e.Apt); return this.ppt(s.Od(this.Yo)) } if (this.gpt && e === t.Tpt) { var u = t.OP.Od(YP(e)); return this.ppt(u.Od(this.Yo)) } this.Wk += 1; var o = Fj(e, i.fht(this.Wk)); return this.dpt = this.dpt || o.Jp(ha.cm), this.Yo = this.Yo.kd(o).kd(YP(e)), this.mpt() } return this.ppt(ha.Zm) }, n }(Uj), zj = function (t) { function n() { return t.apply(this, arguments) || this } return rt(n, t), n.prototype.ypt = function () { var t = this.Sat, n = t.eft, i = n.Eht, e = i.fht(this.Wk); if (t.sL(e)) { if (this.wpt && t.kpt && QP(e)) { var r = Vj(e, this.Ou), s = t.bpt(r, e.Apt); return this.ppt(s.kd(this.Yo)) } if (this.gpt && e === t.Spt) { var u = t.zk; return this.ppt(u.kd(this.Yo)) } this.Wk -= 1; var o = i.fht(this.Wk), a = Fj(o, e); return this.dpt = this.dpt || a.Jp(ha.cm), this.Yo = this.Yo.kd(a).kd(YP(o)), this.mpt() } return this.ppt(ha.Zm) }, n }(Uj); var qj = function () { function t(t, n) { this.zk = ha.cm, this.OP = ha.cm, this.Spt = null, this.Tpt = null, this.Ept = !1, this.Ipt = ha.Zm, this.Rpt = ha.Zm, this.Npt = !1, this.pat = t, this.eft = n } var n = t.prototype; return n.sL = function (t) { return t && t.Eat === this.pat }, n.bpt = function (t, n) { var i = t.Od(this.Ipt).kd(this.Rpt); if (void 0 !== n) { var e = i.Od(n); if (e.lm().Jp(Kd)) { var r = _.round(e.Pm() / Zd.Pm()); i = i.Od(Zd.zm(r)) } } return i }, n.Cpt = function (t, n) { return this.Dpt(t), this.xpt(n), this.Opt() || t === this.Tpt && this.Bpt() }, n.Dpt = function (t) { if (this.kpt && ca(t.J_t, this.Ipt) >= 0) return !1; var n; if (n = this.kpt ? this.Ppt(t, !0, !1) : this.Mpt(t, !0, !1), this.Ipt.gm()) this.Ipt = t.J_t; else { var i = eg(t.J_t, this.Ipt); this.Ipt = this.Ipt.kd(i) } return this.Rpt = n, !0 }, n.xpt = function (t) { if (!t) return !1; if (!this.Lpt()) return !1; var n = this.eft.Eht, i = this.Spt, e = n.vht(i.pat - 1); if (QP(i) && QP(e)) { var r = function (t, n, i) { var e = t.Oft(n, n.Ydt); if (!Jd(i.K_t) || !Jd(i.Z_t)) return e; var r, s = Jd(i.Q_t), u = ng(i.Z_t, i.K_t); if (s) { var o = tg(ng(i.Z_t, i.Q_t), ha.cm); r = tg(ng(u, o), ha.cm) } else r = u; return ng(e, r) }(t, e, i); return this.Npt = !0, this.jpt(r) } return !1 }, n.jpt = function (t) { if (t.Hl(this.zk)) return !1; var n = t.Od(this.zk); return this.zk = t, this.OP = this.OP.kd(n), this.Rpt = this.Rpt.kd(n), !0 }, n.Opt = function () { var t = this.Tpt; if (!t) return !1; var n, i = new zj(this, t, !1, !0); do { n = i.Bg() } while (!n.ppt && !n.Bo && !n.dpt); if (n.ppt && !n.dpt) { var e = n.zk.kd(YP(t)); if (!e.Hl(this.OP)) return this.OP = e, !0 } return !1 }, n.Fpt = function (t) { var n = !1; return n = this.xpt(t) || n, n = this.Upt(t) || n }, n.Upt = function (t) { if (!t) return !1; if (this.Npt) return !1; var n = t.OP.kd(Fj(t.Tpt, this.Spt)); return this.jpt(n) }, n.Vpt = function (t) { var n = !1; return (!this.Spt || this.Spt.pat > t.pat) && (this.zk = this.zk.Od(Fj(t, this.Spt)), this.Spt = t, n = !0), (!this.Tpt || this.Tpt.pat < t.pat) && (this.OP = this.OP.kd(Fj(this.Tpt, t)).kd(YP(t)), this.Tpt = t, n = !0), n }, n.Hpt = function (t) { if (!this.kpt || !t.kpt) return ha.Zm; if (this.Ipt.Xl(t.Ipt)) { var n = this.bpt(t.Ipt, t.Rpt); return t.Rpt.Od(n) } return t.bpt(this.Ipt, this.Rpt).Od(this.Rpt) }, n.Lpt = function () { var t = this.Spt; return !!t && function (t, n) { return n.Eat === t && n.Sat }(this.pat, t) }, n.Bpt = function () { var t = this.Tpt; if (!t) return !1; var n = this.eft.Eht.vht(t.pat + 1); return function (t, n, i) { return n.Eat === t && (!i || i.Sat) }(this.pat, t, n) }, n.Gpt = function (t, n) { return this.Ppt(t, !0, !0, n) }, n.Mpt = function (t, n, i) { if (!this.sL(t)) return ha.Zm; var e, r = new zj(this, t, n, i); do { e = r.Bg() } while (!e.ppt && !e.Bo); if (!e.ppt) return ha.Zm; var s = e.zk; return s.Wl(this.zk) ? this.zk : s }, n.Ppt = function (t, n, i, e) { if (!this.sL(t)) return ha.Zm; var r, s, u, o, a, h = new Hj(this, t, n, i, e), c = new zj(this, t, n, i, e); do { r = h.Bg(), s = c.Bg() } while (!(r.ppt || s.ppt || r.Bo && s.Bo)); if (s.ppt) u = s, o = r, a = h; else { if (!r.ppt) return ha.Zm; u = r, o = s, a = c } if (u.zk.Wl(this.zk)) { for (; !o.ppt && !o.Bo;)o = a.Bg(); return o.ppt ? ha.Ql(this.zk, o.zk) : this.zk } if (u.dpt) { for (; !o.dpt && !o.ppt && !o.Bo;)o = a.Bg(); if (o.ppt && !o.dpt && this.zk.Xl(o.zk)) return o.zk } return u.zk }, n.Oft = function (t, n) { return this.sL(t) && this.kpt ? this.bpt(n, t.Apt) : ha.Zm }, n.lpt = function () { 0 }, T(t, [{ key: "kpt", get: function () { return !this.Ipt.gm() } }]), t }(); function Gj(t, n) { return n.Wl(t.zk) ? 1 : n.Zp(t.OP) ? -1 : 0 } var Wj = function () { function t() { this.zpt = new OP } var n = t.prototype; return n.vht = function (t) { return this.zpt.vht(t) }, n.fht = function (t) { return this.zpt.fht(t) }, n.qpt = function (t) { var n = this.zpt.cht(t); return n < 0 ? null : this.zpt.fht(n - 1) }, n.Bg = function (t) { var n = this.zpt.cht(t); return n < 0 ? null : this.zpt.fht(n + 1) }, n.Wpt = function () { return this.zpt.fht(0) }, n.Xpt = function () { var t = this.zpt.Sf; return 0 === t ? null : this.zpt.fht(t - 1) }, n.$pt = function (t) { var n = this.zpt, i = this.Xpt(); if (i && function (t, n) { return t.zk.Xl(n) && n.Wl(t.OP) }(i, t)) return i; var e = Qg(this.zpt.ght(), t, G, Gj); return n.fht(e) }, n.kd = function (t) { var n = this.zpt.kd(t); if (n && !this.Bg(t.pat)) { t.Ept = !0; var i = this.qpt(t.pat); i && (i.Ept = !1) } return n }, n.Mh = function (t) { var n = this.zpt.Mh(t); if (n && t.Ept) { t.Ept = !1; var i = this.qpt(t.pat); i && (i.Ept = !0) } return n }, n.pht = function (t) { this.zpt.pht(t) }, n.lpt = function () { }, T(t, [{ key: "Sf", get: function () { return this.zpt.Sf } }]), t }(); var Xj = ha.Ym(10), $j = function () { function t(t, n) { this.Qpt = !1, this.Ypt = !1, this.Zpt = new Wj, this.Kpt = ha.cm, this.Jpt = void 0, this.tmt = null, this.nmt = null, this.eft = t, this.Jpt = n.liveOffset } var n = t.prototype; return n.imt = function (t) { var n = this.eft, i = t ? t.fragments : null, e = n.Eht; if (!t || !i || !i.length) return !1; this.Qpt = !0; var r, s = !1; if (!this.Zpt.Sf) { var u = e.vht(i[0].pat).Eat, o = new qj(u, n); o.jpt(this.Yo), this.Zpt.kd(o), s = !0 } if (this.nmt) { var a = e.cht(this.nmt.pat); r = a < 0 ? 0 : a + 1 } else r = 0; for (var h = r, c = e.fht(h), f = null, v = !1; c;) { var l = c.Eat; if (f && f.pat === l || (f && v && this.emt(f), f = this.Zpt.vht(l), s = s || v, v = !1), !f) { f = new qj(l, n), this.Zpt.kd(f); var d = this.Zpt.qpt(l); f.Fpt(d || void 0) } v = f.Vpt(c) || v, c = e.fht(++h) } return f && v && this.emt(f), (s = s || v) && this.rmt(), this.Zpt.Xpt() && this.Bft(n.Eht), this.tmt = e.vht(i[0].pat), this.nmt = e.vht(i[i.length - 1].pat), s }, n.Cpt = function (t) { var n = this.Zpt.vht(t.Eat); if (!n) return !1; this.Ypt = !0; var i = this.Zpt.qpt(n.pat), e = n.Cpt(t, i); return e && this.emt(n), e }, n.emt = function (t) { for (var n = t, i = this.Zpt.Bg(t.pat), e = !0; e && i;)e = i.Fpt(n), n = i, i = this.Zpt.Bg(i.pat) }, n.rmt = function () { for (var t = !1, n = this.Zpt.Wpt(), i = n && this.Zpt.Bg(n.pat); n && i;)n.OP.Jp(i.zk) && (i.jpt(n.OP), t = !0), n = i, i = this.Zpt.Bg(n.pat); return t }, n.smt = function (t) { var n = this.Zpt.Xpt(); if (n && this.umt(t, n.pat)) return !0; var i = t.Zpt.Xpt(); return !(!i || !this.umt(t, i.pat)) || (this.omt ? !(!n || !this.amt(t, n.pat)) || (!(!i || !this.amt(t, i.pat)) || (!(!n || !this.hmt(t, n.pat)) || (!(!i || !this.hmt(t, i.pat)) || this.cmt(t)))) : this.fmt(t)) }, n.fmt = function (t) { var n = this.Zpt.Wpt(), i = t.Zpt.Wpt(); return !(!n || !i) && (this.Xo(i.zk.Od(n.zk)), !0) }, n.umt = function (t, n) { var i = this.Zpt.vht(n); if (!i || !i.kpt) return !1; var e = t.Zpt.vht(n); return !(!e || !e.kpt) && (this.Xo(i.Hpt(e)), !0) }, n.amt = function (t, n) { var i = this.Zpt.vht(n); if (!i || !i.Lpt()) return !1; var e = t.Zpt.vht(n); return !(!e || !e.Lpt()) && (this.Xo(e.zk.Od(i.zk)), !0) }, n.hmt = function (t, n) { var i = this.Zpt.vht(n); if (!i) return !1; var e = this.vmt(i.Tpt.pat); if (!e) return !1; var r = t.Zpt.vht(n); if (!r) return !1; var s = t.vmt(r.Tpt.pat); if (!s) return !1; var u = i.Gpt(i.Tpt), o = r.Gpt(r.Tpt), a = ha.ek(e).Od(ha.ek(s)), h = u.Od(o); return this.Xo(a.Od(h)), !0 }, n.cmt = function (t) { if (!this.Ypt && !t.Ypt) return !1; var n = this.Zpt.Xpt(), i = t.Zpt.Xpt(); if (n && n.Tpt && i && i.Tpt) { var e = ha.Sm(n.Tpt.JO - i.Tpt.JO, 1e3), r = n.OP.Od(i.OP); return this.Xo(e.Od(r)), !0 } return !1 }, n.Bft = function (t) { var n = this.Zpt.Xpt(); if (n) for (var i = n.OP, e = t.Sf - 1; e >= 0; e--) { var r = t.fht(e); if (i = i.Od(ha.Ym(r.duration)), void 0 !== r.Apt) { 0; break } r.Apt = i } }, n.Qyt = function (t) { var n = this.Zpt.$pt(t); return n ? n.pat : NaN }, n.sdt = function (t, n) { var i = this.Zpt.vht(t.Eat); return i ? i.Gpt(t, n) : ha.Zm }, n.udt = function (t, n) { var i = this.eft.Eht.vht(t.pat + 1); if (i) { var e = this.sdt(i); return e } return n.kd(function (t) { if (!t) return ha.cm; if (!QP(t)) return ha.Ym(t.duration); var n = t.Ght || ha.cm, i = t.zht || ha.cm, e = ha.Ym(t.duration); return n.Dm() || i.Dm() ? n.Dm() ? i.Dm() ? e.Dm() ? e : ha.cm : i : n : ha.Ql(n, i) }(t)) }, n.Oft = function (t, n) { var i = this.Zpt.vht(t.Eat); return i && i.kpt ? i.Oft(t, n) : ha.Zm }, n.Awt = function (t, n) { var i = this.eft.Eht; return i.Sf ? function (t, n, i, e, r) { var s, u, o = t.eft.Eht, a = {}, h = function (n) { var i = a[n]; return void 0 !== i ? i : a[n] = t.sdt(o.fht(n), r) }, c = i, f = h(c), v = e, l = h(v); if (n.Wl(f)) return { aB: s = o.fht(c), Eft: f }; if (n.Zp(l) && (s = o.fht(v)).Nat) return { aB: s, Eft: l }; for (; f.Xl(n) && n.Xl(l);) { var d = void 0, g = void 0, w = void 0; if (c === v ? (d = c, g = f) : (d = c + _.round(n.Od(f).Pm() * (v - c) / l.Od(f).Pm()) || 0, g = h(d)), g.Jp(n)) l = h(v = d - 1); else { if (s = o.fht(d), !(w = (u = d) === e ? h(u).kd(YP(o.fht(u))) : h(u + 1)).Xl(n)) return s && n.Xl(g.kd(YP(s))) ? { aB: s, Eft: g } : (s = o.fht(d + 1)) && { aB: s, Eft: w }; c = d + 1, f = w } } if (l.Xl(n)) { if ((s = o.fht(v)) && n.Xl(l.kd(YP(s)))) return { aB: s, Eft: l }; if (v < e && (s = o.fht(v + 1), l = h(v + 1), s && n.Wl(l))) return { aB: s, Eft: l } } return null }(this, t, 0, i.Sf - 1, n) : null }, n.vmt = function (t) { var n = this.eft.Eht, i = n.cht(t), e = n.fht(i), r = e, s = ha.cm; if (e.Iat) return e.Iat; for (var u = i - 1; u >= 0; u--) { var o = n.fht(u); if (s = s.kd(YP(o)).kd(Fj(o, r)), o.Iat) return new Date(o.Iat.getTime() + 1e3 * s.Pm()); r = o } return null }, n.lmt = function (t) { for (var n = this.eft.Eht, i = void 0, e = 0; e < n.Sf; e++) { var r = n.fht(e); if (r.Iat) { if (!(r.Iat.getTime() <= t.getTime())) { i = i || r; break } i = r } } if (!i) return ha.Zm; var s = ha.ek(t).Od(ha.ek(i.Iat)); return this.sdt(i).kd(s) }, n.Xo = function (t) { if (!t.Hl(ha.cm)) for (var n = this.Zpt.Sf, i = 0; i < n; i++) { var e = this.Zpt.fht(i); e.jpt(e.zk.kd(t)) } }, n.qyt = function (t) { var n = this.Zpt.vht(t); return n && n.kpt }, n.Wyt = function (t, n) { if (this === t) return ha.cm; var i = this.Zpt.vht(n), e = t.Zpt.vht(n); return i && e ? i.Hpt(e) : ha.Zm }, n.lpt = function () { 0 }, T(t, [{ key: "omt", get: function () { var t = this.eft.Iht; return !!t && t.live } }, { key: "dmt", get: function () { var t = this.eft.Iht; return !!t && t.isEvent } }, { key: "_mt", get: function () { var t = this.tmt; return t ? this.sdt(t) : ha.cm } }, { key: "gmt", get: function () { var t = this.Zpt.Xpt(); return t ? t.OP : ha.cm } }, { key: "wmt", get: function () { if (!this.omt) return ha.cm; var t = this.gmt.Od(this.Lrt); return ha.Ql(this._mt, t) } }, { key: "Lrt", get: function () { return this.Jpt && ha.Ym(this.Jpt) || this.ymt.zm(3) } }, { key: "pmt", get: function () { return this.omt && this.nmt ? ha.Sm(h_() - this.nmt.JO, 1e3) : ha.cm } }, { key: "ymt", get: function () { var t = this.eft.Iht; return t && t.targetDuration ? ha.Ym(t.targetDuration) : Xj } }, { key: "Yo", get: function () { return this.Kpt }, set: function (t) { var n = t.Od(this.Kpt); this.Kpt = t, this.Xo(n) } }]), t }(), Qj = function (t) { function n(n) { var i; return (i = t.call(this) || this).mmt = [], i.kmt = {}, i.bmt = null, i.Amt = null, i.Kpt = ha.cm, i.Tmt = n, i } rt(n, t); var i = n.prototype; return i.Smt = function (t) { return t && this.kmt[t.Ff] || null }, i.Emt = function (t) { var n = this.Smt(t); return n || ((n = new $j(t, this.Tmt)).Yo = this.Kpt, this.mmt.push(n), this.kmt[t.Ff] = n), n }, i.imt = function (t, n) { var i = this.Smt(this.bmt), e = i ? i._mt : ha.cm, r = i ? i.gmt : ha.cm, s = this.Emt(t), u = s.Qpt, o = s.imt(n); if (!u && s.Qpt && (s.Xo(this.Imt(t)), o = !0), o = this.Rmt(s) || o, this.Nmt(s, e, r)) { var a = new RN("MANIFEST_SEQUENCE_RESET_ERROR", { code: "MFU0166" }); this.dispatchEvent({ type: "Bo", Bo: a }) } else this.bmt = t, o && this.dispatchEvent("Pft") }, i.Cpt = function (t, n) { if (QP(n)) { 0; var i = this.Emt(t), e = i.Cpt(n); e = this.Rmt(i) || e, this.Amt = t, e && this.dispatchEvent("Pft") } }, i.Rmt = function (t) { var n = !1, i = !1, e = this.Smt(this.Amt); e && (e === t ? n = !0 : i = (n = t.smt(e)) || i); var r = this.Smt(this.bmt); return r && r !== t && (i = n ? r.smt(t) || i : t.smt(r) || i), i }, i.Imt = function (t) { var n = this.Smt(t), i = !n.omt, e = t.Iht && t.Iht.isEvent; return i || e ? ha.cm : n.ymt.zm(3) }, i.Nmt = function (t, n, i) { if (!t.omt) return !1; var e = t._mt, r = t.gmt, s = ha.$l(r, i).Od(ha.Ql(e, n)), u = ha.Ql(t.ymt.zm(3), s.$m(2)); return e.kd(u).Wl(n) }, i.Bft = function (t, n) { var i = this.Smt(t) || this.Smt(this.bmt); return i && i.Bft(n) }, i.Qyt = function (t) { var n = this.bmt && this.Smt(this.bmt); return n ? n.Qyt(t) : NaN }, i.Cmt = function (t, n) { var i = t.Rht(n); return this.sdt(i) }, i.sdt = function (t) { if (!t) return ha.Zm; var n = this.Smt(t.eft) || this.Smt(this.bmt); return n ? n.sdt(t) : ha.Zm }, i.udt = function (t, n) { if (!t) return ha.Zm; var i = this.Smt(t.eft) || this.Smt(this.bmt); return i ? i.udt(t, n) : ha.Zm }, i.Oft = function (t, n) { if (!t || !n) return ha.Zm; var i = this.Smt(t.eft) || this.Smt(this.bmt); return i ? i.Oft(t, n) : ha.Zm }, i.Awt = function (t, n, i) { var e = this.Smt(t); if (!e) return null; var r = e.Awt(n, i); return r ? { aB: r.aB, Eft: r.Eft } : null }, i.vmt = function (t, n) { var i = this.Smt(t) || this.Smt(this.bmt); return i ? i.vmt(n) : null }, i.lmt = function (t, n) { var i = this.Smt(t) || this.Smt(this.bmt); return i ? i.lmt(n) : ha.Zm }, i.qyt = function (t) { var n = this.Smt(this.bmt); return !!n && n.qyt(t) }, i.Wyt = function (t, n) { if (this === t) return ha.cm; var i = this.bmt && this.Smt(this.bmt), e = t.bmt && t.Smt(t.bmt); return i && e ? i.Wyt(e, n) : ha.Zm }, i.Af = function () { this.To(), this.mmt.length = 0, this.kmt = {}, this.bmt = null, this.Amt = null, this.Kpt = ha.cm }, i.lpt = function () { 0 }, T(n, [{ key: "Dmt", get: function () { return this._mt.Od(this.ymt.zm(3)) } }, { key: "Lrt", get: function () { var t = this.Tmt.liveOffset; return ha.Ym(t || 3 * this.ymt.Pm()) } }, { key: "omt", get: function () { var t = this.Smt(this.bmt); return !!t && t.omt } }, { key: "jx", get: function () { return this.bmt ? new UM([{ Ll: this._mt.Pm(), Fl: this.gmt.Pm() }]) : VM } }, { key: "_mt", get: function () { if (!this.bmt) return ha.cm; var t = this.Smt(this.bmt); return t.dmt ? t._mt : t._mt.kd(t.pmt) } }, { key: "gmt", get: function () { if (!this.bmt) return ha.cm; var t = this.Smt(this.bmt); return t.gmt.kd(t.pmt) } }, { key: "wmt", get: function () { if (!this.bmt) return ha.cm; var t = this.Smt(this.bmt); return t.wmt.kd(t.pmt) } }, { key: "ymt", get: function () { return this.bmt ? this.Smt(this.bmt).ymt : Xj } }, { key: "Yo", get: function () { return this.Kpt }, set: function (t) { if (!this.Kpt.Hl(t)) { this.Kpt = t; for (var n = 0, i = this.mmt; n < i.length; n++) { i[n].Yo = t } this.dispatchEvent("Pft") } } }]), n }(vP), Yj = function (t) { function n() { return t.apply(this, arguments) || this } return rt(n, t), n.prototype.Imt = function (t) { return ha.cm }, n }(Qj), Zj = .25, Kj = 1 / 60; function Jj(t, n) { return To(t, n, Kj) } var tF, nF = function (t, n, i) { this.xmt = NaN, this.Omt = NaN, this.Bmt = 0, this.eft = t.eft, this.zk = n, this.OP = i, this.Zy = i - n, this.aB = t }, iF = function (t, n, i) { this.xmt = NaN, this.Omt = NaN, this.Bmt = 0, this.eft = t, this.zk = n, this.OP = i, this.Zy = i - n }; function eF(t) { return !(!t || !t.aB) } function rF(t, n, i) { return e = n, r = i, s = t.zk, u = t.OP, Jj(e, u) <= 0 && Jj(s, r) <= 0; var e, r, s, u } function sF(t, n) { return Jj(t.zk, n) <= 0 ? t.OP : t.zk } function uF(t, n, i) { return (t - n) / i - Zj } function oF(t, n) { return n.Od(t).bd(t) } function aF(t, n) { var i = _.min(Kj, t.Zy / 2); return n.Id(t.zk, t.OP, i) } function hF(t, n) { var i = n.Ylt(t); return -1 === i ? t : n.end(i) } function cF(t) { return t.Omt <= t.xmt } function fF(t, n) { if (!cF(n)) return !1; for (var i = 0; i < t.length; i++) { var e = t[i]; if (e.Bmt + n.Omt > e.xmt) return !1 } return !0 } function vF(t, n) { for (var i = 0; i < t.length; i++) { t[i].Bmt += n.Omt } n.Bmt = n.Omt, t.push(n) } !function (t) { t[t.Pmt = 0] = "Pmt", t[t.Mmt = 1] = "Mmt", t[t.Lmt = 2] = "Lmt", t[t.bp = 3] = "bp" }(tF || (tF = {})); var lF = function () { function t(t, n, i, e) { this.zB = t, this.xP = n, this.jmt = i, this.Fmt = e, this.Umt = oP.q.yot, this.Got = oP.q.u6 } var n = t.prototype; return n.Vmt = function () { return this.jmt.yct.reduce(function (t, n) { return _.max(t, n.Iht && n.Iht.targetDuration || 0) }, 0) }, n.Hmt = function (t, n) { void 0 === n && (n = this.xP.sdt(t).Pm()); var i = this.xP.udt(t, ha.Ym(n)); return new nF(t, n, i.Pm()) }, n.Gmt = function (t, n) { var i = t.Eht.fht(n); return i && this.Hmt(i) || null }, n.zmt = function (t) { var n = t.eft, i = n.Eht.cht(t.pat); return i >= 0 && this.Gmt(n, i - 1) || null }, n.qmt = function (t) { var n = t.eft, i = n.Eht.cht(t.pat); return i >= 0 && this.Gmt(n, i + 1) || null }, n.Wmt = function (t, n) { var i = this.xP.Awt(t, ha.Ym(n)); return i && this.Hmt(i.aB, i.Eft.Pm()) || null }, n.Xmt = function (t) { var n = t.Eht.Sf - 1; return n >= 0 && this.Gmt(t, n) || null }, n.$mt = function (t, n, i) { var e = t.Iht && t.Iht.targetDuration || this.Vmt() || 10, r = _.max(0, n - e), s = r + e; return i && rF(i, r, s) && (s = (r = i.OP) + e), new iF(t, r, s) }, n.Qmt = function (t, n, i) { var e = this.Fmt.Vgt, r = .8 * this.Fmt.U6, s = (n.bandwidth || 0) * t.Zy; return i && i.uat ? ((s = 8 * i.sat || s) - 8 * i.rat) / r : e + s / r }, n.Ymt = function () { for (var t = this.Fmt.Ngt(this.zB), n = this.Fmt.agt(this.zB), i = 0; i < n.length; i++) { var e = n[i]; -1 === t.indexOf(e) && t.push(e) } return t }, n.Zmt = function (t, n) { var i = n.filter(function (n) { return n.eft === t }); return uL(this.xP, i).idt() }, n.Kmt = function (t) { return "audio" === this.zB && t ? [t] : this.jmt.yct }, n.Jmt = function (t) { for (var n = new sL([]), i = new sL([]), e = this.Ymt(), r = { W3: {}, tkt: {}, nkt: {}, ikt: {} }, s = t.length - 1; s >= 0; s -= 1) { var u = t[s], o = this.Zmt(u, e), a = cL(this.xP, o); r.W3[u.Ff] = o, r.tkt[u.Ff] = a, r.nkt[u.Ff] = n = oF(n, o), r.ikt[u.Ff] = i = oF(i, a) } return r }, n.ekt = function (t, n, i, e, r) { for (var s, u, o, a, h = [], c = 0; c < e.length; c++)for (var f = r[e[c].Ff], v = 0; v < f.length; v += 1) { var l = f.start(v), d = f.end(v) - i; l < d && h.push({ Ll: l, Fl: d }) } return 0 === (s = qM(s = zM(new UM(h)), new UM([{ Ll: t, Fl: n }]))).length || Jj(s.start(0), t) > 0 ? t : 1 === s.length && (u = s.start(0), o = s.end(0), a = n, Jj(u, t) <= 0 && Jj(a, o) <= 0) ? NaN : s.end(0) }, n.rkt = function (t, n, i) { var e = null, r = i.W3[t.Ff], s = i.nkt[t.Ff], u = i.ikt[t.Ff], o = s.Ylt(n); if (-1 !== o) { for (var a = _.max(n, s.start(o)), h = s.end(o), c = new UM([{ Ll: a, Fl: h }]), f = s.dd(c).Od(u), v = 0; v < f.length; v++) { var l = f.start(v), d = f.Eht(v)[0]; if (d.aB.eft === t) { if (e = this.zmt(d.aB)) return e } else { for (e = this.Wmt(t, l); e && aF(e, r);)e = this.zmt(e.aB); if (e) return e } } var g = s.Eht(o), w = g[g.length - 1]; if (w.aB.eft === t && (e = this.qmt(w.aB))) return e } var y = this.Xmt(t); if (!y || Jj(y.OP, n) <= 0) { if (!y || !y.aB.Nat) return e = this.$mt(t, n, y); e = y } for (e || (e = this.Wmt(t, n)); e && aF(e, s);)e = this.qmt(e.aB); return e }, n.skt = function (t, n) { var i = this.Xmt(t); return i && i.aB.Nat && Jj(i.OP, n) <= 0 ? i : this.Wmt(t, n) }, n.ukt = function (t, n, i, e, r, s, u, o) { var a = t.eft, h = u.nkt[a.Ff], c = !aF(t, h), f = c ? n : sF(t, e); t.xmt = uF(f, e, s), t.Omt = this.Qmt(t, a); var v = o && this.Hmt(o); if (v && !aF(v, h)) { var l = sF(v, e); if (v.xmt = uF(l, e, s), v.Omt = this.Qmt(v, a, i && i.Vot), cF(v) && (!c || function (t, n) { var i = []; return !!fF(i, n) && (vF(i, n), !(!eF(t) || !eF(n) || t.aB !== n.aB) || !!fF(i, t)) }(t, v))) return v } if (c && !cF(t)) return null; var d = this.okt(t, e, r, s, h); return d.length && d[d.length - 1] || null }, n.okt = function (t, n, i, e, r) { for (var s = [], u = t.eft, o = t; o && n < o.OP && i <= o.zk;) { if (!aF(o, r)) { if (p(o.xmt)) { var a = sF(o, n); o.xmt = uF(a, n, e), o.Omt = this.Qmt(o, u) } fF(s, o) && vF(s, o) } o = eF(o) && this.zmt(o.aB) } return s }, n.akt = function (t, n) { return t.zk < n ? { Vf: tF.Lmt } : eF(t) ? { Vf: tF.Pmt, aB: t.aB, zk: t.zk } : { Vf: tF.Mmt, eft: t.eft } }, n.Egt = function (t) { if ($P(t.uri)) { var n = t.uri, i = EB(n.sit, [n.Gk.Ll, n.Gk.Fl]); return this.Got.Uo(i) } var e = EB(t.uri); return this.Got.Uo(e) }, n.hkt = function (t) { return this.Umt.Uo(t.uri) }, n.ckt = function () { var t = St(At.mark(function t(n, i, e, r, s, u, o, a, h) { var c, f, v, l, d, g, _, w, y, m, k, b, A; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (c = this.Kmt(r), f = this.Jmt(c), v = this.xP.Dmt.Pm(), l = this.ekt(n, i, s, c, f.tkt), _ = null, y = !1, !p(l)) { t.next = 3; break } return t.abrupt("return", { Vf: tF.bp }); case 3: if (!(l < v)) { t.next = 5; break } return t.abrupt("return", { Vf: tF.Lmt }); case 5: m = a.length - 1; case 6: if (!(m >= 0)) { t.next = 27; break } if (d = a[m], g = hF(l, f.tkt[d.Ff]), !(_ = this.rkt(d, g, f))) { t.next = 24; break } if (k = !1, !eF(_)) { t.next = 18; break } return t.next = 15, this.Egt(_.aB); case 15: k = t.sent, t.next = 22; break; case 18: if (d.Dnt) { t.next = 22; break } return t.next = 21, this.hkt(d); case 21: k = t.sent; case 22: if (!k) { t.next = 24; break } return t.abrupt("return", this.akt(_, v)); case 24: m -= 1, t.next = 6; break; case 27: if (!(l <= n + Zj && h.length)) { t.next = 33; break } if (d = h[0], g = hF(l, f.tkt[d.Ff]), !(_ = this.rkt(d, g, f))) { t.next = 33; break } return t.abrupt("return", this.akt(_, v)); case 33: b = h.length - 1; case 34: if (!(b >= 0)) { t.next = 48; break } if (d = h[b], g = hF(l, f.tkt[d.Ff]), (_ = this.rkt(d, g, f)) ? w = _ : (y = !0, w = this.skt(d, g)), !w) { t.next = 45; break } if (!(A = this.ukt(w, g, u, n, v, e, f, o))) { t.next = 45; break } return t.abrupt("return", this.akt(A, v)); case 45: b -= 1, t.next = 34; break; case 48: if (!y) { t.next = 50; break } return t.abrupt("return", { Vf: tF.bp }); case 50: if (!_) { t.next = 52; break } return t.abrupt("return", this.akt(_, v)); case 52: if (a.length) { t.next = 54; break } return t.abrupt("return", { Vf: tF.bp }); case 54: if (d = a[0], g = hF(l, f.tkt[d.Ff]), !(_ = this.rkt(d, g, f))) { t.next = 61; break } return t.abrupt("return", this.akt(_, v)); case 61: return t.abrupt("return", { Vf: tF.bp }); case 62: case "end": return t.stop() } }, t, this) })); return function (n, i, e, r, s, u, o, a, h) { return t.apply(this, arguments) } }(), t }(), dF = ha.Ym(.1), gF = function (t) { function n(n) { var i; return (i = t.call(this) || this).fkt = [], i.yft = n, i } rt(n, t); var i = n.prototype; return i.h3 = function (t, n, i) { var e = this.vkt(t), r = this.lkt(e); this.dkt(r, n, i) }, i.vkt = function (t) { if (0 === t.length) return []; for (var n = t[0].Y1, i = this._kt(t[0]), e = [], r = 0; r < t.length; r++) { var s = t[r]; n !== s.Y1 && (n = s.Y1, i = this._kt(s)), e.push(Et(Et({}, s), { K1: s.Z1.kd(i) })) } return e }, i._kt = function (t) { var n = this.yft.Oft(t.Y1, t.Z1), i = n.Od(t.Z1); return eg(n, t.Z1).Od(i) }, i.lkt = function (t) { var n, i, e, r, s, u = t.slice().sort(lN), o = this.fkt; if (o.length) if (u.length) { var a = 1 / u[0].Y1.Vct, h = u[0].K1, c = o[0].K1, f = o[o.length - 1].K1, v = (r = o[0].Y1, s = u[0].Y1, r.eft === s.eft); if (f.Od(h).Wl(ha.Ym(2.5 * a)) && v) n = o.concat(u).sort(lN); else if (h.Zp(c)) { for (var l = 0; l < o.length && o[l].K1.Wl(h);)l++; for (var d = !1, g = !1, _ = l, w = 0; _ < o.length && w < u.length; _++, w++)i = o[_], e = u[w], i.Z1.Hl(e.Z1) && i.Ou === e.Ou && i.H1 === e.G1 ? d = !0 : g = !0; var y = d && !g, p = d && g; !d && g ? n = o.concat(u).sort(lN) : y ? n = o.slice(0, l).concat(u) : (n = u, p && this.bf()) } else n = u, this.bf() } else n = o; else n = u; return n }, i.dkt = function (t, n, i) { if (0 !== t.length) { for (var e = t[0], r = n.Od(e.K1), s = eg(n, e.K1).Od(r), u = n.kd(s), o = dF.Kp(u.$p), a = 0; a < t.length; a += 1) { var h = t[a]; if (!i && u.Od(h.K1).Wl(o)) return void (this.fkt = t.slice(a)); var c = this.yft.Oft(h.Y1, h.Z1); this.F1(c, h) } this.fkt = [] } }, n }(vN); var _F = function (t) { function n(n, i, e, r, s, u, o, a, h, c) { var f; return (f = t.call(this) || this).gkt = !1, f.wkt = !1, f.ykt = !1, f.pkt = !1, f.mkt = !1, f.kkt = null, f.jft = void 0, f.bkt = void 0, f.Akt = null, f.OP = -1, f.Tkt = null, f.Skt = !1, f.Ekt = !1, f.Ikt = 1 / 0, f.Rkt = void 0, f.Nkt = null, f.Ckt = 0, f.do = function (t) { f.dispatchEvent(t) }, f.Dkt = function () { !f.ykt && !f.pkt && f.xkt && f.gkt && (f.pkt = f.B7("mct", f.Okt, function () { f.pkt = !1 })) }, f.Bkt = function () { !f.ykt && !f.mkt && f.Pkt && f.wkt && (f.mkt = f.B7("kct", f.Mkt, function () { f.mkt = !1 })) }, f.Lkt = function (t) { return f.jkt() }, f.Fkt = function (t) { if (t.zB === f.zB) { var n = t.Y1, i = n.Wdt; i.cdt && f.Ukt(i.cdt, n.info), i.e3 && f.Vkt(i.e3, n.info), f.jkt(f.dgt.ygt, !0) } }, f.Svt = function (t) { var n = t; f.Hkt(n.dft, n.eft) }, f.v3 = function (t) { if (f.Akt) for (var n = 0; n < f.Akt.bB; n++) { var i = "CC" + (n + 1); f.nlt.nvt(i, t.cue.zk, t.cue.OP) } f.nlt.tvt(t.cue) }, f.aH = h, f.nlt = i, f.Gkt = e, f.Fmt = r, f.zkt = s, f.rpt = u, f.MB = o, f.dgt = c, f.xP = new Qj(o), f.qkt = f.Wkt(i), r.pf(n, f.xP, f.rpt), f.Okt = new Lj(u, f.xP), f.Mkt = new Lj(u, f.xP), f.Akt = f.Xkt(f.xP), f.$kt = new lF(n, f.xP, f.qkt, r), r.addEventListener("swt", f.Fkt), f.xP.addEventListener("Bo", f.do), i.addEventListener("gvt", f.Svt), f } rt(n, t); var i = n.prototype; return i.B7 = function (t, n, i) { var e = this, r = this.rpt.kgt, s = 5 * this.rpt._g, u = this.Qkt(), o = "audio" === this.zB ? [this.Ykt] : this.qkt.yct, a = n.lpt(), h = a[0], c = a[1], f = this.Fmt.Rwt(this.zB, t, this.xP, o, h, c || void 0, r, s, u); return f && !f.length && f.gwt ? (this.rpt.Zkt("mct" === t, "kct" === t), !1) : !(!f || !f.length) && (this.zkt.zwt(this.zB, this.nlt, f, f.wwt, f.CK, f.gwt, function (t, r) { if (i(), t) e.dispatchEvent({ type: "Bo", Bo: t }); else { var s = r; n.FJ(s).then(function () { return e.dispatchEvent("Yot") }).catch(function (t) { 0 }) } }), !0) }, i.Kkt = function () { this.zkt.eh(this.zB), this.pkt = !1, this.mkt = !1 }, i.Jkt = function () { var t = this.rpt.kgt, n = this.Okt.hpt(t) || this.Mkt.hpt(t); !n || this.kkt && this.kkt.pat === n.pat || (this.jkt(this.dgt.ygt), this.kkt = n, this.dispatchEvent({ type: "tbt", ZP: this.kkt.Zo.Xdt })) }, i.nbt = function () { this.ibt() }, i.ebt = function () { this.nbt() }, i.rbt = function () { this.jkt(this.dgt.ygt) }, i.sbt = function (t, n) { this.Okt.hpt(t) || this.Mkt.hpt(t) || (this.kkt = null) }, i.ubt = function (t) { var n = !1; this.Okt.vpt().sL(t) || (this.Dkt(), n = !0), this.Mkt.vpt().sL(t) || (this.Bkt(), n = !0), n && this.jkt(this.dgt.ygt, !0) }, i.obt = function () { this.Okt.zo() }, i.abt = function () { this.Mkt.zo() }, i.Qkt = function () { return 0 === this.Okt.Sf + this.Mkt.Sf ? 0 : "fwt" === this.MB.vwt ? 0 : 1 * this.Fmt.pgt }, i.ibt = function () { this.Dkt(), this.Bkt() }, i.Yvt = function (t) { return -1 !== this.qkt.yct.indexOf(t) }, i.hbt = function (t) { t && this.Yvt(t) && (this.Aft(t), this.dvt(t)) }, i.Aft = function (t) { this.xP.imt(t, t.Iht) }, i.dvt = function (t) { var n = this; if (t && t.Iht && this.MB.hlsDateRange) { this.nlt.dvt(t.Iht.dateRanges, function (i) { return n.xP.lmt(t, i).Pm() }) } }, i.cbt = function (t) { this.Yvt(t.eft) && this.xP.Cpt(t.eft, t) }, i.fbt = function (t) { var n, i, e, r = t, s = this.Okt.hpt(r) || this.Mkt.hpt(r); if (s) i = s.Zo.quality, e = s.pat, n = s.Ll; else { var u = this.Ykt; if (!u) return null; var o = this.xP.Awt(u, ha.Ym(r)); if (!o) return null; i = u, e = o.aB.pat, n = o.Eft.Pm() } var a = this.xP.vmt(i, e); if (!a) return null; var h = r - n; return new Date(a.getTime() + 1e3 * h) }, i.lmt = function (t) { var n = this.Ykt; return this.xP.lmt(n, t).Pm() }, i.jkt = function (t, n) { var i = this, e = this.vbt(), r = this.rpt.kgt; t && (this.OP = r + t, n && (this.Nkt = null, this.Ckt = 0)), this.vbt() || r >= this.OP ? this.lbt(e) : this.Tkt || this.Skt || !this.jf || (this.dbt(), this._bt(function (t) { return i.gbt(r, i.rpt._g, t) })) }, i.wbt = function (t) { t && this.Gkt.removeEventListener(t.uri, this.Lkt) }, i.ybt = function (t) { t && this.Gkt.addEventListener(t.uri, this.Lkt) }, i.vbt = function () { return -1 === this.OP }, n.pbt = function (t) { return GP.hct(t.eft._ft) && h_() - t.JO > 2e3 * t.eft.Iht.metadata.Bat }, i._bt = function () { var t = St(At.mark(function t(n) { var i, e; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return i = !1, this.Tkt = new ie, e = this.Tkt, t.prev = 3, t.next = 6, n(e._h); case 6: i = t.sent, Rn(e._h), t.next = 13; break; case 10: t.prev = 10, t.t0 = t.catch(3), Nn(t.t0); case 13: return t.prev = 13, this.Tkt === e && (this.Tkt = null), t.finish(13); case 16: i && this.jkt(); case 17: case "end": return t.stop() } }, t, this, [[3, 10, 13, 16]]) })); return function (n) { return t.apply(this, arguments) } }(), i.dbt = function () { this.Tkt && (this.Tkt.eh(), this.Tkt = null) }, i.mbt = function () { var t = St(At.mark(function t(n, i) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.abrupt("return", !0); case 1: case "end": return t.stop() } }, t) })); return function (n, i) { return t.apply(this, arguments) } }(), i.kbt = function () { var t = St(At.mark(function t(n) { var i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!bF.pbt(n)) { t.next = 2; break } return t.abrupt("return", this.dispatchEvent("bbt")); case 2: if (i = _.min(16e3, 1e3 * _.pow(2, this.Ckt)), this.Ckt += 1, this.dbt(), !(this.Ckt > 2)) { t.next = 8; break } return n.eft.hft(!1), t.abrupt("return", n.eft.uft()); case 8: this._bt(function (t) { return ae(i, t).then(function () { return !0 }) }); case 9: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.Ukt = function (t, n) { var i, e; e = PC((i = t).fdt, 4), i.Jft = "0000.0000.0000." + e, function (t) { var n = PC(t.vdt, 4), i = PC(t.ldt, 3), e = PC(t.ddt, 2 * t.ldt); t.Qf = (n + i + e).toUpperCase() }(t), jj(n, this.xP, t), this.nlt.Kft(t, this.xP) }, i.Vkt = function (t, n) { for (var i = 0; i < t.length; i++) { t[i].Y1 = n } this.Akt && this.Akt.h3(t, n.igt, n.Nat) }, i.Abt = function (t) { this.Rkt && this.Rkt.Y1 === t && this.jkt() }, i.Tbt = function (t, n) { if (n) { if (n.aborted) return; if (this.Nkt === t) return this.kbt(t) } else t.eft.hft(!0); return this.jkt() }, i.Sbt = function (t) { var n = tM(t.eft.dft); n && this.dispatchEvent(new Ax(XP(t.uri), t.eft.bandwidth || 0, t.pat, t.eft.pat, n)) }, i.Ebt = function (t, n) { var i = this.Rkt && this.Rkt.HT.nat || 200, e = tM(t.eft.dft); e && this.dispatchEvent(new Dx(XP(t.uri), t.eft.bandwidth || 0, t.pat, t.eft.pat, e, i, n && n.Vot.rat || 0)) }, i.lbt = function (t) { this.OP = -1, t || this.dispatchEvent("Ibt") }, i.Rbt = function (t) { this.Ekt = !0, this.lbt(t), this.dispatchEvent("Elt") }, i.gbt = function () { var t = St(At.mark(function t(n, i, e) { var r, s, u, o, a, h, c = this; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (Rn(e), r = this.Ykt, s = this.vbt(), this.wbt(r || void 0), !(n >= this.OP)) { t.next = 7; break } return this.lbt(s), t.abrupt("return", !1); case 7: return t.next = 9, this.$kt.ckt(n, this.OP, i, r || void 0, this.Qkt(), this.Rkt && this.Rkt.HT, this.Rkt && this.Rkt.Y1, this.Nbt, this.Cbt); case 9: if (u = t.sent, ds.e_(this.Fmt.U6 / 8), Rn(e), u.Vf !== tF.Lmt) { t.next = 18; break } return this.dbt(), this.dispatchEvent("bbt"), t.abrupt("return", !1); case 18: if (u.Vf !== tF.Mmt) { t.next = 29; break } if (u.eft !== r) { t.next = 24; break } return this.ybt(r), t.abrupt("return", !1); case 24: return t.next = 26, this.mbt(u.eft, null); case 26: return t.abrupt("return", t.sent); case 27: t.next = 33; break; case 29: if (u.Vf !== tF.bp) { t.next = 33; break } return this.ybt(r || void 0), !GP.hct(r._ft) && r.Iht && this.Rbt(s), t.abrupt("return", !1); case 33: if (o = u.aB, !this.Rkt || this.Rkt.Y1 !== o) { t.next = 36; break } return t.abrupt("return", !1); case 36: if (o.eft === r) { t.next = 40; break } return t.next = 39, this.mbt(o.eft, o); case 39: return t.abrupt("return", t.sent); case 40: if (this.Rkt && (this.Rkt.HT.eh(), this.Rkt = void 0), !(u.zk > this.Ikt)) { t.next = 46; break } return this.Rbt(s), t.abrupt("return", !1); case 46: if (!(u.zk > this.OP)) { t.next = 49; break } return this.lbt(s), t.abrupt("return", !1); case 49: if (this.Ekt = !1, this.Rkt = void 0, o !== this.Nkt && (this.Ckt = 0), this.Nkt = o, this.dispatchEvent("uat"), this.Sbt(o), !o.ett) { t.next = 59; break } return t.next = 58, this.Fmt.iwt(this.zB, String(o.eft.Ff), o.ett); case 58: a = t.sent; case 59: return (h = this.Fmt.rwt(this.zB, o, a, function (t, n) { c.dbt(), c.Ebt(o, n), c.Rkt = void 0, e && e.Ku || c.Tbt(o, t) })) && (this.Rkt = { Y1: o, HT: h }, h.addEventListener("Yot", function () { e && e.Ku || c.Abt(o) })), t.abrupt("return", !1); case 62: case "end": return t.stop() } }, t, this) })); return function (n, i, e) { return t.apply(this, arguments) } }(), i.Dbt = function (t) { this.jkt(t || this.dgt.ygt, !0) }, i.xbt = function () { var t = this.vbt(); this.OP = -1, this.Rkt && this.Rkt.HT.eh(), this.Rkt = void 0, this.wbt(), this.Ekt = !1, this.Nkt = null, this.Ckt = 0, this.dbt(), this.lbt(t), this.Akt = this.Xkt(this.xP) }, i.Obt = function () { this.Skt = !0, this.wbt(), this.dbt() }, i.Bbt = function () { this.Skt = !1, this.jkt() }, i.Pbt = function () { this.ykt = !0 }, i.Mbt = function () { this.ykt = !1, this.ibt() }, i.Af = function () { this.To(), this.xbt(), this.Kkt(), this.xkt = null, this.Pkt = null, this.Okt.Af(), this.Mkt.Af(), this.zkt.eh(this.zB), this.xP.Af(), this.nlt.removeEventListener("gvt", this.Svt), this.Fmt.removeEventListener("swt", this.Fkt), this.qkt = null, this.Lbt() }, i.bf = function () { this.kkt = null, this.jft = void 0, this.bkt = void 0, this.Lbt(), this.Akt = this.Xkt(this.xP) }, i.Xkt = function (t) { var n = new gF(t); return n.mo("Q0", this.v3), n }, i.Lbt = function () { this.Akt && (this.Akt.So("Q0", this.v3), this.Akt.Af(), this.Akt = null) }, T(n, [{ key: "yg", get: function () { return this.rpt.kgt } }, { key: "jbt", get: function () { return this.gkt } }, { key: "zB", get: function () { return this.Fbt() } }, { key: "Dnt", get: function () { return this.Ubt() } }, { key: "Nbt", get: function () { return this.Vbt() } }, { key: "Cbt", get: function () { return this.Hbt() } }, { key: "xkt", get: function () { return this.Okt.apt }, set: function (t) { var n = this.Okt.apt; n && n.removeEventListener("updateend", this.Dkt), this.Okt.apt = t, t && (t.addEventListener("updateend", this.Dkt), this.Dkt()) } }, { key: "Pkt", get: function () { return this.Mkt.apt }, set: function (t) { var n = this.Mkt.apt; n && n.removeEventListener("updateend", this.Bkt), this.Mkt.apt = t, t && (t.addEventListener("updateend", this.Bkt), this.Bkt()) } }, { key: "Ibt", get: function () { return this.vbt() } }, { key: "Elt", get: function () { return this.Ekt } }, { key: "Gbt", get: function () { return this.Ikt }, set: function (t) { this.Ikt = t } }, { key: "Ykt", get: function () { return this.zbt() } }, { key: "qbt", get: function () { return this.Wbt() }, set: function (t) { this.Xbt(t) } }, { key: "jf", get: function () { return this.ZZ() } }, { key: "dg", get: function () { return this.$bt() } }]), n }(vP); function wF(t, n) { if (t.bandwidth !== n.bandwidth) return !1; if (t.resolution) { if (!n.resolution) return !1; if (t.resolution.width !== n.resolution.width || t.resolution.height !== n.resolution.height) return !1 } else if (n.resolution) return !1; return !0 } function yF(t) { for (var n = [], i = 0; i < t.length; i++) { for (var e = t[i], r = !1, s = 0; s < n.length; s++) { wF(e, n[s]) && (r = !0) } r || n.push(e) } return n } function pF(t) { var n = t && t.uri || "", i = n.indexOf("?"), e = n.indexOf("#"), r = n.length; -1 !== e && (r = e), -1 !== i && (r = i); var s = n.indexOf(".aac", r - 4); return 0 <= s && s < r } var mF = function (t) { function n(n, i, e, r, s, u) { var o; return (o = t.call(this) || this).Qbt = null, o.Ybt = null, o.Zbt = null, o.Kbt = null, o.Jbt = null, o.tAt = null, o.nAt = null, o._7 = !1, o.tj = !0, o.grt = !0, o.iAt = null, o.eAt = function () { o.iAt && o.iAt.disabled && o.rAt(o.MB.initialRendition || "default"), o.sAt(!0) }, o.uAt = function () { var t = o.nlt.bvt.pct.some(function (t) { return t.dg }); o.Srt(t) }, o.oAt = function (t) { "variant" === t.zB && (o.Fmt.removeEventListener("swt", o.oAt), o.iAt && (o.iAt = null, o.sAt(!1))) }, o.aH = u, o.nlt = n, o.xP = i, o.Fmt = e, o.MB = r, o.aAt = r.hAt || [], o.cAt = new DP(r, oP.q.yot, s), o.Qbt = null, o.Fmt.addEventListener("swt", o.oAt), o.fAt(), o.vAt(), o.rAt(r.initialRendition || "default"), o } rt(n, t); var i = n.prototype; return i.lAt = function (t, n) { var i = ZP(t); if (i && !i.disabled) return i; var e = this.dAt(t, null); switch (e.length ? "first" !== n && (n = "high") : e = t, n) { case "first": return e.reduce(function (t, n) { return t.pat <= n.pat ? t : n }); case "high": var r = yF(e); return r[r.length - 1]; case "low": default: return yF(t)[0] } }, i._At = function (t, n) { var i = this.gAt || this.iAt && [this.iAt], e = i && i.filter(function (n) { return kn(t, n) }); return e && e.length > 0 ? yF(e) : yF(this.dAt(t, n)) }, i.dAt = function (t, n) { var i = this.MB, e = this.aAt, r = this.wAt(); return t.filter(function (t) { for (var s = 0; s < e.length; s++) { if (!e[s].yAt(t, n, r, i)) return !1 } return !0 }) }, i.pAt = function (t, n) { var i = this._At(t, n); return i.length ? i[i.length - 1] : t[0] }, i.mAt = function (t, n) { var i = this.gAt; return i && i.length > 0 ? i.filter(function (n) { return kn(t, n) }) : t }, i.kAt = function () { var t = St(At.mark(function t(n, i) { var e, r, s, u; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (e = this.Kbt, r = this.Jbt, !e || n !== this.tAt || i !== this.nAt) { t.next = 4; break } return t.abrupt("return", e); case 4: return s = new ie, u = this.bAt(n, i, s._h), e && r && r.eh(), this.Kbt = u, this.Jbt = s, this.nAt = i, t.prev = 10, t.next = 13, u; case 13: return t.abrupt("return", t.sent); case 14: return t.prev = 14, u === this.Kbt && (this.Kbt = null, this.Jbt = null, this.nAt = null), t.finish(14); case 17: case "end": return t.stop() } }, t, this, [[10, , 14, 17]]) })); return function (n, i) { return t.apply(this, arguments) } }(), i.bAt = function () { var t = St(At.mark(function t(n, i, e) { var r, s, u, o, a; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return r = this.nlt, s = this.xP, u = r.kvt, t.next = 5, this.AAt(n, e); case 5: if (t.sent) { t.next = 8; break } return t.abrupt("return", !1); case 8: if (!i) { t.next = 14; break } if (o = s.Cmt(u, i.pat), a = s.Awt(n, o), GP.hct(u._ft) || a) { t.next = 14; break } return n.disabled = "isUnsynced", t.abrupt("return", !1); case 14: return t.abrupt("return", !0); case 15: case "end": return t.stop() } }, t, this) })); return function (n, i, e) { return t.apply(this, arguments) } }(), i.AAt = function () { var t = St(At.mark(function t(n, i) { var e, r, s, u; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (e = this.Ybt, r = this.Zbt, !e || n !== this.tAt) { t.next = 4; break } return t.abrupt("return", e); case 4: return (s = new ie).lh(i), u = this.TAt(n, s._h), e && r && r.eh(), this.Ybt = u, this.Zbt = s, this.tAt = n, t.prev = 11, t.next = 14, u; case 14: return t.abrupt("return", t.sent); case 15: return t.prev = 15, u === this.Ybt && (this.Ybt = null, this.Zbt = null, this.tAt = null), t.finish(15); case 18: case "end": return t.stop() } }, t, this, [[11, , 15, 18]]) })); return function (n, i) { return t.apply(this, arguments) } }(), i.TAt = function () { var t = St(At.mark(function t(n, i) { var e, r, s, u; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (e = this.nlt, r = e.kvt, !this.jf || r !== n) { t.next = 4; break } return t.abrupt("return", !1); case 4: if (this.SAt(n)) { t.next = 8; break } s = n.Iht, t.next = 22; break; case 8: return t.prev = 8, t.next = 11, this.cAt.Ph(n.uri, {}); case 11: u = t.sent, Rn(i), s = u.zat, t.next = 21; break; case 16: return t.prev = 16, t.t0 = t.catch(8), n.nft(!1), n.uft(), t.abrupt("return", !1); case 21: n.Zct(s, r); case 22: if (!pF(s.fragments[0])) { t.next = 25; break } return n.disabled = "isAAC", t.abrupt("return", !1); case 25: return t.abrupt("return", !0); case 26: case "end": return t.stop() } }, t, this, [[8, 16]]) })); return function (n, i) { return t.apply(this, arguments) } }(), i.SAt = function (t) { var n = t.Iht; return !n || !!n.live && (!t.Eht.Sf || t.Eht.fht(t.Eht.Sf - 1).JO + 1e3 * n.targetDuration < h_()) }, i.ej = function (t) { t ? this.tj || (this.tj = !0, this.dispatchEvent("jf")) : this.tj && (this.tj = !1) }, i.Srt = function (t) { t && !this.grt ? (this.grt = !0, this.dispatchEvent("dg")) : !t && this.grt && (this.grt = !1, this.dispatchEvent("pW")) }, i.sAt = function (t) { var n = this, i = this.nlt, e = i.kvt, r = i.bvt.pct, s = this.mAt(r, e), u = this.pAt(s, e); u ? this.kAt(u, null).then(function (e) { e && (i.ivt(u, t), n.ej(!0)) }) : this.ej(!1) }, i.EAt = function () { this.iAt = null, this.sAt(!0) }, i.vAt = function () { this.nlt.bvt.addEventListener("_ct", this.uAt) }, i.IAt = function () { this.nlt.bvt.removeEventListener("_ct", this.uAt) }, i.fAt = function () { this.nlt.bvt.addEventListener("lct", this.eAt) }, i.RAt = function () { this.nlt.bvt.removeEventListener("lct", this.eAt) }, i.rAt = function (t) { var n = this.nlt, i = n.bvt.pct; if (Boolean(n.kvt && !n.kvt.disabled)) this.iAt = null; else { if (i && i.length) { var e; switch (this.aH.d$.type) { case "performance": e = "low"; break; case "quality": e = "high"; break; case "bandwidth": e = t }this.iAt = this.lAt(i, e), this._7 = !0 } var r = this.mAt(i, null), s = this.pAt(r, null); s && (n.kvt = s) } }, i.wAt = function () { return this._7 ? { U6: this.Fmt.U6 } : { U6: this.aH.y$ } }, i.eh = function () { this.Kbt && this.Jbt && (this.Jbt.eh(), this.Kbt = null, this.Jbt = null, this.nAt = null), this.Ybt && this.Zbt && (this.Zbt.eh(), this.Ybt = null, this.Zbt = null, this.tAt = null) }, i.Af = function () { this.Fmt.removeEventListener("swt", this.oAt), this.RAt(), this.IAt(), this.eh(), this.Qbt = null, this.iAt = null }, i.NAt = function () { var t = St(At.mark(function t(n, i) { var e, r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (e = this.nlt, n) { t.next = 3; break } return t.abrupt("return", !1); case 3: return t.next = 5, this.kAt(n, i); case 5: return (r = t.sent) && (e.kvt = n), t.abrupt("return", r); case 8: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), T(n, [{ key: "jf", get: function () { return this.tj } }, { key: "dg", get: function () { return this.grt } }, { key: "Cbt", get: function () { var t = this.nlt, n = t.kvt, i = this.mAt(t.bvt.pct, n); return this._At(i, n) } }, { key: "Nbt", get: function () { return this.mAt(this.nlt.bvt.pct, this.nlt.kvt) } }, { key: "gAt", get: function () { return this.Qbt }, set: function (t) { this.Qbt = t, this.EAt() } }]), n }(vP), kF = function () { function t(t, n) { this.CAt = -1, this.df = t, this.xP = n } return t.prototype.Lh = function (t) { for (var n = t.Eht, i = n.cht(this.CAt), e = i < 0 ? 0 : i + 1; e < n.Sf; e++) { var r = n.fht(e); if (r.pat > this.CAt) { var s = this.xP.sdt(r), u = this.xP.udt(r, s), o = new ld(s.Pm(), u.Pm(), [].concat(r.Rat), !1); o.Ff = "" + r.pat, this.df.SL(o), this.CAt = r.pat } } }, t }(), bF = function (t) { function n(n, i, e, r, s, u, o, a, h) { var c; return (c = t.call(this, zP.ect, n, i, e, r, s, u, o, a, h) || this).DAt = null, c.xAt = null, c.OAt = new mF(n, c.xP, e, u, o, a), c.OAt.addEventListener("jf", c.do), c.OAt.addEventListener("dg", c.do), c.OAt.addEventListener("pW", c.do), u.manifestMetadataTrack && (c.DAt = n.Zft("", c.xP, ""), c.xAt = new kF(c.DAt, c.xP)), c.gkt = !c.nlt.fvt || !c.nlt.fvt.uri, c.wkt = Boolean(c.nlt.kvt), c } rt(n, t); var i = n.prototype; return i.Hkt = function (t, n) { if ("mct" === t) { var i = n ? n.uri : void 0; this.gkt = !i } }, i.Fbt = function () { return zP.ect }, i.Ubt = function () { return this.Ykt && this.Ykt.Dnt || !1 }, i.zbt = function () { return this.nlt.kvt }, i.Vbt = function () { return this.OAt.Nbt }, i.Hbt = function () { return this.OAt.Cbt }, i.Wbt = function () { var t = this.OAt.gAt; return t && t.map(function (t) { return t.Ff }) }, i.Xbt = function (t) { if (t && t.length > 0) { var n = this.qkt.yct.filter(function (n) { return -1 !== t.indexOf(n.Ff) }); if (!(n.length > 0)) return void 0; this.OAt.gAt = n } else this.OAt.gAt = null }, i.ZZ = function () { return this.OAt.jf }, i.$bt = function () { return this.OAt.dg }, i.mbt = function () { var n = St(At.mark(function n(i, e) { return At.wrap(function (n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, this.OAt.NAt(i, e); case 2: return n.abrupt("return", t.prototype.mbt.call(this, i, e)); case 3: case "end": return n.stop() } }, n, this) })); return function (t, i) { return n.apply(this, arguments) } }(), i.xbt = function () { t.prototype.xbt.call(this), this.OAt.eh() }, i.Aft = function (n) { t.prototype.Aft.call(this, n), this.xAt && this.xAt.Lh(n) }, i.Af = function () { t.prototype.Af.call(this), this.OAt.Af(), this.OAt.removeEventListener("dg", this.do), this.OAt.removeEventListener("pW", this.do) }, i.Wkt = function (t) { return t.bvt }, i.BAt = function () { var t = this.yg, n = this.jbt ? this.Okt.cpt(t) : void 0, i = n ? n.eft : void 0, e = this.Mkt.cpt(t), r = e ? e.eft : void 0, s = this.jft; this.jft = i; var u = this.bkt; return this.bkt = r, !s && i ? { wvt: s, PAt: i } : !u && r ? { wvt: u, PAt: r } : u && r && u.Ff !== r.Ff ? { wvt: u, PAt: r } : void 0 }, n }(_F), AF = function (t) { function n(n, i, e, r, s, u, o, a, h) { var c; return (c = t.call(this, zP.$ht, n, i, e, r, s, u, o, a, h) || this).gkt = !!c.nlt.fvt && !!c.nlt.fvt.uri, c.wkt = !1, c } rt(n, t); var i = n.prototype; return i.Hkt = function (t, n) { if ("mct" === t) { var i = n ? n.uri : void 0; this.gkt = !!i } }, i.Fbt = function () { return zP.$ht }, i.Ubt = function () { return this.Ykt && this.Ykt.Dnt || !1 }, i.zbt = function () { return this.nlt.fvt }, i.Vbt = function () { var t = this.zbt(); return t ? [t] : [] }, i.Hbt = function () { return this.Vbt() }, i.Wkt = function (t) { return t.Yct }, i.Wbt = function () { return null }, i.Xbt = function (t) { }, i.ZZ = function () { return !0 }, i.$bt = function () { return !0 }, i.BAt = function () { var t = this.jbt ? this.Okt.cpt(this.yg) : void 0, n = t ? t.eft : void 0, i = this.jft; return this.jft = n || void 0, !i && n ? { wvt: i, PAt: n } : i && n && i.Ff !== n.Ff ? { wvt: i, PAt: n } : void 0 }, n }(_F), TF = function (t) { function n(n, i, e, r) { var s; return (s = t.call(this) || this).MAt = NaN, s.LAt = !1, s.jAt = 1 / 0, s.FAt = 1 / 0, s.UAt = null, s.VAt = !0, s.HAt = !0, s.rpt = null, s.GAt = void 0, s.zAt = void 0, s.Wft = function () { var t = s.nlt.Zy; p(t) || s.MAt === t || (s.MAt = t, s.dispatchEvent("durationchange")) }, s.qAt = function () { s.ult && (s.nlt.removeEventListener("renditionUpdated", s.qAt), s.dispatchEvent("ult")) }, s.WAt = function () { s.Ibt && s.dispatchEvent("Ibt") }, s.XAt = function () { s.Elt && s.dispatchEvent("Elt") }, s.do = function (t) { s.dispatchEvent(t) }, s.$At = function (t) { var n = s.nlt.rvt(t.Oyt); n ? n instanceof eM && (n.nft(!1), n.uft()) : s.dispatchEvent(t) }, s.QAt = function (t) { s.nlt.zat || ("MANIFEST_NOT_FOUND" === t.Bo.code ? (s.UAt || (s.UAt = a(s.YAt, vp)), s.HAt = !1, s.aft()) : s.dispatchEvent({ type: "Bo", Bo: t.Bo })) }, s.ZAt = function (t) { s.KAt(), s.JAt(t.zat), s.tTt(), s.nlt.removeEventListener("avt", s.Wft), s.nlt.addEventListener("avt", s.Wft), s.Wft(), s.LAt || (s.LAt = !0, s.dispatchEvent("loadedmetadata")), s.qAt(), s.HAt = !0, s.aft() }, s.YAt = function () { s.KAt(); var t = s.oht; t && (s.Gkt.bf(), s.Gkt.oht = t, s.Gkt.Ll()) }, s.nTt = function () { s.Gkt.Fyt() }, s.iTt = function () { s.eTt.forEach(function (t) { return t.Mbt() }) }, s.rTt = function (t) { s.sTt.forEach(function (n) { return n.hbt(t.eft) }) }, s.uTt = function (t) { s.eTt.forEach(function (n) { return n.cbt(t.q_t) }), s.oTt.Xyt(t.q_t, s.eTt.map(function (t) { return t.xP })) }, s.aft = function () { var t = s.VAt, n = s.$bt(); s.VAt = n, n && !t ? s.dispatchEvent("dg") : !n && t && s.dispatchEvent("pW") }, s.aH = r, s.MB = n, s.Slt = i, s.OS = e, s.Fmt = new nj(n, i, e, st(s)), s.zkt = new Cj(n), s.nlt = new uM(n, e), s.Gkt = new Nj(e, n), s.oTt = new Dj, s.Gkt.addEventListener("Bo", s.$At), s.Gkt.addEventListener("xyt", s.QAt), s.Gkt.addEventListener("Byt", s.ZAt), s.Fmt.addEventListener("swt", s.do), s.Fmt.addEventListener("Bo", s.do), s.nlt.addEventListener("gvt", s.do), s.nlt.addEventListener("ift", s.rTt), s.nlt.addEventListener("Lft", s.uTt), s.nlt.addEventListener("yvt", s.do), s.oTt.addEventListener("Hyt", s.do), s.oTt.addEventListener("Hyt", s.iTt), s.addEventListener("dg", s.nTt), s } rt(n, t); var i = n.prototype; return i.aTt = function (t) { t.Gbt = this.Gbt, t.addEventListener("tbt", this.do), t.addEventListener("hTt", this.do), t.addEventListener("Bo", this.do), t.addEventListener("bbt", this.do), t.addEventListener("uat", this.do), t.addEventListener("Ibt", this.WAt), t.addEventListener("Elt", this.XAt), t.addEventListener("pW", this.aft), t.addEventListener("dg", this.aft), t.addEventListener("jf", this.do), t.addEventListener("Yot", this.do), t.addEventListener("m3", this.do), t.addEventListener("b3", this.do) }, i.tTt = function () { this.cTt(); this.nlt.bvt.yct; var t = this.nlt.Yct.yct; this.GAt = new bF(this.nlt, this.Gkt, this.Fmt, this.zkt, this.rpt, this.MB, this.OS, this.aH, this), this.aTt(this.GAt), t.length && (this.zAt = new AF(this.nlt, this.Gkt, this.Fmt, this.zkt, this.rpt, this.MB, this.OS, this.aH, this), this.aTt(this.zAt)); for (var n = this.nlt.Avt, i = this.GAt.xP, e = 0; e < n.length; e++) { n[e].xP = i } }, i.cTt = function () { this.GAt && (this.GAt.Af(), this.GAt = void 0), this.zAt && (this.zAt.Af(), this.zAt = void 0), this.oTt.bf() }, i.fTt = function (t) { this.eTt.forEach(function (n) { return n.Dbt(t) }) }, i.JAt = function (t) { this.nlt.zat = t }, i.vTt = function () { this.Gkt.Ll() }, i.lTt = function (t) { this.oTt.$yt(t, this.eTt.map(function (t) { return t.xP })) || this.eTt.forEach(function (t) { t.Kkt(), t.Pbt() }) }, i.dTt = function () { this.Fmt.nwt(), this.eTt.forEach(function (t) { return t.xbt() }) }, i.Dlt = function () { this.Fmt.nwt(), this.eTt.forEach(function (t) { return t.Obt() }) }, i.Rlt = function () { this.eTt.forEach(function (t) { return t.Bbt() }) }, i.Af = function () { this.To(), this.KAt(), this.cTt(), this.Fmt.Af(), this.zkt.Af(), this.nlt.Af(), this.Gkt.bf(), this.oTt.Af() }, i._Tt = function (t, n, i, e) { var r = this.GAt, s = this.zAt; t && (r.xbt(), this.Fmt.zo(r.zB), r.Dbt(e)), n && s && (s.xbt(), this.Fmt.zo(s.zB), i && s.Dbt(e)) }, i.gTt = function () { if (!this.GAt) return VM; var t = this.GAt; return uL(t.xP, this.Fmt.Ngt(t.zB)) }, i.Pyt = function (t, n, i) { var e = this, r = n ? n.uri : void 0, s = i ? i.uri : void 0, u = function t(n) { n.zat.live || e.Gkt.removeEventListener(s, t), i && i.Zct(n.zat) }; s && (this.Gkt.removeEventListener(s, u), this.Gkt.addEventListener(s, u)), this.Gkt.Pyt(r, s), this.Gkt.jyt(s) }, i.KAt = function () { null !== this.UAt && h(this.UAt), this.UAt = null }, i.$bt = function () { return !!this.HAt && (!this.GAt || this.GAt.dg) }, i.Plt = function (t) { this.GAt && (this.GAt.qbt = t) }, T(n, [{ key: "wTt", get: function () { return this.GAt } }, { key: "yTt", get: function () { return this.zAt } }, { key: "eTt", get: function () { var t = []; return this.GAt && t.push(this.GAt), this.zAt && this.zAt.jbt && t.push(this.zAt), t } }, { key: "sTt", get: function () { return [this.GAt, this.zAt].filter(P) } }, { key: "ygt", get: function () { return _o(this.aH.v$ * this.Fmt.pgt, 1, this.pTt) } }, { key: "oht", get: function () { return this.Gkt.oht }, set: function (t) { this.MAt = NaN, this.jAt = 1 / 0, this.LAt = !1, this.VAt = !0, this.HAt = !0, this.nlt.removeEventListener("renditionUpdated", this.qAt), this.nlt.removeEventListener("avt", this.Wft), this.KAt(), this.cTt(), this.Fmt.zo(), this.zkt.eh(), this.nlt.Af(), this.nlt.addEventListener("renditionUpdated", this.qAt), this.Gkt.oht = t, this.aft() } }, { key: "Zy", get: function () { return this.MAt } }, { key: "omt", get: function () { return this.nlt && GP.hct(this.nlt._ft) } }, { key: "dg", get: function () { return this.VAt } }, { key: "ult", get: function () { var t = this.eTt; return t.length > 0 && t.every(function (t) { return t.Dnt }) } }, { key: "pgt", get: function () { return this.Fmt.pgt }, set: function (t) { t > 0 && (this.Fmt.pgt = t) } }, { key: "Ibt", get: function () { return this.eTt.every(function (t) { return t.Ibt }) } }, { key: "Elt", get: function () { return this.eTt.length > 0 && this.eTt.every(function (t) { return t.Elt }) } }, { key: "pTt", get: function () { return this.FAt }, set: function (t) { this.FAt = t } }, { key: "Gbt", get: function () { return this.jAt }, set: function (t) { var n = this; this.jAt = t, this.sTt.forEach(function (t) { return t.Gbt = n.jAt }) } }, { key: "jx", get: function () { return this.ult ? new UM([{ Ll: this._mt, Fl: this.gmt }]) : VM } }, { key: "_mt", get: function () { if (!this.ult) return 0; for (var t = -1 / 0, n = 0, i = this.eTt; n < i.length; n++) { var e = i[n]; t = _.max(t, e.xP._mt.Pm()) } return t } }, { key: "gmt", get: function () { if (!this.ult) return 0; for (var t = 1 / 0, n = 0, i = this.eTt; n < i.length; n++) { var e = i[n]; t = _.min(t, e.xP.gmt.Pm()) } return t } }, { key: "wmt", get: function () { if (!this.ult) return 0; for (var t = 1 / 0, n = 0, i = this.eTt; n < i.length; n++) { var e = i[n]; t = _.min(t, e.xP.wmt.Pm()) } return _.max(t, this._mt) } }, { key: "Blt", get: function () { return this.GAt && this.GAt.qbt || void 0 } }]), n }(vP), SF = function (t) { function n(n, i) { var e; return (e = t.call(this) || this).MAt = NaN, e.LAt = !1, e.UAt = null, e.VAt = !0, e.DAt = null, e.xAt = null, e.do = function (t) { e.dispatchEvent(t) }, e.JAt = function (t) { if (e.nlt.zat || (e.nlt.zat = e.mTt.uht || null), !e.nlt.kvt) { var n = e.nlt.bvt.yct[0]; n && (e.nlt.kvt = n, e.mTt.rht(n), e.dispatchEvent({ type: "kTt", eft: n })) } t.manifest.isMasterPlaylist || e.nlt.kvt.Zct(t.manifest), void 0 !== t.manifest.duration && e.MAt !== t.manifest.duration && (e.MAt = t.manifest.duration, e.dispatchEvent("durationchange")), e.LAt || (e.LAt = !0, e.dispatchEvent("loadedmetadata")), e.Srt(!0), e.dispatchEvent({ type: "eht", manifest: t.manifest }) }, e.QAt = function (t) { "MANIFEST_NOT_FOUND" === t.Bo.code ? (e.UAt || (e.UAt = a(e.YAt, vp)), e.Srt(!1)) : e.dispatchEvent({ type: "Bo", Bo: t.Bo }) }, e.YAt = function () { e.KAt(); var t = e.oht; t && e.mTt.Ll(t) }, e.KAt = function () { h(e.UAt), e.UAt = null }, e.rTt = function (t) { var n = t.eft; e.xP.imt(n, n.Iht), e.MB.manifestMetadataTrack && (e.xAt || (e.DAt = e.nlt.Zft("", e.xP, ""), e.xAt = new kF(e.DAt, e.xP)), e.xAt.Lh(n)) }, e.MB = n, e.nlt = new uM(n, i, !0), e.xP = new Yj(n), e.mTt = new xP(i, e.MB), e.xP.addEventListener("Bo", e.do), e.mTt.addEventListener("eht", e.JAt), e.mTt.addEventListener("Bo", function (t) { e.nlt.zat ? (e.UAt || (e.UAt = a(e.YAt, vp)), e.Srt(!1)) : e.QAt(t) }), e.nlt.addEventListener("ift", e.rTt), e } rt(n, t); var i = n.prototype; return i.vTt = function () { this.nlt.zat || this.mTt.Ll() }, i.gTt = function () { return VM }, i.Srt = function (t) { var n = this.VAt; this.VAt = t, t && !n ? this.dispatchEvent("dg") : !t && n && this.dispatchEvent("pW") }, i.Af = function () { this.To(), this.KAt(), this.nlt.Af(), this.mTt.Af(), this.xAt = null, this.xP.Af() }, i.Dlt = function () { }, i.Rlt = function () { }, i.fTt = function (t) { }, i.Plt = function (t) { }, T(n, [{ key: "oht", get: function () { return this.mTt.oht }, set: function (t) { this.MAt = NaN, this.LAt = !1, this.KAt(), this.nlt.Af(), this.xAt = null, this.mTt.oht = t, this.Srt(!0) } }, { key: "Zy", get: function () { return this.MAt } }, { key: "omt", get: function () { return this.nlt && GP.hct(this.nlt._ft) } }, { key: "dg", get: function () { return this.VAt } }, { key: "Elt", get: function () { return !1 } }, { key: "Ibt", get: function () { return !1 } }, { key: "Blt", get: function () { return [] } }]), n }(vP), EF = 1e3, IF = "VEE3", RF = function (t) { function n(n) { var i; return (i = t.call(this, "bTt") || this).ptsOffset = n, i } return rt(n, t), n }(Mn), CF = function (t) { function n(n) { var i; return (i = t.call(this) || this).ATt = null, i.TTt = 0, i.STt = "now", i.ETt = 1, i.ITt = !1, i.RTt = !1, i.NTt = 0, i.CTt = null, i.DTt = null, i.xTt = null, i.OTt = null, i.Gyt = 0, i.BTt = 0, i.initializePromiseAbortController = new ie, i.PTt = new Oi, i.MTt = {}, i.LTt = !1, i.jTt = null, i.FTt = NaN, i.Jkt = function () { i.Cvt.eTt.map(function (t) { t.Jkt() }) }, i.BAt = function () { var t = i.Cvt.yTt, n = t && t.BAt(), e = i.Cvt.wTt, r = e && e.BAt(); (n || r) && i.dispatchEvent({ type: "gvt", UTt: n && n.wvt, Vvt: n && n.PAt, zvt: r && r.wvt, Uvt: r && r.PAt, jvt: !!e && e.jbt }); for (var s = 0, u = i.Cvt.sTt; s < u.length; s++) { var o = u[s].BAt(); if (o) { var a = o.PAt; a && a.dft !== qP.$ht && (i.jTt = a) } } }, i.nbt = function () { null !== i.CTt && h(i.CTt), i.CTt = a(i.nbt, EF), i.Cvt.eTt.forEach(function (t) { return t.nbt() }) }, i.rbt = function () { null !== i.DTt && h(i.DTt), i.ITt && (i.DTt = a(i.rbt, EF), i.Cvt.eTt.forEach(function (t) { return t.rbt() })) }, i.ebt = function () { i.Cvt.eTt.forEach(function (t) { return t.ebt() }) }, i.VTt = function () { if (i.Cvt.omt && i._g > 1) { var t = i.Cvt.wmt; i.HTt > t && (i._g = 1, i.HTt >= t + 1 && (i.HTt = "now")) } }, i.GTt = function () { i.ATt && (0 === i.ATt.zTt() ? i.HTt = "now" : i.HTt = i.qTt(i.kgt)) }, i.WTt = function () { i.NTt = i.kgt }, i.XTt = function (t) { i.$Tt(), i.ATt.error && (t.error.info.code === IF && i.BTt < lp ? (i.BTt += 1, i.QTt()) : i.dispatchEvent({ type: "Bo", error: t.error })) }, i.YTt = function () { i.BTt = 0 }, i.ZTt = function () { i.removeEventListener("KTt", i.JTt), i.ITt ? i.JTt() : i.addEventListener("KTt", i.JTt) }, i.JTt = function () { var t = i.kgt; i.Cvt.removeEventListener("ult", i.ZTt), i.Cvt.ult ? i.Cvt.eTt.forEach(function (n) { return n.ubt(t) }) : (i.Cvt.addEventListener("ult", i.ZTt), i.Cvt.vTt()) }, i.tSt = function () { var t = i.kgt; i.Cvt.sTt.forEach(function (n) { return n.sbt(t, i.Cvt.omt) }) }, i.nSt = function () { null !== i.CTt && h(i.CTt), i.CTt = null, null !== i.DTt && h(i.DTt), i.DTt = null }, i.iSt = function () { i.eSt(), i.Cvt.ult ? i.Ilt() : (i.Cvt.addEventListener("ult", i.iSt), i.Cvt.vTt()) }, i.eSt = function () { i.Cvt.removeEventListener("ult", i.iSt) }, i.Evt = function (t) { i.Cvt.Pyt(t.dft, t.wvt || void 0, t.eft || void 0), t.yvt && i.rSt(t.dft, t.wvt, t.eft) }, i.sSt = function (t) { var n = t.Gyt - i.Gyt; _.abs(n) > fp && (i.Gyt = t.Gyt, i.kgt = i.kgt + n) }, i.uSt = function (t) { var n = t.Y1.metadata; n.tA && (i.MTt[t.zB] = n.tA, i.oSt()) }, i.oSt = function () { if (i.Cvt.ult) { var t = g.keys(i.MTt).length === i.Cvt.eTt.length; if (i.ATt && !i.ATt.aSt && t) { var n = i.PTt; i.hSt().then(function () { return n.nh() }, function (t) { return n.ih(t) }) } i.ATt && i.Gyt && (i.ATt.Gyt = i.Gyt) } }, i.cSt = function () { if (p(i.fSt)) if (i.Cvt.omt) i.fSt = 0; else { var t = i.jTt, n = t && t.gft, e = t && P(n) && !p(n) && t.Rht(n) || void 0; i.fSt = QP(e) ? e.$_t.Pm() : NaN } i.flt && (i.removeEventListener("gvt", i.cSt), i.Cvt.removeEventListener("swt", i.cSt), i.dispatchEvent("flt", !0)) }, i.Cvt = n, n.rpt = st(i), i } rt(n, t); var i = n.prototype; return i.QTt = function () { this.Cvt.omt ? this.HTt = "now" : (this.NTt += .5, this.Cvt.eTt.map(function (t) { t.Kkt(), t.obt(), t.abt() }), this.HTt = this.NTt), this.oSt(), this.ATt.play() }, i.vSt = function (t) { var n = this; this.xTt && (this.Cvt.removeEventListener("ult", this.xTt), this.xTt = null), this.Cvt.ult ? (this.RTt = !0, this.LTt = !0, this.Cvt.lTt(t), this.LTt = !1) : (this.xTt = function () { return n.vSt(t) }, this.Cvt.vTt()) }, i.lSt = function (t) { this.dSt(), this.Cvt.omt && (t = "none"), "auto" === t && this.iSt() }, i._St = function (t) { var n = this; this.dSt(), "none" !== t && (this.Cvt.ult ? this.lSt(t) : (this.OTt = function () { return n.lSt(t) }, this.Cvt.addEventListener("ult", this.OTt), this.Cvt.vTt())) }, i.dSt = function () { this.eSt(), this.OTt && (this.Cvt.removeEventListener("ult", this.OTt), this.OTt = null) }, i.Ilt = function () { this.RTt ? this.Cvt.fTt() : (this.HTt = this.STt, this.Cvt.fTt(22)), this.ITt || (this.ITt = !0, this.dispatchEvent("KTt")) }, i.gSt = function () { this.ATt && (this.ATt.addEventListener("wSt", this.tSt), this.ATt.addEventListener("seeking", this.ZTt), this.ATt.addEventListener("error", this.XTt), this.ATt.addEventListener("playing", this.YTt)), this.Cvt.addEventListener("gvt", this.Evt), this.Cvt.addEventListener("bbt", this.GTt), this.Cvt.addEventListener("ult", this.oSt), this.Cvt.addEventListener("Hyt", this.sSt), this.Cvt.addEventListener("jf", this.ZTt), this.xlt() }, i.ySt = function () { this.ATt && (this.ATt.removeEventListener("wSt", this.tSt), this.ATt.removeEventListener("seeking", this.ZTt), this.ATt.removeEventListener("error", this.XTt), this.ATt.removeEventListener("playing", this.YTt)), this.Cvt.removeEventListener("gvt", this.Evt), this.Cvt.removeEventListener("bbt", this.GTt), this.Cvt.removeEventListener("ult", this.oSt), this.Cvt.removeEventListener("Hyt", this.sSt), this.Cvt.removeEventListener("jf", this.ZTt), this.Olt() }, i.xlt = function () { this.ATt && (this.ATt.addEventListener("loadstart", this.iSt), this.ATt.addEventListener("timeupdate", this.Jkt), this.ATt.addEventListener("playing", this.BAt), this.ATt.addEventListener("timeupdate", this.BAt), this.ATt.addEventListener("timeupdate", this.rbt), this.ATt.addEventListener("timeupdate", this.nbt), this.ATt.addEventListener("timeupdate", this.WTt), this.ATt.addEventListener("timeupdate", this.VTt), this.ATt.addEventListener("ended", this.nSt)), this.Cvt.addEventListener("swt", this.uSt), this.Cvt.addEventListener("swt", this.ebt) }, i.Olt = function () { null !== this.CTt && h(this.CTt), null !== this.DTt && h(this.DTt), this.ATt && (this.ATt.removeEventListener("loadstart", this.iSt), this.ATt.removeEventListener("timeupdate", this.Jkt), this.ATt.removeEventListener("playing", this.BAt), this.ATt.removeEventListener("timeupdate", this.BAt), this.ATt.removeEventListener("timeupdate", this.rbt), this.ATt.removeEventListener("timeupdate", this.nbt), this.ATt.removeEventListener("timeupdate", this.WTt), this.ATt.removeEventListener("timeupdate", this.VTt), this.ATt.removeEventListener("ended", this.nSt)), this.Cvt.removeEventListener("swt", this.uSt), this.Cvt.removeEventListener("swt", this.ebt) }, i.FJ = function () { var t = St(At.mark(function t(n) { var i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, Dn(this.PTt._a, this.initializePromiseAbortController._h); case 2: return i = this.ATt.FJ(n), this.ATt.loading && (this.ATt.loaded = !0, this.ATt.loading = !1), t.next = 6, i; case 6: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.$Z = function (t, n) { this.pSt.$Z(t, n) }, i.Zkt = function () { var t = St(At.mark(function t(n, i) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, t.next = 3, Dn(this.PTt._a, this.initializePromiseAbortController._h); case 3: return t.next = 5, this.ATt.Zkt(n, i); case 5: t.next = 10; break; case 7: t.prev = 7, t.t0 = t.catch(0), In(t.t0) || this.dispatchEvent({ type: "Bo", error: t.t0 }); case 10: case "end": return t.stop() } }, t, this, [[0, 7]]) })); return function (n, i) { return t.apply(this, arguments) } }(), i.hSt = function () { var t = St(At.mark(function t() { var n, i, e, r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, this.ATt.hSt(this.MTt, this.Cvt.Zy); case 2: if (n = t.sent) { t.next = 5; break } return t.abrupt("return"); case 5: for (i = 0, e = this.Cvt.sTt; i < e.length; i++)r = e[i], n.mct && (r.xkt = n.mct), n.kct && (r.Pkt = n.kct); case 6: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.$Tt = function () { this.initializePromiseAbortController.eh(), this.initializePromiseAbortController = new ie, this.PTt = new Oi }, i.qTt = function (t) { var n = this.jx; return n.length ? _o(t, n.start(0), n.end(n.length - 1)) : 0 }, i.fbt = function (t) { var n = this.Cvt.wTt; return n ? n.fbt(t) : null }, i.lmt = function (t) { var n = this.Cvt.wTt; return n ? n.lmt(t) : NaN }, i.Ph = function (t) { var n = t || "none"; this.ySt(), this.gSt(), this._St(n) }, i.Clt = function () { this.dSt() }, i.Af = function () { this.To(), this.MTt = {}, this.pSt = null }, i.bf = function () { this.$Tt(), this.mSt(), this.MTt = {}, this.TTt = 0, this.NTt = 0, this.STt = "now", this.Gyt = 0, this.ETt = 1, this.ITt = !1, this.RTt = !1, this.jTt = null, this.Cvt.sTt.forEach(function (t) { return t.bf() }) }, i.rSt = function (t, n, i) { if (n) { this.dispatchEvent("vlt"), this.Olt(); var e = !1, r = !1, s = !1; if ("kct" === t) { r = !0; var u = this.Cvt.wTt; u && u.jbt && (e = !0) } else e = !0, s = !(!i || !i.uri); e && this.ATt.yvt("audio"), r && this.ATt.yvt("video"), this.Cvt.sTt.forEach(function (t) { t.Kkt(), e && t.obt(), r && t.abt() }), this.Cvt._Tt(r, e, s, 22), this.Cvt.sTt.forEach(function (t) { return t.ibt() }), this.xlt() } }, i.dN = function () { this.Olt(), this.Cvt.omt && this.Cvt.dTt() }, i.sN = function () { this.Olt(), this.xlt(), this.Cvt.Rlt() }, i.kSt = function (t) { var n = this.fSt || 0; return this.Vct ? t - n < 0 ? 0 : _.round((t - n) * this.Vct - .5) || 0 : NaN }, i.bSt = function (t) { var n = this.fSt || 0; return this.Vct ? n + (t + .5) / this.Vct : NaN }, i.mSt = function () { this.fSt = NaN, this.removeEventListener("gvt", this.cSt), this.addEventListener("gvt", this.cSt), this.Cvt.removeEventListener("swt", this.cSt), this.Cvt.addEventListener("swt", this.cSt) }, T(n, [{ key: "pSt", get: function () { return this.ATt }, set: function (t) { this.ySt(), this.$Tt(), this.YTt(), this.ATt = t, this.oSt() } }, { key: "kgt", get: function () { return this.ATt && !this.LTt ? this.ATt.zTt() : this.TTt }, set: function (t) { t = this.qTt(t), this.NTt = this.TTt = t, this.ATt ? this.ATt.ASt(t) : (this.tSt(), this.ZTt()) } }, { key: "HTt", get: function () { return this.ATt && !this.LTt ? this.kgt : this.STt }, set: function (t) { "now" === t && (t = this.Cvt.omt ? 1 / 0 : 0), t = this.qTt(t), this.STt = t, this.NTt = this.TTt = t, this.vSt(ha.Ym(this.TTt)), this.kgt = t } }, { key: "OP", get: function () { return this.Cvt.Gbt }, set: function (t) { this.Cvt.Gbt = t } }, { key: "_g", get: function () { return this.ATt ? this.ATt._g : this.ETt }, set: function (t) { var n = this.ETt; t > 0 && (this.ETt = t, this.ATt && (this.ATt._g = t), this.Cvt.pgt = t, this.ETt !== n && this.dispatchEvent("TSt")) } }, { key: "jx", get: function () { var t = this.Cvt.jx; if (!t.length || !this.Cvt.omt) return t; var n = t.start(0), i = this.Cvt.wmt; return i = _.max(this.kgt, i), new UM([{ Ll: n, Fl: i }]) } }, { key: "cg", get: function () { return this.fbt(this.kgt) } }, { key: "Vct", get: function () { var t = this.jTt; return t && t.Vct || NaN } }, { key: "fSt", get: function () { return this.FTt }, set: function (t) { this.FTt !== t && (this.dispatchEvent(new RF(t)), this.FTt = t) } }, { key: "flt", get: function () { return Boolean(this.Vct) && !p(this.fSt) } }]), n }(vP), NF = function (t) { function n(n) { var i; return (i = t.call(this) || this).SSt = null, i.ESt = [], i.ISt = function (t) { return i.RSt(t) }, i.NSt = function () { return i.CSt() }, i.nlt = n, i.ESt = [], i } rt(n, t); var i = n.prototype; return i.TV = function (t) { var n, i; "metadata" === t.kind && (t.mode = Vr.Xf, n = this.nlt.Qft(t.id, t.inBandMetadataTrackDispatchType), i = this.DSt.bind(this, n), this.ESt.push({ xSt: t, OSt: i, xft: n }), t.addEventListener("cuechange", i)) }, i.wx = function () { for (var t = this.SSt.Ag, n = t && t.length, i = 0; i < n; i += 1)this.TV(t[i]); t && t.addEventListener && (t.addEventListener("addtrack", this.ISt), t.addEventListener("change", this.NSt)) }, i.DSt = function (t, n) { for (var i = n.target.activeCues, e = i.length, r = e ? i[0].startTime : 0, s = 0; s < e; s++) { var u = mR(i[s].value), o = new Np(r, u); t.SL(o) } }, i.CSt = function () { for (var t = 0, n = this.ESt; t < n.length; t++) { var i = n[t].xSt; i.mode !== Vr.Xf && (i.mode = Vr.Xf) } }, i.RSt = function (t) { this.TV(t.track) }, i.BSt = function () { for (var t = this.SSt, n = t && t.Ag, i = 0, e = this.ESt; i < e.length; i++) { var r = e[i]; r.xSt.removeEventListener("cuechange", r.OSt) } this.ESt.length = 0, n && n.removeEventListener && (n.removeEventListener("addtrack", this.ISt), n.removeEventListener("change", this.NSt)) }, i.Af = function () { this.BSt(), this.SSt = null, this.nlt = null, this.ISt = null, this.NSt = null }, i.bf = function () { this.BSt(), this.SSt && this.wx() }, n }(vP), DF = function (t) { function n(n) { var i; return (i = t.call(this) || this).ATt = null, i.STt = 0, i.ETt = 1, i.pW = !1, i.PSt = null, i.MSt = null, i.LSt = NaN, i.jSt = NaN, i.FSt = null, i.USt = function () { i.ATt.removeEventListener("loadstart", i.USt), i.ATt.removeEventListener("play", i.USt), i.Cvt.vTt() }, i.Jkt = function () { var t = i.Cvt.nlt.kvt; if (t && (!i.PSt || i.PSt.Ll > i.kgt || i.PSt.Fl < i.kgt)) { var n = i.Cvt.xP.Awt(t, ha.Ym(i.kgt)); if (!n) return void i.ATt.addEventListener("timeupdate", i.Jkt); i.PSt = { Ll: n.Eft.Pm(), Fl: n.Eft.kd(ha.Ym(n.aB.duration)).Pm(), pat: n.aB.pat, Iat: null }, i.dispatchEvent({ type: "tbt", ZP: n.aB }) } }, i.BAt = function () { var t = i.Cvt.nlt, n = t.bvt.yct.length ? t.bvt.yct : t.Yct.yct, e = i.ATt.zx, r = i.ATt.Gx, s = n && n.filter(function (t) { var n = t.resolution; return n && n.width === e && n.height === r }), u = s && s.length ? s[0] : null; u !== i.MSt && (i.MSt = u, i.dispatchEvent({ type: "gvt", eft: u })) }, i.VSt = function (t) { i.dispatchEvent({ type: "gvt", eft: t.eft }) }, i.HSt = function () { if (i.ATt) { var t = i.ATt.jx, n = t.length ? t.end(t.length - 1) : NaN; isFinite(n) && n !== i.jSt && (i.jSt = n, i.LSt = h_()) } }, i.GSt = function () { i.pW = !0 }, i.zSt = function () { i.pW && (i.pW = !1, i.qSt()) }, i.Cvt = n, i.WSt = new NF(n.nlt), n.addEventListener("pW", i.GSt), n.addEventListener("dg", i.zSt), i } rt(n, t); var i = n.prototype; return i.qTt = function (t) { var n = this.ATt.jx; return n.length ? _o(t, n.start(0), n.end(n.length - 1)) : 0 }, i.qSt = function () { if (this.ATt) { var t = this.ATt.currentTime, n = this.ATt.paused; this.ATt.load(), this.ATt.currentTime = t, n || this.ATt.play() } }, i.XSt = function () { this.ATt && (this.ATt.addEventListener("loadstart", this.USt), this.ATt.addEventListener("play", this.USt), this.ATt.addEventListener("timeupdate", this.Jkt), this.ATt.addEventListener("timeupdate", this.BAt), f(this.FSt), this.FSt = c(this.HSt, 250)) }, i.$St = function () { f(this.FSt), this.ATt && (this.ATt.removeEventListener("loadstart", this.USt), this.ATt.removeEventListener("play", this.USt), this.ATt.removeEventListener("timeupdate", this.Jkt), this.ATt.removeEventListener("timeupdate", this.BAt)) }, i.Ph = function (t) { t = t || "none", this.$St(), this.XSt(), this.Cvt.removeEventListener("kTt", this.VSt), this.Cvt.addEventListener("kTt", this.VSt), "none" !== t && this.USt() }, i.Af = function () { this.To(), this.WSt.Af(), this.pSt = null, this.Cvt.removeEventListener("kTt", this.VSt) }, i.bf = function () { this.STt = 0, this.ETt = 1, this.pW = !1, this.PSt = null, this.MSt = null, this.LSt = NaN, this.jSt = NaN, f(this.FSt), this.WSt.bf() }, i.sN = function () { }, i.dN = function () { }, i.Clt = function () { }, i.rSt = function () { }, i.lmt = function (t) { var n = this.Cvt.nlt.kvt; return this.Cvt.xP.lmt(n, t).Pm() }, i.fbt = function (t) { var n, i, e = this.Cvt.nlt.kvt, r = this.Cvt.xP, s = t, u = this.PSt; if (u) u.Iat || (u.Iat = r.vmt(e, u.pat)), n = u.Ll, i = u.Iat; else { var o = r.Awt(e, ha.Ym(s)); if (!o) return null; n = o.Eft.Pm(), i = r.vmt(e, o.aB.pat) } if (!i) return null; var a = s - n; return new Date(i.getTime() + 1e3 * a) }, i.kSt = function (t) { return NaN }, i.bSt = function (t) { return NaN }, T(n, [{ key: "QSt", get: function () { return null } }, { key: "cg", get: function () { return this.fbt(this.kgt) } }, { key: "pSt", get: function () { return this.ATt }, set: function (t) { this.$St(), this.ATt = t, this.ATt && (this.WSt.SSt = this.ATt, this.WSt.wx()) } }, { key: "HTt", get: function () { return this.ATt ? this.ATt.zTt() : this.STt }, set: function (t) { "now" === t && (t = this.Cvt.omt ? 1 / 0 : 0), t = this.qTt(t), this.STt = t, this.ATt && this.ATt.ASt(t) } }, { key: "kgt", get: function () { return this.HTt }, set: function (t) { t = this.qTt(t), this.HTt = t } }, { key: "OP", get: function () { return 1 / 0 }, set: function (t) { } }, { key: "_g", get: function () { return this.ATt ? this.ATt._g : this.ETt }, set: function (t) { t > 0 && (this.ETt = t, this.ATt && (this.ATt._g = t)) } }, { key: "jx", get: function () { var t, n, i, e = this.ATt ? this.ATt.jx : null, r = this.Cvt.xP.jx; if (e && e.length && r.length) t = e.start(0), n = (i = this.jSt || e.end(e.length - 1)) + this.Cvt.xP.Lrt.Pm(), isFinite(this.LSt) && (i += (h_() - this.LSt) / 1e3); else { if (e && e.length) return e; if (!r.length) return r; t = e.start(0), n = r.end(r.length - 1), i = this.Cvt.xP.wmt.Pm() } return i = _.min(n, i), i = _.max(this.kgt, i), new UM([{ Ll: t, Fl: i }]) } }, { key: "Vct", get: function () { return NaN } }, { key: "fSt", get: function () { return NaN } }, { key: "flt", get: function () { return !1 } }]), n }(vP); var xF = function (t) { function n(n, i, e, r, s) { var u; return (u = t.call(this, n, i, e) || this).Bo = null, u.YSt = new ie, u.ZSt = void 0, u.KSt = function () { return u.JSt() }, u.Ou = "webvtt", u.Zf = E_.NONE, u.tv = Cl(r), u.mo("mf", u.KSt), u.OS = s, u } rt(n, t); var i = n.prototype; return i.Ph = function () { this.tv && !this.ZSt && (this.ZSt = this.hW(this.YSt._h), this.ZSt.catch(Nn)) }, i.hW = function () { var t = St(At.mark(function t(n) { var i, e, r, s; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return i = this.tv, t.prev = 1, this.Zf = E_.LOADING, e = new th({ Mk: i, pT: "GET", mT: Wa.dT, _h: n }), t.next = 6, this.OS.HT(e); case 6: return r = t.sent, t.next = 9, r.ei(); case 9: s = t.sent, this.Jot(r, s), t.next = 17; break; case 13: t.prev = 13, t.t0 = t.catch(1), Cn(t.t0), this.tEt(t.t0); case 17: case "end": return t.stop() } }, t, this, [[1, 13]]) })); return function (n) { return t.apply(this, arguments) } }(), i.Clt = function () { this.Zf !== E_.LOADED && (this.Zf = E_.NONE, this.YSt.eh(), this.YSt = new ie, this.ZSt = void 0) }, i.W8 = function (t) { this.Bo = t, this.Zf = E_.ERROR, this._o(new ou(this.Bo)) }, i.Af = function () { this.Clt(), this.YSt.oo(), t.prototype.Af.call(this) }, i.JSt = function () { switch (this.Yf) { case Vr.$f: case Vr.Xf: this.Ph(); break; case Vr.Wf: this.Clt() } }, i.Jot = function (t, n) { var i = this.tv, e = dg(n).Kf; if (!e) return this.W8(new RN("SUBTITLE_PARSE_ERROR", { code: "STL2100", uri: i, status: t.Ej })); for (var r = 0; r < e.length; r++) { var s = e[r]; this.SL(s) } this.Zf = E_.LOADED }, i.tEt = function (t) { if (t instanceof QA) { var n = t.HT.Mk; return this.W8(new RN("SUBTITLE_NOT_FOUND", { code: "STL1200", uri: n })) } if (t instanceof YA) { var i = t.NF, e = i.Tq; return 0 === i.Ej ? this.W8(new RN("SUBTITLE_CORS_ERROR", { code: "STL3100", uri: e, status: i.Ej })) : this.W8(new RN("SUBTITLE_NOT_FOUND", { code: "STL3300", uri: e, status: i.Ej })) } return this.W8(new RN("ERROR", { error: t, uri: this.tv })) }, n }(U_); function BF(t) { return Kc(t.kind) } var OF = function () { function t(t, n, i, e) { this.nEt = t, this.Ag = i, this.iEt = n, this.OS = e, this.bf() } var n = t.prototype; return n.eEt = function (t) { if (this.rEt(), t) if (this.iEt) for (var n = 0; n < t.length; n++) { var i = t[n]; this.sEt(i) } else for (var e = 0; e < t.length; e++) { var r = t[e]; this.uEt(r) } }, n.sEt = function (t) { var n = BF(t); if (Gg(n, t.label || "")); else { var i = s.createElement("track"); i.kind = n, i.label = t.label, i.src = t.src, i.srclang = t.srclang, i.default = !!t.default, this.nEt.appendChild(i) } }, n.uEt = function (t) { var n = BF(t), i = new xF(n, t.label, t.srclang, t.src, this.OS); t.default && (i.Yf = Vr.$f), this.Ag.pf(i) }, n.rEt = function () { for (var t = this.Ag.Tf, n = t.length - 1; n >= 0; n--) { var i = t[n]; "static" === i.oEt && this.Ag.kf(i) } }, n.aEt = function () { this.rEt() }, n.bf = function () { this.rEt() }, t }(), PF = function () { function t(t) { this.Alt = t } var n = t.prototype; return n.mo = function (t, n) { this.Alt.addEventListener(t, n) }, n.So = function (t, n) { this.Alt.removeEventListener(t, n) }, T(t, [{ key: "yg", get: function () { return this.Alt.currentMonotonicTime } }, { key: "rN", get: function () { return this.Alt.paused } }, { key: "pg", get: function () { return this.Alt.seeking } }]), t }(), MF = function (t) { function n(n, i) { var e; (e = t.call(this) || this).hEt = !0, e.cEt = function (t) { return e.fEt(t) }, e.vEt = function () { return e.lEt() }, e.dEt = function () { return e._Et() }, e.gEt = function () { return e.wEt() }, e.ISt = function (t) { return e.RSt(t.df) }, e.yEt = function (t) { return e.pEt(t.df) }, e.mEt = function () { return e.kEt() }, e.bEt = n, e.Ag = i, e.bEt.addEventListener("seeking", e.mEt), e.bEt.addEventListener("seeked", e.mEt), e.AEt = new b_(new PF(n)); for (var r = 0, s = e.Ag.Tf; r < s.length; r++) { var u = s[r]; e.RSt(u) } return e.Ag.mo("_f", e.ISt), e.Ag.mo("gf", e.yEt), e } rt(n, t); var i = n.prototype; return i.fEt = function (t) { this.Ag.pf(t.df) }, i.lEt = function () { for (var t = this.Ag.Tf, n = t.length - 1; n >= 0; n--) { var i = t[n]; "static" !== i.oEt && this.Ag.kf(i) } }, i._Et = function () { var t = this.pSt, n = [], i = t && t.Ag; if (i) for (var e = 0; e < i.length; e++) { var r = i[e] || i.item(e); if ("metadata" !== r.kind) { var s = r.THEOplayerTextTrack; if (!s) { var u = this.TZ(r); s = new bR(r, u, this.hZ), r.THEOplayerTextTrack = s, this.Ag.pf(s) } n.push(s) } } for (var o = 0, a = this.Ag.Tf; o < a.length; o++) { var h = a[o]; AR(h) && -1 === n.indexOf(h) && this.Ag.kf(h) } }, i.TZ = function (t) { for (var n = this.pSt.oE.getElementsByTagName("track"), i = 0; i < n.length; i++) { var e = n[i] || n.item(i); if (e.track === t) return e } }, i.wEt = function () { for (var t = 0, n = this.Ag.Tf; t < n.length; t++) { var i = n[t]; AR(i) && i.cZ() } }, i.kEt = function () { this.TEt() }, i.RSt = function (t) { t instanceof U_ && this.AEt.pf(t) }, i.pEt = function (t) { t instanceof U_ && this.AEt.kf(t) }, i.TEt = function () { var t = this.Ag.Tf; if (t.length) for (var n = this.bEt.seekable, i = n.length ? n.start(0) : 0, e = 0; e < t.length; e++) { var r = t[e]; if (r instanceof U_) { for (var s = [], u = 0, o = r.Kf.Tf; u < o.length; u++) { var a = o[u]; if (!(a.OP < i)) break; s.push(a) } for (var h = 0; h < s.length; h++) { var c = s[h]; r.IL(c) } } } }, i.Af = function () { this.bEt.removeEventListener("seeking", this.mEt), this.bEt.removeEventListener("seeked", this.mEt); for (var t = 0, n = this.Ag.Tf; t < n.length; t++) { var i = n[t]; this.pEt(i) } this.Ag.So("_f", this.ISt), this.Ag.So("gf", this.yEt), this.AEt.Af(), this.nlt = null, this.pSt = null }, T(n, [{ key: "nlt", get: function () { return this.SEt }, set: function (t) { var n = this.SEt; if (n) { for (var i = 0, e = n.Ag; i < e.length; i++) { var r = e[i]; this.Ag.kf(r) } n.removeEventListener("Yft", this.cEt), n.removeEventListener("Af", this.vEt) } if (this.SEt = t, t) { for (var s = 0, u = t.Ag; s < u.length; s++) { var o = u[s]; this.Ag.pf(o) } t.addEventListener("Yft", this.cEt), t.addEventListener("Af", this.vEt) } } }, { key: "pSt", get: function () { return this.ATt }, set: function (t) { var n = this.ATt; n && n.Ag && n.Ag.removeEventListener && (n.Ag.removeEventListener("addtrack", this.dEt), n.Ag.removeEventListener("removetrack", this.dEt), n.Ag.removeEventListener("change", this.gEt)), this.ATt = t, t && t.Ag && t.Ag.addEventListener && (t.Ag.addEventListener("addtrack", this.dEt), t.Ag.addEventListener("removetrack", this.dEt), t.Ag.addEventListener("change", this.gEt)), this._Et(), this.wEt() } }, { key: "hZ", get: function () { return this.hEt }, set: function (t) { if (this.hEt !== t) { this.hEt = t; for (var n = 0, i = this.Ag.Tf; n < i.length; n++) { var e = i[n]; AR(e) && (e.hZ = t) } } } }]), n }(vP), LF = function () { function t(t, n) { this.EEt = [], this.IEt = new Qa, this.REt = Rt(), this.NEt = new ie, this.TT = !(!t || t.crossOrigin !== Qc.o_ && !t.CEt), this.pF = n } var n = t.prototype; return n.DEt = function () { var t = St(At.mark(function t(n, i) { var e, r, s, u, o, a, h, c, f; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: for (e = Rl(n), r = 0, s = this.EEt; r < s.length; r++)null === (u = s[r]).Hn || void 0 === u.Hn ? e.searchParams.delete(u.xEt) : e.searchParams.set(u.xEt, u.Hn); return t.prev = 2, o = new th({ Mk: e.href, mT: Wa.fT, yT: this.IEt, TT: this.TT, pT: "GET", _h: i, Ou: "content-protection", bT: "aes128-key" }), t.next = 6, this.pF.HT(o); case 6: return a = t.sent, t.next = 9, a.ei(); case 9: return h = t.sent, c = new m(h), f = new m(16), 16 !== c.length && J("AES-128 decryption key length must be 16 bytes, but was " + c.length + " bytes. URL: ", e.href), c.length > 16 && (c = Ci(c, 0, 16)), f.set(c, 16 - c.length), t.abrupt("return", f); case 19: throw t.prev = 19, t.t0 = t.catch(2), Cn(t.t0), new v('Playback has been stalled due to failure to retrieve encryption key from "' + e.href); case 23: case "end": return t.stop() } }, t, this, [[2, 19]]) })); return function (n, i) { return t.apply(this, arguments) } }(), n.getKey = function (t) { var n = t.absoluteURI; if (!n) return Tt.reject(new RN("INVALID_KEY", { code: "CAD1603" })); var i = this.REt.get(n); return i || (i = this.DEt(n, this.NEt._h), this.REt.set(n, i)), i }, n.Af = function () { this.NEt.eh(), this.REt.clear() }, n.OEt = function (t, n) { this.EEt.push({ xEt: t, Hn: n }) }, n.BEt = function (t, n) { this.IEt.append(t, n) }, t }(), jF = function (t) { this.bEt = t }, FF = s.createElement("video"); var UF = function (t) { function n() { return t.apply(this, arguments) || this } return rt(n, t), n.prototype.yAt = function (t) { return !!function (t) { return FF.canPlayType('video/mp4;codecs="' + t.codecs + '"') }(t) || (t.disabled = "AvoidUnsupportedCodecsRule", !1) }, n }(jF); lP.q.TY("AvoidUnsupportedCodecsRule", UF); var VF = function (t) { function n() { return t.apply(this, arguments) || this } return rt(n, t), n.prototype.yAt = function (t, n, i, e) { return !("Eyt" === e.vwt) || t.bandwidth < 2e6 }, n }(jF); lP.q.TY("AvoidHighBitrateStreamsRule", VF); var HF = function (t) { function n() { return t.apply(this, arguments) || this } rt(n, t); var i = n.prototype; return i.PEt = function (t) { if (!t.resolution) return !0; var n = this.bEt.element.getBoundingClientRect(), i = r.innerWidth || s.documentElement.clientWidth, e = r.innerHeight || s.documentElement.clientHeight, u = _.max(0, _.min(n.right, i) - _.max(0, n.left)), o = _.max(0, _.min(n.bottom, e) - _.max(0, n.top)), a = PI.OY; return t.resolution.width <= u * a && t.resolution.height <= o * a }, i.yAt = function (t) { return this.PEt(t) }, n }(jF); lP.q.TY("AvoidVideoResolutionGreaterThanDisplaySizeRule", HF); var zF = function (t) { function n() { return t.apply(this, arguments) || this } return rt(n, t), n.prototype.yAt = function (t, n, i) { if (i.U6 <= 0) return !1; var e = i && .8 * i.U6; return !(e && !p(e) && t.bandwidth) || e > t.bandwidth * this.bEt.playbackRate }, n }(jF); lP.q.TY("DownloadMetricRule", zF); var qF = function (t) { function n() { return t.apply(this, arguments) || this } return rt(n, t), n.prototype.yAt = function (t) { return !0 }, n }(jF); function GF(t) { return t.dft === qP.Xht } function WF(t) { var n = t.dft; return n === qP.Wht || n === qP.xC } function XF(t) { var n = t.dft; return n === qP.$ht || n === qP.xC } lP.q.TY("LimitVideoQualityToDisplaySizeRule", qF); var $F = function (t) { function n() { return t.apply(this, arguments) || this } return rt(n, t), n.prototype.yAt = function (t, n) { return !n || (GF(n) ? GF(t) : !(!WF(n) || !WF(t)) || (!(!XF(n) || !XF(t)) || n.dft === t.dft)) }, n }(jF); function QF(t) { return !!t && ("object" == typeof t && "src" in t && "type" in t) } function YF(t, n) { var i = n; for (var e in t) F(t[e]) ? (i[e] = i[e] || {}, YF(t[e], i[e])) : B.call(i, e) || (i[e] = t[e]); return i } function ZF(t, n) { var i = YF(n, t || {}); return i.crossOrigin = function (t) { var n = t && t.crossOrigin; switch (n) { case Qc.a_: case Qc.o_: break; default: n = Qc.u_ }return t && t.withCredentials && (n = Qc.o_), t && t.vr && t.vr[360] && n === Qc.u_ && (n = Qc.a_), n }(i), i } function KF(t) { H(t) && t.then(q, q) } lP.q.TY("OnlyAllowSameTrackTypeRenditionsRule", $F); var JF = 500, tU = ["abort", "durationchange", "ended", "loadstart", "pause", "play", "progress", "ratechange", "seeked", "seeking", "suspend", "timeupdate", "volumechange", "webkitpresentationmodechanged"], nU = function (t) { function n(n, i) { var e; return (e = t.call(this) || this).MEt = void 0, e.Jg = void 0, e.loading = !1, e.loaded = !1, e.configuration = { useNativeVideoPlayback: !0 }, e.Qj = function () { var t = e.pU.fV.error && e.pU.fV.error.code; t && e.W8(new RN("PLAYBACK_ISSUE", { code: "VEE" + t })) }, e.LEt = function (t) { e.dispatchEvent({ type: t.type, error: e.pU.fV.error }) }, e.jEt = function () { h(e.MEt), e.MEt = void 0, e.pU.fV.removeEventListener("timeupdate", e.jEt), e.pU.So("playing", e.jEt) }, e.FEt = function () { void 0 !== e.MEt && e.jEt(), e.MEt = a(function () { e.pU.fV.currentTime += .1, e.jEt() }, JF), e.pU.fV.addEventListener("timeupdate", e.jEt), e.pU.mo("playing", e.jEt) }, e.UEt = function () { switch (e.pU.fV.readyState) { case eu.f_: case eu.v_: case eu.l_: e.FEt(); break; case eu.c_: case eu.h_: } }, e.VEt = n, e.pU = i, e } rt(n, t); var i = n.prototype; return i.setup = function () { this.$ft(), this.pU.fV.parentNode !== this.VEt && this.VEt.appendChild(this.pU.fV), this.loaded = !1, this.pU.fV.preload = "metadata", this.pU.fV.addEventListener("play", this.UEt), this.pU.fV.addEventListener("loadeddata", this.UEt), this.dispatchEvent("HEt") }, i.$ft = function () { for (var t = 0; t < tU.length; t++) { var n = tU[t]; this.pU.fV.addEventListener(n, this.LEt, !0) } this.pU.fV.addEventListener("error", this.Qj, !0), this.pU.mo("readystatechange", this.LEt), this.pU.mo("playing", this.LEt) }, i.GEt = function () { for (var t = 0; t < tU.length; t++) { var n = tU[t]; this.pU.fV.removeEventListener(n, this.LEt, !0) } this.pU.fV.removeEventListener("error", this.Qj, !0), this.pU.So("readystatechange", this.LEt), this.pU.So("playing", this.LEt) }, i.W8 = function (t) { this.Jg = t, this.dispatchEvent({ type: "error", error: t }) }, i.FJ = function () { return Tt.resolve() }, i.load = function () { this.pU.fV.load(), this.loaded = !0 }, i.unload = function () { return this.jEt(), this.To(), this.GEt(), this.pU.fV.removeEventListener("play", this.UEt), this.pU.fV.removeEventListener("loadeddata", this.UEt), Ze(this.pU.fV), this.pU.fV }, i.play = function () { var t = this._g; KF(this.pU.fV.play()), this._g = t }, i.pause = function () { this.pU.fV.pause() }, i.bx = function () { this.pause() }, i.reset = function () { this.loading = !1, this.loaded = !1; try { this.ASt(0) } catch (t) { } this.dispatchEvent("reset") }, i.Nx = function () { return this.pU.fV }, i.zTt = function () { return this.pU.fV.currentTime }, i.ASt = function (t) { this.pU.fV.currentTime = t }, i.canPlayCodecs = function (t) { return this.pU.fV.canPlayType('video/mp4; codecs="' + t + '"') }, T(n, [{ key: "aSt", get: function () { return !0 } }, { key: "oE", get: function () { return this.pU.fV } }, { key: "hg", get: function () { return this.pU.fV.buffered } }, { key: "ux", get: function () { return this.pU.fV.volume }, set: function (t) { this.pU.fV.volume = t } }, { key: "duration", get: function () { return this.pU.fV.duration } }, { key: "muted", get: function () { return this.pU.fV.muted }, set: function (t) { this.pU.fV.muted = t } }, { key: "paused", get: function () { return this.pU.fV.paused } }, { key: "played", get: function () { return this.pU.fV.played } }, { key: "poster", get: function () { return this.pU.fV.poster }, set: function (t) { t ? this.pU.fV.poster = t : this.pU.fV.removeAttribute("poster") } }, { key: "controls", get: function () { return this.pU.fV.controls }, set: function (t) { t ? this.pU.fV.controls = t : this.pU.fV.removeAttribute("controls") } }, { key: "ended", get: function () { return this.pU.fV.ended } }, { key: "seeking", get: function () { return this.pU.fV.seeking } }, { key: "error", get: function () { return this.pU.fV.error } }, { key: "width", get: function () { return this.pU.fV.offsetWidth } }, { key: "height", get: function () { return this.pU.fV.offsetHeight } }, { key: "src", get: function () { return this.pU.fV.src }, set: function (t) { this.pU.fV.src = t } }, { key: "zx", get: function () { return this.pU.fV.videoWidth } }, { key: "Gx", get: function () { return this.pU.fV.videoHeight } }, { key: "Ag", get: function () { return this.pU.fV.textTracks } }, { key: "omt", get: function () { return this.pU.fV.duration === 1 / 0 } }, { key: "jx", get: function () { var t = this.pU.fV.seekable, n = t.length && t.start(0) || 0, i = t.length && t.end(t.length - 1) || 0; return i === 1 / 0 && (i = this.zTt() || 0), new UM([{ Ll: n, Fl: i }]) } }, { key: "_g", get: function () { return this.pU.fV.playbackRate }, set: function (t) { t > 0 && (this.pU.fV.playbackRate = t) } }, { key: "Zf", get: function () { return this.pU.Zf } }, { key: "zEt", get: function () { return this.pU.fV.webkitSupportsPresentationMode && this.pU.fV.webkitSupportsPresentationMode("picture-in-picture") } }, { key: "qEt", get: function () { return "picture-in-picture" === this.pU.fV.webkitPresentationMode } }, { key: "WEt", get: function () { return this.pU.fV.webkitPresentationMode }, set: function (t) { ["inline", "picture-in-picture", "fullscreen"].indexOf(t) > -1 && this.pU.fV.webkitSetPresentationMode(t) } }]), n }(vP), iU = function () { function t() { this.XEt = !1, this.$Et = null, this.QEt = null, this.YEt = null, this.wj = [], this.ZEt = null } var n = t.prototype; return n.KEt = function () { if (!this.XEt) return !1; for (var t = this.$Et, n = this.QEt, i = 0; i < t.sourceBuffers.length; i++)if (t.sourceBuffers[i] === n) return !0; return !1 }, n.JEt = function (t) { switch (t.Ou) { case 0: return this.tIt(t.ei, t.Eft, t.SW); case 1: return this.nIt(t.iIt); case 2: return this.eIt(t.rIt, t.sIt); case 3: return this.yj(); case 4: return this.uIt(t.SW) } }, n.tIt = function () { var t = St(At.mark(function t(n, i, e) { var r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, r = this.QEt, p(i) || (r.timestampOffset = i), r.appendBuffer(n), t.next = 6, this.oIt(); case 6: e(), t.next = 13; break; case 9: throw t.prev = 9, t.t0 = t.catch(0), e(t.t0), t.t0; case 13: case "end": return t.stop() } }, t, this, [[0, 9]]) })); return function (n, i, e) { return t.apply(this, arguments) } }(), n.nIt = function () { var t = St(At.mark(function t(n) { var i, e, r, s, u; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (i = this.QEt, e = i.buffered, !(e.length > 0)) { t.next = 11; break } if (r = e.start(0), s = _.min(e.end(0), n), !((u = s - r) > .5 || s <= n && u > 0)) { t.next = 11; break } return i.remove(r, s), t.next = 11, this.oIt(); case 11: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), n.eIt = function () { var t = St(At.mark(function t(n, i) { var e, r, s, u, o; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (this.$Et, e = this.QEt, r = e.buffered, !((s = r.length) > 0)) { t.next = 12; break } if (u = _.max(r.start(0), n), o = _.min(r.end(s - 1), i), !(o - u > 0)) { t.next = 12; break } return e.remove(u, o), t.next = 12, this.oIt(); case 12: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), n.yj = function () { var t = St(At.mark(function t() { var n, i, e; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (n = this.$Et, i = this.QEt, n.open && "open" === n.readyState) { t.next = 4; break } return t.abrupt("return"); case 4: if (t.prev = 4, e = i.updating, i.abort(), !e) { t.next = 10; break } return t.next = 10, pr(i, "updateend"); case 10: t.next = 15; break; case 12: t.prev = 12, t.t0 = t.catch(4); case 15: case "end": return t.stop() } }, t, this, [[4, 12]]) })); return function () { return t.apply(this, arguments) } }(), n.uIt = function (t) { return Tt.resolve(t()) }, n.aIt = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (this.fJ(n)) { t.next = 5; break } return t.next = 3, ae(100); case 3: t.next = 0; break; case 5: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), n.fJ = function (t) { var n = this.$Et; if (!n.open || "open" !== n.readyState || !this.KEt()) return !0; for (var i = 0; i < n.sourceBuffers.length; i++)if (n.sourceBuffers[i].updating) return !1; return t ? n.endOfStream(t) : n.endOfStream(), !0 }, n.oIt = function () { var t = this; return new Tt(function (n, i) { var e, r = t.QEt, s = !1, u = function () { s = !0 }, o = function () { s = !1, e = "error" }, a = function () { s = !1, e = "aborted" }, h = function () { c(), s && !e ? n() : i(new v(e)) }, c = function () { r.removeEventListener("update", u), r.removeEventListener("error", o), r.removeEventListener("abort", a), r.removeEventListener("updateend", h) }; r.addEventListener("update", u), r.addEventListener("error", o), r.addEventListener("abort", a), r.addEventListener("updateend", h) }) }, n.hIt = function () { var t = this; this.YEt || (0 !== this.wj.length || this.ZEt) && this.KEt() && (this.YEt = this.cIt().then(function () { t.YEt = null })) }, n.cIt = function () { var t = St(At.mark(function t() { var n; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: t.prev = 0; case 1: if (!(this.wj.length > 0)) { t.next = 9; break } if (this.KEt()) { t.next = 4; break } return t.abrupt("return"); case 4: return n = this.wj.shift(), t.next = 7, this.JEt(n); case 7: t.next = 1; break; case 9: t.next = 16; break; case 11: return t.prev = 11, t.t0 = t.catch(0), t.next = 16, this.aIt("decode").catch(q); case 16: if (!this.ZEt) { t.next = 26; break } return t.prev = 17, t.next = 20, this.aIt(this.ZEt.Bo); case 20: t.next = 25; break; case 22: t.prev = 22, t.t1 = t.catch(17); case 25: this.ZEt = null; case 26: case "end": return t.stop() } }, t, this, [[0, 11], [17, 22]]) })); return function () { return t.apply(this, arguments) } }(), n.wx = function (t, n) { this.XEt || (this.XEt = !0, this.$Et = t, this.QEt = n, this.hIt()) }, n.kd = function (t, n, i) { this.wj.push({ Ou: 0, ei: t, Eft: n, SW: i }), this.hIt() }, n.fIt = function (t, n) { this.wj.push({ Ou: 2, rIt: t, sIt: n }), this.hIt() }, n.vIt = function (t) { this.wj.push({ Ou: 1, iIt: t }), this.hIt() }, n.eh = function () { this.wj.push({ Ou: 3 }), this.hIt() }, n.lIt = function (t) { this.wj.push({ Ou: 4, SW: t }), this.hIt() }, n.Zkt = function (t) { this.ZEt = { Bo: t }, this.hIt() }, n.zo = function () { this.wj.length = 0, this.ZEt = null }, t }(); var eU = function (t) { function n(n) { var i; return (i = t.call(this) || this).QEt = null, i.dIt = new iU, i.OP = NaN, i._It = null, i.do = function (t) { return i.dispatchEvent(t) }, i.gIt = function () { return i.nwt() }, i.$Et = n, i.bf(), i } rt(n, t); var i = n.prototype; return i.wIt = function (t) { if (t) return this.dispatchEvent({ type: "error", error: t }) }, i.FJ = function (t, n, i, e) { var r = this; if (!this.QEt || !n) return Tt.resolve(); var s = n.initializer.ei, u = function (t, n) { if (!t) return !0; var i = t.length; if (i !== n.length) return !0; for (var e = 0; e < i; e += 1)if (t[e] !== n[e]) return !0; return !1 }(this._It, s); if (e && (x.Tn || this.dIt.eh()), e) if (x.Tn); else { var o = t && t.Ll, a = t && t.Ll + t.Zy - .5; this.dIt.fIt(o, a) } return u && (this.dIt.kd(s, i, this.wIt.bind(this)), this._It = s), new Tt(function (t, e) { r.dIt.kd(n.m4s.ei, i, function (n) { n ? e(n) : t() }) }) }, i.XZ = function () { var t = this; return new Tt(function (n) { t.dIt.lIt(function () { var i = t.hg; i && i.length && (t.OP = i.end(i.length - 1)), n() }) }) }, i.mJ = function (t) { if (!this.QEt) { try { this.QEt = this.$Et.addSourceBuffer(t), this.QEt.addEventListener("updatestart", this.do), this.QEt.addEventListener("updateend", this.do) } catch (t) { return this.dispatchEvent({ type: "error", error: t }), !1 } this.$Et.addEventListener("sourceclose", this.gIt), this.dIt.wx(this.$Et, this.QEt) } return !0 }, i.KEt = function () { for (var t = 0; t < this.$Et.sourceBuffers.length; t++)if (this.$Et.sourceBuffers[t] === this.QEt) return !0; return !1 }, i.Mh = function (t) { var n = this, i = this.hg; if (!(this.QEt && i && i.length)) return t && t(); this.QEt.remove(0, i.end(i.length - 1)), t && this.QEt.addEventListener("updateend", function i(e) { n.QEt.removeEventListener("updateend", i), t() }) }, i.bf = function (t) { this._It = null, this.OP = NaN, this.nwt(), this.Mh(t) }, i.vIt = function (t) { this.QEt && this.dIt.vIt(t) }, i.Zkt = function (t) { this.QEt && this.dIt.Zkt(t) }, i.nwt = function () { this.dIt.zo(), "open" === this.$Et.readyState && this.QEt && this.QEt.updating && this.QEt.abort() }, T(n, [{ key: "hg", get: function () { return this.QEt && this.KEt() ? new UM($M(this.QEt.buffered)) : null } }, { key: "lX", get: function () { return this.QEt && this.QEt.updating } }, { key: "SN", get: function () { var t = this.hg; return !t || !p(this.OP) && WM(t, this.OP) } }]), n }(vP), rU = "mp4a.40.34"; var sU = function (t) { function n(n) { var i; return (i = t.call(this) || this).yIt = !1, i.SX = function () { var t = i.yIt; i.yIt = i.lX, !t && i.yIt ? i.dispatchEvent("updatestart") : t && !i.yIt && i.dispatchEvent("updateend") }, i.mediasource = n, i.audioTrackBuffer = new eU(n), i.videoTrackBuffer = new eU(n), i.audioTrackBuffer.addEventListener("updatestart", i.SX), i.videoTrackBuffer.addEventListener("updatestart", i.SX), i.audioTrackBuffer.addEventListener("updateend", i.SX), i.videoTrackBuffer.addEventListener("updateend", i.SX), i.bf(), i } rt(n, t); var i = n.prototype; return i.FJ = function () { var t = St(At.mark(function t(n) { var i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (this.mediasource.open) { t.next = 2; break } return t.abrupt("return"); case 2: return i = [], n.mct && i.push(this.audioTrackBuffer.FJ(n.metadata.mct, n.mct, n.metadata.mct && n.metadata.mct.wdt === rU ? n.metadata.mct.Ll : NaN, n.metadata.Kdt)), n.kct && i.push(this.videoTrackBuffer.FJ(n.metadata.kct, n.kct, NaN, n.metadata.Kdt)), t.next = 7, Tt.all(i); case 7: this.SN && (this.audioTrackBuffer.Zkt(), this.videoTrackBuffer.Zkt()); case 8: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.Zkt = function () { var t = St(At.mark(function t(n, i) { var e; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return e = [], n && e.push(this.audioTrackBuffer.XZ()), i && e.push(this.videoTrackBuffer.XZ()), t.next = 5, Tt.all(e); case 5: this.SN && (this.audioTrackBuffer.Zkt(), this.videoTrackBuffer.Zkt()); case 6: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.wx = function (t) { var n, i = {}; for (var e in t) if (B.call(t, e)) { var r = t[e]; if (r.kct) { var s = 'video/mp4; codecs="' + r.kct + '"'; this.videoTrackBuffer.mJ(s), i.kct = this.videoTrackBuffer } if (r.mct) { var u = (n = r.mct) !== rU || ip ? 'audio/mp4; codecs="' + n + '"' : "audio/mpeg"; this.audioTrackBuffer.mJ(u), i.mct = this.audioTrackBuffer } 0 } return i }, i.bf = function (t) { var n = !1, i = !1; this.yIt = !1, this.audioTrackBuffer.bf(function () { if (n = !0, i && t) return t() }), this.videoTrackBuffer.bf(function () { if (i = !0, n && t) return t() }) }, i.vIt = function (t) { this.audioTrackBuffer.vIt(t), this.videoTrackBuffer.vIt(t) }, i.nwt = function (t) { t && -1 === t.indexOf("audio") || this.audioTrackBuffer.nwt(), t && -1 === t.indexOf("video") || this.videoTrackBuffer.nwt() }, T(n, [{ key: "hg", get: function () { var t = this.audioTrackBuffer.hg, n = this.videoTrackBuffer.hg; return t && n ? qM(t, n) : t || n || VM } }, { key: "pIt", get: function () { return this.audioTrackBuffer.hg || VM } }, { key: "HZ", get: function () { return this.videoTrackBuffer.hg || VM } }, { key: "lX", get: function () { return this.audioTrackBuffer.lX || this.videoTrackBuffer.lX } }, { key: "SN", get: function () { return this.audioTrackBuffer.SN && this.videoTrackBuffer.SN } }]), n }(vP), uU = 1, oU = .05, aU = .01; function hU(t, n) { for (var i = n.length, e = 0; e < i; e += 1)if (n.start(e) > t) return e; return -1 } function cU(t, n, i, e) { var r = XM(n, t), s = t; if (!(!e && r >= 0 && t < n.end(r) - oU)) { var u, o; do { if ((u = hU(t, n)) < 0) return; t = (o = n.start(u) + aU) + oU } while (n.end(u) - o < oU); for (var a = o - s, h = qM(new UM([{ Ll: s, Fl: o }]), i), c = 0; c < h.length; c++)a -= h.end(c) - h.start(c); return e && r >= 0 && (a -= n.end(r) - s), a < uU ? o : void 0 } } var fU = 100, vU = 1e-4, lU = 500, dU = op, gU = x.fn, _U = ["resize", "volumechange"], wU = function (n) { function i(t, i) { var e; return (e = n.call(this) || this).mIt = !0, e.SN = !1, e.kIt = !1, e.bIt = !1, e.AIt = null, e.Bo = !1, e.$Et = null, e.QEt = null, e.TIt = null, e.XEt = !1, e.SIt = 0, e.EIt = hs.Vd(), e.ETt = 1, e.IIt = !1, e.RIt = !1, e.pg = !1, e.NIt = new ie, e.CIt = !1, e.DIt = !1, e.xIt = void 0, e.OIt = null, e.BIt = null, e.PIt = eu.h_, e.MIt = !1, e.configuration = {}, e.loading = !1, e.loaded = !1, e.LIt = function () { e.MIt = !1, e.jIt(), e.FIt(), e.UIt() }, e.VIt = function () { e.HIt(), e.UIt(), e.GIt() }, e.ZU = function () { e.zIt(), e.HIt(), e.D5() ? e.dispatchEvent("playing") : e.MIt = !0 }, e.qIt = function () { e.MIt = !1, e.jIt(), e.bx() }, e.cJ = function () { e.WIt() }, e.YU = function () { e.XIt(), e.GIt() }, e.oK = function () { var t = e.PIt, n = e.Zf; t !== n && (e.PIt = n, e.dispatchEvent(new Nh(e.zTt(), n))), e.GIt() }, e.FIt = function () { e.SIt && (f(e.SIt), e.SIt = 0, gU && e.pU.fV.removeEventListener("timeupdate", e.$It)) }, e.QIt = function () { e.SIt || (e.SIt = c(e.YIt, lU)), gU && (e.pU.fV.addEventListener("timeupdate", e.$It), e.$It()), e.YIt() }, e.ZIt = function () { var t = e.zTt(), n = WM(e.KIt, t); e.pU.rN || e.pg && !n || e.JIt() || e.QIt() }, e.YIt = function (t) { if (!(e.OIt || void 0 === t && e.DIt)) { var n, i = e.zTt(), r = e.hg; if (void 0 === t) { if (void 0 === (n = cU(i, r, e.KIt, e.kIt))) return } else { if (!WM(r, t)) return; n = t } var s = function () { e.pU.fV.currentTime = n, e.tRt(n), e.FIt(), e.DIt = !0 }; yo(n, i) ? e.OIt = a(function () { e.OIt = null, i = e.zTt(), yo(n, i) && (n += 1e3 * lU, s()) }, lU) : s() } }, e.I4 = function () { var t = e.TIt; if (e.nRt(), e.pU.fV.readyState === eu.h_) return e.TIt = t, void e.pU.fV.addEventListener("loadedmetadata", e.I4); _.abs(e.pU.fV.currentTime - t) < vU ? e.YU() : (e.pU.fV.currentTime = t, e.DIt = !1, e.cJ()), e.TIt = null, e.U$(e.ETt), e.iRt(t) && e.bx() }, e.eRt = function () { if (!e.kIt) { var t = e.pU.fV, n = e.hg, i = t.currentTime; e.rRt(n, i) && (e.kIt = !0, e.HIt(), i = t.currentTime, e.rRt(n, i) ? e.kIt = !0 : e.kIt = !1, e.oK()), e.BIt = i } }, e.zIt = function () { e.jIt(), e.AIt = c(e.eRt, fU) }, e.jIt = function () { e.kIt = !1, f(e.AIt) }, e.sRt = function () { e.kIt && (e.kIt = !1, e.oK()) }, e.$It = function () { var t = e.QEt; if (t) { var n = e.zTt(), i = t.pIt, r = t.HZ; (i.length > 0 && !WM(i, n)) !== (r.length > 0 && !WM(r, n)) && !t.SN ? e.uRt() : e.oRt() } }, e.aRt = function () { e.$Et.open = !0, e.$Et.removeEventListener("sourceopen", e.aRt), e.$Et.removeEventListener("webkitsourceopen", e.aRt) }, e.Qj = function (t) { var n = e.pU.fV.error && e.pU.fV.error.code; n && e.W8(new RN("PLAYBACK_ISSUE", { code: "VEE" + n })) }, e.do = function (t) { e.dispatchEvent({ type: t.type }) }, e.QE = function () { e.QEt && e.QEt.SN && e.dispatchEvent("durationchange") }, e.hRt = function () { e.removeEventListener("cRt", e.hRt), e.CIt = !1, e.fRt(e.ETt) }, e.vRt = t, e.pU = i, e } rt(i, n); var e = i.prototype; return e.fRt = function (t) { this.RIt && (t = 0), 0 !== t || dU ? this.IIt && (this.IIt = !1, KF(this.pU.sN())) : (this.IIt = !this.pU.rN || this.IIt, this.pU.dN()), this.pU._g = t, this.UIt() }, e.U$ = function (t) { this.ETt = t, this.CIt || this.fRt(t) }, e.lRt = function (t) { var n = XM(this.KIt, t); return -1 === n ? null : this.KIt.end(n) }, e.WIt = function () { this.DIt || this.pg || (this.pg = !0, this.dispatchEvent("seeking")) }, e.XIt = function () { this.DIt = !1, this.dRt(), this.pg && (this.pg = !1, this.dispatchEvent("seeked")), this.ZIt() }, e.HIt = function () { this.DIt || this.ZIt() }, e.dRt = function () { this.xIt && (h(this.xIt), this.xIt = void 0) }, e.tRt = function (t) { var n = this; this.xIt = a(function () { n.YIt(t + 2) }, 750) }, e.GIt = function () { this.MIt && this.D5() && (this.MIt = !1, this.dispatchEvent("playing")) }, e.UIt = function () { var t = this.mIt, n = this.paused; this.mIt = n, t && !n ? this.dispatchEvent("play") : !t && n && this.dispatchEvent("pause") }, e.$Z = function (t, n) { if (!(t + .001 > n)) { var i = new hs([t, n]); this.EIt = this.EIt.bd(i).Sd(hs.Fd(this.hg)), this.EIt.fd(this.zTt()) && this.ZIt() } }, e.iRt = function (t) { return t >= this.pU.fV.duration - (this.paused ? 0 : .5) }, e._Rt = function (t) { return p(this.pU.fV.duration) || (t = _.min(t, this.pU.fV.duration)), _.max(0, t) }, e.nRt = function () { this.TIt = null, this.pU.fV.removeEventListener("loadedmetadata", this.I4) }, e.O5 = function () { return this.Zf < eu.v_ }, e.D5 = function () { return !(this.paused || this.ended || this.error || this.O5()) }, e.rRt = function (t, n) { var i = function (t, n) { for (var i = n.length, e = 0; e < i; e += 1) { if (n.start(e) > t) return e; if (t < n.end(e) - oU) return e } return -1 }(n, t), e = i < 0 ? 0 : t.end(i), r = i < 0 ? 0 : t.start(i); if (this.BIt && this.BIt === n) { if (this.iRt(n)) return !1; if (r > n || e - n < 1 / 6) return !0 } return !1 }, e.uRt = function () { this.RIt || (this.RIt = !0, this.fRt(0), this.oK()) }, e.oRt = function () { this.RIt && (this.RIt = !1, this.U$(this.ETt), this.oK()) }, e.gRt = function () { var t = this.pU.fV; t.addEventListener("timeupdate", this.sRt), this.pU.mo(es.yl, this.LIt), this.pU.mo(es.bl, this.VIt), this.pU.mo(es.ll, this.qIt), t.addEventListener("seeking", this.cJ), t.addEventListener("seeked", this.YU); for (var n = 0; n < _U.length; n++) { var i = _U[n]; t.addEventListener(i, this.do) } t.addEventListener("error", this.Qj), t.addEventListener("durationchange", this.QE), this.pU.mo(es.Dl, this.do), this.pU.mo("readystatechange", this.oK), this.pU.mo("playing", this.ZU) }, e.wRt = function () { var t = this.pU.fV; t.removeEventListener("timeupdate", this.sRt), this.pU.So(es.yl, this.LIt), this.pU.So(es.bl, this.VIt), this.pU.So(es.ll, this.qIt), t.removeEventListener("seeking", this.cJ), t.removeEventListener("seeked", this.YU); for (var n = 0; n < _U.length; n++) { var i = _U[n]; t.removeEventListener(i, this.do) } t.removeEventListener("error", this.Qj), t.removeEventListener("durationchange", this.QE), this.pU.So(es.Dl, this.do), this.pU.So("readystatechange", this.oK), this.pU.So("playing", this.ZU) }, e.yRt = function () { var n = this.pU.fV, i = r.MediaSource || r.WebKitMediaSource || null; null !== i ? t.URL && t.URL.createObjectURL || t.webkitURL && t.webkitURL.createObjectURL || t.createObjectURL ? (this.Dut(), this.$Et = new i, this.$Et.addEventListener("sourceopen", this.aRt), this.$Et.addEventListener("webkitsourceopen", this.aRt), n.src = TM(this.$Et), n.load()) : this.W8(new RN("BROWSER_SUPPORT_ISSUE", { code: "MVE2720" })) : this.W8(new RN("BROWSER_SUPPORT_ISSUE", { code: "MVE2650" })) }, e.Dut = function () { if (this.XEt = !1, this.QEt && (this.QEt.bf(), this.QEt = null), this.$Et) { this.NIt.eh(); var t = this.pU.fV; t.src && (SM(t.src), Ze(t)), this.$Et = null } }, e.setup = function () { this.yRt(), this.gRt(), this.pU.fV.parentNode !== this.vRt && this.vRt.appendChild(this.pU.fV) }, e.W8 = function (t) { this.Bo = t, this.dispatchEvent({ type: "error", error: t }) }, e.JIt = function () { return this.QEt && this.QEt.lX }, e.pRt = function (t) { var n = this.zTt() - _.max(30, 3 * t.eft.Iht.targetDuration); this.dispatchEvent("cRt"), this.QEt && this.QEt.vIt(n), this.ZIt() }, e.FJ = function (t) { if (!this.$Et.open || "closed" === this.$Et.readyState) return Tt.reject("mRt"); if (!this.QEt) return Tt.reject("kRt"); var n = this.bRt(t); return this.bIt || (this.bIt = !0, this.dispatchEvent({ type: "canplay" }, !0)), n }, e.bRt = function () { var t = St(At.mark(function t(n) { var i, e; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return i = n.metadata, (e = []).push(this.QEt.FJ(n)), i.Nat && e.push(this.Zkt(!!n.mct, !!n.kct)), n = null, t.next = 7, Tt.all(e); case 7: this.pRt(i); case 8: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), e.Zkt = function (t, n) { return this.$Et.open && "closed" !== this.$Et.readyState ? this.QEt ? this.QEt.Zkt(t, n) : Tt.reject("kRt") : Tt.reject("mRt") }, e.play = function () { var t = this.pU._g; this.SN = !1, 0 !== this.pU._g || dU ? (KF(this.pU.sN()), this.pU._g = t) : this.IIt = !0, this.UIt() }, e.pause = function () { 0 !== this.pU._g || dU ? this.pU.dN() : this.IIt = !1, this.UIt() }, e.bx = function () { this.SN || (this.SN = !0, this.pU.dN(), this.dispatchEvent("ended")) }, e.load = function () { this.dispatchEvent("loadstart"), this.loaded = !0 }, e.unload = function () { return f(this.AIt), this.AIt = null, this.FIt(), this.Dut(), this.wRt(), this.To(), this.pU.fV }, e.reset = function () { f(this.AIt), this.AIt = null, this.FIt(), this.nRt(), this.mIt = !0, this.SN = !1, this.kIt = !1, this.bIt = !1, this.Bo = !1, this.pg = !1, this.MIt = !1, this.oRt(), this.yRt(), this.loading = !1, this.loaded = !1, this.dispatchEvent("reset") }, e.Nx = function () { return this.pU.fV }, e.zTt = function () { return null === this.TIt ? this.pU.fV.currentTime : this.TIt }, e.ASt = function (t) { var n = this.lRt(t); t = this._Rt(t), this.kIt = !1, this.pU.fV.error && (this.bIt = !1, this.Bo = !1, this.yRt()), this.SN && (this.SN = this.iRt(t)), this.FIt(), null !== n && (t = n), this.nRt(), this.TIt = t, this.pg = !0, this.dispatchEvent("wSt"), this.dispatchEvent("seeking"), this.I4() }, e.ARt = function (t) { return this.$Et.open ? Tt.resolve(null) : pr(this.$Et, "sourceopen", t) }, e.TRt = function (t, n) { n > 0 && (this.$Et.duration = n), this.QEt = new sU(this.$Et); var i = this.QEt.wx(t); return this.dispatchEvent("HEt"), this.QEt.addEventListener("updatestart", this.FIt), this.QEt.addEventListener("updateend", this.ZIt), this.XEt = !0, this.dispatchEvent("XEt"), i }, e.hSt = function (t, n) { var i = this; return this.NIt.eh(), this.NIt = new ie, this.QEt ? Tt.resolve(null) : this.ARt(this.NIt._h).then(function () { return i.TRt(t, n) }) }, e.yvt = function (t) { x.Tn && (this.CIt = !0, this.fRt(0), this.removeEventListener("cRt", this.hRt), this.addEventListener("cRt", this.hRt), this.QEt && this.QEt.nwt(t)) }, e.canPlayCodecs = function (t) { return this.pU.fV.canPlayType('video/mp4; codecs="' + t + '"') }, T(i, [{ key: "KIt", get: function () { return this.EIt.Jl() } }, { key: "Zf", get: function () { var t = this.pU.Zf; return t > eu.f_ && (this.kIt || this.RIt) ? eu.f_ : t } }, { key: "oE", get: function () { return this.pU.fV } }, { key: "hg", get: function () { return this.QEt ? this.QEt.hg : this.pU.fV.buffered } }, { key: "pIt", get: function () { return this.QEt ? this.QEt.pIt : VM } }, { key: "HZ", get: function () { return this.QEt ? this.QEt.HZ : VM } }, { key: "volume", get: function () { return this.pU.fV.volume }, set: function (t) { this.pU.fV.volume = t } }, { key: "duration", get: function () { return this.pU.fV.duration } }, { key: "muted", get: function () { return this.pU.fV.muted }, set: function (t) { this.pU.fV.muted = t } }, { key: "paused", get: function () { return this.pU.rN && !this.IIt } }, { key: "played", get: function () { return this.pU.fV.played } }, { key: "poster", get: function () { return this.pU.fV.poster }, set: function (t) { t ? this.pU.fV.poster = t : this.pU.fV.removeAttribute("poster") } }, { key: "controls", get: function () { return this.pU.fV.controls }, set: function (t) { t ? this.pU.fV.controls = t : this.pU.fV.removeAttribute("controls") } }, { key: "ended", get: function () { return this.SN } }, { key: "seeking", get: function () { return this.pg } }, { key: "error", get: function () { return this.Bo || this.pU.fV.error } }, { key: "width", get: function () { return this.pU.fV.offsetWidth || this.pU.fV.parentNode.offsetWidth } }, { key: "height", get: function () { return this.pU.fV.offsetHeight || this.pU.fV.parentNode.offsetHeight } }, { key: "_g", get: function () { return this.ETt }, set: function (t) { var n = this.ETt; t > 0 && (this.U$(t), this.ETt !== n && this.dispatchEvent("ratechange")) } }, { key: "zx", get: function () { return this.pU.fV.videoWidth || 0 } }, { key: "Gx", get: function () { return this.pU.fV.videoHeight || 0 } }, { key: "aSt", get: function () { return this.XEt } }]), i }(vP), yU = ["seeked", "seeking", "playing", "pause", "play", "resize", "warning", "ended", "durationchange", "SRt", "yvt", "readystatechange"], pU = .04, mU = .25, kU = 4, bU = .75, AU = 1.5, TU = .25, SU = function (t) { function n() { var n; return (n = t.call(this) || this).ERt = null, n.IRt = null, n.XS = !1, n.sx = 1, n.aY = 1, n.RRt = null, n.NRt = void 0, n.LEt = function (t) { n.dispatchEvent(t) }, n.CRt = function (t) { n.IRt || n.dispatchEvent(t) }, n.DRt = function (t) { var i = t.error || n.IRt.error; n.audioStream = null, n.RRt = i.message || i.toString(), n.dispatchEvent({ type: "warning", warning: n.RRt }) }, n.xRt = function () { n.IRt && !n.IRt.loaded || n.ERt && !n.ERt.loaded || (n.IRt && (n.IRt.removeEventListener("loaded", n.xRt), n.IRt.play()), n.ERt && (n.ERt.removeEventListener("loaded", n.xRt), n.ERt.play())) }, n.ORt = function () { n.BRt(), n.IRt && n.ERt && (n.IRt.addEventListener("timeupdate", n.PRt), n.ERt.addEventListener("timeupdate", n.PRt)) }, n.BRt = function () { h(n.NRt), n.IRt && n.IRt.removeEventListener("timeupdate", n.PRt), n.ERt && (n.ERt._g = n.aY, n.ERt.removeEventListener("timeupdate", n.PRt)) }, n.MRt = function () { n.Zf < eu.v_ && n.BRt() }, n.PRt = function () { if (h(n.NRt), n.IRt && n.ERt) { var t = n.IRt._g, i = n.IRt.zTt() - n.ERt.zTt(), e = _.max(kU, AU * t), r = _.min(mU, bU * t); if (_.abs(i) < pU) n.ERt._g !== t && (n.ERt._g = t); else { var s = TU, u = t * (i / s + 1); (u < r || u > e) && (s = i / ((u = i > 0 ? e : r) / t - 1)), n.ERt._g = u, n.NRt = a(n.PRt, 1e3 * s) } } else n.BRt() }, n.addEventListener("playing", n.ORt), n.addEventListener("ended", n.BRt), n.addEventListener("readystatechange", n.MRt), n } rt(n, t); var i = n.prototype; return i.lvt = function (t, n) { n ? (t.addEventListener("timeupdate", this.LEt), t.addEventListener("error", this.DRt)) : (t.addEventListener("timeupdate", this.CRt), t.addEventListener("error", this.LEt)); for (var i = 0; i < yU.length; i++) { var e = yU[i]; t.addEventListener(e, this.LEt) } }, i.Io = function (t) { t.removeEventListener("timeupdate", this.LEt), t.removeEventListener("timeupdate", this.CRt), t.removeEventListener("timeupdate", this.PRt), t.removeEventListener("error", this.LEt), t.removeEventListener("error", this.DRt), t.removeEventListener("loaded", this.xRt); for (var n = 0; n < yU.length; n++) { var i = yU[n]; t.removeEventListener(i, this.LEt) } }, i.LRt = function (t) { this.IRt && this.IRt.LRt(t), this.ERt && this.ERt.LRt(t) }, i.play = function () { if (this.IRt && !this.IRt.loaded || this.ERt && !this.ERt.loaded) return this.IRt && this.IRt.addEventListener("loaded", this.xRt), void (this.ERt && this.ERt.addEventListener("loaded", this.xRt)); this.xRt() }, i.pause = function () { this.IRt && (this.IRt.removeEventListener("loaded", this.xRt), this.IRt.pause()), this.ERt && (this.ERt.removeEventListener("loaded", this.xRt), this.ERt.pause()), this.BRt() }, i.load = function (t) { t ? (-1 !== t.indexOf("audio") && this.IRt && this.IRt.load(), -1 !== t.indexOf("video") && this.ERt && this.ERt.load()) : (this.IRt && this.IRt.load(), this.ERt && this.ERt.load()) }, i.Af = function (t) { this.To(), this.RRt = null, t ? (-1 !== t.indexOf("audio") && this.IRt && (this.IRt.Af(), this.IRt = null), -1 !== t.indexOf("video") && this.ERt && (this.ERt.Af(), this.ERt = null)) : (this.IRt && (this.IRt.Af(), this.IRt = null), this.ERt && (this.ERt.Af(), this.ERt = null)) }, i.yvt = function (t) { this.IRt && this.IRt.pause(), this.ERt && this.ERt.pause(), this.BRt(), t && -1 === t.indexOf("audio") || !this.IRt || this.IRt.yvt(), t && -1 === t.indexOf("video") || !this.ERt || this.ERt.yvt() }, i.FJ = function (t) { this.IRt && t.mct && this.IRt.FJ(t), this.ERt && t.kct && this.ERt.FJ(t) }, i.jRt = function (t) { return this.ERt ? this.ERt.jRt(t) : "" }, i.FRt = function () { return this.ERt ? this.ERt.FRt() : 0 }, i.URt = function () { return this.ERt ? this.ERt.URt() : 0 }, i.Nx = function () { return this.ERt && this.ERt.Nx() }, i.zTt = function () { return this.IRt ? this.IRt.zTt() : this.ERt ? this.ERt.zTt() : NaN }, i.ASt = function (t, n) { this.IRt && this.IRt.ASt(t, n), this.ERt && this.ERt.ASt(t, n) }, T(n, [{ key: "hg", get: function () { return this.IRt && this.ERt ? qM(this.IRt.hg, this.ERt.hg) : this.IRt ? this.IRt.hg : this.ERt ? this.ERt.hg : VM } }, { key: "volume", get: function () { return this.sx }, set: function (t) { this.sx !== t && (this.sx = t, this.IRt && (this.IRt.volume = t), this.dispatchEvent("volumechange")) } }, { key: "duration", get: function () { return this.IRt && this.IRt.duration || this.ERt && this.ERt.duration || NaN } }, { key: "muted", get: function () { return this.XS }, set: function (t) { this.XS !== t && (this.XS = t, this.IRt && (this.IRt.muted = t), this.dispatchEvent("volumechange")) } }, { key: "loaded", get: function () { return !(!this.IRt && !this.ERt) && (!(this.IRt && !this.IRt.loaded) && !(this.ERt && !this.ERt.loaded)) } }, { key: "paused", get: function () { return !this.IRt && !this.ERt || (this.IRt && this.IRt.paused || this.ERt && this.ERt.paused || !1) } }, { key: "ended", get: function () { return this.IRt && this.IRt.ended || this.ERt && this.ERt.ended || !1 } }, { key: "seeking", get: function () { return this.IRt && this.IRt.seeking || this.ERt && this.ERt.seeking || !1 } }, { key: "error", get: function () { return this.IRt && this.IRt.error || this.ERt && this.ERt.error } }, { key: "warning", get: function () { return this.RRt || this.IRt && this.IRt.warning || this.ERt && this.ERt.warning } }, { key: "audioStream", get: function () { return this.IRt }, set: function (t) { this.IRt && (this.Io(this.IRt), this.IRt.Af()), this.IRt = t, this.IRt && (this.IRt.volume = this.sx, this.IRt.muted = this.XS, this.IRt._g = this.aY, this.lvt(this.IRt, !0)) } }, { key: "videoStream", get: function () { return this.ERt }, set: function (t) { this.ERt && (this.Io(this.ERt), this.ERt.Af()), this.ERt = t, this.ERt && (this.ERt._g = this.aY, this.lvt(this.ERt, !1)) } }, { key: "_g", get: function () { return this.aY }, set: function (t) { this.aY !== t && (t < 0 || (this.aY = t, this.IRt && (this.IRt._g = t), this.ERt && (this.ERt._g = t), this.dispatchEvent("ratechange"))) } }, { key: "Zf", get: function () { return this.IRt && this.ERt ? _.min(this.IRt.Zf, this.ERt.Zf) : this.IRt ? this.IRt.Zf : this.ERt ? this.ERt.Zf : eu.h_ } }, { key: "zx", get: function () { return this.ERt ? this.ERt.zx : 0 } }, { key: "Gx", get: function () { return this.ERt ? this.ERt.Gx : 0 } }]), n }(vP), EU = function () { function t(t, n, i, e) { var r = this; this.zk = void 0, this.HT = 0, this.kT = 0, this.running = !1, this.VRt = function (t) { return r.Lh(t) }, this.HRt = t, this.GRt = n, this.Zy = i, this.SW = e, this.zRt = t.Vo(), this.qRt = (n - this.zRt) / (i || 1) } var n = t.prototype; return n.WRt = function () { return this.HRt.zd(this.GRt), this.running = !1, this.XRt(), this.SW() }, n.Ll = function () { var t = this; this.running = !0, this.Zy ? this.$Rt() : fP(function () { t.running && t.WRt() }) }, n.Lh = function (t) { if (this.XRt(), this.running) { void 0 === this.zk && (this.zk = t); var n = this.zRt, i = this.qRt, e = this.GRt, r = this.HRt, s = n + _.max(0, t - this.zk) * i; if (n >= e && s <= e || n < e && s >= e) return this.WRt(); if (r.zd(s)) return this.WRt(); this.$Rt() } }, n.$Rt = function () { this.HT = l_(this.VRt), this.kT = f_(this.VRt) }, n.XRt = function () { d_(this.HT), v_(this.kT) }, t }(); var IU = function (t) { function n(n, i) { var e; return (e = t.call(this) || this).QRt = null, e.YRt = null, e.ZRt = NaN, e.KRt = !1, e.cst = !1, e.JRt = 1, e.tNt = void 0, e.nNt = void 0, e.iNt = function (t) { e.eNt(t) || e.dispatchEvent(t) }, e.rNt = n, e.iO = i, e } rt(n, t); var i = n.prototype; return i.pause = function () { this.rNt.pause() }, i.play = function () { KF(this.rNt.play()), this.sNt() }, i.uNt = function (t) { if (!(this.Zf < eu.v_)) return this.nwt(), this.KRt = !0, this.iNt({ type: "canplay" }), t && t(); this.tNt = a(this.nNt, 100) }, i.Ph = function (t) { this.cst = !0, this.KRt = !1, this.rNt.removeEventListener("canplay", this.nNt), this.nNt = this.uNt.bind(this, t), this.rNt.addEventListener("canplay", this.nNt), this.rNt.load(), this.tNt = a(this.nNt, 100) }, i.nwt = function () { this.cst = !1, this.rNt.removeEventListener("canplay", this.nNt), void 0 !== this.tNt && (h(this.tNt), this.tNt = void 0) }, i.oNt = function (t) { if (this.pause(), this.nwt(), null === t) return this.QRt = null, void (this.KRt = !1); this.KRt = !1, this.YRt && this.YRt.Dwt(this.rNt.src), this.YRt = t[this.iO], this.rNt.src = this.YRt.xwt, this.QRt = t }, i.Nx = function () { return this.rNt }, i.aNt = function (t) { this.ZRt = _.max(t || 0, 0), this.rNt.currentTime = this.ZRt }, i.hNt = function () { return this.rNt.currentTime }, i.cNt = function (t) { var n = this.QRt && this.QRt.metadata, i = n && n.Ll, e = n && n[this.iO].Ll, r = n && n[this.iO].Zy; return !!this.xS && (!(t < i) && t < e + _.min(r, this.rNt.duration)) }, i.sNt = function () { this.JRt !== this.rNt.playbackRate && (this.rNt.playbackRate = this.JRt, ap && this.JRt > 0 && this.Zf !== eu.h_ && (this.rNt.currentTime = this.rNt.currentTime)) }, i.eNt = function (t) { return !!(ap && "seeked" === t.type && _.abs(this.rNt.currentTime - this.ZRt) > .04) }, i.addEventListener = function (n, i) { this.Mot(n) || this.rNt.addEventListener(n, this.iNt), t.prototype.addEventListener.call(this, n, i) }, i.removeEventListener = function (n, i) { t.prototype.removeEventListener.call(this, n, i), this.Mot(n) || this.rNt.removeEventListener(n, this.iNt) }, i.To = function () { for (var n = 0, i = this.Lot(); n < i.length; n++) { var e = i[n]; this.rNt.removeEventListener(e, this.iNt) } t.prototype.To.call(this) }, i.unload = function () { this.YRt && this.YRt.Dwt(this.rNt.src), this.To() }, T(n, [{ key: "volume", get: function () { return this.rNt.volume }, set: function (t) { this.rNt.volume = t } }, { key: "muted", get: function () { return this.rNt.muted }, set: function (t) { this.rNt.muted = t } }, { key: "style", get: function () { return this.rNt.style } }, { key: "Ll", get: function () { return this.QRt ? this.QRt.metadata[this.iO].Ll : NaN } }, { key: "Fl", get: function () { return this.QRt ? this.Ll + this.QRt.metadata[this.iO].Zy : NaN } }, { key: "fNt", get: function () { return this.QRt ? this.Ll + this.vNt : NaN }, set: function (t) { this.QRt ? this.vNt = t - this.Ll : this.vNt = 0 } }, { key: "vNt", get: function () { return this.hNt() }, set: function (t) { this.aNt(t) } }, { key: "t7", get: function () { return this.QRt }, set: function (t) { this.oNt(t) } }, { key: "ntt", get: function () { return this.QRt && this.QRt.metadata.Nat } }, { key: "xS", get: function () { return !(!this.KRt || !this.QRt) } }, { key: "lNt", get: function () { return !(!this.cst || !this.QRt) } }, { key: "_g", get: function () { return this.JRt }, set: function (t) { t >= 0 && this.JRt !== t && (this.JRt = t, this.sNt()) } }, { key: "rN", get: function () { return this.rNt.paused } }, { key: "SN", get: function () { return this.rNt.ended } }, { key: "Bo", get: function () { return this.rNt.error } }, { key: "zx", get: function () { return this.rNt.videoWidth } }, { key: "Gx", get: function () { return this.rNt.videoHeight } }, { key: "Zf", get: function () { return this.rNt.readyState } }]), n }(vP); function RU(t, n) { return i = t.t7.metadata.eft, e = n.t7.metadata.eft, i.bandwidth && e.bandwidth && Ao(i.bandwidth, e.bandwidth) || i.resolution && e.resolution && Ao(i.resolution.width * i.resolution.height, e.resolution.width * e.resolution.height) || bo(i.pat, e.pat) || Ao(t.Fl, n.Fl); var i, e } function CU(t) { return { Ll: t.Ll, Fl: t.Fl } } function NU(t, n) { for (var i = 0; i < t.length; i++) { var e = t[i]; if (e.Ll <= n && n < e.Fl) return i } return -1 } function DU(t, n, i) { return { Ll: n ? i.metadata.pwt : i.metadata[t].Ll, Fl: i.metadata[t].Ll + i.metadata[t].Zy } } function xU(t, n, i) { return new UM([DU(t, n, i)]) } function BU(t, n, i) { for (var e = [], r = 0; r < i.length; r++) { var s = i[r]; e.push(DU(t, n, s)) } return zM(new UM(e)) } function OU(t, n, i) { if (!n) return !1; var e = n.metadata[t].Ll, r = e + n.metadata[t].Zy; return e <= i && i <= r } function PU(t, n) { var i = XM(t, n); return i < 0 ? n : t.end(i) } var MU = function () { function t(t) { this.f2 = [], this.dNt = VM, this._Nt = VM, this.Ou = t } var n = t.prototype; return n.FJ = function (t) { var n, i; this.f2 = function (t, n) { for (var i = [], e = function (t, n, e) { var r = i.length && i[i.length - 1]; r && r.t7 === t ? r.Fl = e : i.push({ t7: t, Ll: n, Fl: e }) }, r = 0; r < t.length; r++) { var s = t[r]; if (s.Fl <= n.Ll) e(s.t7, s.Ll, s.Fl); else if (s.Ll >= n.Fl) n.Ll < n.Fl && (e(n.t7, n.Ll, n.Fl), n.Ll = n.Fl), e(s.t7, s.Ll, s.Fl); else { var u = void 0, o = void 0; RU(n, s) >= 0 ? (u = s, o = n) : (u = n, o = s); var a = u.Ll, h = o.Ll, c = _.min(o.Fl, s.Fl), f = _.min(u.Fl, s.Fl); a < h && e(u.t7, a, h), h < c && e(o.t7, h, c), c < f && e(u.t7, c, f), n.Ll = _.max(n.Ll, s.Fl) } } return n.Ll < n.Fl && e(n.t7, n.Ll, n.Fl), i }(this.f2, function (t, n) { var i = n.metadata[t].Ll; return { t7: n, Ll: i, Fl: i + n.metadata[t].Zy } }(this.Ou, t)), this.dNt = QM(this.dNt, xU(this.Ou, !1, t)), this._Nt = QM(this._Nt, xU(this.Ou, !0, t)), this._Nt = (n = this._Nt, i = this.dNt, qM(n, GM(i))) }, n.gNt = function (t) { t = this.wNt(t); var n = NU(this.f2, t); return n >= 0 ? this.f2[n].t7 : null }, n.E8 = function (t, n, i, e) { t = this.wNt(t); var r = this.f2, s = NU(r, t); if (s < 0) return null; var u = r[s]; if (!i || !OU(this.Ou, i, t)) return e && OU(this.Ou, e, t) ? null : u.t7; if (i !== u.t7) { if (e && e === u.t7) return null; if (u.Fl - t > n) return u.t7 } for (var o = s + 1; o < r.length; o++) { var a = r[o]; if (e && e === a.t7) return null; if (a.Fl - t > n) return a.t7; for (var h = [i], c = o + 1; c < r.length; c++)h.push(r[c].t7); var f = BU(this.Ou, !1, h); h.push(a.t7); var v = BU(this.Ou, !1, h); if (PU(f, t) < PU(v, t)) return a.t7 } return null }, n.yNt = function (t, n) { for (var i = this.f2, e = i.length - 1; e >= 0; e--) { var r = i[e]; (r.Fl <= t || r.Ll >= n) && mn(i, e) } }, n.bf = function () { this.f2.length = 0, this.dNt = VM, this._Nt = VM }, n.wNt = function (t) { var n = cU(t, this.hg, this._Nt, !1); return void 0 === n ? t : n }, T(t, [{ key: "hg", get: function () { var t = this.f2.map(CU); return zM(new UM(t)) } }]), t }(), LU = 5, jU = 30, FU = function (t) { function n(n, i) { var e, r; (e = t.call(this) || this).gc = { mct: { pNt: 100, mNt: 100, kNt: 100 }, kct: { pNt: 500, mNt: 100, kNt: 200 } }, e.Jg = null, e.RRt = null, e.bNt = null, e.ANt = null, e.TNt = 0, e.SNt = null, e.ENt = !1, e.INt = !1, e.RNt = 0, e.NNt = 0, e.CNt = eu.h_, e.vIt = function () { var t = e.zTt(); e.DNt.yNt(t - LU, t + jU) }, e.xNt = { ONt: (r = st(e), { Ph: function () { r.BNt.addEventListener("ended", this.PNt), r.MNt.addEventListener("ended", this.LNt) }, Af: function () { r.BNt.removeEventListener("ended", this.PNt), r.MNt.removeEventListener("ended", this.LNt) }, jNt: function () { }, PNt: function () { r.pause(), r.dispatchEvent({ type: "ended", origin: r.BNt }) }, LNt: function () { r.pause(), r.dispatchEvent({ type: "ended", origin: r.MNt }) } }), NL: { Fn: "NL", Ph: function () { }, Af: function () { }, jNt: function () { } }, FNt: function () { var t = st(e), n = function n() { t.BNt.removeEventListener("play", n), t.BNt.removeEventListener("timeupdate", i), t.BNt.addEventListener("timeupdate", i) }, i = function n() { var i, e; t.BNt.rN || (!t.seeking && t.BNt.t7 ? (i = t.BNt, (e = t.MNt).xS && UU(i, e) >= 0 && t.UNt(t.xNt.VNt)) : t.BNt.removeEventListener("timeupdate", n)) }; return { Fn: "FNt", Ph: function () { t.xNt.ONt.Ph.call(this), this.HNt(), this.jNt() }, Af: function () { t.xNt.ONt.Af.call(this), t.BNt.removeEventListener("play", n), t.BNt.removeEventListener("timeupdate", i) }, jNt: function () { t.BNt.t7 ? t.jNt(t.MNt, t.GNt) : t.jNt(t.BNt, t.GNt) }, PNt: function () { var n = t.MNt.t7; if (n && n.metadata.Kdt) return t.MNt.cNt(t.BNt.fNt) && (t.MNt.fNt = t.BNt.fNt), t.zNt(), void t.BNt.play(); t.xNt.ONt.PNt.call(this) }, LNt: function () { 0 }, HNt: function () { t.BNt.removeEventListener("play", n), t.BNt.rN ? t.BNt.addEventListener("play", n) : n.call(t.BNt) } } }(), VNt: function () { var t = st(e), n = function () { e.UNt(e.xNt.qNt) }; return { Fn: "VNt", Ph: function () { t.xNt.ONt.Ph.call(this), t.MNt.addEventListener("seeked", n); var i = UU(t.BNt, t.MNt), e = t.gc[t.iO].pNt / 1e3, r = _.min(i + e, t.MNt.Fl); try { t.MNt.vNt = r } catch (n) { t.UNt(t.xNt.FNt), t.WNt(n.message) } }, Af: function () { t.xNt.ONt.Af.call(this), t.MNt.removeEventListener("seeked", n) }, jNt: function () { }, PNt: function () { t.xNt.ONt.PNt.call(this) }, LNt: function () { } } }(), qNt: function () { var t, n = st(e), i = function () { s() }, r = function () { s() }, s = function () { d_(t), e.MNt.fNt - e.BNt.fNt - 1 / 60 > 0 ? t = l_(i) : e.UNt(e.xNt.XNt) }; return { Fn: "qNt", Ph: function () { n.xNt.ONt.Ph.call(this), n.BNt.addEventListener("timeupdate", r), s() }, Af: function () { n.xNt.ONt.Af.call(this), d_(t), n.BNt.removeEventListener("timeupdate", r) }, jNt: function () { }, PNt: function () { n.xNt.ONt.PNt.call(this) }, LNt: function () { n.xNt.ONt.LNt.call(this) } } }(), XNt: function () { var t, n = st(e), i = function () { var t = e.$Nt(e.MNt), n = e.gc[e.iO].mNt / _.max(1, e.BNt._g); return function (t, n, i, e) { return new EU(t, n, i, e) }(t, t.QNt, n, function () { e.UNt(e.xNt.YNt), e.xNt.YNt.ZNt() }) }, r = function () { e.bNt.Ll(), e.UNt(e.xNt.YNt) }; return { Fn: "XNt", Ph: function () { n.xNt.ONt.Ph.call(this); var e = n.gc[n.iO].kNt / _.max(1, n.BNt._g); n.bNt = i(), t = a(r, e), n.MNt.play() }, Af: function () { n.xNt.ONt.Af.call(this), h(t), t = 0 }, jNt: function () { }, PNt: function () { n.xNt.ONt.PNt.call(this) }, LNt: function () { n.xNt.ONt.LNt.call(this) } } }(), YNt: function () { var t = st(e); return { Fn: "YNt", Ph: function () { t.xNt.ONt.Ph.call(this) }, Af: function () { t.xNt.ONt.Af.call(this), t.bNt && t.bNt.WRt() }, jNt: function () { }, PNt: function () { t.xNt.ONt.PNt.call(this) }, LNt: function () { t.xNt.ONt.LNt.call(this) }, ZNt: function () { t.bNt = null, t.zNt() } } }() }, e.KNt = { JNt: function () { var t = st(e); return { Ph: function () { }, Af: function () { }, jNt: function () { t.tCt.jNt() }, ASt: function (n, i, e, r) { t.TNt = n, t.SNt = r, t.UNt(t.xNt.NL); var s = t.BNt === t.nCt ? i : e, u = t.MNt === t.nCt ? i : e; s && t.BNt.cNt(n) ? t.iCt(t.KNt.eCt) : u && t.MNt.cNt(n) ? t.iCt(t.KNt.rCt) : t.iCt(t.KNt.sCt) } } }(), sCt: function () { var t = st(e), n = function () { e.GNt(), e.MNt.xS ? (e.MNt.cNt(e.TNt) || (e.uCt('Could not seek to exact timestamp "' + e.TNt + '", seeking instead to: "' + e.MNt.Ll + '"'), e.TNt = e.MNt.Ll), e.iCt(e.KNt.rCt)) : e.iCt(e.KNt.JNt) }; return { Ph: function () { t.oCt(), t.BNt.t7 = null, t.MNt.t7 = null, t.MNt.style.display = "none", t.GNt(), this.jNt() }, Af: function () { t.MNt.nwt(), t.MNt.style.display = "" }, jNt: function () { t.MNt.t7 || t.jNt(t.MNt, n) }, ASt: function (n, i, e, r) { t.tut(), t.aCt.ASt(n, i, e, r) } } }(), eCt: function () { var t = st(e), n = function () { e.iCt(e.KNt.JNt), e.UNt(e.xNt.FNt), e.fZ(), e.SNt && (e.SNt.call(t), e.SNt = null) }; return { Ph: function () { t.BNt.addEventListener("seeked", n); try { t.BNt.fNt = t.TNt, t.fZ() } catch (n) { t.WNt(n.message) } }, Af: function () { t.BNt.removeEventListener("seeked", n) }, jNt: function () { }, ASt: function (n, i, e, r) { t.tut(), t.aCt.ASt(n, i, e, r) } } }(), rCt: function () { var t = st(e), n = function () { e.iCt(e.KNt.JNt), e.zNt(), e.SNt && (e.SNt.call(t), e.SNt = null) }; return { Ph: function () { t.MNt.style.display = "none", t.MNt.addEventListener("seeked", n); try { t.MNt.fNt = t.TNt, t.fZ() } catch (n) { t.WNt(n.message) } }, Af: function () { t.MNt.style.display = "", t.MNt.removeEventListener("seeked", n) }, jNt: function () { }, ASt: function (n, i, e, r) { t.tut(), t.aCt.ASt(n, i, e, r) } } }() }, e.GNt = function () { var t = e.INt; e.INt = e.nCt.lNt || e.hCt.lNt, t && !e.INt && e.dispatchEvent("updateend"), e.cCt(), e.fZ(), e.fCt() }, e.fZ = function () { var t = e.Zf; t !== e.CNt && (e.CNt = t, e.dispatchEvent("readystatechange")) }, e.vCt = n, e.iO = i, e.DNt = new MU(i), e.sx = "kct" === i ? 0 : 1; var s = function (t) { switch (t) { case "mct": return "audio"; case "kct": return "video" } }(i); return e.lCt = VU(s), e.dCt = VU(s), n.appendChild(e.lCt), n.appendChild(e.dCt), e.nCt = new IU(e.lCt, e.iO), e.hCt = new IU(e.dCt, e.iO), e.BNt = e.nCt, e.MNt = e.hCt, e.tCt = e.xNt.FNt, e.aCt = e.KNt.JNt, e.tCt.Ph(), e.aCt.Ph(), e.$ft(), e.Cf(), e } rt(n, t); var i = n.prototype; return i._Ct = function (t) { return t === this.nCt ? this.hCt : this.nCt }, i.uCt = function (t) { this.RRt = t, this.dispatchEvent({ type: "warning", warning: this.RRt }) }, i.WNt = function (t) { this.Jg = t, this.dispatchEvent({ type: "error", error: t }) }, i.$Nt = function (t) { var n, i = this, e = this._Ct(t); return n = "kct" === this.iO ? { Vo: function () { if (i.ANt !== t) return 0; var n = y(t.style.opacity); return p(n) ? 1 : n }, zd: function (n) { n = _o(n, 0, 1), e.style.opacity = "" + (1 - n), 1 === n && (i.ANt = t, t.style.zIndex = "2", e.style.zIndex = "1", e.style.opacity = "1") }, QNt: 1, gCt: function () { if (n.Vo() !== n.QNt) return n.zd(n.QNt) } } : { Vo: function () { return t.volume }, zd: function (i) { var r; try { t.volume = i } catch (t) { r = t } try { e.volume = n.QNt - i } catch (t) { r = t } return r }, QNt: this.sx, gCt: function () { if (n.Vo() !== n.QNt) return n.zd(n.QNt) } } }, i.jNt = function (t, n) { var i = this.DNt.E8(this.zTt(), 1, this.BNt.t7, this.MNt.t7); return !!i && (this.oCt(), t.t7 = i, t.Ph(n), t.ntt && this.dispatchEvent("durationchange"), !0) }, i.wCt = function () { this.oCt(), this.DNt.bf(), this.nCt.nwt(), this.hCt.nwt(), this.GNt() }, i.Nx = function () { return this.BNt.Nx() }, i.zTt = function () { return this.seeking ? this.TNt : this.BNt.fNt }, i.ASt = function (t, n) { var i = this, e = !n; this.dispatchEvent("seeking"), this.pause(), this.aCt.ASt(t, e, e, function () { i.dispatchEvent("seeked"), i.dispatchEvent("timeupdate", !0) }) }, i.zNt = function () { var t = this.BNt; this.UNt(this.xNt.NL), this.BNt = this.MNt, this.MNt = t, this.$Nt(this.BNt).gCt(), this.oCt(), this.MNt.pause(), this.MNt.t7 = null, this.GNt(), this.UNt(this.xNt.FNt) }, i.$ft = function () { for (var t = this, n = ["timeupdate", "play", "playing"], i = function (n, i) { if ("error" === i.type) return i.error ? t.WNt(new RN("PLAYBACK_ISSUE", { code: "VEE" + i.error })) : t.WNt(new RN("PLAYBACK_ISSUE", { code: "VEE" + n.Bo.code })); n === t.BNt && t.dispatchEvent({ type: i.type, origin: n }) }, e = i.bind(null, this.nCt), r = i.bind(null, this.hCt), s = 0; s < n.length; s++) { var u = n[s]; this.nCt.addEventListener(u, e), this.hCt.addEventListener(u, r) } this.nCt.addEventListener("error", e), this.hCt.addEventListener("error", r); for (var o = 0; o < $N.length; o++) { var a = $N[o]; this.nCt.addEventListener(a, this.fZ), this.hCt.addEventListener(a, this.fZ) } }, i.Cf = function () { this.addEventListener("seeking", this.vIt), this.addEventListener("timeupdate", this.vIt) }, i.UNt = function (t) { var n; if (this.tCt !== t) { do { (n = this.tCt).Af() } while (n !== this.tCt); this.tCt = t, t.Ph() } }, i.iCt = function (t) { var n; if (this.aCt !== t) { do { (n = this.aCt).Af() } while (n !== this.aCt); this.aCt = t, t.Ph() } }, i.tut = function () { this.SNt = null, this.iCt(this.KNt.JNt) }, i.load = function () { this.pause(), this.tut(), this.BNt.t7 = null, this.MNt.t7 = null, this.UNt(this.xNt.FNt) }, i.Af = function () { this.tut(), this.UNt(this.xNt.NL), this.wCt(), this.nCt.unload(), this.hCt.unload(), this.vCt.removeChild(this.lCt), this.vCt.removeChild(this.dCt), this.Jg = null, this.RRt = null }, i.yvt = function () { var t = this, n = this.zTt(); this.wCt(), this.aCt.ASt(n, !1, !1, function () { t.dispatchEvent("yvt", !0) }) }, i.play = function () { this.$Nt(this.BNt).gCt(), this.BNt.xS && this.BNt.play() }, i.pause = function () { this.nCt.pause(), this.hCt.pause() }, i.LRt = function (t) { var n = this, i = function () { n.dispatchEvent("SRt", !0) }; this.pause(), this.BNt.SN ? this.aCt.ASt(t, this.MNt === this.nCt, this.MNt === this.hCt, i) : this.MNt.SN ? this.aCt.ASt(t, !1, !1, i) : this.MNt.cNt(t) ? this.aCt.ASt(t, this.MNt === this.nCt, this.MNt === this.hCt, i) : i() }, i.FJ = function (t) { this.oCt(), this.DNt.FJ(t), this.GNt(), this.aCt.jNt() }, i.jRt = function (t) { return this.lCt.canPlayType('video/mp4; codecs="' + t + '"') }, i.FRt = function () { return _.max(this.lCt.offsetWidth, this.dCt.offsetWidth) }, i.URt = function () { return _.max(this.lCt.offsetHeight, this.dCt.offsetHeight) }, i.cCt = function () { !this.ENt && this.loaded && (this.ENt = !0, this.dispatchEvent("loaded")) }, i.fCt = function () { if ("kct" === this.iO) { var t = this.zx, n = this.Gx; t > 0 && n > 0 && (this.RNt !== t || this.NNt !== n) && (this.RNt = t, this.NNt = n, this.dispatchEvent("resize")) } }, i.oCt = function () { var t = this.INt; this.INt = !0, t || this.dispatchEvent("updatestart") }, T(n, [{ key: "hg", get: function () { var t = []; return p(this.nCt.Ll) || t.push({ Ll: this.nCt.Ll, Fl: this.nCt.Fl }), p(this.hCt.Ll) || t.push({ Ll: this.hCt.Ll, Fl: this.hCt.Fl }), QM(zM(new UM(t)), this.DNt.hg) } }, { key: "duration", get: function () { return this.BNt.ntt ? this.BNt.Fl : this.MNt.ntt ? this.MNt.Fl : NaN } }, { key: "paused", get: function () { return this.BNt.rN } }, { key: "ended", get: function () { return this.BNt.SN } }, { key: "muted", get: function () { return this.BNt.muted && this.MNt.muted }, set: function (t) { this.BNt.muted = t, this.MNt.muted = t } }, { key: "volume", get: function () { return this.sx }, set: function (t) { this.sx = t, this.bNt && this.bNt.WRt(), this.MNt.volume = 0, this.BNt.volume = this.sx } }, { key: "error", get: function () { return this.Jg } }, { key: "warning", get: function () { return this.RRt } }, { key: "seeking", get: function () { return this.aCt !== this.KNt.JNt } }, { key: "loaded", get: function () { return this.BNt.xS } }, { key: "_g", get: function () { return this.BNt._g }, set: function (t) { t >= 0 && (this.BNt._g = t, this.MNt._g = t) } }, { key: "zx", get: function () { return this.BNt.zx } }, { key: "Gx", get: function () { return this.BNt.Gx } }, { key: "lX", get: function () { return this.INt } }, { key: "Zf", get: function () { var t; if (this.aCt === this.KNt.sCt || this.aCt === this.KNt.rCt) t = eu.c_; else { var n = this.BNt.Zf; if (n <= eu.f_) t = n; else { var i = hs.Fd(this.hg).rd(), e = this.duration, r = this.zTt(); p(e) || (r = _.min(r, e)); var s = i.Ld(r); if (s) { var u = s.Fl(0); t = u - r >= 3 * this._g || !p(e) && u >= e ? eu.l_ : eu.v_ } else t = eu.f_ } } return t === eu.h_ && this.ENt ? eu.c_ : t } }]), n }(vP); function UU(t, n) { return t.fNt - n.Ll } function VU(t) { var n = s.createElement(t); return n.preload = "metadata", "audio" === t && (n.style.display = "none"), "video" === t && (n.style.display = "", n.style.zIndex = "1"), $e(n), n.controls = !1, n } var HU = function () { function t(t) { var n = this; this.yCt = function () { (p(n.pCt) || n.mCt) && (n.pCt = n.N$()), n.kCt = n.pCt, n.mCt = !1 }, this.bCt = function () { var t = n.N$(); n.ACt(t), n.pCt = t }, this.TCt = function () { n.C_.Zf <= eu.f_ && n.bCt() }, this.SCt = function () { n.ACt(n.pCt), n.mCt = !0 }, this.ECt = function () { n.pCt = n.N$() }, this.C_ = t, this.wg = hs.Vd(), this.kCt = NaN, this.pCt = NaN, this.mCt = !1, t.addEventListener("playing", this.yCt), t.addEventListener("pause", this.bCt), t.addEventListener("seeking", this.SCt), t.addEventListener("timeupdate", this.ECt), t.addEventListener("readystatechange", this.TCt) } var n = t.prototype; return n.iJ = function () { var t = this.wg, n = this.kCt; if (!p(n)) { var i = this.N$(); n < i && (t = t.bd(new hs([n, i]))) } return t.Jl() }, n.N$ = function () { return this.C_.zTt() }, n.ACt = function (t) { var n = this.kCt; n < t && (this.wg = this.wg.bd(new hs([n, t]))), this.kCt = NaN }, n.wSt = function () { var t = this.N$(); this.ACt(t), this.mCt = !0 }, n.bf = function () { this.wg = hs.Vd(), this.kCt = NaN, this.pCt = NaN, this.mCt = !1 }, n.oo = function () { var t = this.C_; t.removeEventListener("playing", this.yCt), t.removeEventListener("pause", this.bCt), t.removeEventListener("seeking", this.SCt), t.removeEventListener("timeupdate", this.ECt), t.removeEventListener("readystatechange", this.TCt), this.C_ = null }, t }(), zU = function (t) { function n(n, i) { var e; return (e = t.call(this) || this).uu = !1, e.KC = NaN, e.Jg = void 0, e.configuration = {}, e.loading = !1, e.loaded = !1, e.CNt = eu.h_, e.ICt = function () { e.RCt.seeking || (e.RCt.removeEventListener("seeked", e.ICt), e.dispatchEvent("seeked"), e.NCt.paused ? e.sz = e.CCt : e.DCt(), e.fZ()) }, e.xCt = function () { e.RCt.paused || (e.RCt.removeEventListener("playing", e.xCt), e.dispatchEvent("playing")) }, e.OCt = function (t) { e.sz = e.BCt, e.Jg = t, e.dispatchEvent({ type: "error", error: e.Jg }) }, e.PCt = { paused: !0, play: function () { e.removeEventListener("XEt", e.PCt.MCt), e.uu ? (e.sz = e.LCt, e.RCt.removeEventListener("playing", e.xCt), e.RCt.addEventListener("playing", e.xCt), e.RCt.play(), e.dispatchEvent("play")) : e.addEventListener("XEt", e.PCt.MCt) }, MCt: function () { e.removeEventListener("XEt", e.PCt.MCt), e.sz.play() }, stall: function () { }, pause: function () { e.PCt.MCt && e.removeEventListener("XEt", e.PCt.MCt), e.RCt.pause(), e.dispatchEvent("pause"), e.sz = e.CCt }, load: function (t) { }, zTt: function () { return e.uu ? e.RCt.zTt() : 0 }, ASt: function (t, n) { var i = WM(e.hg, t); n = n || !i, e.RCt.removeEventListener("seeked", e.ICt), e.RCt.addEventListener("seeked", e.ICt), e.NCt.seekTime = t, e.sz = e.NCt, e.dispatchEvent("wSt"), e.RCt.ASt(t, n), e.dispatchEvent("seeking") }, z$: function () { return e.RCt.Zf }, yvt: function (t) { e.NCt.seekTime = e.zTt(), e.sz = e.jCt, e.RCt.removeEventListener("yvt", e.jCt.FCt), e.RCt.addEventListener("yvt", e.jCt.FCt), e.RCt.yvt(t), e.fZ() }, forwardEvent: function (t) { "pause" === t.type && e.RCt.ended || e.dispatchEvent(t) } }, e.CCt = Et(Et({}, e.PCt), { pause: function () { e.removeEventListener("XEt", e.PCt.MCt) }, ASt: function (t) { e.NCt.paused = !0, e.PCt.ASt(t) }, yvt: function (t) { e.NCt.paused = !0, e.PCt.yvt(t) } }), e.UCt = Et({}, e.CCt), e.VCt = Et(Et({}, e.CCt), { load: function (t, n) { e.removeEventListener("XEt", e.VCt.HCt), n || e.dispatchEvent("loadstart"), e.uu ? e.RCt.load(t) : (e.VCt.GCt = t, e.addEventListener("XEt", e.VCt.HCt)) }, HCt: function () { e.removeEventListener("XEt", e.VCt.HCt), e.sz.load(e.VCt.GCt, !0) }, GCt: null, zTt: function () { return e.uu ? e.RCt.zTt() : e.VCt.zCt }, ASt: function (t) { e.removeEventListener("XEt", e.VCt.qCt), e.uu ? (e.sz = e.CCt, e.sz.ASt(t)) : (e.VCt.zCt = t, e.addEventListener("XEt", e.VCt.qCt), e.dispatchEvent("seeking")) }, qCt: function () { e.removeEventListener("XEt", e.VCt.qCt), e.sz.ASt(e.VCt.zCt) }, zCt: 0, yvt: function (t) { } }), e.LCt = Et(Et({}, e.PCt), { ASt: function (t) { e.NCt.paused = !1, e.PCt.ASt(t) }, play: function () { }, stall: function () { e.sz = e.WCt, e.WCt.XCt = e.RCt.zTt(), e.WCt.paused = !1, e.RCt.addEventListener("SRt", e.WCt.$Ct), e.RCt.LRt(e.WCt.XCt), e.fZ() }, yvt: function (t) { e.NCt.paused = !1, e.PCt.yvt(t) } }), e.WCt = Et(Et({}, e.LCt), { paused: !1, XCt: 0, ASt: function (t) { e.RCt.removeEventListener("SRt", e.WCt.$Ct), e.WCt.paused ? e.sz = e.CCt : e.sz = e.LCt, e.sz.ASt(t), e.fZ() }, zTt: function () { return e.WCt.XCt }, z$: function () { return _.min(e.RCt.Zf, eu.f_) }, forwardEvent: function () { }, play: function () { e.WCt.paused = !1, e.dispatchEvent("play") }, pause: function () { e.WCt.paused = !0, e.dispatchEvent("pause") }, stall: function () { }, $Ct: function () { e.RCt.seeking || (e.RCt.removeEventListener("SRt", e.WCt.$Ct), e.WCt.paused ? e.sz = e.CCt : e.PCt.play(), e.fZ()) } }), e.NCt = Et(Et({}, e.PCt), { paused: !1, seekTime: 0, zTt: function () { return e.NCt.seekTime }, play: function () { e.NCt.paused = !1 }, pause: function () { e.NCt.paused = !0, e.RCt.pause(), e.dispatchEvent("pause") } }), e.jCt = Et(Et({}, e.NCt), { ASt: function (t) { e.RCt.removeEventListener("yvt", e.jCt.FCt), e.NCt.paused ? e.sz = e.CCt : e.sz = e.LCt, e.sz.ASt(t) }, z$: function () { return _.min(e.RCt.Zf, eu.f_) }, forwardEvent: function () { }, stall: function () { }, FCt: function () { e.RCt.seeking || (e.RCt.removeEventListener("yvt", e.jCt.FCt), e.NCt.paused ? e.sz = e.CCt : e.PCt.play(), e.fZ()) } }), e.BCt = Et(Et({}, e.PCt), { play: function () { }, pause: function () { }, load: function () { }, zTt: function () { return NaN }, z$: function () { return eu.h_ }, ASt: function (t) { e.PCt.ASt(t, !0) }, yvt: function (t) { } }), e.do = function (t) { e.dispatchEvent(t) }, e.QCt = function (t) { e.sz.forwardEvent(t) }, e.YCt = function (t) { e.OCt(t.error) }, e.ZCt = function (t) { if (t.origin && t.origin.ntt) return e.bx(); e.sz.stall() }, e.QE = function () { var t = e.RCt.duration; t && e.KC !== t && (e.KC = t, e.dispatchEvent("durationchange")) }, e.KCt = function () { e.RCt.loaded && (e.loaded = !0) }, e.fZ = function () { var t = e.Zf; t !== e.CNt && (e.CNt = t, e.dispatchEvent("readystatechange")) }, e.JCt = n, e.pU = i, e.tDt = new HU(st(e)), e.RCt = new SU, e.sz = e.VCt, e.vCt = s.createElement("div"), e.vCt.style.position = "absolute", e.vCt.style.width = "100%", e.vCt.style.height = "100%", e.nDt(), e } rt(n, t); var i = n.prototype; return i.DCt = function () { this.PCt.play() }, i.nDt = function () { for (var t = ["resize", "volumechange", "ratechange"], n = ["timeupdate", "pause", "warning"], i = 0; i < t.length; i++) { var e = t[i]; this.RCt.addEventListener(e, this.do) } for (var r = 0; r < n.length; r++) { var s = n[r]; this.RCt.addEventListener(s, this.QCt) } this.RCt.addEventListener("ended", this.ZCt), this.RCt.addEventListener("error", this.YCt), this.RCt.addEventListener("durationchange", this.QE), this.RCt.addEventListener("loaded", this.KCt), this.RCt.addEventListener("readystatechange", this.fZ) }, i.setup = function () { this.pU.fV.parentNode === this.JCt ? this.JCt.replaceChild(this.vCt, this.pU.fV) : (this.pU.fV.parentNode && this.pU.fV.parentNode.removeChild(this.pU.fV), this.JCt.appendChild(this.vCt)) }, i.play = function () { this.sz.play() }, i.pause = function () { this.sz.pause() }, i.iDt = function (t) { this.RCt && this.RCt.Af(t), this.uu = !1 }, i.bx = function () { this.pause(), this.sz = this.UCt, this.Jg = void 0, this.dispatchEvent("ended"), this.dispatchEvent("pause") }, i.load = function (t) { this.sz.load(t) }, i.unload = function () { return this.RCt.Af(), this.tDt.oo(), this.vCt.parentNode === this.JCt ? this.JCt.replaceChild(this.pU.fV, this.vCt) : (this.vCt.parentNode && this.vCt.parentNode.removeChild(this.vCt), this.JCt.appendChild(this.pU.fV)), this.To(), this.pU.fV }, i.reset = function (t) { this.uu = !1, this.sz = this.VCt, this.Jg = void 0, this.KC = NaN, this.CNt = eu.h_, this.tDt.bf(), this.iDt(t), this.loading = !1, this.loaded = !1, this.dispatchEvent("reset") }, i.yvt = function (t) { this.sz.yvt(t) }, i.FJ = function (t) { return this.RCt.FJ(t), Tt.resolve() }, i.Nx = function () { return this.RCt.Nx() }, i.zTt = function () { return this.sz.zTt() }, i.ASt = function (t) { this.tDt.wSt(), this.sz.ASt(t) }, i.Zkt = function (t, n) { return Tt.resolve() }, i.canPlayCodecs = function (t) { return this.RCt.jRt('video/mp4; codecs="' + t + '"') }, i.hSt = function (t) { var n = {}; for (var i in t) if (B.call(t, i)) { var e = t[i]; !this.RCt.videoStream && e.kct && (this.RCt.videoStream = new FU(this.vCt, "kct"), n.kct = this.RCt.videoStream), !this.RCt.audioStream && e.mct && (this.RCt.audioStream = new FU(this.vCt, "mct"), n.mct = this.RCt.audioStream, this.dispatchEvent("HEt")) } return this.uu = !0, this.dispatchEvent("XEt"), Tt.resolve(n) }, T(n, [{ key: "aSt", get: function () { return this.uu } }, { key: "oE", get: function () { return this.vCt } }, { key: "hg", get: function () { return this.RCt.hg } }, { key: "volume", get: function () { return this.RCt.volume }, set: function (t) { this.RCt.volume = t } }, { key: "duration", get: function () { return this.KC } }, { key: "muted", get: function () { return this.RCt.muted }, set: function (t) { this.RCt.muted = t } }, { key: "paused", get: function () { return this.sz.paused && this.RCt.paused } }, { key: "played", get: function () { return this.tDt.iJ() } }, { key: "ended", get: function () { return this.sz === this.UCt } }, { key: "seeking", get: function () { return this.sz === this.NCt } }, { key: "error", get: function () { return this.Jg || this.RCt.error } }, { key: "warning", get: function () { return this.RCt.warning } }, { key: "width", get: function () { return this.RCt.FRt() } }, { key: "height", get: function () { return this.RCt.URt() } }, { key: "_g", get: function () { return this.RCt._g }, set: function (t) { this.RCt._g = t } }, { key: "Zf", get: function () { return this.sz.z$() } }, { key: "zx", get: function () { return this.RCt.zx } }, { key: "Gx", get: function () { return this.RCt.Gx } }]), n }(vP), qU = function () { var t = function () { function t() { this.eDt = {}, this.rDt("native", nU), this.rDt("hls-native", nU), this.rDt("hls-mse", wU), this.rDt("hls-switching-video", zU) } return t.prototype.rDt = function (t, n) { this.eDt[t] = n }, t.rDt = function (n, i) { t.Dot.rDt(n, i) }, t.sDt = function (n, i, e) { var r = t.Dot.eDt[n]; return r ? new r(i, e) : void 0 }, t }(); return t.Dot = new t, t }(); function GU(t) { return void 0 !== t && -1 !== t.indexOf("m3u8") } function WU(t) { return void 0 !== t && (0 === t.toLowerCase().indexOf("application/x-mpegurl") || 0 === t.toLowerCase().indexOf("application/vnd.apple.mpegurl")) } function XU(t, n) { var i = t.type; return i ? Zy ? WU(i) ? !rp || n.useSwitchOverMSE || x.Tn && n.vr && n.vr[360] ? !tp || x.dn || x.pn && x.Xt ? np ? "hls-switching-video" : "unsupported" : "hls-native" : "hls-mse" : "native" : "unsupported" : "native" } var $U = function (t, n, i, e, r, s) { var u, o, c, f, l, d = this, w = null, m = null, k = null, b = !0, A = null, T = null, S = !1, E = null, I = null, R = null, C = !0, N = null, D = { Pk: 0, GRt: 0 }, B = null, O = null, P = null, M = null, j = 1, F = !1, U = "none", V = !0, H = !0, z = !1, G = null, W = !0, X = !1, $ = eu.h_, Q = !1, Y = !1, Z = NaN, K = null, J = null, nt = x.in && Jy, it = !1, et = "", rt = "unsupported", st = !1, ut = null, ot = function () { d.rh = !0, d.To(), B && Pt(null), l && (l.Af(), l = null), f && (f.bf(), f = null), hn(), m && (m.unload(), m = null), I.fV && (n.CV(I), I = null), R.fV && (n.CV(R), R = null), t = null }, at = function () { var t = new RN("UNSUPPORTED", { info: "This browser does not allow you to watch this video. Try to update your browser or use a different browser." }); d.dispatchEvent({ type: "unsupportedPlatform" }), tn(t) }, ht = function () { var t, e; return (t = i.audioOnly ? (e = n.hV("audio")).fV : (e = n.hV("video")).fV).preload = "none", $e(t), e }, ct = function (t) { return t === I ? R : I }, ft = function () { A.style.zIndex = "1", T.style.zIndex = "0", A.style.display = b ? "" : "none", T.style.display = b && S ? "" : "none" }, vt = function (t) { pt(t.Cvt), yt(t.Dvt), u && (u.Cvt = o), bt() }, lt = function (t, n) { kt(t.Cvt, n), mt(t.Dvt), u && (u.Cvt = o) }, dt = function () { Xt(), Nt(), d.dispatchEvent("timeupdate"), d.dispatchEvent("ended") }, gt = function () { var t = function (t) { if ("error" === t.type) return tn(t.error); d.dispatchEvent({ type: t.type }, !0) }, n = function (t, n) { var i; for (i = 0; i < t.length; i += 1)m.addEventListener(t[i], n, !0) }; switch (m.addEventListener("HEt", function () { m.volume = j, m.muted = F }), m.addEventListener("loadedmetadata", function (t) { "native" === rt && (X = !0, d.dispatchEvent({ type: t.type }, !0)) }), m.addEventListener("durationchange", function () { var t = m.duration; t && t !== 1 / 0 && Z !== t && (Z = t, d.dispatchEvent("durationchange")) }), m.addEventListener("seeking", Wt), m.addEventListener("seeked", Xt), m.addEventListener("ended", dt), m.addEventListener("readystatechange", un), m.setup(), l.pSt = m, n(["timeupdate", "playing", "ratechange", "resize"], t), rt) { case "native": case "hls-native": n(["abort", "emptied", "error", "loadstart", "progress", "suspend"], t); break; case "hls-mse": n(["play", "pause"], It) }m.addEventListener("warning", function (t) { d.warning = t.warning, d.dispatchEvent(t) }), d.dispatchEvent("volumechange") }, _t = function (t) { w && w.aEt(), m && (w = new OF(t, nt, f, r)) }, wt = function (t) { var n = Bt(t.sources), e = t.textTracks || [], r = ZF(t.configuration, i); return n && n.contentProtection && n.contentProtection.aes128 && n.contentProtection.aes128.useCredentials && (r.CEt = !0), { sources: [n], textTracks: e, configuration: r } }, yt = function (t) { mt(t) }, pt = function (t) { o && (o.Af(), o = null, d.initialized = !1), (o = t) && (d.dispatchEvent("loadstart", !0), o.addEventListener("loadedmetadata", function () { X = !0, un() }), o.addEventListener("durationchange", function () { Z = o.Zy, d.dispatchEvent("durationchange") }), o.addEventListener("Bo", function (t) { tn(t.Bo) }), o.addEventListener("pW", At), o.addEventListener("dg", At), o.nlt.addEventListener("renditionUpdated", function () { Yt() }), l.nlt = o.nlt) }, mt = function (t) { var n; c && (c.Af(), c = null), m && (c = t) && (n = c.HTt, c.addEventListener("gvt", function (t) { var n = d.videoWidth, i = d.videoHeight; K = t.eft, d.dispatchEvent(t), hp && n === d.videoWidth && i === d.videoHeight || d.dispatchEvent("resize") }), c.addEventListener("Bo", function (t) { tn(t.error) }), c.addEventListener("bTt", function (t) { d.dispatchEvent(t) }), c.pSt = m, p(n) || Ht(n)) }, kt = function (t, n) { o && (o.Af(), o = null, d.initialized = !1), (o = t) && (d.dispatchEvent("loadstart", !0), o.addEventListener("loadedmetadata", function () { X = !0, un() }), o.addEventListener("m3", function (t) { d.dispatchEvent(t) }), o.addEventListener("b3", function (t) { d.dispatchEvent(t) }), o.addEventListener("durationchange", function () { Z = o.Zy, d.dispatchEvent("durationchange") }), o.addEventListener("Bo", function (t) { tn(t.Bo) }), o.addEventListener("pW", At), o.addEventListener("dg", At), o.addEventListener("Yot", function () { d.dispatchEvent("progress") }), o.nlt.addEventListener("renditionUpdated", function () { Yt() }), o.nlt.addEventListener("renditionUpdated", function (t) { var i, e = t.eft.tA && t.eft.tA.mct; e && -1 !== e.indexOf("mp4a.40.3") && ("fwt" !== n.vwt || ep || (i = B, fP(function () { n.useSwitchOverMSE = !0; var t = H; B = null, on({ sources: i, configuration: n }), t || Ct() }))) }), l.nlt = o.nlt) }, bt = function () { m.addEventListener("play", function () { d.play({ fromNative: !0 }) }), m.addEventListener("pause", function () { d.pause({ fromNative: !0 }) }), m.addEventListener("volumechange", function () { d.volume = m.volume, d.muted = m.muted }), m.addEventListener("webkitpresentationmodechanged", Lt) }, At = function () { var t = W, n = !o || o.dg; W = n, n && !t ? d.dispatchEvent("online") : !n && t && d.dispatchEvent("offline") }, Tt = function () { V = !1, H = !1, Q = !0, m.configuration.useNativeVideoPlayback || m.loaded || Rt(), Yt() }, St = function t() { d.removeEventListener("initialized", t), d.removeEventListener("initialized", Et), V && (Tt(), d.ended ? zt(0) : Zt(), m.play(), c && c.sN()) }, Et = function t() { d.removeEventListener("initialized", St), d.removeEventListener("initialized", t), V && (Tt(), Zt()) }, It = function (t) { var n = H; H = "pause" === t.type, n && !H ? d.play({ fromNative: !0 }) : !n && H && d.pause({ fromNative: !0 }) }, Rt = function () { Q = !0, m.configuration.useNativeVideoPlayback ? (m.load(), D.GRt = "now") : m.loading || (m.load(), m.loading = !0), Yt() }, Ct = function (t) { if (t = t || {}, H = !1, C && (C = !1, n._H()), D.uDt = !1, !d.initialized || !m) { if (t.onlyWhenInitialized) { var i = new RN("THEOPLAYER_NOT_INITIALIZED", { code: "MGB6720" }); throw tn(i), i } return d.removeEventListener("initialized", St), d.removeEventListener("initialized", Et), d.addEventListener("initialized", t.fromNative ? Et : St), d.dispatchEvent("play", !0), void d.dispatchEvent("waiting", !0) } if (V) { if (z && d.ended) return Nt(), void d.dispatchEvent("timeupdate", !0); d.dispatchEvent("play", !0), t.fromNative ? Et() : St() } }, Nt = function (t) { H = !0, (t = t || {}).fromNative || d.removeEventListener("initialized", St), d.removeEventListener("initialized", Et), !V && m && (V = !0, t.fromNative || (m.pause(), c && c.dN()), d.dispatchEvent("pause", !0)) }, Dt = function (t) { return { type: GU(t) ? "application/vnd.apple.mpegurl" : "", src: t } }, xt = function (t) { return "string" == typeof t }, Bt = function (t) { if (QF(t)) return t.type ? t : Dt(t.src); if (xt(t)) return Dt(t); if (L(t) && xt(t[0])) { for (var n = 0; n < t.length; n++) { var i = t[n]; if (GU(i)) return Dt(i) } return Dt(t[0]) } if (L(t) && QF(t[0])) { for (var e = 0; e < t.length; e++) { var r = t[e]; if (WU(r.type) || !r.type && GU(r.src)) return r.type ? r : Dt(r.src) } return t[0] } return { type: null, src: null } }, Ot = function (t) { var n = (t = wt(t)).sources[0], i = t.configuration, e = XU(n, i); !function (t, n) { switch (t) { case "native": case "hls-native": n.vwt = !1, n.oDt = !1; break; case "hls-mse": n.vwt = "fwt", n.oDt = !0; break; case "hls-switching-video": n.vwt = "Eyt", n.oDt = x.zt } }(e, i); var o = function (t, n, i) { var e, o, a, h = i.configuration; switch (t) { case "native": a = e = o = null; break; case "hls-native": a = null; var c = new SF(h, r); e = c, o = new DF(c); break; case "hls-mse": case "hls-switching-video": a = new LF(h, r); var f = new TF(h, a, r, s); e = f, o = new CF(f); break; default: return null }return new bM(n, t, i, a, e, o, u) }(e, n, t); return o ? (o.Dvt && (o.Dvt._g = d.playbackRate), o) : null }, Pt = function (t) { on({ sources: t }) }, Mt = function (n, i) { var r = E, s = r.fV, u = !1, o = !d.paused, a = rt, h = d.playbackRate, c = d.aDt; J && (J.Af(), J = null), hn(); var f = n && n.Tlt || null; P = n && n.blt || null, O = n && n.UD || null, M = f && f.configuration || null, rt = n && n.Alt || "unsupported", nn(); var v = { type: "hDt", cDt: n, MB: M, fDt: i }; if (d.dispatchEvent(v), "unsupported" !== rt) { var l = { sources: [{ src: O, type: P }] }; if (O && !e.iG(l)) return n && n.Af(), void an(); if (m) { d.pause(); var g = a === rt || "hls-native" === a && "native" === rt || "native" === a && "hls-native" === rt, _ = i && !x.in; if (g && !_) m.reset(), w.bf(); else { if (_ ? (k = m, s = (r = ct(r)).fV) : s = m.unload(), !(u = qU.sDt(rt, t, r))) return void at(); m = u, gt(), _t(s) } Xt(), X = !1, $ = eu.h_, Q = !1, Y = !1, Z = NaN, N = null, d.dispatchEvent("durationchange"), D.GRt = 0, D.Pk = 0, D.uDt = !0, d.dispatchEvent("timeupdate") } else { if (!(u = qU.sDt(rt, t, r))) return void at(); m = u, r.fV.removeAttribute("poster"), gt(), _t(r.fV) } switch (E = r, A = m.oE, k ? (T = k.oE, S = !0) : (T = ct(r).fV, S = !1), ft(), M.crossOrigin) { case Qc.a_: case Qc.o_: E.fV.setAttribute("crossorigin", M.crossOrigin); break; default: E.fV.removeAttribute("crossorigin") }if (c !== d.aDt && d.dispatchEvent(Yl), Lt(), jt(), !O) return B = null, void (d.initialized = !1); !function (t, n) { switch (rt) { case "native": case "hls-native": vt(t); break; case "hls-mse": case "hls-switching-video": lt(t, n); break; default: return }t.C_ = d, t.Ilt(U) }(J = n, M), m.src = O, w.eEt(f && f.textTracks), d.playbackRate = h, B = O; var y = { type: "vDt", cDt: n, MB: M, fDt: i }; d.dispatchEvent(y), d.initialized = !0, d.dispatchEvent("initialized"), At(), zt("now"), m.configuration.useNativeVideoPlayback && x.in && o && Jt() && (d.play(), d.pause()), f && d.dispatchEvent({ type: "sourcechange", sourceDescription: f }) } else at() }, Lt = function () { var t = et; (et = d.WEt) !== t && d.dispatchEvent("lDt") }, jt = function () { l && (l.hZ = nt && it) }, Ft = function () { return m && m.aSt ? m.volume : j }, Ut = function () { return Y ? !m || D.uDt ? D.GRt : c ? c.HTt : m.zTt() : qt(N || 0) }, Vt = function () { return Y ? Gt(Ut()) : "now" === N ? 0 : N || 0 }, Ht = function (t) { if (Y) { if (N = null, "now" !== t || d.live || (t = 0), "now" !== t && (t = y(t) || 0, t = rn(t)), m) { if (_.abs(D.GRt - t) < .001 && h_() - D.Pk < 50) return; Wt(), c ? c.HTt = t : m.ASt(t), m.seeking || Xt(), D = { GRt: t, Pk: h_() } } } else zt(Gt(t)) }, zt = function (t) { if (!Y) { var n = Vt(); return N = t, Zt(), void (n !== Vt() && Wt()) } return Ht(qt(t)) }, qt = function (t) { if ("number" == typeof t && d.live) { var n = en(); if (n.length) return t + n.end(0) } return t }, Gt = function (t) { if ("now" === t) return 0; if ("number" == typeof t && d.live) { var n = en(); if (n.length) return t - n.end(0) } return t }, Wt = function () { z = !0, Qt(), ut = a($t, 100) }, Xt = function () { z && (z = !1, ut && $t(), d.dispatchEvent("seeked")) }, $t = function () { Qt(), d.dispatchEvent("seeking") }, Qt = function () { ut && (h(ut), ut = null) }, Yt = function () { Y || (Y = !p(Z) && en().length > 0 && (Q || !d.live)) && d.dispatchEvent("cNt") }, Zt = function t() { d.removeEventListener("cNt", t), null !== N && (Y ? zt(N) : d.addEventListener("cNt", t)) }, Kt = function () { return m && m.aSt ? m.muted : F }, Jt = function () { return H }, tn = function (t) { if (t && "MANIFEST_SEQUENCE_RESET_ERROR" === t.code) return n = !H, Pt(J.UD), void (n && Ct()); var n; Jt() || Nt(), G = t, d.dispatchEvent({ type: "error", error: G }) }, nn = function () { st || (G = null) }, en = function () { return jM(c ? c.jx : Z > 0 ? new UM([{ Ll: 0, Fl: Z }]) : VM) }, rn = function (t) { var n = en(); return n.length ? _o(t, n.start(0), n.end(n.length - 1)) : 0 }, sn = function () { var t = m ? m.Zf : eu.h_; return X && (t = _.max(eu.c_, t)), t }, un = function () { var t = sn(); t !== $ && ($ = t, d.dispatchEvent("readystatechange")) }, on = function (t) { var n = Ot(t); Mt(n, !1) }, an = function () { if (!st) { st = !0; var t = new RN("LICENSE_INVALID", { code: "LCC1300" }); tt(t.message), tn(t), ot() } }, hn = function () { if (k) { var t = k.unload(); k = null, S = !1, T = t || ct(E).fV, ft() } }; d.initialized = !1, d.warning = null, d.play = Ct, d.pause = Nt, d.load = function () { if (!d.initialized || !m) { var t = new RN("THEOPLAYER_NOT_INITIALIZED", { code: "MGB7330" }); throw tn(t), t } Rt(), zt("now") }, d.dDt = Ot, d._Dt = Mt, d.oo = ot, d.z_ = on, d.B_ = function () { b = !0, ft() }, d.Z_ = function () { b = !1, ft() }, d.Nx = function () { return m && m.Nx() }, d.A_ = function () { return m ? yu(m.pSt) : { b_: 0, k_: 0, N_: 0 } }, g.defineProperty(d, "buffered", { get: function () { return jM(m ? m.hg : VM) } }), g.defineProperty(d, "played", { get: function () { return m ? jM(m.played) : VM } }), g.defineProperty(d, "seekable", { get: en }), g.defineProperty(d, "live", { get: function () { return !(!o || !GP.hct(o.nlt._ft)) } }), g.defineProperty(d, "volume", { get: Ft, set: function (t) { (t = y(t)) !== Ft() && (m && (m.volume = t), j = t, d.dispatchEvent("volumechange")) } }), g.defineProperty(d, "currentTime", { get: Vt, set: zt }), g.defineProperty(d, "currentMonotonicTime", { get: Ut, set: Ht }), g.defineProperty(d, "currentProgramDateTime", { get: function () { return c ? c.cg : null }, set: function (t) { var n, i; (i = t) && "function" == typeof i.getTime && !p(i.getTime()) && c && (n = c.lmt(t), p(n) || null === n || Ht(n)) } }), g.defineProperty(d, "duration", { get: function () { return Z } }), g.defineProperty(d, "muted", { get: Kt, set: function (t) { t !== Kt() && (F = t, m && (m.muted = t), F = t, d.dispatchEvent("volumechange")) } }), g.defineProperty(d, "paused", { get: Jt, set: function (t) { t ? Nt() : Ct() } }), g.defineProperty(d, "preload", { get: function () { return U }, set: function (t) { U = Q_((t || "none").toLowerCase()) } }), g.defineProperty(d, "ended", { get: function () { return m && m.ended || !1 } }), g.defineProperty(d, "seeking", { get: function () { return z } }), g.defineProperty(d, "error", { get: function () { return G || m && m.error } }), g.defineProperty(d, "element", { get: function () { return t } }), g.defineProperty(d, "aDt", { get: function () { return M && M.vr && M.vr[360] ? null : E.fV } }), g.defineProperty(d, "videoWidth", { get: function () { return m ? m.zx : K && K.resolution ? K.resolution.width : 0 } }), g.defineProperty(d, "videoHeight", { get: function () { return m ? m.Gx : K && K.resolution ? K.resolution.height : 0 } }), g.defineProperty(d, "frameRate", { get: function () { return c && c.Vct } }), g.defineProperty(d, "frameAccurateSeekEnabled", { get: function () { return !d.live && m && m.paused && d.frameRate } }), g.defineProperty(d, "currentFrame", { get: function () { return c ? c.kSt(Ut()) : NaN }, set: function (t) { d.frameAccurateSeekEnabled && (t = y(t), Ht(c.bSt(t))) } }), g.defineProperty(d, "playbackRate", { get: function () { return c && c._g || m && m._g || 1 }, set: function (t) { (t = y(t)) > 0 && (c ? c._g = t : m && (m._g = t)) } }), g.defineProperty(d, "videoTracks", { get: function () { return J && J.Tg.vf || null } }), g.defineProperty(d, "audioTracks", { get: function () { return J && J.og.vf || null } }), g.defineProperty(d, "Ag", { get: function () { return f } }), g.defineProperty(d, "online", { get: function () { return W } }), g.defineProperty(d, "zEt", { get: function () { return m && m.zEt } }), g.defineProperty(d, "qEt", { get: function () { return m && m.qEt } }), g.defineProperty(d, "WEt", { get: function () { return m && m.WEt || "inline" }, set: function (t) { m && (m.WEt = t) } }), g.defineProperty(d, "gDt", { get: function () { return it }, set: function (t) { it = !!t, jt() } }), g.defineProperty(d, "Zf", { get: sn }), function () { if (!t) throw new v("Invalid element."); var n; d.addEventListener("online", function () { d.live && zt("now") }), d.addEventListener("playing", hn), f = new fu, l = new MF(d, f), d.addEventListener("fullscreenchange", jt), jt(), i.allowManualQualitySwitch && (u = new AM), n = function (t) { if ("string" == typeof t) try { return lP.q.C7(t, d) } catch (n) { throw new v("Unknown rule: " + t) } return t }, i.hAt = function (t) { var i, e = []; for (i = 0; i < t.length; i += 1)e.push(n(t[i])); return e }(i.abrRules), e.mo("EH", an), e.YH().catch(q), d.addEventListener("durationchange", Yt), I = ht(), R = ht(), E = I, A = I.fV, T = R.fV, ft(), Pt(null) }() }; $U.prototype = new vP, $U.prototype.constructor = $U; var QU, YU = ((QU = { useSwitchOverMSE: !1, ManifestParser: "wDt", allowManualQualitySwitch: "panel", initialRendition: "default", playbackRates: !1, isEmbeddable: !1, withCredentials: !1, enableKeyboardShortcuts: !0, skipImplicitHEAACDetection: !0, abrRules: [] }).abrRules.push("DownloadMetricRule"), QU.abrRules.push("OnlyAllowSameTrackTypeRenditionsRule"), sp && QU.abrRules.push("AvoidHighBitrateStreamsRule"), x.hn && QU.abrRules.push("AvoidVideoResolutionGreaterThanDisplaySizeRule"), QU); var ZU = function (t) { function n(n, i) { var e; (e = t.call(this) || this).snt = void 0, e.r7 = void 0, e.yDt = function () { return e.pDt() }, e.mDt = function () { return e.kDt() }, e.bDt = function () { return e._o(new R_(st(e))) }, e.aL = T_(), e.ADt = n, e.TDt = i, e.JL = new Y_; for (var r = e.ADt.qualities, s = 0; s < r.length; s++) { var u = r.item(s), o = e.SDt(u); o.mo("update", e.bDt), e.JL.kd(o) } return e.ADt.qualities.addEventListener("activequalitychanged", e.yDt), e.ADt.qualities.addEventListener("targetqualitychanged", e.mDt), e.pDt(), e.kDt(), e } rt(n, t); var i = n.prototype; return i.EDt = function (t) { t !== this.snt && (this.snt = t, t && this._o(new UD(t))) }, i.IDt = function (t, n) { return t === n || t && n && (e = n, (i = t).length === e.length && bn(i, e)); var i, e }, i.RDt = function (t) { for (var n = this.JL, i = 0; i < n.Sf; i++) { var e = n.yf(i); if (e.NDt === t) return e } }, i.CDt = function (t) { for (var n = this.JL, i = [], e = 0; e < n.Sf; e++) { var r = n.yf(e); kn(t, r.NDt) && i.push(r) } return i }, i.pDt = function () { var t = this.jf ? this.ADt.qualities.activeQuality : void 0, n = t && this.RDt(t) || void 0; this.EDt(n) }, i.kDt = function () { var t = this.ADt.qualities.targetQuality; t ? M(t) ? this.qf = this.CDt(t) || void 0 : this.qf = this.CDt([t]) || void 0 : this.qf = void 0 }, i.ej = function (t) { this.jf = t }, i.Af = function () { this.ADt.qualities.removeEventListener("activequalitychanged", this.yDt), this.ADt.qualities.removeEventListener("targetqualitychanged", this.mDt); for (var t = this.JL, n = 0; n < t.Sf; n++) { var i = t.yf(n); i.So("update", this.bDt), i.Af() } }, T(n, [{ key: "Lf", get: function () { return this.snt } }, { key: "jf", get: function () { return this.ADt.enabled }, set: function (t) { t ? this.TDt.enable(this.ADt) : this.TDt.disable(this.ADt) } }, { key: "vf", get: function () { return this.cf || (this.cf = jr(this)), this.cf } }, { key: "Ff", get: function () { return this.ADt.id + "" } }, { key: "Uf", get: function () { return this.aL } }, { key: "Vf", get: function () { return this.ADt.kind } }, { key: "Hf", get: function () { return this.ADt.name }, set: function (t) { t !== this.Hf && (this.ADt.name = t, this._o(new R_(this))) } }, { key: "Gf", get: function () { return this.ADt.language } }, { key: "Yf", get: function () { return this.jf ? "enabled" : "disabled" } }, { key: "zf", get: function () { return this.JL } }, { key: "qf", get: function () { return this.r7 }, set: function (t) { var n = this.r7; this.IDt(t, n) || (this.r7 = t, this.ADt.qualities.targetQuality = t ? t.map(function (t) { return t.NDt }) : null, this._o(new eB(t, this))) } }]), n }(hr), KU = function (t) { function n(n) { var i; return (i = t.call(this) || this).cf = void 0, i.SX = function () { return i.Lh() }, i.NDt = n, i.NDt.addEventListener("qualityupdated", i.SX), i.Ff = n.id, i.lA = n.bandwidth, i.tA = n.codecs, i.sit = n.uri, i } rt(n, t); var i = n.prototype; return i.Lh = function () { this.DDt() && this._o(new MB(this.vf)) }, i.DDt = function () { var t = this.NDt, n = t.id, i = t.bandwidth, e = t.codecs, r = t.uri, s = this.Ff !== n || !mo(this.lA, i) || this.tA !== e || this.sit !== r; return this.Ff = n, this.lA = i, this.tA = e, this.sit = r, s }, i.Af = function () { this.NDt.removeEventListener("qualityupdated", this.SX) }, T(n, [{ key: "Hf", get: function () { return this.NDt.name || "" }, set: function (t) { this.Hf !== t && (this.NDt.name = t, this._o(new MB(this.vf))) } }, { key: "vf", get: function () { return this.cf || (this.cf = this.lf()), this.cf } }]), n }(hr), JU = function (t) { function n(n) { var i; return (i = t.call(this, n) || this).Zb = NaN, i } return rt(n, t), n.prototype.lf = function () { return PB(this) }, n }(KU), tV = function (t) { function n(n, i) { var e; return void 0 === i && (i = 0), (e = t.call(this, n) || this).rA = n.frameRate, e.qw = n.resolution ? n.resolution.width : NaN, e.Ww = n.resolution ? n.resolution.height : NaN, e.xDt = i, e } rt(n, t); var i = n.prototype; return i.DDt = function () { var n = t.prototype.DDt.call(this), i = this.NDt, e = i.frameRate, r = i.resolution ? i.resolution.width : NaN, s = i.resolution ? i.resolution.height : NaN; return n = n || !mo(this.rA, e) || !mo(this.qw, r) || !mo(this.Ww, s), this.rA = e, this.qw = r, this.Ww = s, n }, i.lf = function () { return OB(this) }, T(n, [{ key: "rit", get: function () { return this.xDt }, set: function (t) { this.xDt !== t && (this.xDt = t, this._o(new MB(this.vf))) } }]), n }(KU), nV = function (t) { function n() { return t.apply(this, arguments) || this } return rt(n, t), n.prototype.SDt = function (t) { return new JU(t) }, n }(ZU), iV = function (t) { function n() { return t.apply(this, arguments) || this } rt(n, t); var i = n.prototype; return i.SDt = function (t) { return new tV(t, this.ODt) }, i.BDt = function (t) { this.ODt = t; for (var n = 0; n < this.zf.Sf; n++) { var i = this.zf.yf(n); void 0 !== i.rit && (i.rit = t) } }, n }(ZU), eV = function (t) { function n() { return t.apply(this, arguments) || this } rt(n, t); var i = n.prototype; return i.YH = function () { return Tt.resolve(Gp.IH) }, i.iG = function (t) { return Tt.resolve() }, n }(hr); function rV(t, n) { for (var i = 0; i < t.Sf; i++) { var e = t.yf(i); if (e.ADt === n) return e } } var sV = function () { var t = function (t) { function n(n, i, e, r, s) { var u; return (u = t.call(this) || this).Bnt = void 0, u.Jg = void 0, u.PDt = NaN, u.MDt = function () { u._o(new ru(u.yg)) }, u.LDt = function () { u._o(new Mh(u.yg)) }, u.Cst = function () { u._o(new Vl(u.yg)) }, u.Dst = function () { u._o(new Ul(u.yg)) }, u.jDt = function () { u._o(new Hl(u.yg, u._g)) }, u.FDt = function () { u._o(new su(u.yg, u.ux)) }, u.UDt = function () { u._o(new xR(u.yg)) }, u.VDt = function () { u._o(new Fh(u.yg)) }, u.HDt = function () { u._o(new BR) }, u.GDt = function () { u._o(new DO) }, u.zDt = function () { u._o(new xO) }, u.qDt = function () { u.WDt(), u.XDt.bf(), u.$Dt(), u.NV() }, u.tY = function () { u.$Dt(), u.NV(), u._V() }, u.WDt = function () { var t = u.PDt, n = u.Zy; u.PDt = n, t === n || p(t) && p(n) || u._o(new Oh(n)) }, u.QDt = function (t) { var n = t.error || u.YDt.error; if (n) { var i, e = uu.DECODE; "PLAYBACK_ISSUE" === n.code && tn(n.info.code, "VEE") && (e = +n.info.code.substr("VEE".length)), n.info && (i = n.info.code), u.Jg = new au(e, n.message, i), u._o(new ou(u.Jg)) } }, u.QU = function () { u._o(new Ph(u.yg, u.cg)) }, u.iot = function () { u.zx > 0 && u.Gx > 0 && u._o(new aw) }, u.ZDt = function () { u._o(new Zl) }, u.KDt = function (t) { u.M_.Tf.forEach(function (n) { return n.BDt(t.ptsOffset) }) }, u.JDt = function (t) { return u.txt(t.track) }, u.nxt = function (t) { return u.ixt(t.track) }, u.ext = function (t) { var n = rV(u.L_, t.track); n && n._o(new N_(n)) }, u.rxt = function (t) { var n = rV(u.M_, t.track); n && n._o(new N_(n)) }, u.sxt = n, u.hH = i, r = function (t) { var n, i = {}; return i = YF(t, i), (i = YF(YU, i)).abrRules = i.abrRules.slice(0), i.allowManualQualitySwitch = !x.Qt && i.allowManualQualitySwitch, i.libraryLocation = Cl(i.libraryLocation || "./", !0), i.initialRendition = i.initialRendition && i.initialRendition.toLowerCase(), i.localisation = (n = i.localisation || {}, function (t) { return B.call(n, t) ? n[t] : t }), i }(r), u.YDt = new $U(u.sxt, u.hH, r, new eV, e, s), u.uxt(), u.oxt = new uV(u.YDt), u.XDt = new gp(u.oxt, !0), u.XDt.mo(dp, u.do), u.L_ = new cu, u.M_ = new cu, u._V(), u } rt(n, t); var i = n.prototype; return i.Z_ = function () { this.YDt.Z_() }, i.B_ = function () { this.YDt.B_() }, n.wV = function (t, i) { if ((x.in || x.Dn) && !i.manifestMetadataTrack) return !1; if (!vf(t.type)) return !1; if (t.useNativePlayback) return !1; var e = t.contentProtection; return !(e && !qs(e) && !n.Ust(e)) && !!function (t) { return "unsupported" !== XU(t, {}) }(t) }, n.Ust = function (t) { return !!t.aes128 }, i.z_ = function () { var t = St(At.mark(function t(n, i) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: this.Bnt = n, this.YDt.z_({ sources: { src: n.src, type: Yc.Kx, contentProtection: n.contentProtection }, textTracks: i.textTracks, configuration: Et(Et({}, i), { crossOrigin: n.crossOrigin, withCredentials: n.useCredentials, liveOffset: n.liveOffset, hlsDateRange: n.hlsDateRange }) }); case 2: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.sN = function () { this.YDt.play() }, i.dN = function () { this.YDt.pause() }, i.bf = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: this.Bnt = void 0, this.Jg = void 0, this.YDt.z_({ sources: null }), this.XDt.bf(), this.$Dt(); case 5: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.q_ = function () { return !1 }, i.W_ = function () { }, i.X_ = function () { }, i.Nx = function () { return this.YDt.Nx() || void 0 }, i.H_ = function () { return this.YDt.aDt || void 0 }, i.Af = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, this.bf(); case 2: this.To(), this.XDt.Af(), this.oxt.Af(), this.axt(), this.YDt.oo(), this.L_.Af(), this.M_.Af(), this.Jg = void 0; case 10: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.uxt = function () { this.YDt.addEventListener("hDt", this.qDt), this.YDt.addEventListener("vDt", this.tY), this.YDt.addEventListener("durationchange", this.WDt), this.YDt.addEventListener("error", this.QDt), this.YDt.addEventListener("timeupdate", this.QU), this.YDt.addEventListener("resize", this.iot), this.YDt.addEventListener(Yl, this.ZDt), this.YDt.addEventListener("bTt", this.KDt), this.YDt.addEventListener("play", this.MDt), this.YDt.addEventListener("pause", this.LDt), this.YDt.addEventListener("seeking", this.Cst), this.YDt.addEventListener("seeked", this.Dst), this.YDt.addEventListener("ratechange", this.jDt), this.YDt.addEventListener("volumechange", this.FDt), this.YDt.addEventListener("progress", this.UDt), this.YDt.addEventListener("ended", this.VDt), this.YDt.addEventListener("loadstart", this.HDt), this.YDt.addEventListener("online", this.GDt), this.YDt.addEventListener("offline", this.zDt), this.YDt.addEventListener("m3", this.do), this.YDt.addEventListener("b3", this.do) }, i.axt = function () { this.YDt.removeEventListener("hDt", this.qDt), this.YDt.removeEventListener("vDt", this.tY), this.YDt.removeEventListener("durationchange", this.WDt), this.YDt.removeEventListener("error", this.QDt), this.YDt.removeEventListener("timeupdate", this.QU), this.YDt.removeEventListener("resize", this.iot), this.YDt.removeEventListener(Yl, this.ZDt), this.YDt.removeEventListener("play", this.MDt), this.YDt.removeEventListener("pause", this.LDt), this.YDt.removeEventListener("seeking", this.Cst), this.YDt.removeEventListener("seeked", this.Dst), this.YDt.removeEventListener("ratechange", this.jDt), this.YDt.removeEventListener("volumechange", this.FDt), this.YDt.removeEventListener("progress", this.UDt), this.YDt.removeEventListener("ended", this.VDt), this.YDt.removeEventListener("loadstart", this.HDt), this.YDt.removeEventListener("online", this.GDt), this.YDt.removeEventListener("offline", this.zDt), this.YDt.removeEventListener("m3", this.do), this.YDt.removeEventListener("b3", this.do) }, i._V = function () { var t = this.YDt.audioTracks, n = this.YDt.videoTracks; if (t) { for (var i = 0; i < t.length; i++)this.txt(t.item(i)); t.addEventListener("addtrack", this.JDt), t.addEventListener("enabledtrack", this.ext), t.addEventListener("disabledtrack", this.ext) } if (n) { for (var e = 0; e < n.length; e++)this.ixt(n.item(e)); n.addEventListener("addtrack", this.nxt), n.addEventListener("enabledtrack", this.rxt), n.addEventListener("disabledtrack", this.rxt) } }, i.NV = function () { var t = this.YDt.audioTracks, n = this.YDt.videoTracks; t && (t.removeEventListener("addtrack", this.JDt), t.removeEventListener("enabledtrack", this.ext), t.removeEventListener("disabledtrack", this.ext)), n && (n.removeEventListener("addtrack", this.nxt), n.removeEventListener("enabledtrack", this.rxt), n.removeEventListener("disabledtrack", this.rxt)) }, i.$Dt = function () { for (var t = 0, n = this.L_.Tf; t < n.length; t++) { n[t].Af() } for (var i = 0, e = this.M_.Tf; i < e.length; i++) { e[i].Af() } this.L_.bf(), this.M_.bf() }, i.txt = function (t) { rV(this.L_, t) || this.L_.pf(new nV(t, this.YDt.audioTracks)) }, i.ixt = function (t) { rV(this.M_, t) || this.M_.pf(new iV(t, this.YDt.videoTracks)) }, T(n, [{ key: "og", get: function () { return this.L_ } }, { key: "hg", get: function () { return this.YDt.buffered } }, { key: "cg", get: function () { var t; return null !== (t = this.YDt.currentProgramDateTime) && void 0 !== t ? t : void 0 }, set: function (t) { this.YDt.currentProgramDateTime = null != t ? t : null } }, { key: "yg", get: function () { var t = this.YDt.currentMonotonicTime; return "now" === t && (t = 1 / 0), t === 1 / 0 && p(this.YDt.duration) && (t = 0), t }, set: function (t) { this.YDt.currentMonotonicTime = t } }, { key: "Zy", get: function () { var t = this.YDt.duration; return t < 0 ? 1 / 0 : t } }, { key: "SN", get: function () { return this.YDt.ended } }, { key: "Bo", get: function () { return this.Jg } }, { key: "vg", get: function () { return !1 } }, { key: "A_", get: function () { return this.YDt.A_() } }, { key: "RE", get: function () { return this.YDt.muted }, set: function (t) { this.YDt.muted = t } }, { key: "dg", get: function () { return this.YDt.online } }, { key: "rN", get: function () { return this.YDt.paused } }, { key: "_g", get: function () { return this.YDt.playbackRate }, set: function (t) { this.YDt.playbackRate = t } }, { key: "wg", get: function () { return this.YDt.played } }, { key: "gg", get: function () { return this.YDt.preload || X_.Iw }, set: function (t) { this.YDt.preload = t } }, { key: "Zf", get: function () { return this.YDt.Zf } }, { key: "jx", get: function () { return this.YDt.seekable } }, { key: "pg", get: function () { return this.YDt.seeking } }, { key: "Ag", get: function () { return this.YDt.Ag } }, { key: "Tg", get: function () { return this.M_ } }, { key: "Gx", get: function () { return this.YDt.videoHeight } }, { key: "zx", get: function () { return this.YDt.videoWidth } }, { key: "ux", get: function () { return this.YDt.volume }, set: function (t) { this.YDt.volume = t } }]), n }(hr); return t.MA = 2, t }(), uV = function (t) { function n(n) { var i; return (i = t.call(this) || this).hxt = function () { i._o(new Nh(i.yg, i.YDt.Zf)) }, i.cxt = function () { i._o(new Bh(i.yg)) }, i.MDt = function () { i._o(new ru(i.yg)) }, i.LDt = function () { i._o(new Mh(i.yg)) }, i.YDt = n, i.YDt.addEventListener("readystatechange", i.hxt), i.YDt.addEventListener("playing", i.cxt), i.YDt.addEventListener(es.bl, i.MDt), i.YDt.addEventListener(es.yl, i.LDt), i } return rt(n, t), n.prototype.Af = function () { this.To(), this.YDt.removeEventListener("readystatechange", this.hxt), this.YDt.removeEventListener("playing", this.cxt), this.YDt.removeEventListener(es.bl, this.MDt), this.YDt.removeEventListener(es.yl, this.LDt) }, T(n, [{ key: "yg", get: function () { var t = this.YDt.currentMonotonicTime; return "now" === t && (t = 1 / 0), t === 1 / 0 && p(this.YDt.duration) && (t = 0), t } }, { key: "SN", get: function () { return this.YDt.ended } }, { key: "Bo", get: function () { return this.YDt.error || void 0 } }, { key: "rN", get: function () { return this.YDt.paused } }]), n }(Pn); kp(sV); var oV, aV = function (t) { function n() { return t.call(this, "fxt") || this } return rt(n, t), n }(Mn), hV = function (t) { function n(n, i, e) { var r; return (r = t.call(this) || this).vxt = function () { r._o(new aV) }, r.Bnt = n, r.lxt = Et(Et({}, i), { crossOrigin: r.Bnt.crossOrigin, withCredentials: r.Bnt.useCredentials, liveOffset: r.Bnt.liveOffset, hlsDateRange: r.Bnt.hlsDateRange }), r.OS = e, r.dxt = [], r.uu = !1, r } rt(n, t); var i = n.prototype; return i._xt = function () { if (this.gxt) return this.gxt.zat }, i.Ll = function (t) { var n = this; se(xB(function () { return n.Ilt() }, t)) }, i.Ilt = function () { var t = St(At.mark(function t() { var n, i, e, r, s, u; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, this.wxt(); case 2: if ((n = t.sent).isMasterPlaylist) for (this.yxt = n, i = 0, e = n.streams; i < e.length; i++)r = e[i], s = new xP(this.OS, this.lxt), this.dxt.push({ stream: { uri: r.uri, width: r.resolution && r.resolution.width, height: r.resolution && r.resolution.height }, updater: s }); else u = new xP(this.OS, this.lxt), this.dxt.push({ stream: { uri: n.uri }, updater: u }); this.pxt && (this.mxt(this.pxt.width, this.pxt.height), this.pxt = void 0), this.uu = !0; case 6: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.kxt = function (t, n) { this.uu ? this.mxt(t, n) : this.pxt = { width: t, height: n } }, i.mxt = function (t, n) { this.bxt(); var i = this.Axt(t, n); i && (this.gxt = i.updater, this.gxt.addEventListener("eht", this.vxt), i.updater.Ll(i.stream.uri)) }, i.bxt = function () { this.gxt && (this.gxt.bx(), this.gxt.removeEventListener("eht", this.vxt), this.gxt = void 0) }, i.Axt = function (t, n) { return 1 === this.dxt.length ? this.dxt[0] : wn(this.dxt, function (i) { return i.stream.width === t && i.stream.height === n }) }, i.wxt = function () { var t = St(At.mark(function t() { var n, i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return n = new DP(this.lxt, oP.q.yot, this.OS), t.next = 3, n.Ph(this.Bnt.src, {}); case 3: return i = t.sent, t.abrupt("return", i.zat); case 5: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.Af = function () { this.bxt(); for (var t = 0, n = this.dxt; t < n.length; t++) { n[t].updater.Af() } An(this.dxt) }, n }(Pn); oV = function (t) { return function (t) { function n(n, i, e, r, s) { var u; return (u = t.call(this, n, i, e, r, s) || this).handleManifestUpdate = function () { var t = u.Txt._xt(); if (t) { var n = u.EV(); n && (u.uvt.Lh(t.dateRanges, n), !u.Sxt && u.uvt.Kf.Sf > 0 && (u.Ag.pf(u.uvt), u.Sxt = !0)) } }, u.iot = function () { u.Txt && u.Txt.kxt(u.zx, u.Gx) }, u.Ext = e, u.JD = r, u.uvt = new WP, u.Sxt = !1, u.mo(es.El, u.iot), u } rt(n, t); var i, e = n.prototype; return e.z_ = (i = St(At.mark(function n(i, e, r) { return At.wrap(function (n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, t.prototype.z_.call(this, i, e, r); case 2: i.hlsDateRange && this.uT(i, e, r); case 3: case "end": return n.stop() } }, n, this) })), function (t, n, e) { return i.apply(this, arguments) }), e.uT = function (t, n, i) { this.Txt && (this.Txt.So("fxt", this.handleManifestUpdate), this.Txt.Af()), this.Txt = new hV(t, n, this.Ext), this.Txt.mo("fxt", this.handleManifestUpdate), this.Txt.Ll(i) }, e.Af = function () { return this.So(es.El, this.iot), this.Txt && (this.Txt.So("fxt", this.handleManifestUpdate), this.Txt.Af()), t.prototype.Af.call(this) }, n }(t) }, mp.BV().PV(oV); var cV = function (t) { function n(n) { var i; return (i = t.call(this, "statechange") || this).J1 = n, i } return rt(n, t), n }(Mn), fV = function () { var t = function () { function t() { this.ZSt = void 0 } var n = t.prototype; return n.Ixt = function () { return this.ZSt || (this.ZSt = this.Rxt()), this.ZSt }, n.Rxt = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (vV()) { t.next = 4; break } return t.next = 3, this.Nxt(); case 3: 0; case 4: return t.abrupt("return"); case 5: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), n.Nxt = function () { return new Tt(function (t, n) { var i = r.__onGCastApiAvailable; r.__onGCastApiAvailable = function (e, s) { e ? t() : n(new v(s)), r.__onGCastApiAvailable = i, i && i(e, s) } }) }, t }(); return t.q = new t, t }(); function vV() { return "undefined" != typeof chrome && chrome && chrome.cast && chrome.cast.isAvailable } function lV(t, n) { var i = g.create(t, n); return g.defineProperty(i, "constructor", { value: i.constructor, enumerable: !1, writable: !0, configurable: !0 }), i } var dV = void 0; "undefined" != typeof cast && (dV = cast.framework), function () { var t, n, i = lV; if ("function" == typeof g.setPrototypeOf) n = g.setPrototypeOf; else { var e; t: { var u = {}; try { u.__proto__ = { Ta: !0 }, e = u.Ta; break t } catch (o) { } e = !1 } n = e ? function (t, n) { if (t.__proto__ = n, t.__proto__ !== n) throw new l(t + " is not extensible"); return t } : null } var o, c = n, f = function (t, n) { if (t.prototype = i(n.prototype), t.prototype.constructor = t, c) c(t, n); else for (var e in n) if ("prototype" != e) if (g.defineProperties) { var r = g.getOwnPropertyDescriptor(n, e); r && g.defineProperty(t, e, r) } else t[e] = n[e]; t.Kb = n.prototype }, d = "function" == typeof g.defineProperties ? g.defineProperty : function (t, n, i) { t != Array.prototype && t != g.prototype && (t[n] = i.value) }, p = void 0 !== r && r === this ? this : "undefined" != typeof global && null != global ? global : this, m = function () { m = function () { }, p.Symbol || (p.Symbol = k) }, k = (o = 0, function (t) { return "Cxt" + (t || "") + o++ }), b = function () { m(); var t = p.Symbol.iterator; t || (t = p.Symbol.iterator = p.Symbol("iterator")), "function" != typeof Array.prototype[t] && d(Array.prototype, t, { configurable: !0, writable: !0, value: function () { return A(this) } }), b = function () { } }, A = function (t) { var n = 0; return T(function () { return n < t.length ? { done: !1, value: t[n++] } : { done: !0 } }) }, T = function (t) { return b(), (t = { next: t })[p.Symbol.iterator] = function () { return this }, t }, S = function (t) { b(); var n = t[Symbol.iterator]; return n ? n.call(t) : A(t) }, E = this, I = function () { }, R = function (t) { var n = typeof t; if ("object" == n) { if (!t) return "null"; if (t instanceof Array) return "array"; if (t instanceof g) return n; var i = g.prototype.toString.call(t); if ("[object Window]" == i) return "object"; if ("[object Array]" == i || "number" == typeof t.length && void 0 !== t.splice && void 0 !== t.propertyIsEnumerable && !t.propertyIsEnumerable("splice")) return "array"; if ("[object Function]" == i || void 0 !== t.call && void 0 !== t.propertyIsEnumerable && !t.propertyIsEnumerable("call")) return "function" } else if ("function" == n && void 0 === t.call) return "object"; return n }, C = function (t) { var n = R(t); return "array" == n || "object" == n && "number" == typeof t.length }, N = function (t) { return "function" == R(t) }, D = function (t, n, i) { return t.call.apply(t.bind, arguments) }, x = function (t, n, i) { if (!t) throw v(); if (2 < arguments.length) { var e = Array.prototype.slice.call(arguments, 2); return function () { var i = Array.prototype.slice.call(arguments); return Array.prototype.unshift.apply(i, e), t.apply(n, i) } } return function () { return t.apply(n, arguments) } }, B = function (t, n, i) { return (B = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? D : x).apply(null, arguments) }, O = Date.now || function () { return +new Date }, P = function (t, n) { t = t.split("."); var i, e = E; t[0] in e || !e.execScript || e.execScript("var " + t[0]); for (; t.length && (i = t.shift());)t.length || void 0 === n ? e = e[i] && e[i] !== g.prototype[i] ? e[i] : e[i] = {} : e[i] = n }, M = function (t, n) { function i() { } i.prototype = n.prototype, t.Kb = n.prototype, t.prototype = new i, t.prototype.constructor = t, t.Ob = function (t, i, e) { for (var r = Array(arguments.length - 2), s = 2; s < arguments.length; s++)r[s - 2] = arguments[s]; return n.prototype[i].apply(t, r) } }, L = function (t) { if (v.captureStackTrace) v.captureStackTrace(this, L); else { var n = v().stack; n && (this.stack = n) } t && (this.message = String(t)) }; M(L, v), L.prototype.name = "CustomError"; var j = String.prototype.trim ? function (t) { return t.trim() } : function (t) { return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g, "") }, F = function (t, n) { return t < n ? -1 : t > n ? 1 : 0 }, U = function (t, n) { n.unshift(t), L.call(this, function (t, n) { for (var i = t.split("%s"), e = "", r = Array.prototype.slice.call(arguments, 1); r.length && 1 < i.length;)e += i.shift() + r.shift(); return e + i.join("%s") }.apply(null, n)), n.shift() }; M(U, L), U.prototype.name = "AssertionError"; var V; t: { var H = E.navigator; if (H) { var z = H.userAgent; if (z) { V = z; break t } } V = "" } var q, G = function (t) { return -1 != V.indexOf(t) }, W = G("Opera"), X = G("Trident") || G("MSIE"), $ = G("Edge"), Q = G("Gecko") && !(-1 != V.toLowerCase().indexOf("webkit") && !G("Edge")) && !(G("Trident") || G("MSIE")) && !G("Edge"), Y = -1 != V.toLowerCase().indexOf("webkit") && !G("Edge"); t: { var Z = "", K = function () { var t = V; return Q ? /rv\:([^\);]+)(\)|;)/.exec(t) : $ ? /Edge\/([\d\.]+)/.exec(t) : X ? /\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t) : Y ? /WebKit\/(\S+)/.exec(t) : W ? /(?:Version)[ \/]?(\S+)/.exec(t) : void 0 }(); if (K && (Z = K ? K[1] : ""), X) { var J, tt = E.document; if (null != (J = tt ? tt.documentMode : void 0) && J > y(Z)) { q = String(J); break t } } q = Z } var nt = q, it = {}, et = function (t) { return function (t, n) { var i = it; return g.prototype.hasOwnProperty.call(i, t) ? i[t] : i[t] = n(t) }(t, function () { for (var n = 0, i = j(String(nt)).split("."), e = j(String(t)).split("."), r = _.max(i.length, e.length), s = 0; 0 == n && s < r; s++) { var u = i[s] || "", o = e[s] || ""; do { if (u = /(\d*)(\D*)(.*)/.exec(u) || ["", "", "", ""], o = /(\d*)(\D*)(.*)/.exec(o) || ["", "", "", ""], 0 == u[0].length && 0 == o[0].length) break; n = F(0 == u[1].length ? 0 : w(u[1], 10), 0 == o[1].length ? 0 : w(o[1], 10)) || F(0 == u[2].length, 0 == o[2].length) || F(u[2], o[2]), u = u[3], o = o[3] } while (0 == n) } return 0 <= n }) }, rt = function (t, n, i, e, r) { this.reset(t, n, i, e, r) }; rt.prototype.ga = null, rt.prototype.reset = function (t, n, i, e, r) { this.Sa = e || O(), this.A = t, this.Ha = n, this.Fa = i, delete this.ga }, rt.prototype.wa = function (t) { this.A = t }; var st = function (t) { this.Ia = t, this.N = this.ea = this.A = this.j = null }, ut = function (t, n) { this.name = t, this.value = n }; ut.prototype.toString = function () { return this.name }; var ot = new ut("SHOUT", 1200), at = new ut("SEVERE", 1e3), ht = new ut("WARNING", 900), ct = new ut("INFO", 800), ft = new ut("CONFIG", 700), vt = [new ut("OFF", 1 / 0), ot, at, ht, ct, ft, new ut("FINE", 500), new ut("FINER", 400), new ut("FINEST", 300), new ut("ALL", 0)], lt = null; st.prototype.getName = function () { return this.Ia }, st.prototype.getParent = function () { return this.j }, st.prototype.wa = function (t) { this.A = t }; var dt = function (t) { return t.A ? t.A : t.j ? dt(t.j) : (function (t, n) { throw new U("Failure" + (t ? ": " + t : ""), Array.prototype.slice.call(arguments, 1)) }("Root logger has no level set."), null) }; st.prototype.log = function (t, n, i) { if (t.value >= dt(this).value) for (N(n) && (n = n()), t = new rt(t, String(n), this.Ia), i && (t.ga = i), i = "log:" + t.Ha, (n = E.console) && n.timeStamp && n.timeStamp(i), (n = E.msWriteProfilerMark) && n(i), i = this; i;) { var e = i, r = t; if (e.N) for (var s = 0; n = e.N[s]; s++)n(r); i = i.getParent() } }, st.prototype.info = function (t, n) { this.log(ct, t, n) }; var gt = {}, _t = null, wt = function () { _t || (_t = new st(""), gt[""] = _t, _t.wa(ft)) }, yt = function () { return wt(), _t }, pt = function (t) { var n; if (wt(), !(n = gt[t])) { n = new st(t); var i = t.lastIndexOf("."), e = t.substr(i + 1); (i = pt(t.substr(0, i))).ea || (i.ea = {}), i.ea[e] = n, n.j = i, gt[t] = n } return n }, mt = function (t) { On && On.log(ht, t, void 0) }, kt = function () { this.Ma = O() }, bt = null; kt.prototype.set = function (t) { this.Ma = t }, kt.prototype.reset = function () { this.set(O()) }, kt.prototype.get = function () { return this.Ma }; var At = function (t) { this.yb = t || "", bt || (bt = new kt), this.Jb = bt }; (t = At.prototype).ya = !0, t.Qa = !0, t.Hb = !0, t.Gb = !0, t.Ra = !1, t.Ib = !1; var Tt = function (t) { return 10 > t ? "0" + t : String(t) }, St = function (t) { At.call(this, t) }; M(St, At); var Et = function () { this.zb = B(this.Ua, this), this.V = new St, this.V.Qa = !1, this.V.Ra = !1, this.Ea = this.V.ya = !1, this.cb = {} }; Et.prototype.Ua = function (t) { if (!this.cb[t.Fa]) { var n = this.V, i = []; if (i.push(n.yb, " "), n.Qa) { var e = new Date(t.Sa); i.push("[", Tt(e.getFullYear() - 2e3) + Tt(e.getMonth() + 1) + Tt(e.getDate()) + " " + Tt(e.getHours()) + ":" + Tt(e.getMinutes()) + ":" + Tt(e.getSeconds()) + "." + Tt(_.floor(e.getMilliseconds() / 10)), "] ") } if (n.Hb && i.push("[", function (t, n) { n = (t = (t.Sa - n) / 1e3).toFixed(3); var i = 0; if (1 > t) i = 2; else for (; 100 > t;)i++, t *= 10; for (; 0 < i--;)n = " " + n; return n }(t, n.Jb.get()), "s] "), n.Gb && i.push("[", t.Fa, "] "), n.Ib && i.push("[", t.A.name, "] "), i.push(t.Ha), n.Ra && (e = t.ga) && i.push("\n", e instanceof v ? e.message : e.toString()), n.ya && i.push("\n"), n = i.join(""), i = Rt) switch (t.A) { case ot: Ct(i, "info", n); break; case at: Ct(i, "error", n); break; case ht: Ct(i, "warn", n); break; default: Ct(i, "log", n) } } }; var It = null, Rt = E.console, Ct = function (t, n, i) { t[n] ? t[n](i) : t.log(i) }, Nt = function (t, n, i) { this.pb = i, this.Ya = t, this.Cb = n, this.$ = 0, this.X = null }; Nt.prototype.get = function () { if (0 < this.$) { this.$--; var t = this.X; this.X = t.next, t.next = null } else t = this.Ya(); return t }, Nt.prototype.put = function (t) { this.Cb(t), this.$ < this.pb && (this.$++, t.next = this.X, this.X = t) }; var Dt, xt = function (t) { E.setTimeout(function () { throw t }, 0) }, Bt = function () { this.ba = this.K = null }, Ot = new Nt(function () { return new Pt }, function (t) { t.reset() }, 100); Bt.prototype.add = function (t, n) { var i = Ot.get(); i.set(t, n), this.ba ? this.ba.next = i : this.K = i, this.ba = i }, Bt.prototype.remove = function () { var t = null; return this.K && (t = this.K, this.K = this.K.next, this.K || (this.ba = null), t.next = null), t }; var Pt = function () { this.next = this.scope = this.ia = null }; Pt.prototype.set = function (t, n) { this.ia = t, this.scope = n, this.next = null }, Pt.prototype.reset = function () { this.next = this.scope = this.ia = null }; var Mt, Lt = function (t, n) { Mt || jt(), Ft || (Mt(), Ft = !0), Ut.add(t, n) }, jt = function () { if (-1 != String(E.Promise).indexOf("[native code]")) { var t = E.Promise.resolve(void 0); Mt = function () { t.then(Vt) } } else Mt = function () { var t = Vt; !N(E.setImmediate) || E.Window && E.Window.prototype && !G("Edge") && E.Window.prototype.setImmediate == E.setImmediate ? (Dt || (Dt = function () { var t = E.MessageChannel; if (void 0 === t && void 0 !== r && r.postMessage && r.addEventListener && !G("Presto") && (t = function () { var t = s.createElement("IFRAME"); t.style.display = "none", t.src = "", s.documentElement.appendChild(t); var n = t.contentWindow; (t = n.document).open(), t.write(""), t.close(); var i = "callImmediate" + _.random(), e = "file:" == n.location.protocol ? "*" : n.location.protocol + "//" + n.location.host; t = B(function (t) { "*" != e && t.origin != e || t.data != i || this.port1.onmessage() }, this), n.addEventListener("message", t, !1), this.port1 = {}, this.port2 = { postMessage: function () { n.postMessage(i, e) } } }), void 0 !== t && !G("Trident") && !G("MSIE")) { var n = new t, i = {}, e = i; return n.port1.onmessage = function () { if (void 0 !== i.next) { var t = (i = i.next).za; i.za = null, t() } }, function (t) { e.next = { za: t }, e = e.next, n.port2.postMessage(0) } } return void 0 !== s && "onreadystatechange" in s.createElement("SCRIPT") ? function (t) { var n = s.createElement("SCRIPT"); n.onreadystatechange = function () { n.onreadystatechange = null, n.parentNode.removeChild(n), n = null, t(), t = null }, s.documentElement.appendChild(n) } : function (t) { E.setTimeout(t, 0) } }()), Dt(t)) : E.setImmediate(t) } }, Ft = !1, Ut = new Bt, Vt = function () { for (var t; t = Ut.remove();) { try { t.ia.call(t.scope) } catch (t) { xt(t) } Ot.put(t) } Ft = !1 }, Ht = function (t, n) { if (this.g = 0, this.Na = void 0, this.C = this.o = this.j = null, this.W = this.ha = !1, t != I) try { var i = this; t.call(n, function (t) { Yt(i, 2, t) }, function (t) { if (!(t instanceof sn)) try { if (t instanceof v) throw t; throw v("Promise rejected.") } catch (t) { } Yt(i, 3, t) }) } catch (t) { Yt(this, 3, t) } }, zt = function () { this.next = this.context = this.G = this.P = this.w = null, this.U = !1 }; zt.prototype.reset = function () { this.context = this.G = this.P = this.w = null, this.U = !1 }; var qt = new Nt(function () { return new zt }, function (t) { t.reset() }, 100), Gt = function (t, n, i) { var e = qt.get(); return e.P = t, e.G = n, e.context = i, e }, Wt = function () { var t, n, i = new Ht(function (i, e) { t = i, n = e }); return new un(i, t, n) }; Ht.prototype.then = function (t, n, i) { return Qt(this, N(t) ? t : null, N(n) ? n : null, i) }, Ht.prototype.then = Ht.prototype.then, Ht.prototype.$goog_Thenable = !0, Ht.prototype.cancel = function (t) { 0 == this.g && Lt(function () { var n = new sn(t); Xt(this, n) }, this) }; var Xt = function (t, n) { if (0 == t.g) if (t.j) { var i = t.j; if (i.o) { for (var e = 0, r = null, s = null, u = i.o; u && (u.U || (e++, u.w == t && (r = u), !(r && 1 < e))); u = u.next)r || (s = u); r && (0 == i.g && 1 == e ? Xt(i, n) : (s ? ((e = s).next == i.C && (i.C = e), e.next = e.next.next) : Jt(i), tn(i, r, 3, n))) } t.j = null } else Yt(t, 3, n) }, $t = function (t, n) { t.o || 2 != t.g && 3 != t.g || Kt(t), t.C ? t.C.next = n : t.o = n, t.C = n }, Qt = function (t, n, i, e) { var r = Gt(null, null, null); return r.w = new Ht(function (t, s) { r.P = n ? function (i) { try { var r = n.call(e, i); t(r) } catch (t) { s(t) } } : t, r.G = i ? function (n) { try { var r = i.call(e, n); void 0 === r && n instanceof sn ? s(n) : t(r) } catch (t) { s(t) } } : s }), r.w.j = t, $t(t, r), r.w }; Ht.prototype.Lb = function (t) { this.g = 0, Yt(this, 2, t) }, Ht.prototype.Mb = function (t) { this.g = 0, Yt(this, 3, t) }; var Yt = function (t, n, i) { if (0 == t.g) { t === i && (n = 3, i = new l("Promise cannot resolve to itself")), t.g = 1; t: { var e = i, r = t.Lb, s = t.Mb; if (e instanceof Ht) { $t(e, Gt(r || I, s || null, t)); var u = !0 } else { if (e) try { var o = !!e.$goog_Thenable } catch (t) { o = !1 } else o = !1; if (o) e.then(r, s, t), u = !0; else { if ("object" == (o = typeof e) && null != e || "function" == o) try { var a = e.then; if (N(a)) { Zt(e, a, r, s, t), u = !0; break t } } catch (n) { s.call(t, n), u = !0; break t } u = !1 } } } u || (t.Na = i, t.g = n, t.j = null, Kt(t), 3 != n || i instanceof sn || en(t, i)) } }, Zt = function (t, n, i, e, r) { var s = !1, u = function (t) { s || (s = !0, e.call(r, t)) }; try { n.call(t, function (t) { s || (s = !0, i.call(r, t)) }, u) } catch (t) { u(t) } }, Kt = function (t) { t.ha || (t.ha = !0, Lt(t.ab, t)) }, Jt = function (t) { var n = null; return t.o && (n = t.o, t.o = n.next, n.next = null), t.o || (t.C = null), n }; Ht.prototype.ab = function () { for (var t; t = Jt(this);)tn(this, t, this.g, this.Na); this.ha = !1 }; var tn = function (t, n, i, e) { if (3 == i && n.G && !n.U) for (; t && t.W; t = t.j)t.W = !1; if (n.w) n.w.j = null, nn(n, i, e); else try { n.U ? n.P.call(n.context) : nn(n, i, e) } catch (t) { rn.call(null, t) } qt.put(n) }, nn = function (t, n, i) { 2 == n ? t.P.call(t.context, i) : t.G && t.G.call(t.context, i) }, en = function (t, n) { t.W = !0, Lt(function () { t.W && rn.call(null, n) }) }, rn = xt, sn = function (t) { L.call(this, t) }; M(sn, L), sn.prototype.name = "cancel"; var un = function (t, n, i) { this.I = t, this.resolve = n, this.reject = i }, on = function () { this.Ba = this.Ba, this.vb = this.vb }; on.prototype.Ba = !1, X && et("9"), !Y || et("528"), Q && et("1.9b") || X && et("8") || W && et("9.5") || Y && et("528"), Q && !et("8") || X && et("9"), function () { if (!E.addEventListener || !g.defineProperty) return !1; var t = !1, n = g.defineProperty({}, "passive", { get: function () { t = !0 } }); E.addEventListener("test", I, n), E.removeEventListener("test", I, n) }(); var an = function (t, n, i) { on.call(this), this.qb = null != i ? B(t, i) : t, this.ob = n, this.Xa = B(this.xb, this), this.da = [] }; M(an, on), (t = an.prototype).J = !1, t.R = 0, t.B = null, t.eb = function (t) { this.da = arguments, this.B || this.R ? this.J = !0 : hn(this) }, t.stop = function () { this.B && (E.clearTimeout(this.B), this.B = null, this.J = !1, this.da = []) }, t.pause = function () { this.R++ }, t.resume = function () { this.R--, this.R || !this.J || this.B || (this.J = !1, hn(this)) }, t.xb = function () { this.B = null, this.J && !this.R && (this.J = !1, hn(this)) }; var hn = function (t) { var n = t.Xa, i = t.ob; if (!N(n)) { if (!n || "function" != typeof n.handleEvent) throw v("Invalid listener argument"); n = B(n.handleEvent, n) } n = 2147483647 < Number(i) ? -1 : E.setTimeout(n, i || 0), t.B = n, t.qb.apply(null, t.da) }, cn = function (t) { t.controller = this, this.a = t, this.u = this.f = this.b = null, this.Ka = this.wb.bind(this), this.D = this.sb.bind(this), this.F = this.tb.bind(this), this.m = 0, this.Nb = new an(this.bb, 200, this) }; (t = cn.prototype).sa = function () { this.f && (this.m++, this.a.isPaused = !this.a.isPaused, this.a.isPaused ? this.f.pause(null, this.F, this.D) : this.f.play(null, this.F, this.D)) }, t.stop = function () { this.f && (this.m++, this.f.stop(null, this.F, this.D)) }, t.seek = function () { if (this.f) { this.u && (h(this.u), this.u = null), this.m++; var t = new chrome.cast.media.SeekRequest; t.currentTime = this.a.currentTime, this.f.seek(t, this.F, this.D) } }, t.qa = function () { this.b && (this.m++, this.a.isMuted = !this.a.isMuted, this.b.setReceiverMuted(this.a.isMuted, this.F, this.D)) }, t.xa = function () { this.Nb.eb() }, t.bb = function () { this.b && (this.m++, this.b.setReceiverVolumeLevel(this.a.volumeLevel, this.F, this.D)) }, t.tb = function () { this.m--, this.v() }, t.sb = function () { this.m--, this.f && this.f.getStatus(null, I, I) }, t.wb = function () { this.f && (this.a.currentTime = this.f.getEstimatedTime(), this.u = a(this.Ka, 1e3)) }, t.v = function (t) { if (!(0 < this.m)) if (this.b) { this.a.displayName = this.b.displayName || ""; var n = this.b.statusText || ""; this.a.displayStatus = n != this.a.displayName ? n : "", !t && this.b.receiver && (t = this.b.receiver.volume) && (null != t.muted && (this.a.isMuted = t.muted), null != t.level && (this.a.volumeLevel = t.level), this.a.canControlVolume = "fixed" != t.controlType), this.f ? (this.a.isMediaLoaded = this.f.playerState != chrome.cast.media.PlayerState.IDLE, this.a.isPaused = this.f.playerState == chrome.cast.media.PlayerState.PAUSED, this.a.canPause = 0 <= this.f.supportedMediaCommands.indexOf(chrome.cast.media.MediaCommand.PAUSE), this.T(this.f.media), this.a.canSeek = 0 <= this.f.supportedMediaCommands.indexOf(chrome.cast.media.MediaCommand.SEEK) && 0 != this.a.duration, this.a.currentTime = this.f.getEstimatedTime(), this.u && (h(this.u), this.u = null), this.f.playerState == chrome.cast.media.PlayerState.PLAYING && (this.u = a(this.Ka, 1e3))) : this.T(null) } else this.a.displayName = "", this.a.displayStatus = "", this.T(null) }, t.T = function (t) { t ? (this.a.duration = t.duration || 0, t.metadata && t.metadata.title && (this.a.displayStatus = t.metadata.title)) : (this.a.isMediaLoaded = !1, this.a.canPause = !1, this.a.canSeek = !1, this.a.currentTime = 0, this.a.duration = 0) }; var fn = function (t) { if (!t.f) for (var n = 0, i = t.b.media; n < i.length; n++)if (!i[n].idleReason) { t.f = i[n], t.f.addUpdateListener(t.rb.bind(t)); break } }, vn = function (t, n) { t.b = n, n.addMediaListener(t.Ga.bind(t)), n.addUpdateListener(t.va.bind(t)), fn(t), t.v() }; (t = cn.prototype).va = function (t) { t || (this.f = this.b = null), this.v() }, t.Ga = function () { fn(this), this.v(!0) }, t.rb = function (t) { t || (this.f = null), this.v(!0) }, t.ka = function (t, n) { return n ? 100 * t / n : 0 }, t.la = function (t, n) { return n ? t * n / 100 : 0 }, t.ja = function (t) { return 0 > t ? "" : [("0" + _.floor(t / 3600)).substr(-2), ("0" + _.floor(t / 60) % 60).substr(-2), ("0" + _.floor(t) % 60).substr(-2)].join(":") }; var ln = pt("castx.common.loadScript"); P("cast.framework.VERSION", "1.0.06"), P("cast.framework.LoggerLevel", { DEBUG: 0, INFO: 800, WARNING: 900, ERROR: 1e3, NONE: 1500 }), P("cast.framework.CastState", { NO_DEVICES_AVAILABLE: "NO_DEVICES_AVAILABLE", NOT_CONNECTED: "NOT_CONNECTED", CONNECTING: "CONNECTING", CONNECTED: "CONNECTED" }), P("cast.framework.SessionState", { NO_SESSION: "NO_SESSION", SESSION_STARTING: "SESSION_STARTING", SESSION_STARTED: "SESSION_STARTED", SESSION_START_FAILED: "SESSION_START_FAILED", SESSION_ENDING: "SESSION_ENDING", SESSION_ENDED: "SESSION_ENDED", SESSION_RESUMED: "SESSION_RESUMED" }), P("cast.framework.CastContextEventType", { CAST_STATE_CHANGED: "caststatechanged", SESSION_STATE_CHANGED: "sessionstatechanged" }), P("cast.framework.SessionEventType", { APPLICATION_STATUS_CHANGED: "applicationstatuschanged", APPLICATION_METADATA_CHANGED: "applicationmetadatachanged", ACTIVE_INPUT_STATE_CHANGED: "activeinputstatechanged", VOLUME_CHANGED: "volumechanged", MEDIA_SESSION: "mediasession" }), P("cast.framework.RemotePlayerEventType", { ANY_CHANGE: "anyChanged", IS_CONNECTED_CHANGED: "isConnectedChanged", IS_MEDIA_LOADED_CHANGED: "isMediaLoadedChanged", DURATION_CHANGED: "durationChanged", CURRENT_TIME_CHANGED: "currentTimeChanged", IS_PAUSED_CHANGED: "isPausedChanged", VOLUME_LEVEL_CHANGED: "volumeLevelChanged", CAN_CONTROL_VOLUME_CHANGED: "canControlVolumeChanged", IS_MUTED_CHANGED: "isMutedChanged", CAN_PAUSE_CHANGED: "canPauseChanged", CAN_SEEK_CHANGED: "canSeekChanged", DISPLAY_NAME_CHANGED: "displayNameChanged", STATUS_TEXT_CHANGED: "statusTextChanged", TITLE_CHANGED: "titleChanged", DISPLAY_STATUS_CHANGED: "displayStatusChanged", MEDIA_INFO_CHANGED: "mediaInfoChanged", IMAGE_URL_CHANGED: "imageUrlChanged", PLAYER_STATE_CHANGED: "playerStateChanged" }), P("cast.framework.ActiveInputState", { ACTIVE_INPUT_STATE_UNKNOWN: -1, ACTIVE_INPUT_STATE_NO: 0, ACTIVE_INPUT_STATE_YES: 1 }); var dn = function (t) { yt().wa(function (t) { if (!lt) { lt = {}; for (var n, i = 0; n = vt[i]; i++)lt[n.value] = n, lt[n.name] = n } if (t in lt) return lt[t]; for (i = 0; i < vt.length; ++i)if ((n = vt[i]).value <= t) return n; return null }(t)) }; if (P("cast.framework.setLoggerLevel", dn), It || (It = new Et), It) { var gn = It; if (1 != gn.Ea) { var _n = yt(), wn = gn.zb; _n.N || (_n.N = []), _n.N.push(wn), gn.Ea = !0 } } dn(1e3); var yn = function (t) { this.type = t }; P("cast.framework.EventData", yn); var pn = function (t) { this.type = "activeinputstatechanged", this.activeInputState = t }; f(pn, yn), P("cast.framework.ActiveInputStateEventData", pn); var mn = function (t) { this.applicationId = t.appId, this.name = t.displayName, this.images = t.appImages, this.namespaces = this.ra(t.namespaces || []) }; P("cast.framework.ApplicationMetadata", mn), mn.prototype.ra = function (t) { return t.map(function (t) { return t.name }) }; var kn = function (t) { this.type = "applicationmetadatachanged", this.metadata = t }; f(kn, yn), P("cast.framework.ApplicationMetadataEventData", kn); var bn = function (t) { this.type = "applicationstatuschanged", this.status = t }; f(bn, yn), P("cast.framework.ApplicationStatusEventData", bn); var An = pt("cast.framework.EventTarget"), Tn = function () { this.O = {} }; Tn.prototype.addEventListener = function (t, n) { t in this.O || (this.O[t] = []), -1 !== (t = this.O[t]).indexOf(n) || t.push(n) }, Tn.prototype.removeEventListener = function (t, n) { 0 <= (n = (t = this.O[t] || []).indexOf(n)) && t.splice(n, 1) }, Tn.prototype.dispatchEvent = function (t) { t && t.type && (this.O[t.type] || []).forEach(function (n) { try { n(t) } catch (n) { An && An.log(at, "Handler for " + t.type + " event failed: " + n, n) } }) }; var Sn = function (t) { t = t || {}, this.receiverApplicationId = t.receiverApplicationId || null, this.resumeSavedSession = void 0 === t.resumeSavedSession || t.resumeSavedSession, this.autoJoinPolicy = void 0 !== t.autoJoinPolicy ? t.autoJoinPolicy : chrome.cast.AutoJoinPolicy.TAB_AND_ORIGIN_SCOPED, this.language = t.language || null }; P("cast.framework.CastOptions", Sn); var En = function (t) { this.type = "mediasession", this.mediaSession = t }; f(En, yn), P("cast.framework.MediaSessionEventData", En); var In = function (t, n) { this.type = "volumechanged", this.volume = t, this.isMute = n }; f(In, yn), P("cast.framework.VolumeEventData", In); var Rn = function (t, n) { this.h = new Tn, this.g = n, this.c = t, this.Oa = t.sessionId, this.S = t.statusText, this.La = t.receiver, this.i = t.receiver.volume, this.Z = new mn(t), this.Y = t.receiver.isActiveInput, this.c.addMediaListener(this.pa.bind(this)), Cn(this) }; P("cast.framework.CastSession", Rn); var Cn = function (t) { var n = t.c.loadMedia.bind(t.c); t.c.loadMedia = function (i, e, r) { n(i, function (n) { e && e(n), t.pa(n) }, r) }; var i = t.c.queueLoad.bind(t.c); t.c.queueLoad = function (n, e, r) { i(n, function (n) { e && e(n), t.pa(n) }, r) } }; Rn.prototype.addEventListener = function (t, n) { this.h.addEventListener(t, n) }, Rn.prototype.addEventListener = Rn.prototype.addEventListener, Rn.prototype.removeEventListener = function (t, n) { this.h.removeEventListener(t, n) }, Rn.prototype.removeEventListener = Rn.prototype.removeEventListener; var Nn = function (t, n) { t.La = n, !n.volume || t.i && t.i.muted == n.volume.muted && t.i.level == n.volume.level || (t.i = n.volume, t.h.dispatchEvent(new In(t.i.level, t.i.muted))), t.Y != n.isActiveInput && (t.Y = n.isActiveInput, t.h.dispatchEvent(new pn(Dn(t.Y)))) }; Rn.prototype.mb = function () { return this.c }, Rn.prototype.getSessionObj = Rn.prototype.mb, Rn.prototype.lb = function () { return this.Oa }, Rn.prototype.getSessionId = Rn.prototype.lb, Rn.prototype.ma = function () { return this.g }, Rn.prototype.getSessionState = Rn.prototype.ma, Rn.prototype.ib = function () { return this.La }, Rn.prototype.getCastDevice = Rn.prototype.ib, Rn.prototype.gb = function () { return this.Z }, Rn.prototype.getApplicationMetadata = Rn.prototype.gb, Rn.prototype.hb = function () { return this.S }, Rn.prototype.getApplicationStatus = Rn.prototype.hb, Rn.prototype.fb = function () { return Dn(this.Y) }, Rn.prototype.getActiveInputState = Rn.prototype.fb, Rn.prototype.Ca = function (t) { "SESSION_ENDED" != this.g && (t ? this.c.stop(I, I) : this.c.leave(I, I)) }, Rn.prototype.endSession = Rn.prototype.Ca, Rn.prototype.setVolume = function (t) { var n = Wt(), i = Promise.resolve(n.I); return this.i && (this.i.level = t, this.i.muted = !1), this.c.setReceiverVolumeLevel(t, function () { return n.resolve() }, function (t) { return n.reject(t.code) }), i }, Rn.prototype.setVolume = Rn.prototype.setVolume, Rn.prototype.nb = function () { return this.i ? this.i.level : null }, Rn.prototype.getVolume = Rn.prototype.nb, Rn.prototype.Eb = function (t) { var n = Wt(), i = Promise.resolve(n.I); return this.i && (this.i.muted = t), this.c.setReceiverMuted(t, function () { return n.resolve() }, function (t) { return n.reject(t.code) }), i }, Rn.prototype.setMute = Rn.prototype.Eb, Rn.prototype.isMute = function () { return this.i ? this.i.muted : null }, Rn.prototype.isMute = Rn.prototype.isMute, Rn.prototype.sendMessage = function (t, n) { var i = Wt(), e = Promise.resolve(i.I); return this.c.sendMessage(t, n, function () { return i.resolve() }, function (t) { return i.reject(t.code) }), e }, Rn.prototype.sendMessage = Rn.prototype.sendMessage, Rn.prototype.addMessageListener = function (t, n) { this.c.addMessageListener(t, n) }, Rn.prototype.addMessageListener = Rn.prototype.addMessageListener, Rn.prototype.removeMessageListener = function (t, n) { this.c.removeMessageListener(t, n) }, Rn.prototype.removeMessageListener = Rn.prototype.removeMessageListener, Rn.prototype.loadMedia = function (t) { var n = Wt(), i = Promise.resolve(n.I); return this.c.loadMedia(t, function () { n.resolve() }, function (t) { n.reject(t.code) }), i }, Rn.prototype.loadMedia = Rn.prototype.loadMedia, Rn.prototype.Da = function () { t: { var t = this.c; if (t.media) for (var n = (t = S(t.media)).next(); !n.done; n = t.next())if (!(n = n.value).idleReason) { t = n; break t } t = null } return t }, Rn.prototype.getMediaSession = Rn.prototype.Da, Rn.prototype.pa = function (t) { t.media && this.h.dispatchEvent(new En(t)) }; var Dn = function (t) { return null == t ? -1 : t ? 1 : 0 }; Rn.prototype.ra = function (t) { return t.map(function (t, n) { return n.name }) }; var xn = function (t) { this.type = "caststatechanged", this.castState = t }; f(xn, yn), P("cast.framework.CastStateEventData", xn); var Bn = function (t, n, i) { this.type = "sessionstatechanged", this.session = t, this.sessionState = n, this.errorCode = void 0 !== i ? i : null }; f(Bn, yn), P("cast.framework.SessionStateEventData", Bn); var On = pt("cast.framework.CastContext"), Pn = function () { this.h = new Tn, this.oa = !1, this.s = null, this.ua = !1, this.L = "NO_DEVICES_AVAILABLE", this.l = "NO_SESSION", this.aa = this.b = null }; P("cast.framework.CastContext", Pn), Pn.prototype.addEventListener = function (t, n) { this.h.addEventListener(t, n) }, Pn.prototype.addEventListener = Pn.prototype.addEventListener, Pn.prototype.removeEventListener = function (t, n) { this.h.removeEventListener(t, n) }, Pn.prototype.removeEventListener = Pn.prototype.removeEventListener, Pn.prototype.Fb = function (t) { if (this.oa) mt("CastContext already initialized, new options are ignored"); else { if (this.s = new Sn(t), !this.s || !this.s.receiverApplicationId) throw v("Missing application id in cast options"); t = new chrome.cast.SessionRequest(this.s.receiverApplicationId), this.s.language && (t.language = this.s.language), t = new chrome.cast.ApiConfig(t, this.Pa.bind(this), this.Bb.bind(this), this.s.autoJoinPolicy), chrome.cast.initialize(t, I, I), chrome.cast.addReceiverActionListener(this.Ab.bind(this)), this.oa = !0 } }, Pn.prototype.setOptions = Pn.prototype.Fb, Pn.prototype.jb = function () { return this.L }, Pn.prototype.getCastState = Pn.prototype.jb, Pn.prototype.ma = function () { return this.l }, Pn.prototype.getSessionState = Pn.prototype.ma, Pn.prototype.requestSession = function () { var t = this; if (!this.oa) throw v("Cannot start session before cast options are provided"); var n = Wt(), i = Promise.resolve(n.I); Qt(n.I, null, I, void 0), i.catch(I); var e = "NOT_CONNECTED" == this.L; return chrome.cast.requestSession(function (i) { t.Pa(i), n.resolve(null) }, function (i) { e && Mn(t, "SESSION_START_FAILED", i ? i.code : void 0), n.reject(i.code) }), i }, Pn.prototype.requestSession = Pn.prototype.requestSession, Pn.prototype.kb = function () { return this.b }, Pn.prototype.getCurrentSession = Pn.prototype.kb, Pn.prototype.$a = function (t) { this.b && this.b.Ca(t) }, Pn.prototype.endCurrentSession = Pn.prototype.$a, Pn.prototype.Bb = function (t) { (this.ua = t == chrome.cast.ReceiverAvailability.AVAILABLE) && !this.b && this.aa && this.s.resumeSavedSession && chrome.cast.requestSessionById(this.aa), Ln(this) }, Pn.prototype.Ab = function (t, n) { this.b || n != chrome.cast.ReceiverAction.CAST ? this.b && n == chrome.cast.ReceiverAction.STOP ? Mn(this, "SESSION_ENDING") : t && Nn(this.b, t) : Mn(this, "SESSION_STARTING") }, Pn.prototype.Pa = function (t) { var n = "SESSION_STARTING" == this.l ? "SESSION_STARTED" : "SESSION_RESUMED"; this.aa = null, this.b = new Rn(t, n), t.addUpdateListener(this.va.bind(this)), Mn(this, n) }, Pn.prototype.va = function () { if (this.b) switch (this.b.c.status) { case chrome.cast.SessionStatus.DISCONNECTED: case chrome.cast.SessionStatus.STOPPED: Mn(this, "SESSION_ENDED"), this.aa = this.b.Oa, this.b = null; break; case chrome.cast.SessionStatus.CONNECTED: var t, n = this.b, i = n.Z, e = n.c; if (!(t = i.applicationId != e.appId || i.name != e.displayName)) { t: if (t = i.namespaces, i = i.ra(e.namespaces || []), C(t) && C(i) && t.length == i.length) { e = t.length; for (var r = 0; r < e; r++)if (t[r] !== i[r]) { t = !1; break t } t = !0 } else t = !1; t = !t } t && (n.Z = new mn(n.c), n.h.dispatchEvent(new kn(n.Z))), Nn(n, n.c.receiver), n.S != n.c.statusText && (n.S = n.c.statusText, n.h.dispatchEvent(new bn(n.S))); break; default: mt("Unknown session status " + this.b.c.status) } else mt("Received session update event without known session") }; var Mn = function (t, n, i) { n == t.l ? "SESSION_START_FAILED" == n && t.h.dispatchEvent(new Bn(t.b, t.l, i)) : (t.l = n, t.b && (t.b.g = t.l), t.h.dispatchEvent(new Bn(t.b, t.l, i)), Ln(t)) }, Ln = function (t) { var n = "NO_DEVICES_AVAILABLE"; switch (t.l) { case "SESSION_STARTING": case "SESSION_ENDING": n = "CONNECTING"; break; case "SESSION_STARTED": case "SESSION_RESUMED": n = "CONNECTED"; break; case "NO_SESSION": case "SESSION_ENDED": case "SESSION_START_FAILED": n = t.ua ? "NOT_CONNECTED" : "NO_DEVICES_AVAILABLE"; break; default: mt("Unexpected session state: " + t.l) }n !== t.L && (t.L = n, t.h.dispatchEvent(new xn(n))) }; Pn.na = void 0, Pn.M = function () { return Pn.na ? Pn.na : Pn.na = new Pn }, Pn.getInstance = Pn.M; var jn = function () { return HTMLButtonElement.call(this) || this }; f(jn, HTMLButtonElement), jn.prototype.createdCallback = function () { this.createShadowRoot && (this.createShadowRoot().innerHTML = '<style>.connected {fill:var(--connected-color,#4285F4);}.disconnected {fill:var(--disconnected-color,#7D7D7D);}.hidden {opacity:0;}</style><svg id "svg" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 24 24"><g><path id="arch0" class="disconnected" d="M1,18 L1,21 L4,21 C4,19.34 2.66,18 1,18 L1,18 Z"/><path id="arch1" class="disconnected" d="M1,14 L1,16 C3.76,16 6,18.24 6,21 L8,21 C8,17.13 4.87,14 1,14 L1,14 Z"/><path id="arch2" class="disconnected" d="M1,10 L1,12 C5.97,12 10,16.03 10,21 L12,21 C12,14.92 7.07,10 1,10 L1,10 Z"/><path id="box" class="disconnected" d="M21,3 L3,3 C1.9,3 1,3.9 1,5 L1,8 L3,8 L3,5 L21,5 L21,19 L14,19 L14,21 L21,21 C22.1,21 23,20.1 23,19 L23,5 C23,3.9 22.1,3 21,3 L21,3 Z"/><path id="boxfill" class="hidden" d="M5,7 L5,8.63 C8,8.63 13.37,14 13.37,17 L19,17 L19,7 Z"/></g></svg>') }, jn.prototype.attachedCallback = function () { if (this.shadowRoot) { this.fa = Pn.M(), this.Ja = this.ub.bind(this), this.ca = []; for (var t = 0; 3 > t; t++)this.ca.push(this.shadowRoot.getElementById("arch" + t)); this.Va = this.shadowRoot.getElementById("box"), this.Wa = this.shadowRoot.getElementById("boxfill"), this.ta = 0, this.H = null, this.Za = r.getComputedStyle(this, null).display, this.g = this.fa.L, Un(this), this.addEventListener("click", Fn), this.fa.addEventListener("caststatechanged", this.Ja) } }, jn.prototype.detachedCallback = function () { this.fa.removeEventListener("caststatechanged", this.Ja), null !== this.H && (r.clearTimeout(this.H), this.H = null) }; var Fn = function () { Pn.M().requestSession() }; jn.prototype.ub = function (t) { this.g = t.castState, Un(this) }; var Un = function (t) { if ("NO_DEVICES_AVAILABLE" == t.g) t.style.display = "none"; else switch (t.style.display = t.Za, t.g) { case "NOT_CONNECTED": Vn(t, !1, "hidden"); break; case "CONNECTING": Vn(t, !1, "hidden"), t.H || t.Aa(); break; case "CONNECTED": Vn(t, !0, "connected") } }; jn.prototype.Aa = function () { if (this.H = null, "CONNECTING" == this.g) { for (var t = 0; 3 > t; t++)Hn(this.ca[t], t == this.ta); this.ta = (this.ta + 1) % 3, this.H = r.setTimeout(this.Aa.bind(this), 300) } }; var Vn = function (t, n, i) { for (var e = S(t.ca), r = e.next(); !r.done; r = e.next())Hn(r.value, n); Hn(t.Va, n), t.Wa.setAttribute("class", i) }, Hn = function (t, n) { t.setAttribute("class", n ? "connected" : "disconnected") }; !function () { var t = function () { }; if (function () { }) t(); else { r.addEventListener("WebComponentsReady", t), new Promise(function (t, n) { var i = s.createElement("script"); i.type = "text/javascript", i.src = "https://www.gstatic.com/external_hosted/polymer/v1/webcomponents.min.js", i.onload = function () { ln && ln.info("library(https://www.gstatic.com/external_hosted/polymer/v1/webcomponents.min.js is loaded", void 0), t() }, i.onerror = function () { ln && ln.log(at, "library(https://www.gstatic.com/external_hosted/polymer/v1/webcomponents.min.js) failed to load", void 0), n() }, (s.head || s.body || s).appendChild(i) }); for (var n = (t = S(s.querySelectorAll("button[is=google-cast-button]"))).next(); !n.done; n = t.next())n.value.onclick = Fn } }(), P("cast.framework.RemotePlayer", function () { this.isMediaLoaded = this.isConnected = !1, this.currentTime = this.duration = 0, this.volumeLevel = 1, this.canControlVolume = !0, this.canSeek = this.canPause = this.isMuted = this.isPaused = !1, this.displayStatus = this.title = this.statusText = this.displayName = "", this.controller = this.savedPlayerState = this.playerState = this.imageUrl = this.mediaInfo = null }); var zn = function (t, n, i) { this.type = t, this.field = n, this.value = i }; f(zn, yn), P("cast.framework.RemotePlayerChangedEvent", zn); var qn = function (t) { var n = new Tn; cn.call(this, Gn(t, n)), this.h = n, (t = Pn.M()).addEventListener("sessionstatechanged", this.Db.bind(this)), (t = t.b) ? vn(this, t.c) : this.v() }; f(qn, cn), P("cast.framework.RemotePlayerController", qn); var Gn = function (t, n) { return new r.Proxy(t, { set: function (t, i, e) { return e === t[i] || (t[i] = e, n.dispatchEvent(new zn(i + "Changed", i, e)), n.dispatchEvent(new zn("anyChanged", i, e)), !0) } }) }; qn.prototype.addEventListener = function (t, n) { this.h.addEventListener(t, n) }, qn.prototype.addEventListener = qn.prototype.addEventListener, qn.prototype.removeEventListener = function (t, n) { this.h.removeEventListener(t, n) }, qn.prototype.removeEventListener = qn.prototype.removeEventListener, qn.prototype.Db = function (t) { switch (t.sessionState) { case "SESSION_STARTED": case "SESSION_RESUMED": this.a.isConnected = !0; var n = t.session && t.session.c; n && (vn(this, n), t.session.addEventListener("mediasession", this.Ga.bind(this))) } }, qn.prototype.v = function (t) { var n = Pn.M().b; n ? this.a.savedPlayerState = null : this.a.isConnected && (this.a.savedPlayerState = { mediaInfo: this.a.mediaInfo, currentTime: this.a.currentTime, isPaused: this.a.isPaused }), cn.prototype.v.call(this, t), this.a.isConnected = !!n, this.a.statusText = n && n.S || "", t = n && n.Da(), this.a.playerState = t && t.playerState || null }, qn.prototype.T = function (t) { cn.prototype.T.call(this, t); var n = (this.a.mediaInfo = t) && t.metadata; t = null; var i = ""; n && (i = n.title || "", (n = n.images) && 0 < n.length && (t = n[0].url)), this.a.title = i, this.a.imageUrl = t }, qn.prototype.sa = function () { cn.prototype.sa.call(this) }, qn.prototype.playOrPause = qn.prototype.sa, qn.prototype.stop = function () { cn.prototype.stop.call(this) }, qn.prototype.stop = qn.prototype.stop, qn.prototype.seek = function () { cn.prototype.seek.call(this) }, qn.prototype.seek = qn.prototype.seek, qn.prototype.qa = function () { cn.prototype.qa.call(this) }, qn.prototype.muteOrUnmute = qn.prototype.qa, qn.prototype.xa = function () { cn.prototype.xa.call(this) }, qn.prototype.setVolumeLevel = qn.prototype.xa, qn.prototype.ja = function (t) { return cn.prototype.ja.call(this, t) }, qn.prototype.getFormattedTime = qn.prototype.ja, qn.prototype.ka = function (t, n) { return cn.prototype.ka.call(this, t, n) }, qn.prototype.getSeekPosition = qn.prototype.ka, qn.prototype.la = function (t, n) { return cn.prototype.la.call(this, t, n) }, qn.prototype.getSeekTime = qn.prototype.la }.call(r); var gV = cast.framework; "undefined" != typeof cast && (cast.framework = dV); var _V = "urn:x-cast:com.theoplayer.cast", wV = function () { function t(t) { var n = this; this.Dxt = [], this.ao = [], this.xxt = function (t, i) { var e = n.Oxt(i); if (e) if ("propertychange" === e.type) for (var r = 0, s = n.Dxt; r < s.length; r++) { var u = s[r]; for (var o in e.properties) u(o, e.properties[o]) } else if ("event" === e.type) for (var a = 0, h = n.ao; a < h.length; a++) { (0, h[a])(e.event) } else "trackevent" === e.type && n.Bxt && e.event.trackState && n.Bxt(e.event.trackId, e.event.trackState.targetQualityIds) }, this.Pxt = t, this.Pxt.Mxt(_V, this.xxt) } var n = t.prototype; return n.Oxt = function (t) { var n; try { n = JSON.parse(t) } catch (t) { 0 } return n }, n.Lxt = function (t) { this.Dxt.push(t) }, n.jxt = function (t) { pn(this.Dxt, t) }, n.mo = function (t) { this.ao.push(t) }, n.So = function (t) { pn(this.ao, t) }, n.Fxt = function (t) { this.Bxt = t }, n.Uxt = function (t) { this.Bxt = void 0 }, n.Vxt = function (t, n, i, e) { var r = i || q, s = e || q; this.Pxt.Vxt(t, n).then(r).catch(s) }, n.Af = function () { this.Pxt.Hxt(_V, this.xxt), An(this.ao), An(this.Dxt), this.Bxt = void 0 }, t }(); var yV = function (t) { function n() { return t.call(this, "medialoadedchange") || this } return rt(n, t), n }(Mn), pV = function (t) { function n(n, i) { var e; return (e = t.call(this, "volumechange") || this).ux = n, e.RE = i, e } return rt(n, t), n }(Mn), mV = function (t) { function n(n) { var i; return (i = t.call(this, "casterror") || this).Bo = n, i } return rt(n, t), n }(Mn), kV = function (t) { function n(n) { var i; return (i = t.call(this, "playererror") || this).Bo = n, i } return rt(n, t), n }(Mn), bV = function (t) { function n(n, i) { var e; return (e = t.call(this, "targetqualitychanged") || this).zB = n, e.Gxt = i, e } return rt(n, t), n }(Mn), AV = function (t) { function n() { return t.call(this, "receiverinfochanged") || this } return rt(n, t), n }(Mn), TV = function (t) { function n(n) { var i; return (i = t.call(this) || this).zxt = void 0, i.qxt = function (t) { i._o(new mV(t)) }, i.Wxt = function (t, n) { "error" === t && i._o(new kV(n)) }, i.Xxt = function (t, n) { i._o(new bV(t, n)) }, i.$xt = function (t, n) { var e = JSON.parse(n); "receiver_info" === e.type && (i.zxt = e.info, i._o(new AV)) }, i.Pxt = n, i.Qxt = new wV(i.Pxt), i.Qxt.Lxt(i.Wxt), i.Qxt.Fxt(i.Xxt), i.Yxt(), i } rt(n, t); var i = n.prototype; return i.Zxt = function (t, n, i) { this.Qxt.Vxt(_V, function (t, n, i) { return { type: "theoplayer_trackpropertychange", trackID: t, trackType: n, properties: { targetQuality: i } } }(t, n, i), q, this.qxt) }, i.Yxt = function () { this.Pxt.Mxt(_V, this.$xt), this.Qxt.Vxt(_V, { type: "theoplayer_receiver_info" }) }, i.Kxt = function () { return this.zxt }, i.Af = function () { this.To(), this.Pxt.Hxt(_V, this.$xt), this.Qxt.jxt(this.Wxt), this.Qxt.Uxt(this.Xxt), this.Qxt.Af(), this.Pxt.Af() }, n }(Pn); var SV = function (t) { function n(n) { var i; return (i = t.call(this, "bufferedchange") || this).hg = n, i } return rt(n, t), n }(Mn), EV = function (t) { function n(n) { var i; return (i = t.call(this, "timeupdate") || this).yg = n, i } return rt(n, t), n }(Mn), IV = function (t) { function n(n) { var i; return (i = t.call(this, "programdatetimechange") || this).Iat = n, i } return rt(n, t), n }(Mn), RV = function (t) { function n(n) { var i; return (i = t.call(this, "durationchange") || this).Zy = n, i } return rt(n, t), n }(Mn), CV = function (t) { function n() { return t.call(this, "ended") || this } return rt(n, t), n }(Mn), NV = function (t) { function n(n) { var i; return (i = t.call(this, "error") || this).Bo = n, i } return rt(n, t), n }(Mn), DV = function (t) { function n(n) { var i; return (i = t.call(this, "pause") || this).rN = n, i } return rt(n, t), n }(Mn), xV = function (t) { function n(n) { var i; return (i = t.call(this, "playbackratechange") || this)._g = n, i } return rt(n, t), n }(Mn), BV = function (t) { function n(n) { var i; return (i = t.call(this, "played") || this).wg = n, i } return rt(n, t), n }(Mn), OV = function (t) { function n(n) { var i; return (i = t.call(this, "readystatechange") || this).Zf = n, i } return rt(n, t), n }(Mn), PV = function (t) { function n(n) { var i; return (i = t.call(this, "seekablechange") || this).jx = n, i } return rt(n, t), n }(Mn), MV = function (t) { function n(n, i) { var e; return (e = t.call(this, "sourceupdate") || this).fg = n, e.UD = i, e } return rt(n, t), n }(Mn), LV = function (t) { function n(n) { var i; return (i = t.call(this, "seeking") || this).yg = n, i } return rt(n, t), n }(Mn), jV = function (t) { function n(n) { var i; return (i = t.call(this, "seeked") || this).yg = n, i } return rt(n, t), n }(Mn), FV = function (t) { function n(n, i) { var e; return (e = t.call(this, "resize") || this).zx = n, e.Gx = i, e } return rt(n, t), n }(Mn), UV = function (t) { function n() { return t.call(this, "mediastopped") || this } return rt(n, t), n }(Mn), VV = function (t) { function n(n, i, e) { var r; return (r = t.call(this, "trackupdate") || this).audioTracks = n, r.videoTracks = i, r.textTracks = e, r } return rt(n, t), n }(Mn), HV = function (t) { function n(n) { var i; return (i = t.call(this, "activetrackupdate") || this).trackIds = n, i } return rt(n, t), n }(Mn), zV = function (t) { function n(n) { var i; return (i = t.call(this, "waiting") || this).yg = n, i } return rt(n, t), n }(Mn), qV = function (t) { function n(n) { var i; return (i = t.call(this, "playing") || this).yg = n, i } return rt(n, t), n }(Mn), GV = function (t) { function n(n, i) { var e; return (e = t.call(this, "representationchange") || this).O3 = n, e.B3 = i, e } return rt(n, t), n }(Mn), WV = function (t) { function n(n, i, e, r, s, u) { var o; return void 0 === u && (u = 0), (o = t.call(this, "segmentnotfound") || this).w9 = n, o.Bo = i, o.K8 = e, o.df = r, o.o5 = s, o.Jxt = u, o } return rt(n, t), n }(Mn), XV = function (t) { function n(n, i, e) { var r; return (r = t.call(this, "encrypted") || this).Po = n, r.Lo = i, r.yg = e, r } return rt(n, t), n }(Mn), $V = function (t) { function n(n, i, e, r, s, u) { var o; return (o = t.call(this, "contentprotectionerror") || this).Bo = n, o.Sj = i, o.Ej = e, o.Ij = r, o.Tj = s, o.ph = u, o } return rt(n, t), n }(Mn), QV = function (t) { function n() { return t.call(this, "contentprotectionsuccess") || this } return rt(n, t), n }(Mn), YV = function (t) { function n(n) { var i; return (i = t.call(this) || this).qxt = function (t) { i._o(new NV(t)) }, i.tOt = function (t, n) { switch (t) { case "buffered": i._o(new SV(new hs(n))); break; case "currentProgramDateTime": i._o(new IV(new Date(n))); break; case "played": i._o(new BV(new hs(n))); break; case "seekable": i._o(new PV(new hs(n))); break; case "videoHeight": i._o(new FV(void 0, n)); break; case "videoWidth": i._o(new FV(n, void 0)) } }, i.nOt = function (t) { switch (t.type) { case "readystatechange": i._o(new OV(t.readyState)); break; case es.Rl: i._o(new LV(t.currentTime)); break; case es.Il: i._o(new jV(t.currentTime)); break; case "waiting": i._o(new zV(t.currentTime)); break; case "playing": i._o(new qV(t.currentTime)); break; case es.Sl: i._o(new GV(t.representation, t.previousRepresentation)); break; case es.Nl: i._o(new WV(t.segmentStartTime, t.error, t.trackType, t.track, t.quality, t.retryCount)); break; case es.vl: i._o(new XV(t.initDataType, t.initData, t.currentTime)); break; case es.il: i._o(new $V(t.error, t.licenseAcquisitionURL, t.status, t.statusText, t.licenseAcquisitionMessage, t.systemCode)); break; case es.ol: i._o(new QV) } }, i.Qxt = n, i.Qxt.mo(i.nOt), i.Qxt.Lxt(i.tOt), i } rt(n, t); var i = n.prototype; return i.U$ = function (t) { this.Qxt.Vxt(_V, function (t) { return { type: "theoplayer_propertychange", properties: { playbackRate: t } } }(t), q, this.qxt) }, i.Af = function () { this.To(), this.Qxt.So(this.nOt), this.Qxt.jxt(this.tOt) }, n }(Pn); function ZV(t) { return "AUDIO" === t.type } function KV(t) { return "VIDEO" === t.type } function JV(t) { return "TEXT" === t.type } var tH = function (t) { function n(n, i) { var e; return void 0 === i && (i = ""), (e = t.call(this, "An error occurred while casting.") || this).errorCode = n, e.description = i, e } return rt(n, t), T(n, [{ key: "name", get: function () { return "CastError" } }]), n }(ot); function nH(t) { switch (t) { case chrome.cast.ErrorCode.CANCEL: return "CANCEL"; case chrome.cast.ErrorCode.TIMEOUT: return "TIMEOUT"; case chrome.cast.ErrorCode.API_NOT_INITIALIZED: return "API_NOT_INITIALIZED"; case chrome.cast.ErrorCode.INVALID_PARAMETER: return "INVALID_PARAMETER"; case chrome.cast.ErrorCode.EXTENSION_NOT_COMPATIBLE: return "EXTENSION_NOT_COMPATIBLE"; case chrome.cast.ErrorCode.EXTENSION_MISSING: return "EXTENSION_MISSING"; case chrome.cast.ErrorCode.RECEIVER_UNAVAILABLE: return "RECEIVER_UNAVAILABLE"; case chrome.cast.ErrorCode.SESSION_ERROR: return "SESSION_ERROR"; case chrome.cast.ErrorCode.CHANNEL_ERROR: return "CHANNEL_ERROR"; case chrome.cast.ErrorCode.LOAD_MEDIA_FAILED: return "LOAD_MEDIA_FAILED"; default: return "CANCEL" } } var iH = function () { var t = function (t) { function n(n, i, e) { var r; (r = t.call(this, i) || this).iOt = function (t) { r.eOt(), r.Wft(), r.UIt(), r.sNt(), r.vft(), r.rOt(), r.sOt(), r.uOt(), t || (eH(r.oOt) && r._o(new CV), r._o(new UV)) }, r.aOt = function (t) { var n = new tH(nH(t.code), t.description); r.qxt(n) }, r.hOt = n, r.oOt = e; var s = new chrome.cast.media.GetStatusRequest; return r.oOt.getStatus(s, function () { r.cOt() }, q), r.oOt.addUpdateListener(r.iOt), r.fOt(), r.iOt(!0), r } rt(n, t); var i = n.prototype; return i.vOt = function () { return this.oOt.getEstimatedTime() }, i.uOt = function () { var t = this.oOt.activeTrackIds; t && this._o(new HV(t)) }, i.sOt = function () { var t, n = null === (t = this.oOt.media) || void 0 === t ? void 0 : t.tracks; if (n) { var i = n.filter(ZV), e = n.filter(KV), r = n.filter(JV); this._o(new VV(i, e, r)) } }, i.cOt = function () { var t, n, i, e; e = (null === (t = this.hOt.Kxt()) || void 0 === t ? void 0 : t.version) ? null === (n = this.oOt.customData) || void 0 === n ? void 0 : n.sourceDescription : Ef({ sources: this.oOt.media.contentId }, ql({})), this._o(new MV(null === (i = this.oOt.customData) || void 0 === i ? void 0 : i.currentSource, e)) }, i.vft = function () { var t = this.vOt(); this._o(new EV(t)) }, i.fOt = function () { this.lOt = c(this.vft.bind(this), n.TIMEUPDATE_INTERVAL) }, i.dOt = function () { f(this.lOt) }, i.rOt = function () { this.dOt(), this.fOt() }, i.eOt = function () { var t = this.oOt, n = Boolean(t.customData) ? t.customData.buffers : void 0; n && this._o(new PV(new hs(n.seekable))) }, i.Wft = function () { var t, n = this.oOt.media; t = Boolean(n) && n.streamType === chrome.cast.media.StreamType.LIVE ? 1 / 0 : n && n.duration || NaN, this._o(new RV(t)) }, i.UIt = function () { var t, n = void 0 !== (t = this.oOt) && t.playerState === chrome.cast.media.PlayerState.PAUSED || eH(this.oOt); this._o(new DV(n)) }, i.sNt = function () { var t = this.oOt.playbackRate; this._o(new xV(t)) }, i.dN = function () { var t = new chrome.cast.media.PauseRequest; this.oOt.pause(t, q, this.aOt) }, i.bx = function () { var t = new chrome.cast.media.StopRequest; this.oOt.stop(t, q, this.aOt) }, i.sN = function () { var t = new chrome.cast.media.PlayRequest; this.oOt.play(t, q, this.aOt) }, i.$o = function (t, n) { var i = this, e = new chrome.cast.media.SeekRequest; return e.currentTime = t, e.resumeState = n ? chrome.cast.media.ResumeState.PLAYBACK_PAUSE : chrome.cast.media.ResumeState.PLAYBACK_START, new Tt(function (t, n) { i.oOt.seek(e, t, function (t) { n(new tH(nH(t.code), t.description)) }) }) }, i._Ot = function (t) { var n = new chrome.cast.media.EditTracksInfoRequest(t); this.oOt.editTracksInfo(n, q, this.aOt) }, i.Af = function () { this.dOt(), this.oOt.removeUpdateListener(this.iOt), t.prototype.Af.call(this) }, n }(YV); return t.TIMEUPDATE_INTERVAL = 250, t }(); function eH(t) { return void 0 !== t && t.playerState === chrome.cast.media.PlayerState.IDLE && t.idleReason === chrome.cast.media.IdleReason.FINISHED } var rH = function () { function t(t) { this.hOt = t } var n = t.prototype; return n.Mxt = function (t, n) { this.hOt.addMessageListener(t, n) }, n.Hxt = function (t, n) { this.hOt.removeMessageListener(t, n) }, n.Vxt = function (t, n) { var i = this; return new Tt(function (e, r) { i.hOt.sendMessage(t, n, e, function (t) { r(new tH(nH(t.code), t.description)) }) }) }, n.Af = function () { }, t }(), sH = function (t) { function n(n) { var i; (i = t.call(this, new rH(n.getSessionObj())) || this).gOt = function () { var t = i.wOt(); i._o(new pV(t.receiver.volume.level, t.receiver.volume.muted)) }, i.yOt = function () { return i.pOt(i.hOt.getMediaSession()) }, i.mOt = function () { var t; null === (t = i.kOt) || void 0 === t || t.So("mediastopped", i.mOt), i.kOt = void 0, i._o(new yV) }, i.bOt = function (t) { var n = new tH(nH(t.code), t.description); i.qxt(n) }, i.hOt = n, i.hOt.addEventListener(gV.SessionEventType.MEDIA_SESSION, i.yOt), i.wOt().addUpdateListener(i.gOt), i.gOt(); var e = i.hOt.getMediaSession(); return e && i.pOt(e), i } rt(n, t); var i = n.prototype; return i.wOt = function () { return this.hOt.getSessionObj() }, i.pOt = function (t) { !this.kOt && t && t.idleReason !== chrome.cast.media.IdleReason.FINISHED && (this.kOt = new iH(this, this.Qxt, t), this.gOt(), this.kOt.mo("mediastopped", this.mOt), this._o(new yV)) }, i.AOt = function () { return this.kOt }, i.TOt = function () { var t = St(At.mark(function t(n) { var i, e; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return i = uH(n.Tlt, n.yg, n.SOt), t.prev = 1, t.next = 4, this.hOt.loadMedia(i); case 4: e = t.sent, t.next = 10; break; case 7: t.prev = 7, t.t0 = t.catch(1), e = t.t0; case 10: if (!e) { t.next = 12; break } throw new tH(nH(e)); case 12: case "end": return t.stop() } }, t, this, [[1, 7]]) })); return function (n) { return t.apply(this, arguments) } }(), i.M$ = function (t) { this.wOt().setReceiverMuted(t, q, this.bOt) }, i.hN = function (t) { this.wOt().setReceiverVolumeLevel(t, q, this.bOt) }, i.EOt = function () { return this.wOt().receiver.friendlyName }, i.Af = function () { this.hOt.removeEventListener(gV.SessionEventType.MEDIA_SESSION, this.yOt), this.wOt().removeUpdateListener(this.gOt), t.prototype.Af.call(this) }, n }(TV); function uH(t, n, i) { var e = function (t) { var n = cf(t) || "", i = hf(t) || "", e = new chrome.cast.media.MediaInfo(n, i); return e.metadata = function (t, n, i) { var e = new n.cast.media.GenericMediaMetadata; if (i && (e.images = [new n.cast.Image(i)]), !t) return e; if (t.images) if (e.images || (e.images = []), U(t.images)) e.images.push(new n.cast.Image(t.images)); else for (var r = 0, s = t.images; r < s.length; r++) { var u = s[r]; if (U(u)) { var o = new n.cast.Image(u); e.images.push(o) } else { var a = new n.cast.Image(u.src); a.height = u.height || void 0, a.width = u.width || void 0, e.images.push(a) } } return t.releaseDate && (e.releaseDate = t.releaseDate), t.releaseYear && (e.releaseYear = t.releaseYear), t.subtitle && (e.subtitle = t.subtitle), t.title && (e.title = t.title), t.type && (e.metadataType = function (t, n) { switch (t) { case "movie": return n.cast.media.MetadataType.MOVIE; case "audio": return n.cast.media.MetadataType.MUSIC_TRACK; case "tv-show": return n.cast.media.MetadataType.TV_SHOW; case "generic": default: return n.cast.media.MetadataType.GENERIC } }(t.type, n)), e }(t.metadata, chrome, t.poster), e }(t), r = new chrome.cast.media.LoadRequest(e); return r.autoplay = !0, r.currentTime = n, r.customData = i, r } var oH = function (t) { function n() { var n; return (n = t.call(this) || this).IOt = void 0, n.bQ = function () { var t = n.lpt(); n.IOt = "connected" === t ? new sH(n.ROt.getCurrentSession()) : void 0, n._o(new cV(t)) }, n.ROt = gV.CastContext.getInstance(), n.ROt.addEventListener(gV.CastContextEventType.CAST_STATE_CHANGED, n.bQ), n } rt(n, t); var i = n.prototype; return i.NOt = function () { return this.IOt }, i.lpt = function () { switch (this.ROt.getCastState()) { case gV.CastState.CONNECTED: return "connected"; case gV.CastState.CONNECTING: return "connecting"; case gV.CastState.NOT_CONNECTED: return "available"; case gV.CastState.NO_DEVICES_AVAILABLE: default: return "unavailable" } }, i.wx = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, fV.q.Ixt(); case 2: this.ROt.setOptions({ receiverApplicationId: n.appID, autoJoinPolicy: chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED }); case 3: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.COt = function () { var t = St(At.mark(function t() { var n; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, t.next = 3, this.ROt.requestSession(); case 3: if (!(n = t.sent)) { t.next = 6; break } throw n; case 6: t.next = 11; break; case 8: throw t.prev = 8, t.t0 = t.catch(0), new tH(nH(t.t0)); case 11: case "end": return t.stop() } }, t, this, [[0, 8]]) })); return function () { return t.apply(this, arguments) } }(), i.DOt = function (t) { this.ROt.endCurrentSession(t) }, n }(Pn), aH = function () { var t = function (t) { function n(i, e) { var r; return (r = t.call(this, n.xOt) || this).trackId = i, r.mode = e, r } return rt(n, t), n }(Mn); return t.xOt = "ccmodechangerequest", t }(), hH = function () { var t = function (t) { function n(i, e) { var r; return (r = t.call(this, n.xOt) || this).track = i, r.targetQuality = e, r } return rt(n, t), n }(Mn); return t.xOt = "cctargetqualitychangerequest", t }(), cH = function () { var t = function (t) { function n(i, e) { var r; return (r = t.call(this, n.xOt) || this).trackId = i, r.enabled = e, r } return rt(n, t), n }(Mn); return t.xOt = "cctrackchangerequest", t }(), fH = 1; var vH = function (t) { function n(n, i, e, r, s, u, o, a, h, c, f) { var v; return (v = t.call(this) || this).m_ = n, v.uY = i, v.KC = e, v.NJ = r, v.tx = s, v.aY = u, v.OOt = c, v.BOt = f, v.L_ = o, v.L_.bf(), v.M_ = a, v.M_.bf(), v.j_ = h, v.j_.bf(), v } rt(n, t); var i = n.prototype; return i.S$ = function () { return hs.Vd().Jl() }, i.N$ = function () { return this.uY }, i.I$ = function () { }, i.pC = function () { return this.KC }, i.x$ = function () { return this.NJ }, i.O$ = function () { }, i.j$ = function () { return this.tx }, i.POt = function () { }, i.F$ = function () { return this.aY }, i.U$ = function (t) { this.aY !== t && (this.aY = t, this._o(new Hl(this.m_.yg, t))) }, i.z$ = function () { return eu.h_ }, i.V$ = function () { return hs.Vd().Jl() }, i.q$ = function () { return hs.Vd().Jl() }, i.W$ = function () { return !1 }, i.T$ = function () { return this.L_ }, i.Y$ = function () { return this.M_ }, i.X$ = function () { return this.j_ }, i._Ot = function (t) { }, i.Z$ = function () { return this.OOt }, i.Q$ = function () { return this.BOt }, i.sN = function () { }, i.dN = function () { }, i.$o = function (t) { }, i.bx = function () { }, i.Af = function () { }, n }(Pn), lH = function (t) { function n(n) { var i; i = t.call(this) || this; var e, r = n.customData; return i.Uf = +n.trackId || 0, i.Ff = (r && r.id || i.Uf) + "", i.yL = r && r.label || n.name || "", i.Gf = r && r.language || n.language || "", i.Qf = r && r.inBandMetadataTrackDispatchType || "", i.Vf = r && r.kind || function (t) { switch (t) { case "SUBTITLES": return Xc.qx; case "CAPTIONS": return Xc.Wx; case "DESCRIPTIONS": return Xc.Xx; case "CHAPTERS": return Xc.$x; case "METADATA": return Xc.Qx }return }(n.subtype) || "subtitles", i.Zf = E_.NONE, i.Ou = r && void 0 !== r.type ? ss(e = r.type) ? e : "" : "webvtt", i.rL = [], i.pL = new I_(i.rL), i.vL = [], i.mL = new I_(i.vL), i.cL = zr(r && r.mode || Vr.Wf), i.MOt = i.cL, i } rt(n, t); var i = n.prototype; return i.LOt = function (t) { }, i.Af = function () { }, i.bf = function () { }, T(n, [{ key: "vf", get: function () { return this.cf || (this.cf = Gr(this)), this.cf } }, { key: "Hf", get: function () { return this.yL }, set: function (t) { t !== this.yL && (this.yL = t, this._o(new R_(this))) } }, { key: "Jf", get: function () { return this.mL } }, { key: "Kf", get: function () { return this.pL } }, { key: "Yf", get: function () { return this.cL }, set: function (t) { t = zr(t), this.cL !== t && (this.cL = t, this.MOt !== t && this._o(new aH(this.Uf, t)), this._o(new N_(this))) } }, { key: "jOt", get: function () { return this.MOt }, set: function (t) { t = zr(t); var n = this.cL !== t; this.cL = t, this.MOt = t, n && this._o(new N_(this)) } }]), n }(hr); var dH = function (t) { function n(n) { var i; (i = t.call(this) || this).snt = void 0, i.JL = new Y_, i.ant = void 0, i.bDt = function () { return i._o(new R_(st(i))) }; var e = n.customData; if (i.Uf = +n.trackId || 0, i.Ff = (e && e.id || i.Uf) + "", i.yL = e && e.label || n.name || "", i.Gf = e && e.language || n.language || "", i.Vf = e && e.kind || "main", i.tj = !(!e || !e.enabled), i.FOt = i.tj, ZV(n)) { i.v5 = "audio"; var r = n.customData && n.customData.qualities; if (r) for (var s = 0; s < r.length; s++) { var u = r[s], o = new FB(u.id, u.bandwidth, u.codecs, u.name, "", u.audioSamplingRate); o.mo("update", i.bDt), i.JL.kd(o) } } else if (KV(n)) { i.v5 = "video"; var a = n.customData && n.customData.qualities; if (a) for (var h = 0; h < a.length; h++) { var c = a[h], f = new jB(c.id, c.bandwidth, c.codecs, c.name, "", c.frameRate, c.width, c.height); f.mo("update", i.bDt), i.JL.kd(f) } } return i } rt(n, t); var i = n.prototype; return i.ej = function (t) { this.jf = t }, i.LOt = function (t) { if (t.targetQualityIds) { for (var n = [], i = 0; i < this.JL.Sf; i++) { var e = this.JL.yf(i); t.targetQualityIds.indexOf(e.Ff) > -1 && n.push(e) } var r = n.length ? n : void 0; this.kDt(r) } }, i.kDt = function (t) { var n, i; n = this.ant, i = t, (!n && i || n && !i || n && i && !Tn(n, i)) && (this.ant = t && this.JL.sL(t) ? t : void 0, this._o(new eB(this.ant, this))) }, i.unload = function () { for (var t = this.JL.Sf - 1; t >= 0; t--) { this.JL.yf(t).So("update", this.bDt) } }, T(n, [{ key: "Lf", get: function () { return this.snt } }, { key: "qf", get: function () { return this.ant }, set: function (t) { this.kDt(t), this._o(new hH(this, t)) } }, { key: "zf", get: function () { return this.JL } }, { key: "Hf", get: function () { return this.yL } }, { key: "label", set: function (t) { t !== this.yL && (this.yL = t, this._o(new R_(this))) } }, { key: "jf", get: function () { return this.tj }, set: function (t) { this.tj !== t && (this.tj = t, this.FOt !== t && this._o(new cH(this.Uf, t)), this._o(new N_(this))) } }, { key: "UOt", get: function () { return this.FOt }, set: function (t) { var n = this.tj !== t; this.tj = t, this.FOt = t, n && this._o(new N_(this)) } }, { key: "vf", get: function () { return this.cf || (this.cf = jr(this)), this.cf } }, { key: "Yf", get: function () { return this.jf ? "enabled" : "disabled" } }]), n }(hr); var gH = function (t) { function n(n, i, e) { var r; return (r = t.call(this) || this).VOt = hs.Vd(), r.HOt = void 0, r.NJ = !1, r.Jg = void 0, r.GOt = void 0, r.nx = eu.h_, r.V5 = hs.Vd(), r.aJ = hs.Vd(), r.oY = !1, r.zOt = void 0, r.qOt = !1, r.WOt = function (t) { r._o(new Lh(t.yg)) }, r.ZU = function (t) { r._o(new Bh(t.yg)) }, r.XOt = function (t) { r._o(new cC(t.O3, t.B3)) }, r.$Ot = function (t) { r._o(new Mx(t.w9, t.Bo, t.K8, t.df, t.o5, t.Jxt)) }, r.QOt = function (t) { r._o(new PO(t.yg, t.Po, t.Lo)) }, r.YOt = function (t) { r._o(new fw(t.Bo, t.Sj, t.Ej, t.Ij, t.Tj, t.ph)) }, r.ZOt = function () { r._o(new _w) }, r.V8 = function (t) { r.oY || t.yg === r.N$() || (r.uY = t.yg, r._o(new Ph(r.N$(), r.I$()))) }, r.vJ = function (t) { r.VOt = t.hg, r._o(new xR(r.N$())) }, r.KOt = function (t) { r.HOt = t.Iat.getTime() - r.N$() }, r.JOt = function (t) { r.do(t) }, r.tBt = function (t) { r.V5 = t.wg }, r.nBt = function (t) { r.aJ = t.jx }, r.iBt = function (t) { var n, i; r.BOt = null !== (n = t.Gx) && void 0 !== n ? n : r.BOt, r.OOt = null !== (i = t.zx) && void 0 !== i ? i : r.OOt, r._o(new aw) }, r.oK = function (t) { r.nx = t.Zf, r._o(new Nh(r.N$(), t.Zf)) }, r.cJ = function (t) { r.oY = !0, r.uY = t.yg, r._o(new Vl(t.yg)) }, r.YU = function (t) { r.oY = !1, r.uY = t.yg, r._o(new Ph(r.N$(), r.I$())), r._o(new Ul(t.yg)) }, r.QE = function (t) { var n = t.Zy; r.KC === n || p(r.KC) && p(n) || (r.KC = n, r._o(new Oh(r.KC))) }, r.qIt = function () { r.NJ = !0, r.uY = r.pC(), r._o(new Fh(r.N$())) }, r.LIt = function (t) { var n = t.rN; r.qOt = n, r.tx !== n && (r.tx = n, r.tx ? r._o(new Mh(r.N$())) : r._o(new ru(r.N$()))) }, r.eBt = function (t) { var n = t._g; r.GOt !== n && (r.GOt = void 0, r.aY !== n && (r.aY = n, r._o(new Hl(r.N$(), n)))) }, r.rBt = function (t) { wH(r.L_, t.audioTracks.map(function (t) { return t.trackId })), wH(r.M_, t.videoTracks.map(function (t) { return t.trackId })), wH(r.j_, t.textTracks.map(function (t) { return t.trackId })); var n = t.videoTracks; if (r.sBt() && 0 === n.length && 0 !== r.Z$()) { var i = r.uBt(); n.push(i) } var e = t.audioTracks; if (r.sBt() && 0 === e.length) { var s = r.oBt(); e.push(s) } yH(e, r.L_), yH(n, r.M_), function (t, n) { for (var i = !1, e = 0; e < t.length; e++) { var r = t[e], s = _H(n, r.trackId); s || (s = new lH(r), n.pf(s), i = !0) } }(t.textTracks, r.j_) }, r.aBt = function (t) { var n = t.trackIds; if (r.sBt()) { var i = r.M_.Tf.map(function (t) { return t.Ff }), e = r.L_.Tf.map(function (t) { return t.Ff }); kn(i.concat(e), "0") && n.push(0) } pH(n, r.L_), pH(n, r.M_), function (t, n) { for (var i = 0, e = n.Tf; i < e.length; i++) { var r = e[i]; r.jOt = kn(t, r.Uf) ? Vr.$f : Vr.Wf } }(n, r.j_) }, r.qxt = function (t) { r.zOt = void 0, r._o(new NV(t)) }, r.hOt = n, r.oOt = i, r.uY = e.N$(), r.KC = e.pC(), r.tx = e.j$(), r.aY = e.F$(), r.OOt = e.Z$(), r.BOt = e.Q$(), r.L_ = e.T$(), r.M_ = e.Y$(), r.j_ = e.X$(), r.oOt.mo("ended", r.qIt), r.oOt.mo("pause", r.LIt), r.oOt.mo("resize", r.iBt), r.oOt.mo("seeked", r.YU), r.oOt.mo("playing", r.ZU), r.oOt.mo("seeking", r.cJ), r.oOt.mo("waiting", r.WOt), r.oOt.mo("encrypted", r.QOt), r.oOt.mo("error", r.JOt), r.oOt.mo("timeupdate", r.V8), r.oOt.mo("trackupdate", r.rBt), r.oOt.mo("played", r.tBt), r.oOt.mo("bufferedchange", r.vJ), r.oOt.mo("durationchange", r.QE), r.oOt.mo("seekablechange", r.nBt), r.oOt.mo("segmentnotfound", r.$Ot), r.oOt.mo("readystatechange", r.oK), r.oOt.mo("activetrackupdate", r.aBt), r.oOt.mo("playbackratechange", r.eBt), r.oOt.mo("representationchange", r.XOt), r.oOt.mo("programdatetimechange", r.KOt), r.oOt.mo("contentprotectionerror", r.YOt), r.oOt.mo("contentprotectionsuccess", r.ZOt), r } rt(n, t); var i = n.prototype; return i.POt = function () { this.tx = !1, this._o(new ru(this.N$())) }, i.S$ = function () { return this.VOt.Jl() }, i.N$ = function () { return this.uY }, i.I$ = function () { if (this.HOt) return new Date(this.N$() + this.HOt) }, i.pC = function () { return this.KC }, i.O$ = function () { return this.Jg }, i.x$ = function () { return this.NJ }, i.j$ = function () { return this.tx }, i.F$ = function () { return this.aY }, i.U$ = function (t) { this.aY !== t && (this.GOt = this.aY, this.aY = t, this._o(new Hl(this.N$(), t)), this.oOt.U$(t)) }, i.z$ = function () { return this.nx }, i.V$ = function () { return this.V5.Jl() }, i.q$ = function () { var t = this, n = this.aJ.Jl(), i = n.end; return n.end = function (n) { var e = t.N$(); return i(n) < e ? e : i(n) }, n }, i.W$ = function () { return this.oY }, i.T$ = function () { return this.L_ }, i.Y$ = function () { return this.M_ }, i.X$ = function () { return this.j_ }, i.uBt = function () { return { customData: { activeQuality: { averageBandwidth: 0, bandwidth: 0, codecs: "", frameRate: 0, height: this.Q$(), id: 0, name: "", width: this.Z$() }, enabled: !0, id: "0", kind: "main", label: "", language: "", qualities: [], uid: 0 }, language: "", name: "", trackContentId: "", trackContentType: "", trackId: 0, type: "VIDEO" } }, i.oBt = function () { return { customData: { activeQuality: { averageBandwidth: 0, bandwidth: 0, codecs: "", id: 0, name: "", audioSamplingRate: 0 }, qualities: [], enabled: !0, id: "0", kind: "main", label: "", language: "", uid: 0 }, language: "", name: "", trackContentId: "", trackContentType: "", trackId: 0, type: "AUDIO" } }, i.sBt = function () { var t, n; return !(void 0 !== (null === (t = this.hOt.Kxt()) || void 0 === t ? void 0 : t.version)) || "caf" === (null === (n = this.hOt.Kxt()) || void 0 === n ? void 0 : n.sdkType) }, i._Ot = function (t) { this.sBt() && pn(t, 0), this.oOt._Ot(t) }, i.Z$ = function () { return this.OOt }, i.Q$ = function () { return this.BOt }, i.sN = function () { this.tx && (this.tx = !1, this.qOt = !1, this._o(new ru(this.N$()))), this.oOt.sN() }, i.dN = function () { this.tx || (this.tx = !0, this.qOt = !0, this._o(new Mh(this.N$()))), this.oOt.dN() }, i.$o = function (t) { var n, i, e = void 0 !== this.zOt; (this.zOt = t, this.qOt = this.j$(), e) || (null !== (i = null === (n = this.hOt.Kxt()) || void 0 === n ? void 0 : n.version) && void 0 !== i && i && this.cJ(new LV(t)), this.I4(t)) }, i.I4 = function (t) { this.oOt.$o(t, this.qOt).then(this.hBt(t)).catch(this.qxt) }, i.hBt = function (t) { var n = this; return function () { void 0 !== n.zOt && (n.zOt === t ? n.zOt = void 0 : n.I4(n.zOt)) } }, i.bx = function () { this.oOt.bx() }, i.Af = function () { this.oOt.So("ended", this.qIt), this.oOt.So("pause", this.LIt), this.oOt.So("resize", this.iBt), this.oOt.So("seeked", this.YU), this.oOt.So("playing", this.ZU), this.oOt.So("seeking", this.cJ), this.oOt.So("waiting", this.WOt), this.oOt.So("encrypted", this.QOt), this.oOt.So("error", this.JOt), this.oOt.So("timeupdate", this.V8), this.oOt.So("trackupdate", this.rBt), this.oOt.So("played", this.tBt), this.oOt.So("bufferedchange", this.vJ), this.oOt.So("durationchange", this.QE), this.oOt.So("seekablechange", this.nBt), this.oOt.So("segmentnotfound", this.$Ot), this.oOt.So("readystatechange", this.oK), this.oOt.So("activetrackupdate", this.aBt), this.oOt.So("playbackratechange", this.eBt), this.oOt.So("representationchange", this.XOt), this.oOt.So("programdatetimechange", this.KOt), this.oOt.So("contentprotectionerror", this.YOt), this.oOt.So("contentprotectionsuccess", this.ZOt), this.oOt.Af() }, n }(Pn); function _H(t, n) { for (var i = 0, e = t.Tf; i < e.length; i++) { var r = e[i]; if (r.Uf === n) return r } } function wH(t, n) { for (var i = !1, e = 0; e < t.Sf; e++) { var r = t.yf(e); -1 === n.indexOf(r.Uf) && (t.kf(r), e--, i = !0) } return i } function yH(t, n) { for (var i = !1, e = 0; e < t.length; e++) { var r = t[e], s = _H(n, r.trackId); s || (s = new dH(r), n.pf(s), i = !0) } return i } function pH(t, n) { for (var i = 0, e = n.Tf; i < e.length; i++) { var r = e[i]; r.UOt = kn(t, r.Uf) } return !1 } var mH = [es.ll, es.cl, es.Tl, es.El, es.yl, es.bl, es.Al, es.Dl, es.Rl, es.Il, "waiting", "playing", es.Sl, es.Nl, es.vl, es.il, es.ol], kH = function (t) { function n(n, i) { var e; return (e = t.call(this) || this).m_ = n, e.MP = !1, e.cBt = q, e.fBt = 0, e.CU = eu.h_, e.OU = !1, e.xU = !1, e.vBt = !1, e.lBt = void 0, e.dBt = 0, e._Bt = void 0, e.gBt = function (t) { var n, i; (t.ux && !wo(t.ux, e.sx, 1e-5) || t.RE && t.RE !== e.XS) && (e.sx = null !== (n = t.ux) && void 0 !== n ? n : e.sx, e.XS = null !== (i = t.RE) && void 0 !== i ? i : e.XS, e._o(new su(e.yg, e.sx))) }, e.wBt = function () { var t, n = e.hOt.AOt(); null === (t = e.kOt) || void 0 === t || t.So("sourceupdate", e.yBt), n ? (e.kOt = n, e.kOt.mo("sourceupdate", e.yBt), e.J1 = new gH(e.hOt, n, e.sz)) : e.J1 = e.pBt() }, e.yBt = function (t) { e.wH(t.fg), e.cOt(t.UD) }, e.mBt = function (t) { var n = e.kBt(t.zB); if (n) { var i = { targetQualityIds: t.Gxt }; n.LOt(i) } }, e.JOt = function (t) { e.bBt(t.Bo) }, e.bBt = function (t) { e.cBt && e.cBt(t) }, e.ABt = function (t) { e.Jg = t.Bo, e._o(new ou(t.Bo)) }, e.P3 = function (t) { var n = e.TBt(t.targetQuality), i = t.track; e.hOt.Zxt(i.Uf, i.v5, n) }, e.BU = function (t) { e._o(t); var n = t.readyState; !e.OU && e.CU === eu.h_ && n >= eu.c_ && (e.OU = !0, e._o(new Rh(t.currentTime))), !e.xU && e.CU <= eu.c_ && n >= eu.f_ && (e.xU = !0, e._o(new Dh(t.currentTime))), e.CU <= eu.f_ && n >= eu.v_ && e._o(new Ch(t.currentTime)), e.CU <= eu.v_ && n === eu.l_ && e._o(new jh(t.currentTime)), e.CU = n }, e.sx = e.m_.ux, e.XS = e.m_.RE, e.hOt = i, e.hOt.mo("casterror", e.JOt), e.hOt.mo("playererror", e.ABt), e.hOt.mo("volumechange", e.gBt), e.hOt.mo("medialoadedchange", e.wBt), e.hOt.mo("targetqualitychanged", e.mBt), e.rH = e.m_.fg, e.Bnt = e.m_.G_(), e.J1 = new vH(st(e), e.m_.yg, e.m_.Zy, e.m_.SN, e.m_.rN, e.m_._g, new cu, new cu, new fu, e.m_.zx, e.m_.Gx), e.SBt(), e } rt(n, t); var i = n.prototype; return i.wH = function (t) { t && (Ir(this.rH && Dr(this.rH), t && Dr(t)) || (this.rH = t, this._o(new Kl(t)))) }, i.cOt = function (t) { t && (Ir(this.Bnt && Dr(this.Bnt), t && Dr(t)) || (this.fBt = 0, this.Bnt = t, this._o(new lI(t)), this.sz.POt())) }, i.kBt = function (t) { for (var n = 0, i = this.Tg.Tf; n < i.length; n++) { var e = i[n]; if (e.Uf === t) return e } for (var r = 0, s = this.og.Tf; r < s.length; r++) { var u = s[r]; if (u.Uf === t) return u } }, i.Ph = function () { var t = this.lBt || this.m_.G_(); this.MP && t && this.TOt(t, !this.m_.rN, this.m_.yg) }, i.G_ = function () { return this.Bnt }, i.z_ = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.Bnt = n, t.next = 3, this.TOt(n, !0, 0); case 3: this.lBt = void 0; case 4: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.Nx = function () { }, i.H_ = function () { }, i._x = function () { return [] }, i.oI = function () { }, i.sN = function () { this.hOt.AOt() || this.vBt || !this.Bnt ? this.sz.sN() : this.TOt(this.Bnt, !0, 0) }, i.dN = function () { this.sz.dN() }, i.bx = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: this.sz.bx(); case 1: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.U_ = function (t) { this.MP = !0 }, i.V_ = function () { this.rH = void 0; var t = this.ux, n = this.RE; this.MP = !1, t === this.m_.ux && n === this.m_.RE || this._o(new su(this.yg, this.ux)) }, i.Ex = function (t) { return !1 }, i.B_ = function () { }, i.Z_ = function () { }, i.q_ = function () { return !1 }, i.W_ = function () { }, i.X_ = function () { }, i.TOt = function (t, n, i) { this.vBt = !0, this.bf(), this.fBt = this.m_.jx.length > 0 ? this.m_.jx.start(0) : 0; var e = this.Zy === 1 / 0, r = function (t, n, i) { return { theoplayer_version: fH, streamStart: t, isLive: n, sourceDescription: i } }(this.fBt, e, t), s = { Tlt: t, yg: i ? i - this.fBt : 0, SOt: r }; return this.EBt(s) }, i.EBt = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, t.next = 3, this.hOt.TOt(n); case 3: t.next = 8; break; case 5: t.prev = 5, t.t0 = t.catch(0), this.bBt(t.t0); case 8: return t.prev = 8, this.vBt = !1, t.finish(8); case 11: case "end": return t.stop() } }, t, this, [[0, 5, 8, 11]]) })); return function (n) { return t.apply(this, arguments) } }(), i.SBt = function () { this.IBt(this.og, "audio"), this.IBt(this.Tg, "video"), this.IBt(this.Ag, "text") }, i.IBt = function (t, n) { for (var i = this, e = 0, r = t.Tf; e < r.length; e++) { var s = r[e]; this.RBt(s, n) } t.mo("_f", function (t) { i.RBt(t.df, n) }) }, i.RBt = function (t, n) { var i = this; "text" !== n && t.mo(hH.xOt, this.P3), t.mo(aH.xOt, function (t) { return i.uOt() }), t.mo(cH.xOt, function () { return i.uOt() }) }, i.uOt = function () { this._Bt && (this._Bt.eh(), this._Bt = void 0), this._Bt = new ie, this.doUpdateActiveTracks(++this.dBt, this._Bt._h) }, i.doUpdateActiveTracks = function () { var t = St(At.mark(function t(n, i) { var e, r, s, u, o, a, h, c, f, v; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, Tt.resolve(); case 2: if (t.prev = 2, Rn(i), n === this.dBt) { t.next = 6; break } return t.abrupt("return"); case 6: for (e = [], r = 0, s = this.Tg.Tf; r < s.length; r++)(u = s[r]).jf && e.push(u.Uf); for (o = 0, a = this.og.Tf; o < a.length; o++)(h = a[o]).jf && e.push(h.Uf); for (c = 0, f = this.Ag.Tf; c < f.length; c++)"showing" === (v = f[c]).Yf && e.push(v.Uf); Rn(i), this.sz._Ot(e), t.next = 18; break; case 14: if (t.prev = 14, t.t0 = t.catch(2), t.t0 instanceof En) { t.next = 18; break } throw t.t0; case 18: case "end": return t.stop() } }, t, this, [[2, 14]]) })); return function (n, i) { return t.apply(this, arguments) } }(), i.TBt = function (t) { var n, i; return !!t && ((null !== (i = null === (n = this.hOt.Kxt()) || void 0 === n ? void 0 : n.version) && void 0 !== i ? i : -1) >= 2 ? t.map(function (t) { return t.Ff }) : [t[0].Ff]) }, i.NBt = function (t) { this.cBt = t }, i.K_ = function () { }, i.bf = function () { return this.CU = eu.h_, this.OU = !1, this.xU = !1, this.Jg = void 0, Tt.resolve() }, i.Af = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, this.bf(); case 2: this.To(), this.J1 = this.pBt(), this.hOt.So("casterror", this.JOt), this.hOt.So("playererror", this.ABt), this.hOt.So("volumechange", this.gBt), this.hOt.So("medialoadedchange", this.wBt), this.hOt.So("targetqualitychanged", this.mBt), this.hOt.Af(); case 10: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.pBt = function () { return new vH(this, this.sz.N$(), this.sz.pC(), this.sz.x$(), this.sz.j$(), this.sz.F$(), this.sz.T$(), this.sz.Y$(), this.sz.X$(), this.sz.Z$(), this.sz.Q$()) }, T(n, [{ key: "J1", set: function (t) { var n, i, e; null === (n = this.sz) || void 0 === n || n.So("error", this.JOt), null === (i = this.sz) || void 0 === i || i.So(mH, this.do), null === (e = this.sz) || void 0 === e || e.So("readystatechange", this.BU); var r = this.sz; this.sz = t, null == r || r.Af(), this.sz.mo("error", this.JOt), this.sz.mo(mH, this.do), this.sz.mo("readystatechange", this.BU) } }, { key: "GP", get: function () { return this.MP } }, { key: "og", get: function () { return this.sz.T$() } }, { key: "hg", get: function () { return this.sz.S$() } }, { key: "CBt", get: function () { return this.Bnt || this.lBt || void 0 }, set: function (t) { this.lBt = t } }, { key: "cg", get: function () { return this.sz.I$() } }, { key: "fg", get: function () { return this.rH } }, { key: "yg", get: function () { return this.sz.N$() + this.fBt }, set: function (t) { this.vBt || (this.hOt.AOt() || this.vBt || !this.Bnt ? this.sz.$o(t - this.fBt) : this.TOt(this.Bnt, !0, t)) } }, { key: "Zy", get: function () { return this.sz.pC() } }, { key: "oE", get: function () { return this.m_.oE } }, { key: "SN", get: function () { return this.sz.x$() } }, { key: "Bo", get: function () { return this.Jg } }, { key: "A_", get: function () { return { b_: 0, k_: 0, N_: 0 } } }, { key: "RE", get: function () { return this.MP ? this.XS : this.m_.RE }, set: function (t) { this.XS = t, this._o(new su(this.yg, this.ux)), this.hOt.M$(t) } }, { key: "dg", get: function () { return !0 } }, { key: "rN", get: function () { return this.sz.j$() } }, { key: "_g", get: function () { return this.sz.F$() }, set: function (t) { this.sz.U$(t) } }, { key: "wg", get: function () { return this.sz.V$() } }, { key: "gg", get: function () { return X_.ZL }, set: function (t) { } }, { key: "Zf", get: function () { return this.sz.z$() } }, { key: "jx", get: function () { return this.sz.q$() } }, { key: "pg", get: function () { return this.sz.W$() } }, { key: "Ag", get: function () { return this.sz.X$() } }, { key: "Gx", get: function () { return this.sz.Q$() } }, { key: "zx", get: function () { return this.sz.Z$() } }, { key: "Tg", get: function () { return this.sz.Y$() } }, { key: "ux", get: function () { return this.MP ? this.sx : this.m_.ux }, set: function (t) { this.sx = t, this._o(new su(this.yg, this.ux)), this.hOt.hN(t) } }, { key: "vg", get: function () { return !1 } }]), n }(hr), bH = function (t) { function n(n) { var i; return (i = t.call(this, "error") || this).Bo = n, i } return rt(n, t), n.prototype.lf = function () { return new AH(this.Bo) }, n }(cr), AH = function (t) { function n(n) { var i; return (i = t.call(this, "error") || this).error = n, i } return rt(n, t), n }(Mn), TH = function (t) { function n(n) { var i; return (i = t.call(this, "statechange") || this).state = n, i } return rt(n, t), n }(Mn); var SH = function () { var t = function (t) { function n(n, i, e) { var r; return (r = t.call(this) || this).Jg = void 0, r.cf = void 0, r.DBt = void 0, r.m_ = void 0, r.sz = "unavailable", r.xBt = !1, r.OBt = function (t) { var n = t.J1; "unavailable" === n ? (r.BBt(), r.J1 = n) : "unavailable" === r.sz && (r.J1 = n) }, r.lBt = void 0, r.PBt = function (t) { var n = t.J1; r.MBt(n) }, r.Qj = function (t) { t instanceof tH && (r.Jg = t, r._o(new bH(t).vf)) }, r.LBt = n, r.jBt = e, r.gc = i.chromecast, r.FBt = i.strategy, r.UBt = r.jBt.wx(r.gc), r.UBt.then(function () { r.jBt.mo("statechange", r.OBt), r.MBt(r.jBt.lpt()) }).catch(r.Qj), r } rt(n, t); var i = n.prototype; return i.MBt = function (t) { "available" === t && (this.BBt(), this.J1 = t) }, i.VBt = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (this.UBt) { t.next = 2; break } throw new v("Chromecast must be initialized before starting a session"); case 2: return t.next = 4, this.UBt; case 4: if (this.jBt.NOt()) { t.next = 7; break } return t.next = 7, this.jBt.COt(); case 7: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.Ll = function () { var t = St(At.mark(function t() { var n; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.xBt = !0, this.jBt.mo("statechange", this.PBt), t.prev = 2, this.J1 = "connecting", t.next = 6, this.VBt(); case 6: this.HBt(), this.m_ && (this.m_.CBt = this.lBt, this.m_.Ph()), this.J1 = "connected", null === (n = this.DBt) || void 0 === n || n.bf(), t.next = 18; break; case 12: t.prev = 12, t.t0 = t.catch(2), this.jBt.So("statechange", this.PBt), this.BBt(), this.J1 = "available", In(t.t0) || this.Qj(t.t0); case 18: case "end": return t.stop() } }, t, this, [[2, 12]]) })); return function () { return t.apply(this, arguments) } }(), i.GBt = function () { var t = St(At.mark(function t() { var n; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.xBt = !0, this.jBt.mo("statechange", this.PBt), t.prev = 2, this.J1 = "connecting", t.next = 6, this.VBt(); case 6: this.HBt(), this.J1 = "connected", null === (n = this.DBt) || void 0 === n || n.bf(), t.next = 17; break; case 11: t.prev = 11, t.t0 = t.catch(2), this.jBt.So("statechange", this.PBt), this.BBt(), this.J1 = "available", In(t.t0) || this.Qj(t.t0); case 17: case "end": return t.stop() } }, t, this, [[2, 11]]) })); return function () { return t.apply(this, arguments) } }(), i.zBt = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (this.jBt.NOt()) { t.next = 2; break } return t.abrupt("return"); case 2: return t.next = 4, this.Ll(); case 4: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.HBt = function () { this.DBt = this.LBt.T_.xf, this.m_ || (this.m_ = this.qBt(this.DBt)), this.Jg = void 0, this.DBt.dN(), this.LBt.T_.xf = this.m_ }, i.qBt = function (t) { var n = new kH(t, this.jBt.NOt()); return n.NBt(this.Qj), this.LBt.T_.$L(n), n }, i.WBt = function () { this.m_ && (this.LBt.T_.Ux(this.m_), this.m_.Af(), this.m_ = void 0) }, i.BBt = function () { if (this.xBt = !1, this.m_) { var t = this.m_.GP; this.jBt.So("statechange", this.PBt), this.LBt.T_.xf = this.DBt; var n = this.m_.G_(), i = this.m_.yg; this.WBt(), t && (this.LBt.vf.source = n, this.LBt.C$(i)), this.LBt.sN() } }, i.XBt = function () { this.TQ && this.jBt.DOt(!1) }, i.bx = function () { this.TQ && this.jBt.DOt(!0) }, i.Af = function () { this.To(), this.WBt() }, T(n, [{ key: "TQ", get: function () { return "connecting" === this.J1 || "connected" === this.J1 } }, { key: "Bo", get: function () { return this.Jg } }, { key: "vf", get: function () { var t, n; return this.cf || (this.cf = (t = this, n = void 0, { get casting() { return t.TQ }, get error() { return t.Bo }, get receiverName() { return t.$Bt }, get state() { return t.J1 }, start: function () { t.Ll() }, stop: function () { t.bx() }, join: function () { t.GBt() }, leave: function () { t.XBt() }, get source() { return n || t.UD }, set source(i) { n = i, t.UD = i ? Ef(i) : void 0 }, addEventListener: function (n, i) { n = Pr(n, Or), t.mo(n, i) }, removeEventListener: function (n, i) { n = Pr(n, Or), t.So(n, i) } })), this.cf } }, { key: "$Bt", get: function () { var t; return null === (t = this.jBt.NOt()) || void 0 === t ? void 0 : t.EOt() } }, { key: "UD", get: function () { return this.lBt ? this.lBt : this.m_ ? this.m_.CBt : void 0 }, set: function (t) { this.lBt = t, t && this.m_ && (this.m_.CBt = t, this.m_.Ph()) } }, { key: "J1", get: function () { return this.sz }, set: function (t) { this.xBt || "connecting" !== t && "connected" !== t || (t = "available"), this.sz !== t && (this.sz = t, this._o(new TH(this.J1))) } }]), n }(ar); return t.QBt = "ChromecastController", t }(); qE(function (t) { return function (t) { function n() { return t.apply(this, arguments) || this } return rt(n, t), n.prototype.lf = function () { var n = this.zQ.vf; return Sr(t.prototype.lf.call(this), { get cast() { return n } }) }, n }(t) }, LE.WQ); var EH = function () { function t(t) { this.UBt = void 0, this.cf = void 0, this.jBt = t } var n = t.prototype; return n.wx = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.UBt || (this.UBt = this.YBt(n)), t.next = 3, this.UBt; case 3: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), n.YBt = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, this.jBt.wx(n); case 2: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), n.COt = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (this.UBt) { t.next = 2; break } throw new v("Chromecast must be initialized before starting a session"); case 2: return t.next = 4, this.UBt; case 4: if (this.jBt.NOt()) { t.next = 7; break } return t.next = 7, this.jBt.COt(); case 7: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), n.ZBt = function () { this.jBt.DOt(!1) }, n.KBt = function () { this.jBt.DOt(!0) }, T(t, [{ key: "vf", get: function () { var t; return this.cf || (this.cf = (t = this, { initialize: function (n) { var i = t.wx(Ll(n)); return i.catch(q), i }, startSession: function () { var n = t.COt(); return n.catch(q), n }, endSession: function () { t.KBt() } })), this.cf } }]), t }(); var IH, RH = new oH, CH = new EH(RH), NH = { get chromecast() { return CH.vf } }; qE((IH = RH, function (t) { return function (t) { function n(n, i) { var e; return (e = t.call(this, n, i) || this).MB.cast.strategy !== Ol.DISABLED && (e.JBt = new SH(st(e), e.MB.cast, IH), e.zQ.AQ(e.JBt)), e } rt(n, t); var i = n.prototype; return i.lf = function () { var n = this, i = t.prototype.lf.call(this); return this.MB.cast.strategy !== Ol.DISABLED && Sr(i.cast, { get chromecast() { return n.JBt.vf } }), i }, i.sN = function () { t.prototype.sN.call(this), this.MB.cast.strategy === Ol.AUTO && this.JBt && !this.JBt.TQ && this.JBt.zBt() }, i.Af = function () { this.JBt && this.JBt.Af(), t.prototype.Af.call(this) }, n }(t) }), LE.WQ); var DH = function () { function t(t) { this.tPt = t, this.nPt = Rt(), this.iPt = Rt() } var n = t.prototype; return n.ePt = function (t, n, i, e, r, s, u) { var o = this; t.uv.forEach(function (t) { if (!o.rPt(t.sPt)) { var a = t.uPt(n, i, e, r, s, u); a && o.oPt(a, i) } }) }, n.rPt = function (t) { return this.nPt.get(t) }, n.oPt = function (t, n) { this.nPt.set(t.eD, t), this.iPt.set(t.eD, t.J_), n.$L(t), this.tPt.Pf(t.rg) }, n.aPt = function (t) { this.nPt.has(t.eD) || (this.iPt.set(t.eD, t), this.tPt.Pf(t.rg)) }, n.hPt = function (t) { return this.iPt.forEach(t) }, n.Af = function () { this.nPt.clear(), this.iPt.clear() }, t }(); var xH = function (t) { function n(n, i, e) { var r; return (r = t.call(this, i) || this).eI = n, r.lC = e, r } return rt(n, t), n.prototype.sN = function () { this.eI.xf = this.lC, this.eI.sN() }, n }(DE), BH = function (t) { function n(n, i) { var e, r; return (e = t.call(this) || this).m_ = n, e.eI = i, e.zD = !1, e.ust = !1, e.cPt = function () { e.zD && e.fPt("Starting ads was not possible. Turn off your AdBlocker and try again.") }, e.vPt = function () { e.ust = !0 }, i.mo("play", e.vPt), e.vf = (r = st(e), { get playing() { return r.lPt }, get currentAds() { var t = []; return r.dPt(function (n) { var i = n.sD; i.length && (t = t.concat(i)) }), t }, get currentAdBreak() { var t = null; return r.dPt(function (n) { !t && n.rD && (t = n.rD) }), t }, get scheduledAds() { var t = []; return r.dPt(function (n) { t = t.concat(n.ME) }), t }, get scheduledAdBreaks() { var t = []; return r.dPt(function (n) { t = t.concat(n.eg) }), t }, skip: function () { r.dPt(function (t) { t.iD() }) }, schedule: function (t) { var n = mf(t, rs.q); n ? r.OM(n, pu.Sg, !1) : console.error("Invalid ad description") }, addEventListener: function (t, n) { r._Pt.mo(t, n) }, removeEventListener: function (t, n) { r._Pt.So(t, n) } }), e.gPt = new kr(st(e), e.vf), e.wPt = new DH(st(e)), e.mo("FD", e.cPt), e } rt(n, t); var i = n.prototype; return i.OM = function (t, n, i) { try { this.zD = i; var e = rs.q.rv(t), r = this.wPt.rPt(e.sPt); if (!r) throw new nh(Ka.ADBLOCK); n !== pu.Eg && this.ust || (this.eI.xf = new xH(this.eI, this.eI.xf, r)), e.OM(t, n, r, this.zD) } catch (n) { 0, this._o(zc.HD(n, t.sources)) } }, i.fPt = function (t) { var n = new au(uu.ADVERTISEMENT_ERROR, t); this.eI.xf = new Lp(this.m_.oE, n), this.m_.Af(), this.Af(), this.eI.Ux(this.m_) }, i.dPt = function (t) { return this.yPt.hPt(t) }, i.bf = function () { this.ust = !1 }, i.Af = function () { this.To(), this.eI.So("play", this.vPt), this.So("FD", this.cPt), this.wPt.Af() }, T(n, [{ key: "yPt", get: function () { return this.wPt } }, { key: "_Pt", get: function () { return this.gPt } }, { key: "lPt", get: function () { var t = !1; return this.dPt(function (n) { t = t || n.ag }), t } }]), n }(lu); qE(function (t) { return function (t) { function n(n, i) { var e; return (e = t.call(this, n, i) || this).cC = new BH(e.IQ, e.T_), e } rt(n, t); var i, e = n.prototype; return e.z_ = function (n) { this.cC.bf(), t.prototype.z_.call(this, n) }, e.pY = (i = St(At.mark(function n(i, e) { var r, s, u, o; return At.wrap(function (n) { for (; ;)switch (n.prev = n.next) { case 0: return Rn(e), n.next = 3, t.prototype.pY.call(this, i, e); case 3: if (Rn(e), i && i.ads) { n.next = 6; break } return n.abrupt("return"); case 6: for (r = Boolean(i.blockContentIfAdError), s = 0, u = i.ads; s < u.length; s++)o = u[s], this.cC.OM(o, pu.Eg, r); case 8: case "end": return n.stop() } }, n, this) })), function (t, n) { return i.apply(this, arguments) }), e.lf = function () { var n = this; return Sr(t.prototype.lf.call(this), { get ads() { return n.cC.vf } }) }, e.Af = function () { this.cC.Af(), t.prototype.Af.call(this) }, n }(t) }, LE.WQ), qE(function (t) { return function (t) { function n(n, i) { var e; return (e = t.call(this, n, i) || this).cC && e.cC.yPt.ePt(rs.q, e.IQ, e.T_, e.x_, i, e.GQ, e.pF), e } return rt(n, t), n.prototype.Af = function () { t.prototype.Af.call(this) }, n }(t) }, LE.WQ); var OH, PH = function (t) { function n(n) { return t.call(this, "_D", n) || this } return rt(n, t), n.prototype.lf = function () { return new MH(Kh(this.YR)) }, n }(qh), MH = function (t) { function n(n) { var i; return (i = t.call(this, "adloaded", n) || this).ad = n, i } return rt(n, t), n }(Gh), LH = function () { function t(t, n) { this.oD = [], this.pPt = !1, this.YS = t, this.aO = this.Vg = 0, this.m_ = n, this.VS = NaN } var n = t.prototype; return n.Bg = function (t) { var n = null; return this.wC.length > this.aO && (t ? (n = this.wC[this.aO], this.aO++) : n = this.wC[this.aO]), n }, n.mPt = function (t) { t.VT = this, this.wC.push(t) }, n.kPt = function () { var t = St(At.mark(function t(n) { var i, e, r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: i = 0, e = this.oD; case 1: if (!(i < e.length)) { t.next = 15; break } return r = e[i], t.prev = 3, t.next = 6, r.Ph(function () { }); case 6: t.next = 12; break; case 8: t.prev = 8, t.t0 = t.catch(3), n._o(zc.HD(t.t0, r.CS.sources)); case 12: i++, t.next = 1; break; case 15: case "end": return t.stop() } }, t, this, [[3, 8]]) })); return function (n) { return t.apply(this, arguments) } }(), n.bPt = function () { this.pPt = !0 }, n.APt = function () { return this.pPt }, T(t, [{ key: "wC", get: function () { return this.oD } }, { key: "Wk", get: function () { return this.aO } }, { key: "TPt", get: function () { return this.YS } }, { key: "um", get: function () { if (p(this.VS)) { var t = hh.vS(this.YS, this.m_.Zy); p(t) || (this.VS = t) } return this.VS } }, { key: "SPt", get: function () { return this.pPt } }, { key: "EPt", get: function () { return this.Vg }, set: function (t) { this.Vg = t } }]), t }(), jH = function (t) { function n(n, i) { var e; return (e = t.call(this) || this).IPt = function (t) { se(e.RPt(t)), e.NPt(t), p(e.m_.Zy) || (e.CPt = t.currentTime) }, e.DPt = function () { e._o(new PH) }, e.m_ = n, e.lC = i, n.Zy !== 1 / 0 ? e.FP = 0 : e.FP = n.yg, e.CPt = e.FP, e.xPt = [], e } rt(n, t); var i = n.prototype; return i.Ll = function () { this.m_.mo("timeupdate", this.IPt) }, i.Fl = function () { this.m_.So("timeupdate", this.IPt); for (var t = 0, n = this.xPt; t < n.length; t++) { var i = n[t]; i.SPt || i.bPt() } An(this.xPt) }, i.OPt = function () { this.IPt(new Ph(-1)) }, i.BPt = function (t) { return this.PPt(t, 0, 0).length > 0 }, i.MPt = function (t, n) { var i = this.xPt.filter(function (t) { return !t.SPt }); if (0 !== i.length) { for (var e = 0, r = null, s = 0; s < i.length; s++) { var u = i[s], o = u.um; o >= t && o <= n && o >= e && !p(o) && (e = (r = u).um) } return r } }, i.LPt = function (t) { this.IPt(new Ph(t)) }, i.NPt = function (t) { var n, i = this.PPt(t.currentTime, 0, 1); if (this.m_.Zy !== 1 / 0 && (n = this.MPt(this.CPt, t.currentTime)), n && -1 === i.indexOf(n) && i.push(n), 0 !== i.length) { 0; for (var e = 0; e < i.length; e++) { i[e].bPt() } this.lC.jPt(i), 0 === this.FPt && this.m_.So("timeupdate", this.IPt) } }, i.RPt = function () { var t = St(At.mark(function t(n) { var i, e, r, s = this; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: i = this.PPt(n.currentTime, 10, 0), e = 0; case 2: if (!(e < i.length)) { t.next = 9; break } return r = i[e], t.next = 6, Tt.all(r.wC.map(function (t) { return t.Ph(s.DPt) })); case 6: e++, t.next = 2; break; case 9: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.PPt = function (t, n, i) { for (var e = [], r = 0, s = this.xPt; r < s.length; r++) { var u = s[r]; if (!u.SPt) { var o = u.um; (this.UPt(o, t) || this.VPt(o, t, n, i)) && e.push(u) } } return e }, i.UPt = function (t, n) { return 0 === t || -1 === n }, i.VPt = function (t, n, i, e) { if (t < 0) return !1; var r = t - n; return -1 !== r && r <= i && r >= -e }, i.HPt = function (t) { if (t && t.length > 0) for (var i = 0; i < t.length; i++) { var e = t[i], r = n.ZS(e.IS), s = this.GPt(e); -1 === s && (this.xPt.push(new LH(r, this.m_)), s = this.xPt.length - 1), this.xPt[s].mPt(e) } }, n.ZS = function (t) { switch (t) { case "start": case "00:00:00": case "00:00:00.000": case "0%": case "0": return "0"; case "end": case "100%": return "-1"; default: return t } }, i.GPt = function (t) { for (var i = n.ZS(t.IS), e = 0, r = this.xPt.length; e < r; e++) { var s = this.xPt[e]; if (i === n.ZS(s.YS)) return e } return -1 }, i.zPt = function (t) { var n = this.xPt.indexOf(t); mn(this.xPt, n) }, T(n, [{ key: "FPt", get: function () { for (var t = 0, n = 0, i = this.xPt; n < i.length; n++) { i[n].SPt || (t += 1) } return t } }, { key: "qPt", get: function () { for (var t = 0, n = 0, i = this.xPt; n < i.length; n++) { var e = i[n], r = e.TPt; !e.SPt && r >= this.m_.yg && (t += 1) } return t } }, { key: "ME", get: function () { return this.xPt } }]), n }(hr), FH = function (t) { function n(n, i) { var e; return (e = t.call(this) || this).WPt = function (t) { e.XPt(t) }, e.$Pt = s.createElement("div"), e.$Pt.style.display = "none", e.QPt = [], e.YPt = [], e.ZPt = n, e.KPt = i, e.Jg = null, e.F_ = new hr, e } rt(n, t); var i = n.prototype; return i.JPt = function () { this.tMt(), this.nMt(), this.Jg = null }, i.iMt = function (t) { this.YPt = this.YPt.concat(t) }, i.eMt = function (t) { this.QPt = this.QPt.concat(t) }, i.nMt = function () { this.YPt = [] }, i.tMt = function () { this.QPt = [] }, i.XPt = function (t) { t.stopPropagation(); for (var n = 0, i = this.QPt; n < i.length; n++)for (var e = 0, r = i[n].wy; e < r.length; e++) { var s = r[e]; ku(s.uri) } }, i.rMt = function (t) { for (var n = 0, i = this.YPt; n < i.length; n++) { var e = i[n]; e.Bp === t && ku(e.eventURL) } }, i.B_ = function () { this.sMt.style.display = "" }, i.Z_ = function () { this.sMt.style.display = "none" }, i.Af = function () { this.To(), this.F_.To(), Le(this.$Pt) }, T(n, [{ key: "sMt", get: function () { return this.$Pt } }, { key: "rg", get: function () { return this.F_ } }]), n }(hr); !function (t) { t.uMt = "theo-size-xs", t.S_ = "theo-size-s", t.M_ = "theo-size-m", t.L_ = "theo-size-l", t.cMt = "theo-size-xl" }(OH || (OH = {})); var UH = [1200, 992, 768, 576], VH = { 1200: OH.cMt, 992: OH.L_, 768: OH.M_, 576: OH.S_ }, HH = function () { function t(t, n) { var i = this; this.zV = t, this.fMt = n, this.vMt = function (t) { i.lMt({ width: t.qw, height: t.Ww }) }, n.mo("TW", this.vMt), this.lMt({ width: n.xW, height: n.DW }) } var n = t.prototype; return n.lMt = function (t) { var n = function (t) { for (var n = 0; n < UH.length; n++) { var i = UH[n]; if (t > i) return VH[i] } return OH.uMt }(t.width); n !== this.dMt && (He(this.zV, n), ze(this.zV, this.dMt), this.dMt = n) }, n.Af = function () { this.fMt.So("TW", this.vMt) }, t }(); function zH(t) { var n; if (t.getBoundingClientRect && t.parentNode && (n = t.getBoundingClientRect()), !n) return { left: 0, top: 0 }; var i = s.documentElement, e = s.body, u = i.clientLeft || e.clientLeft || 0, o = r.pageXOffset || e.scrollLeft, a = n.left + o - u, h = i.clientTop || e.clientTop || 0, c = r.pageYOffset || e.scrollTop, f = n.top + c - h; return { left: _.round(a), top: _.round(f) } } function qH(t, n, i, e) { if (void 0 === e && (e = 0), t && n) { t.style.left = "0px"; var r = t.getClientRects(), s = n.getClientRects(), u = r.length > 0 && r[0], o = s.length > 0 && s[0]; if (u && o) { var a = u.width / 2 + u.left; GH(t, o.width / 2 + o.left - a, i, e) } } } function GH(t, n, i, e) { void 0 === e && (e = 0), WH(t, n, "left", "right", i, e) } function WH(t, n, i, e, r, s) { void 0 === s && (s = 0); var u = t.getClientRects(), o = u.length > 0 && u[0]; r && (n = _o(n, r[i] + s - o[i], r[e] - s - o[e])); t.style[i] = n + "px" } function XH(t, n) { void 0 === t.textContent ? t.innerText = n : t.textContent = n } var $H = function (t) { function n(n, i) { var e; return (e = t.call(this) || this)._Mt = function () { e._o(new Mn("iD")) }, e.zV = s.createElement("div"), e.oE.className = "theoplayer-ad-overlay-component theoplayer-ad-skip theoplayer-ad-skip-countdown", e.oE.style.position = "absolute", e.gMt = s.createElement("span"), e.oE.appendChild(e.gMt), i && (e.wMt = s.createElement("div"), e.wMt.className = "theoplayer-ad-skip-poster", e.wMt.style.backgroundImage = 'url("' + on(i) + '")', e.oE.appendChild(e.wMt)), e.cL = "countdown", e.yMt = new HH(e.oE, n), e } rt(n, t); var i = n.prototype; return i.pMt = function () { this.cL = "skip", this.hq = "Skip Ad", this.mMt(), this.oE.classList.remove("theoplayer-ad-skip-countdown"), this.oE.classList.add("theoplayer-ad-skip-button") }, i.mMt = function () { this.oE.addEventListener("mouseup", this._Mt), this.oE.addEventListener("touchend", this._Mt) }, i.kMt = function () { this.oE.removeEventListener("mouseup", this._Mt), this.oE.removeEventListener("touchend", this._Mt) }, i.Af = function () { this.kMt(), this.yMt.Af(), Le(this.zV), Le(this.gMt), this.wMt && Le(this.wMt) }, T(n, [{ key: "oE", get: function () { return this.zV } }, { key: "Yf", get: function () { return this.cL } }, { key: "hq", set: function (t) { XH(this.gMt, t) } }]), n }(hr), QH = function (t) { function n(n, i, e, r, s, u, o, a, h) { var c; return (c = t.call(this, n, i) || this).k$ = e, c.bMt = r, c.gc = s, c.lC = u, c.fMt = o, c.aV = a, c.AMt = h, c.TMt = [], c.SMt = !1, c.EMt = 0, c.Dj = void 0, c.IMt = function () { c.AMt.So(es.ll, c.RMt), c.SMt = !1, c.rMt(Mu.bp), c.Z_(), c.KPt() }, c.NMt = function () { c.SMt || (c.CMt(), c.SMt = !0), c.sMt.style.display = "block", c.AMt.So("playing", c.NMt), c.SMt = !0, c._o(new Bh(c.yg)), c.DMt() }, c.RMt = function () { var t = c.yg / c.Zy; 0 === c.EMt && t >= .25 ? (c.rMt(Mu.pp), c.EMt = 1) : 1 === c.EMt && t >= .5 ? (c.rMt(Mu.mp), c.EMt = 2) : 2 === c.EMt && t >= .75 && (c.rMt(Mu.kp), c.EMt = 3), c.xMt(), c.Fy && -1 !== c.Fy.Jy && c.Fy.Jy < c.Fy.Zy && (c.yg < c.Fy.Jy ? c.OMt() : (c.BMt || c.PMt(), c.BMt && "skip" !== c.BMt.Yf && c.BMt.pMt())) }, c.MMt = function () { c.AMt.So("error", c.MMt), c.Jg.qp(oo.Hp), c.SMt = !1, c.AMt.Z_(); var t = c.Dj ? c.Dj.MB.tv : ""; c.ZPt(t) }, c.LMt = function () { c.do(new Ph(c.yg)) }, c.jMt = function () { c.do(new Oh(c.Zy)) }, c.FMt = function () { c.do(new su(c.yg, c.ux)) }, c.UMt = function () { c.lC.dN() }, c.VMt = function () { if (c.Fy) { c.rMt(Mu.hp); var t = new ic(c.Fy, c.TMt, c.Fy.mw, c.HMt); c.rg._o(new Rc(t, c.yg / c.Zy)), c.IMt() } }, a.cH(c.sMt), c.sMt.className = "theoplayer-ad-linear", c.sMt.style.position = "relative", c.sMt.style.width = "100%", c.sMt.style.height = "100%", c.AMt.Z_(), c.GMt = !1, c } rt(n, t); var i = n.prototype; return i.sN = function () { var t = St(At.mark(function t() { var n; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!this.Dj || !this.AMt.rN) { t.next = 12; break } return n = this.AMt.sN(), this._o(new ru(this.yg)), this.SMt && this.rMt(Mu.op), this.SMt = !0, t.prev = 5, t.next = 8, n; case 8: t.next = 12; break; case 10: t.prev = 10, t.t0 = t.catch(5); case 12: case "end": return t.stop() } }, t, this, [[5, 10]]) })); return function () { return t.apply(this, arguments) } }(), i.dN = function () { this.AMt.rN || (this.AMt.dN(), this._o(new Mh(this.yg)), this.rMt(Mu.yl)) }, i.bx = function () { this.AMt.bf(), this.Z_(), this.SMt = !1, this.zMt(), this.qMt(), this.WMt() }, i.XMt = function (t) { this.TMt.push(t) }, i.OMt = function () { if (this.Fy) { this.BMt || this.PMt(); var t = _.round(this.Fy.Jy - this.yg); this.BMt.hq = "You can skip in " + t + " seconds" } }, i.PMt = function () { var t, n = null === (t = this.k$.G_()) || void 0 === t ? void 0 : t.poster; this.BMt = new $H(this.fMt, n), this.sMt.appendChild(this.BMt.oE), this.BMt.mo("iD", this.VMt) }, i.$Mt = function () { this.Fy && this.Fy.by._y && (this.QMt = s.createElement("a"), this.QMt.href = this.Fy.by._y, this.QMt.style.position = "absolute", this.QMt.style.zIndex = "11", this.QMt.target = "YMt", PI.Gt ? (XH(this.QMt, "learn more"), this.QMt.className = "theoplayer-ad-overlay-component theoplayer-ad-touch-clickthrough", this.QMt.setAttribute("rel", "noopener"), this.QMt.addEventListener("touchstart", this.UMt), this.QMt.addEventListener("touchend", this.WPt)) : (this.sMt.style.cursor = "pointer", $e(this.QMt), this.sMt.addEventListener("mousedown", this.UMt)), this.sMt.appendChild(this.QMt)) }, i.DMt = function () { for (var t = this, n = 0, i = this.YPt; n < i.length; n++) { var e = uo(i[n].Yo, this.Zy); e && a(function () { return t.rMt(Mu.Al) }, 1e3 * e) } }, i.ZMt = function () { var t = St(At.mark(function t() { var n, i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (this.Fy && this.KMt) { t.next = 2; break } return t.abrupt("return"); case 2: return t.next = 4, ZH(this.Fy.Ky, this.KMt.width, this.KMt.height, this.AMt); case 4: if (!(n = t.sent)) { t.next = 13; break } return t.next = 8, this.AMt.Ph(n); case 8: this.Dj = t.sent, this.AMt.B_(), this.Fy._w(), t.next = 18; break; case 13: return this.AMt.bf(), i = this.Dj ? this.Dj.MB.tv : "", this.ZPt(i), this.Fy._w(), t.abrupt("return"); case 18: this.$Mt(); case 19: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.JMt = function () { var t = St(At.mark(function t(n, i, e) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (this.Fy = n, this.AMt.mo(es.Dl, this.LMt), this.AMt.mo(es.cl, this.jMt), this.AMt.mo(es.xl, this.FMt), this.Fy.aw && 0 !== this.Fy.aw.length && this.iMt(this.Fy.aw), this.Fy.by && (PI.Gt || this.sMt.addEventListener("click", this.WPt), this.eMt(this.Fy.by)), this.Jg = i, this.KMt = e, 0 === n.Ky.length) { t.next = 16; break } return this.AMt.mo("error", this.MMt), t.next = 12, this.ZMt(); case 12: this.AMt.mo(es.ll, this.IMt), this.AMt.mo(es.Dl, this.RMt), this.AMt.mo("playing", this.NMt), this.CMt(); case 16: case "end": return t.stop() } }, t, this) })); return function (n, i, e) { return t.apply(this, arguments) } }(), i.tLt = function () { this.nLt && this.iLt && this.VMt() }, i.CMt = function () { this.rMt(Mu.yp); var t = this.zg; if (t) { var n = new ic(t, this.TMt, t.mw, this.HMt); this.rg._o(new _c(n, this.yg)) } }, i.WMt = function () { if (this.AMt.So("error", this.MMt), this.AMt.So(es.ll, this.IMt), this.AMt.So(es.Dl, this.RMt), this.AMt.So("playing", this.NMt), this.AMt.So(es.Dl, this.LMt), this.AMt.So(es.cl, this.jMt), this.AMt.So(es.xl, this.FMt), this.sMt.removeEventListener("click", this.WPt), this.sMt.removeEventListener("mousedown", this.UMt), PI.Gt) { var t = this.sMt.querySelector(".theoplayer-ad-touch-clickthrough"); t && (t.removeEventListener("touchend", this.WPt), t.removeEventListener("touchstart", this.UMt)) } if (this.Fy) { var n = this.Fy, i = new ic(n, this.TMt, n.mw, this.HMt); this.rg._o(new Nc(i, this.yg)) } this.eLt(), this.JPt(), this.zMt(), this.qMt(), this.Fy = void 0, this.KMt = void 0, this.AMt.bf(), this.sMt.style.cursor = "", this.EMt = 0, An(this.TMt), this.GMt && (this.bMt.WMt(), this.GMt = !1) }, i.eLt = function () { this.QMt && Le(this.QMt) }, i.qMt = function () { this.rLt && (Le(this.rLt), this.rLt = void 0) }, i.zMt = function () { this.BMt && (this.BMt.Af(), this.BMt = void 0) }, i.sLt = function () { this.GMt = !0 }, i.xMt = function () { this.rLt || (this.rLt = s.createElement("div"), this.rLt.className = "theoplayer-ad-overlay-component theo-ad-remaining-container", this.sMt.appendChild(this.rLt)); var t = this.lC.rD; if (t && t.ads) { var n = t.ads.filter(function (t) { return "linear" === t.type }).length, i = wC(this.gc, "The content will play in") + " " + _.round(t.maxRemainingDuration) + " " + wC(this.gc, "seconds"); if (n > 1) { var e = this.lC.uLt; if (e) i += " Ad " + (e.VT.EPt + 1) + "/" + n } XH(this.rLt, i) } }, T(n, [{ key: "HMt", get: function () { return this.lC.oLt() } }, { key: "nLt", get: function () { return this.SMt } }, { key: "yg", get: function () { return this.AMt.yg } }, { key: "Zy", get: function () { var t = this.AMt.Zy; return p(t) && this.Fy && (t = this.Fy.Zy || 0), t } }, { key: "SN", get: function () { return this.AMt.SN } }, { key: "RE", get: function () { return this.AMt.RE }, set: function (t) { this.AMt.RE = t, t ? this.rMt(Mu.rp) : this.rMt(Mu.sp) } }, { key: "rN", get: function () { return this.AMt.rN } }, { key: "ux", get: function () { return this.AMt.ux }, set: function (t) { this.AMt.ux = t } }, { key: "zg", get: function () { return this.Fy } }, { key: "aLt", get: function () { return this.TMt } }, { key: "iLt", get: function () { return this.zg && -1 !== this.zg.Jy && this.AMt.yg >= this.zg.Jy } }]), n }(FH); function YH(t) { return { Ou: 0, tv: t.contentURL, bA: t.type, yV: [] } } function ZH(t, n, i, e) { return KH.apply(this, arguments) } function KH() { return (KH = St(At.mark(function t(n, i, e, r) { var s, u, o, a, h, c, f, v, l, d; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: s = 1 / 0, o = [], a = 0; case 3: if (!(a < n.length)) { t.next = 12; break } return h = n[a], t.next = 7, r.B4([YH(h)]); case 7: if (!t.sent) { t.next = 9; break } o.push(h); case 9: a++, t.next = 3; break; case 12: if (o.length) { t.next = 14; break } return t.abrupt("return", void 0); case 14: for (c = 0; c < o.length; c++)f = o[c], v = _.abs(f.width / i - 1), l = _.abs(f.height / e - 1), (d = (v + l) / 2) < s && (s = d, u = f); if (!u) { t.next = 17; break } return t.abrupt("return", YH(u)); case 17: return t.abrupt("return", YH(o.sort(JD)[0])); case 18: case "end": return t.stop() } }, t) }))).apply(this, arguments) } var JH, tz = function (t) { function n() { var i; return (i = t.call(this) || this)._Mt = function (t) { i._o(new Mn("iD")), i.hLt(t) }, i.hLt = function (t) { t.stopPropagation() }, i.zV = n.cLt(), i.mMt(), i } rt(n, t); var i = n.prototype; return i.mMt = function () { this.oE.addEventListener("mouseup", this._Mt), this.oE.addEventListener("touchend", this._Mt), this.oE.addEventListener("mousedown", this.hLt) }, i.kMt = function () { this.oE.removeEventListener("mouseup", this._Mt), this.oE.removeEventListener("touchend", this._Mt), this.oE.removeEventListener("mousedown", this.hLt) }, n.cLt = function () { var t = s.createElement("div"); return t.className = "theoplayer-ad-nonlinear-close", t.style.position = "absolute", t.style.right = "0", t.style.top = "0", t.style.cursor = "pointer", t.style.fontSize = "1.7em", t.style.lineHeight = "0.75em", t }, i.Af = function () { this.kMt(), this.zV = null }, T(n, [{ key: "oE", get: function () { return this.zV } }]), n }(hr), nz = function (t) { function n(n, i, e, r) { var s; return (s = t.call(this, n, i) || this).TMt = [], s.KMt = void 0, s.fLt = function () { s.vLt(), s.rMt(Mu.wp), s.KPt() }, s.lLt = function (t) { s.vLt(), s.Jg.qp(oo.Gp), s.ZPt() }, s.dLt = function () { s.rMt(Mu.bp), s.Z_(), je(s.sMt), s.KPt(), s._Lt = void 0 }, s.gLt = function () { s.wLt || (s.yLt = void 0, s.pLt = new tz, s.sMt.children[0].appendChild(s.pLt.oE), s.pLt.mo("iD", s.mLt)) }, s.mLt = function () { s.rMt(Mu.hp), s.tLt() }, s.sMt.className = "theoplayer-ad-nonlinear", s.sMt.style.position = "absolute", s.sMt.style.width = "100%", s.sMt.style.bottom = "3em", s.sMt.style.zIndex = "10", s.sMt.style.textAlign = "center", s.lC = e, s.eI = r, s } rt(n, t); var i = n.prototype; return i.JPt = function () { t.prototype.JPt.call(this), this.sMt && je(this.sMt) }, i.JMt = function () { var t = St(At.mark(function t(n, i, e) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (this._Lt && this.WMt(), this._Lt = n, 0 !== this._Lt.aw.length && this.iMt(this._Lt.aw), this.Jg = i, this.KMt = e, 0 === this._Lt.ow.length) { t.next = 12; break } return this.eMt(this._Lt.ow[0].pw), this.sMt.addEventListener("error", this.lLt), this.sMt.addEventListener("load", this.fLt), t.next = 11, this.ZMt(); case 11: this.kLt(); case 12: case "end": return t.stop() } }, t, this) })); return function (n, i, e) { return t.apply(this, arguments) } }(), i.tLt = function () { if (void 0 === this.yLt && this._Lt && -1 !== this._Lt.ow[0].mw.Jy) { this.rMt(Mu.hp); var t = this._Lt.ow[0], n = new nc(t, this.TMt, t.mw, this.HMt); this.rg._o(new Rc(n, 0)), this.dLt() } }, i.CMt = function () { var t = this._Lt.ow[0], n = new nc(t, this.TMt, t.mw, this.HMt); this.rg._o(new _c(n, this.eI.yg)) }, i.bx = function () { this.WMt(), this.KMt = void 0, this._Lt = void 0 }, i.WMt = function () { if (this.vLt(), this._Lt) { var t = this._Lt.ow[0], n = new nc(t, this.TMt, t.mw, this.HMt); this.rg._o(new Nc(n, this.eI.yg)) } this.JPt(), An(this.TMt), this.bLt(), void 0 !== this.yLt && (h(this.yLt), this.yLt = void 0) }, i.XMt = function (t) { this.TMt.push(t) }, i.vLt = function () { this.sMt.removeEventListener("load", this.fLt), this.sMt.removeEventListener("error", this.lLt) }, i.ZMt = function () { var t = St(At.mark(function t() { var n, i, e, r, u, o, a, h, c; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: (n = s.createElement("div")).className = "theoplayer-ad-nonlinear-content", n.style.position = "relative", n.style.display = "inline-block", i = this._Lt.ow[0], e = s.createElement("a"), i.pw._y && (e.href = i.pw._y, e.target = "YMt", e.setAttribute("rel", "noopener")), i.ww ? (r = i.ww, (u = s.createElement("iframe")).src = r.Mp, e.appendChild(u)) : i.gw ? (o = i.gw, (a = s.createElement("img")).src = o.Mp, e.appendChild(a)) : i.yw && (h = i.yw, (c = s.createElement("iframe")).src = h.Mp, e.appendChild(c)), i._w(), e.addEventListener("mousedown", this.WPt), e.addEventListener("touchend", this.WPt), this.sMt.firstChild && (je(this.sMt), this.WMt()), this.CMt(), n.appendChild(e), this.sMt.appendChild(n), this.B_(); case 16: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.kLt = function () { if (this._Lt) { var t = this._Lt.ow[0].mw.Jy; -1 !== t && void 0 !== t && (this.yLt = Ot.setTimeout(this.gLt, 1e3 * t)) } }, i.bLt = function () { this.wLt && (this.wLt.So("iD", this.mLt), this.wLt.Af()), this.pLt = void 0 }, T(n, [{ key: "qg", get: function () { return this._Lt } }, { key: "aLt", get: function () { return this.TMt } }, { key: "wLt", get: function () { return this.pLt } }, { key: "HMt", get: function () { return this.lC.oLt() } }]), n }(FH), iz = function (t) { function n(n) { return t.call(this, "ALt", n) || this } return rt(n, t), n.prototype.lf = function () { return new ez(Kh(this.YR)) }, n }(qh), ez = function (t) { function n(n) { var i; return (i = t.call(this, "adbreakchange", n) || this).ad = n, i } return rt(n, t), n }(Gh), rz = function () { function t() { } return t.TLt = function () { var t = St(At.mark(function t(n, i, e) { var r, s, u, o; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: r = []; case 1: if (!(s = n.shift())) { t.next = 16; break } return t.prev = 2, t.next = 5, (new oh).PT(s, i); case 5: u = t.sent, r = r.concat(u), t.next = 14; break; case 9: t.prev = 9, t.t0 = t.catch(2), o = zc.HD(t.t0, s.sources.src), e._o(o); case 14: t.next = 1; break; case 16: return t.abrupt("return", r); case 17: case "end": return t.stop() } }, t, null, [[2, 9]]) })); return function (n, i, e) { return t.apply(this, arguments) } }(), t }(), sz = function (t) { function n(n) { return t.call(this, "SLt", n) || this } return rt(n, t), n.prototype.lf = function () { return new uz(Kh(this.YR)) }, n }(qh), uz = function (t) { function n(n) { var i; return (i = t.call(this, "adadded", n) || this).ad = n, i } return rt(n, t), n }(Gh); !function (t) { t[t.NOT_INITIALISED = 0] = "NOT_INITIALISED", t[t.ELt = 1] = "ELt", t[t.ILt = 2] = "ILt", t[t.fv = 3] = "fv", t[t.vv = 4] = "vv", t[t.RLt = 5] = "RLt" }(JH || (JH = {})); var oz = function (t) { function n(n, i, e, r, s, u) { var o; return (o = t.call(this, n, i, e) || this).zD = !1, o.ust = !1, o.NLt = !0, o.CLt = function (t) { "play" !== t.type || o.NLt ? o._o(t) : o.NLt = !0 }, o.DLt = function () { o.ust || (o.ust = !0) }, o.jPt = function (t) { var n; (n = o.xLt).push.apply(n, t); for (var i = 0; i < t.length; i++) { t[i]; o.ust && o.D_.xf !== st(o) && o.OLt() } }, o.BLt = function () { return o.PLt = JH.ELt, o.MLt.WMt(), o.fD && o.fD.VT.EPt++, o.JMt(o.LLt.Bg()) }, o.jLt = function (t) { var n = new nh(Ka.PLAYBACK, Ja.GENERAL_LINEAR_ERROR, "There was a problem playing a linear ad."); return o.zN(zc.HD(n, t)), o.MLt.WMt(), o.fD && o.fD.VT.EPt++, o.JMt(o.LLt.Bo()) }, o.FLt = function () { return o.bMt.WMt(), o.JMt(o.LLt.Bg()) }, o.ULt = function (t) { var n = new nh(Ka.PLAYBACK, Ja.GENERAL_NON_LINEAR_ERROR, "There was a problem playing a non linear ad."); return o.zN(zc.HD(n, t)), o.bMt.WMt(), o.JMt(o.LLt.Bo()) }, o.aV = r, o.OS = u, o.VLt = !1, o.bMt = new nz(o.ULt, o.FLt, st(o), i), o.AMt = r.hV("video"), o.MLt = new QH(o.jLt, o.BLt, n, o.bMt, s, st(o), e, r, o.AMt), o.HLt(o.bMt.sMt), o.HLt(o.MLt.sMt), o.GLt = new jH(o.C_, st(o)), o.MLt.uf(o.CLt), o.bMt.uf(o.do), o.rg.Pf(o.MLt.rg), o.rg.Pf(o.bMt.rg), o.rg.Pf(o.GLt), o.zLt = [], o.xLt = [], o.fD = void 0, o.LLt = void 0, o.qLt = new Wh(st(o), o.C_), o.PLt = JH.NOT_INITIALISED, o.nx = 0, o._o(new xh(o.yg, 0)), o._o(new Nh(o.yg, 0)), o.x_.mo("TW", o.do), o.WLt = !1, o.XLt = [], o.C_.mo("play", o.DLt), o } rt(n, t); var i = n.prototype; return i.nD = function (t, n, i) { this.FS = n, "boolean" == typeof i && (this.zD = i), this.nx = eu.h_, this._o(new Nh(this.yg, eu.h_)), n === pu.Sg && this.ust ? se(this.mI([t])) : this.XLt.push(t) }, i.sN = function () { var t = St(At.mark(function t() { var n; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!this.$Lt) { t.next = 2; break } return t.abrupt("return"); case 2: if (this._o(new ru(this.yg)), this.DLt(), !this.XLt.length) { t.next = 9; break } return this.$Lt = this.mI(this.XLt), t.next = 8, this.$Lt; case 8: this.$Lt = void 0; case 9: if (!this.QLt) { t.next = 12; break } if (!this.zD) { t.next = 12; break } return t.abrupt("return"); case 12: this.GLt.LPt(this.C_.yg), (n = this.PLt) !== JH.vv && n !== JH.ELt || (!this.fD && this.xLt.length ? this.OLt() : this.fD ? (this.NLt = !1, this.MLt.sN()) : 0 === this.xLt.length && (this.Y_(), this.C_.sN()), this.PLt = JH.fv); case 15: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.dN = function () { this.PLt === JH.fv && (this.MLt.dN(), this.PLt = JH.vv) }, i.Ll = function () { this.PLt = JH.ELt, this.GLt.Ll(), this.nx = eu.f_, this._o(new Nh(this.yg, eu.f_)) }, i.bx = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: this.GLt && (this.GLt.Fl(), this.YLt(!1), this.MLt.bx(), this.bMt.bx(), this.PLt = JH.RLt, this.VLt = !1, this.fD && (this.GLt.zPt(this.fD.VT), this.fD = void 0)), this.ust = !1, this.NLt = !0, An(this.xLt), this.D_.xf === this && (this.Y_(), this.C_.B_()), An(this.XLt); case 6: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.iD = function () { this.MLt.tLt(), this.bMt.tLt() }, i.oI = function () { this.aV._H(), this.DLt() }, i.Ex = function (t) { return !("ended" !== t.type || !this.GLt || !this.GLt.BPt(-1)) && (this.GLt.OPt(), !0) }, i.ZLt = function () { return this.MLt.nLt }, i.B_ = function () { }, i.Z_ = function () { }, i.mI = function () { var t = St(At.mark(function t(n) { var i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, rz.TLt(n, this.OS, this.rg); case 2: if (!(i = t.sent).length) { t.next = 7; break } this.GLt.HPt(i), t.next = 12; break; case 7: if (!this.zD) { t.next = 12; break } return this.QLt = "Ads could not be loaded.", this.rg._o(zc.HD(new nh(Ka.ADBLOCK, Ja.FILE_NOT_FOUND), this.QLt)), this._o(new ou(this.Bo)), t.abrupt("return"); case 12: this.nx = eu.c_, this._o(new Nh(this.yg, this.nx)), this.rg._o(new sz), this.D_.xf === this || this.D_.rN || this.GLt.LPt(this.C_.yg), this.PLt !== JH.NOT_INITIALISED && this.PLt !== JH.RLt || this.Ll(); case 17: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.OLt = function () { var t = St(At.mark(function t() { var n, i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (this.PLt !== JH.ILt) { t.next = 2; break } return t.abrupt("return"); case 2: if (this.WLt) { t.next = 21; break } if (this.WLt = !0, this.PLt = JH.ILt, this.KLt(), !this.fD) { t.next = 18; break } return t.next = 10, this.fD.VT.kPt(this.rg); case 10: return this.JLt() || (this.WLt = !1), n = new Xh(this, this.C_), i = new $h(this.fD, n), this.rg._o(new iz(i)), t.next = 16, this.tjt(); case 16: t.next = 21; break; case 18: this.WLt = !1, this.PLt = JH.ELt, this.njt(); case 21: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.njt = function () { this.Y_(), this.C_.B_(), this.D_.sN() }, i.KLt = function () { var t; if (this.fD) t = this.fD.VT; else { if (0 === this.xLt.length) return; t = this.xLt.shift() } if (t) { var n = t.Bg(!0); n ? this.fD = n : (this.fD && (this.GLt.zPt(this.fD.VT), this.fD = void 0), this.fD = void 0) } }, i.tjt = function () { var t = St(At.mark(function t() { var n, i, e, r, s; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!(n = this.ijt())) { t.next = 12; break } return this.LLt = n, i = this.fD, this.ejt(i.aw), this.rjt(Mu.np), e = this.LLt.Bg(), this.JLt() && (this.bMt.WMt(), r = new Xh(this, this.C_), s = new $h(i, r), 1 === i.VT.Wk && this.rg._o(new xc(s))), t.next = 10, this.JMt(e); case 10: t.next = 15; break; case 12: this.PLt = JH.ELt, this.WLt = !1, this.OLt(); case 15: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.JMt = function () { var t = St(At.mark(function t(n) { var i, e, r, s, u, o, a, h, c; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!n) { t.next = 30; break } if (i = !!n.zg, e = !!n.$g, r = !!n.Wg, n.Wg) for (s = 0, u = n.Wg.Dw; s < u.length; s++)o = u[s], i ? this.MLt.XMt(o) : e && this.bMt.XMt(o); if (a = this.fD, !n.zg) { t.next = 14; break } return n.zg.mw = a, void 0 !== a.CS.skipOffset && (h = hh.vS(a.CS.skipOffset, n.zg.Zy)) < n.zg.Zy && (n.zg.Jy = h), this.bMt.WMt(), this.Q_(), t.next = 13, this.MLt.JMt(n.zg, n.Bo, { width: this.C_.oE.offsetWidth, height: this.C_.oE.offsetHeight }); case 13: i = !0; case 14: if (!n.$g) { t.next = 21; break } return n.$g.ow[0].mw = a, void 0 !== a.CS.skipOffset && (n.$g.ow[0].mw.Jy = hh.vS(a.CS.skipOffset, this.C_.Zy)), i && this.MLt.sLt(), t.next = 20, this.bMt.JMt(n.$g, n.Bo, { width: this.C_.oE.offsetWidth, height: this.C_.oE.offsetHeight }); case 20: e = !0; case 21: if (i && (this.PLt = JH.fv, this.MLt.B_(), c = !(this.rD && 0 === this.rD.timeOffset), this.NLt = c, this.MLt.sN(), this.C_.dN(), this.C_.Z_(), this.Q_(), this.nx = eu.v_, this._o(new Nh(this.yg, eu.v_))), e && (this.PLt = JH.fv, this.bMt.B_()), (i || e || r) && this.sjt(n.Xg), i || e) { t.next = 27; break } return t.next = 27, this.ujt(); case 27: !i && e && this.OLt(), t.next = 36; break; case 30: if (null !== n) { t.next = 35; break } return t.next = 33, this.ujt(); case 33: t.next = 36; break; case 35: this.YLt(!0); case 36: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.ujt = function () { var t = this.LLt; return this.JMt(t && t.Bg()) }, i.YLt = function (t) { this.rjt(Mu.ip), this.ojt(), this.PLt = JH.ELt; var n = this.fD && this.fD.VT.Bg(!1); if (this.WLt = !1, n) t && (this.PLt = JH.ELt, this.OLt()); else { if (this.D_.xf !== this) return; this.C_.B_(), !this.C_.SN && t && this.C_.sN(), this.Y_() } }, i.Y_ = function () { t.prototype.Y_.call(this), this.ajt() }, i.ajt = function () { if (this.C_.SN && (this.PLt = JH.RLt), this.fD) { if (this.JLt()) { var t = new Xh(this, this.C_), n = new $h(this.fD, t); this.rg._o(new Oc(n)) } this.GLt.zPt(this.fD.VT), this.fD = void 0 } }, i.ejt = function (t) { this.zLt = this.zLt.concat(t) }, i.ojt = function () { this.zLt = [] }, i.HLt = function (t) { this.C_.oE.appendChild(t) }, i.rjt = function (t) { for (var n = 0, i = this.zLt; n < i.length; n++) { var e = i[n]; e.Bp === t && ku(e.eventURL) } }, i.sjt = function (t) { this.MLt.rMt(Mu.wp); for (var n = 0; n < t.length; n++) { var i = t[n]; ku(i) } }, i.JLt = function () { if (!this.fD) return !1; for (var t = this.ijt(); t && t.Bg();)if (t.Cg.zg) return !0; return !1 }, i.ijt = function () { if (this.fD) return Wh._C(this.fD) }, i.oLt = function () { return this.hjt || (this.hjt = new Xh(this, this.C_)), this.hjt }, i.zN = function (t) { this.QLt = t.Do, this.rg._o(t) }, i.Nx = function () { if (this.ZLt()) return this.AMt.fV }, i._x = function () { return this.aV.yH.map(function (t) { return t.fV }) }, i.Af = function () { var n = St(At.mark(function n() { return At.wrap(function (n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, t.prototype.Af.call(this); case 2: this.C_.So("play", this.DLt), this.D_.Ux(this), this.MLt.Af(), this.bMt.Af(); case 6: case "end": return n.stop() } }, n, this) })); return function () { return n.apply(this, arguments) } }(), T(n, [{ key: "uLt", get: function () { return this.fD } }, { key: "eD", get: function () { return n.eD } }, { key: "yg", get: function () { return this.MLt.nLt ? this.MLt.yg : this.C_.yg }, set: function (t) { this.C_.yg = t } }, { key: "Zy", get: function () { return this.MLt.Zy } }, { key: "oE", get: function () { return this.C_.oE } }, { key: "SN", get: function () { return this.MLt.SN } }, { key: "Bo", get: function () { if (this.QLt && this.zD) return new au(uu.ADVERTISEMENT_ERROR, this.QLt) } }, { key: "RE", get: function () { return this.MLt.RE }, set: function (t) { this.RE !== t && (this.MLt.RE = t, this._o(new su(this.yg, this.ux))) } }, { key: "dg", get: function () { return !0 } }, { key: "rN", get: function () { return this.MLt.rN } }, { key: "Zf", get: function () { return this.nx } }, { key: "jx", get: function () { return hs.Vd().Jl() } }, { key: "Gx", get: function () { return 0 } }, { key: "zx", get: function () { return 0 } }, { key: "ux", get: function () { return this.MLt.ux }, set: function (t) { this.ux !== t && (this.MLt.ux = t, this._o(new su(this.yg, this.ux))) } }, { key: "rD", get: function () { if (this.fD) { var t = new Xh(this, this.C_); return new $h(this.fD, t).hC() } return null } }, { key: "sD", get: function () { if (!this.fD) return []; var t = []; if (this.MLt.zg) { var n = this.MLt.zg; t.push(new ic(n, this.MLt.aLt, this.fD, this.oLt()).hC()) } if (this.bMt.qg) { var i = this.bMt.qg.ow[0]; i && t.push(new nc(i, this.bMt.aLt, this.fD, this.oLt()).hC()) } return t } }, { key: "ME", get: function () { for (var t = this.GLt ? this.xLt.concat(this.GLt.ME.filter(function (t) { return !t.APt() })).map(function (t) { return t.wC }) : [], n = [], i = 0; i < t.length; i++)for (var e = t[i], r = 0; r < e.length; r++) { var s = e[r]; n = n.concat(this.qLt.dC(s)) } return n } }, { key: "eg", get: function () { var t = this; return this.GLt.ME.map(function (n) { for (var i = [], e = 0, r = 0, s = n.wC; r < s.length; r++) { var u = s[r]; i = i.concat(t.qLt.dC(u)) } return i.forEach(function (t) { t.duration && (e += t.duration) }), { timeOffset: n.um, maxDuration: e, maxRemainingDuration: e, ads: i } }) } }], [{ key: "eD", get: function () { return Uh.YN } }]), n }(mu), az = function () { function t() { } var n = t.prototype; return n.ov = function (t) { return t && ("string" != typeof t.integration || t.integration === Qr.DEFAULT || t.integration === Qr.THEO) }, n.uPt = function (t, n, i, e, r, s) { var u = new Dt(1, ["video"]); return new oz(t, n, i, u, e, s) }, n.OM = function (t, n, i, e) { i.nD(t, n, e) }, n.nO = function (t) { var n = dh(t.sources); if (n) { var i = { integration: Qr.THEO, sources: n }; "vast" === i.sources.type && void 0 === t.timeOffset ? t.timeOffset = 0 : "vmap" === i.sources.type && void 0 !== t.timeOffset && J("property timeOffset will be ignored for vmap ad sources"); var e = _h(t.timeOffset); void 0 !== e && (i.timeOffset = e); var r = _h(t.skipOffset); return void 0 !== r && (i.skipOffset = r), i } }, T(t, [{ key: "sPt", get: function () { return oz.eD } }]), t }(); rs.q.hv(new az); var hz = function () { var t = function () { function t() { } var n = t.prototype; return n.registerWebImaAdPlayerConstructor = function (t) { this.cjt = t }, n.registerNativeImaAdPlayerConstructor = function (t) { this.fjt = t }, n.createAdPlayer = function (t, n, i, e, s) { var u, o; return null !== (o = null === (u = e.ads.googleImaConfiguration) || void 0 === u ? void 0 : u.useNativeIma) && void 0 !== o && o && this.fjt ? this.fjt(t, n, i, e, s) : function () { if (r.google && r.google.ima) { var t = 1 === g.keys(r.google.ima).length && r.google.ima.dai; return !t } return !1 }() && this.cjt ? this.cjt(t, n, i, e, s) : void 0 }, t }(); return t.q = new t, t }(); var cz = function () { function t() { } var n = t.prototype; return n.ov = function (t) { return t && t.integration === Qr.GOOGLE_IMA }, n.uPt = function (t, n, i, e, r, s) { return hz.q.createAdPlayer(t, n, i, e, r) }, n.OM = function (t, n, i, e) { i.nD(t, n, e) }, n.nO = function (t) { var n = dh(t.sources); if (n) { var i = { integration: Qr.GOOGLE_IMA, sources: n }, e = _h(t.timeOffset); return void 0 !== e && (i.timeOffset = e), i } }, T(t, [{ key: "sPt", get: function () { return $c.eD } }]), t }(); rs.q.hv(new cz); var fz = function () { function t(t, n) { var i, e = s.createElement("div"); e.className = "theoplayer-ima-wrapper", $e(e), e.style.zIndex = "10", x.hn && (i = "mousedown", e.addEventListener(i, Ge)), n.appendChild(e); var r = s.createElement("div"); r.className = "theoplayer-ima", r.style.height = "100%", this.vjt = r, e.appendChild(r), this.vx = new google.ima.AdDisplayContainer(r, t), this.$Pt = e } var n = t.prototype; return n.wx = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: this.vx.initialize(); case 1: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), n.ljt = function (t) { "linear" === t ? this.$Pt.style.marginTop = "0px" : "nonlinear" === t && (this.$Pt.style.marginTop = "-45px") }, n.B_ = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: this.$Pt.style.opacity = "1", this.$Pt.style.pointerEvents = ""; case 2: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), n.Z_ = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: this.$Pt.style.opacity = "0", this.$Pt.style.pointerEvents = "none"; case 2: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), n.oo = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: this.vx.destroy(); case 1: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), T(t, [{ key: "sMt", get: function () { return this.$Pt } }, { key: "djt", get: function () { return this.vjt.offsetHeight } }, { key: "_jt", get: function () { return this.vjt.offsetWidth } }, { key: "gjt", get: function () { return this.vx } }]), t }(); function vz(t) { var n, i, e, r, s = t.getAdPodInfo(); try { r = { VN: s.getAdPosition(), fC: s.getMaxDuration(), wjt: s.getPodIndex(), IS: s.getTimeOffset(), UN: s.getTotalAds(), yjt: s.getIsBumper() } } catch (t) { r = void 0 } return { Hy: t.getAdId(), nw: t.getAdSystem(), pjt: t.getAdvertiserName(), Zw: null !== (n = t.getApiFramework()) && void 0 !== n ? n : void 0, Wg: [], bA: null !== (i = t.getContentType()) && void 0 !== i ? i : void 0, ZC: t.getCreativeAdId(), mjt: t.getDealId(), lB: t.getDescription(), Zy: t.getDuration(), qw: t.getWidth(), Ww: t.getHeight(), LC: null !== (e = t.getMediaUrl()) && void 0 !== e ? e : void 0, kjt: t.getMinSuggestedDuration(), QC: t.getSkipTimeOffset(), bjt: t.getSurveyUrl(), jC: t.getTitle(), FC: t.getTraffickingParameters(), UC: t.getTraffickingParametersString(), xx: t.getUiElements(), Ajt: t.getUniversalAdIdRegistry(), Tjt: t.getUniversalAdIdValue(), $C: t.getVastMediaHeight(), XC: t.getVastMediaWidth(), VC: t.getWrapperAdIds(), HC: t.getWrapperAdSystems(), GC: t.getWrapperCreativeIds(), nN: t.isLinear(), mN: r } } function lz(t) { switch (t) { case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED: return Ah.NI; case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED: return Ah.CI; case google.ima.AdEvent.Type.CLICK: return Ah.DI; case google.ima.AdEvent.Type.DURATION_CHANGE: return Ah.cl; case google.ima.AdEvent.Type.EXPANDED_CHANGED: return Ah.xI; case google.ima.AdEvent.Type.STARTED: return Ah.OI; case google.ima.AdEvent.Type.IMPRESSION: return Ah.BI; case google.ima.AdEvent.Type.PAUSED: return Ah.vv; case google.ima.AdEvent.Type.RESUMED: return Ah.MI; case google.ima.AdEvent.Type.AD_PROGRESS: return Ah.LI; case google.ima.AdEvent.Type.AD_BUFFERING: return Ah.jI; case google.ima.AdEvent.Type.FIRST_QUARTILE: return Ah.FI; case google.ima.AdEvent.Type.MIDPOINT: return Ah.mp; case google.ima.AdEvent.Type.THIRD_QUARTILE: return Ah.UI; case google.ima.AdEvent.Type.COMPLETE: return Ah.bp; case google.ima.AdEvent.Type.USER_CLOSE: return Ah.VI; case google.ima.AdEvent.Type.LINEAR_CHANGED: return Ah.HI; case google.ima.AdEvent.Type.LOADED: return Ah.GI; case google.ima.AdEvent.Type.AD_CAN_PLAY: return Ah.zI; case google.ima.AdEvent.Type.AD_METADATA: return Ah.qI; case google.ima.AdEvent.Type.AD_BREAK_READY: return Ah.WI; case google.ima.AdEvent.Type.INTERACTION: return Ah.XI; case google.ima.AdEvent.Type.ALL_ADS_COMPLETED: return Ah.$I; case google.ima.AdEvent.Type.SKIPPED: return Ah.QI; case google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED: return Ah.YI; case google.ima.AdEvent.Type.LOG: return Ah.ZI; case google.ima.AdEvent.Type.VIEWABLE_IMPRESSION: return Ah.KI; case google.ima.AdEvent.Type.VOLUME_CHANGED: return Ah.JI; case google.ima.AdEvent.Type.VOLUME_MUTED: return Ah.tR } } function dz(t) { switch (t) { case google.ima.AdError.Type.AD_LOAD: return Eh.MR; case google.ima.AdError.Type.AD_PLAY: return Eh.LR } } function gz() { return [google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED, google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED, google.ima.AdEvent.Type.CLICK, google.ima.AdEvent.Type.DURATION_CHANGE, google.ima.AdEvent.Type.EXPANDED_CHANGED, google.ima.AdEvent.Type.STARTED, google.ima.AdEvent.Type.IMPRESSION, google.ima.AdEvent.Type.PAUSED, google.ima.AdEvent.Type.RESUMED, google.ima.AdEvent.Type.AD_PROGRESS, google.ima.AdEvent.Type.AD_BUFFERING, google.ima.AdEvent.Type.FIRST_QUARTILE, google.ima.AdEvent.Type.MIDPOINT, google.ima.AdEvent.Type.THIRD_QUARTILE, google.ima.AdEvent.Type.COMPLETE, google.ima.AdEvent.Type.USER_CLOSE, google.ima.AdEvent.Type.LINEAR_CHANGED, google.ima.AdEvent.Type.LOADED, google.ima.AdEvent.Type.AD_CAN_PLAY, google.ima.AdEvent.Type.AD_METADATA, google.ima.AdEvent.Type.AD_BREAK_READY, google.ima.AdEvent.Type.INTERACTION, google.ima.AdEvent.Type.ALL_ADS_COMPLETED, google.ima.AdEvent.Type.SKIPPED, google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED, google.ima.AdEvent.Type.LOG, google.ima.AdEvent.Type.VIEWABLE_IMPRESSION, google.ima.AdEvent.Type.VOLUME_CHANGED, google.ima.AdEvent.Type.VOLUME_MUTED] } var _z = function (t) { function n(n, i, e) { var r; return (r = t.call(this) || this).Sjt = function (t) { t.getAd().isLinear() ? r.vx.ljt("linear") : r.vx.ljt("nonlinear") }, r.Ejt = function () { r.aN.resize(r.vx._jt, r.vx.djt, google.ima.ViewMode.NORMAL) }, r.forwardAdEventListener = function (t) { var n = t.getAd(), i = { type: lz(t.type), date: new Date, YR: n ? vz(t.getAd()) : void 0, qR: t.getAdData() }; r._o(i) }, r.forwardAdErrorEventListener = function (t) { r._o({ date: new Date, YR: void 0, type: Th.nR, qR: { zR: { Do: t.getError().getMessage(), Ijt: t.getError().getVastErrorCode(), CT: t.getError().getErrorCode(), Ou: dz(t.getError().getType()) } } }) }, r.aN = n, r.vx = i, r.fMt = e, r.fMt.mo("TW", r.Ejt), r.aN.init(r.vx._jt, r.vx.djt, google.ima.ViewMode.NORMAL), r.aN.addEventListener(google.ima.AdEvent.Type.LOADED, r.Sjt), r.aN.addEventListener(gz(), r.forwardAdEventListener), r.aN.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR, r.forwardAdErrorEventListener), r } rt(n, t); var i = n.prototype; return i.hN = function () { var t = St(At.mark(function t(n) { var i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: null === (i = this.aN) || void 0 === i || i.setVolume(n); case 1: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.NN = function () { return this.aN.getVolume() }, i.$N = function () { return this.aN.getRemainingTime() }, i.oo = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: this.fMt.So("TW", this.Ejt), this.aN.removeEventListener(google.ima.AdEvent.Type.LOADED, this.Sjt), this.aN.removeEventListener(gz(), this.forwardAdEventListener), this.aN.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR, this.forwardAdErrorEventListener), this.aN.destroy(); case 5: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.Ll = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: this.aN.start(); case 1: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.kx = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: this.aN.resume(); case 1: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.dN = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: this.aN.pause(); case 1: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.iD = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: this.aN.skip(); case 1: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.bx = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: this.aN.stop(); case 1: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.LN = function () { var t = this.aN.getCurrentAd(); if (t) return vz(t) }, i.Sx = function () { return this.aN.getCuePoints() }, i.Lx = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: this.aN.updateAdsRenderingSettings(pz(n)); case 1: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), n }(Pn), wz = function (t) { function n(n, i) { var e; return (e = t.call(this, "lx") || this).Rjt = n, e.$Pt = i, e } return rt(n, t), T(n, [{ key: "Njt", get: function () { return this.Rjt } }, { key: "sMt", get: function () { return this.$Pt } }]), n }(Mn), yz = function (t) { function n(n, i) { var e; return (e = t.call(this) || this).onAdsManagerLoadedListener = function (t) { var n; if (e.Cjt && e.Djt && e.xjt) { var i = pz(e.Djt), r = e.Cjt, s = t.getAdsManager({ get currentTime() { return r.yg }, get duration() { return r.Zy } }, i), u = new _z(s, e.Ojt, e.fMt); e._o(new wz(s, e.Ojt.sMt)), null === (n = e.xjt) || void 0 === n || n.nh(u), e.xjt = void 0 } }, e.onAdsManagerErrorListener = function (t) { var n, i = { Do: t.getError().getMessage(), Ijt: t.getError().getVastErrorCode(), CT: t.getError().getErrorCode(), Ou: dz(t.getError().getType()) }; null === (n = e.xjt) || void 0 === n || n.ih(i), e.xjt = void 0 }, e.fMt = i, e.Ojt = n, e.hx = new google.ima.AdsLoader(n.gjt), e.hx.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED, e.onAdsManagerLoadedListener), e.hx.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR, e.onAdsManagerErrorListener), e } rt(n, t); var i = n.prototype; return i.Ax = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: this.hx.contentComplete(); case 1: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.mI = function () { var t = St(At.mark(function t(n, i, e) { var r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!this.xjt) { t.next = 2; break } throw new v("Only one ImaAdsRequest can be made at a time."); case 2: return this.xjt = new Oi, this.Cjt = i, this.Djt = e, r = new google.ima.AdsRequest, n.lE ? r.adTagUrl = n.lE : n.dE && (r.adsResponse = n.dE), r.linearAdSlotWidth = n.uE, r.linearAdSlotHeight = n.aE, r.nonLinearAdSlotWidth = n.hE, r.nonLinearAdSlotHeight = n.cE, r.setAdWillAutoPlay(n.fE), r.setAdWillPlayMuted(n.vE), this.hx.requestAds(r), t.abrupt("return", this.xjt._a); case 15: case "end": return t.stop() } }, t, this) })); return function (n, i, e) { return t.apply(this, arguments) } }(), i.oo = function () { var t = St(At.mark(function t() { var n; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: this.hx.removeEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED, this.onAdsManagerLoadedListener), this.hx.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR, this.onAdsManagerErrorListener), this.hx.destroy(), null === (n = this.xjt) || void 0 === n || n.ih("AdsLoader destroyed"), this.xjt = void 0; case 5: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), n }(Pn); function pz(t) { var n = new google.ima.AdsRenderingSettings; return n.enablePreloading = t.Ox, t.xx && (n.uiElements = t.xx), n.mimeTypes = t.Dx, void 0 !== t.Mx && (n.playAdsAfterTime = t.Mx), void 0 !== t.Px && (n.loadVideoTimeout = t.Px), void 0 !== t.Bx && (n.bitrate = t.Bx), n.restoreCustomPlaybackStateOnAdBreakComplete = !0, n } var mz = function (t) { function n(n) { var i; return (i = t.call(this) || this).m_ = n, i.Bjt = i.m_.yg, i.m_.mo("timeupdate", function () { i.m_.pg || (i.Bjt = i.m_.yg), i._o(new Ph(i.yg)) }), i } return rt(n, t), n.prototype.bf = function () { this.Bjt = 0 }, T(n, [{ key: "yg", get: function () { return this.m_.pg ? this.Bjt : this.m_.yg } }, { key: "Zy", get: function () { return this.m_.Zy } }, { key: "RE", get: function () { return this.m_.RE } }, { key: "ux", get: function () { return this.m_.ux } }]), n }(Pn); hz.q.registerWebImaAdPlayerConstructor(function (t, n, i, e, r) { Gc(e); var s = Wc(e) ? t.H_() : void 0, u = new fz(s, t.oE), o = new yz(u, i), a = new mz(t); return new $c(t, n, i, e, r, u, o, a) }); var kz, bz = function (t) { function n(n, i, e, r) { var s; return (s = t.call(this) || this).cf = void 0, s.sz = "unavailable", s.Pjt = new ie, s.handleAirplayChangedEvent = function () { s.m_ && s.m_.vg ? s.Mjt() : "connected" === s.J1 && s.Ljt() }, s.handleAirplayPlayerTimeUpdate = function (t) { s.jjt = t.currentTime, s.Fjt = s.f$.cg }, s.j3 = n, s.f$ = i, s.Ujt = r, s.Ujt.Z_(), s.f$.$L(r), s.Vjt(), PI.BY && s.Lnt("available"), s } rt(n, t); var i = n.prototype; return i.Vjt = function () { this.m_ && this.m_.So("uj", this.handleAirplayChangedEvent), this.Hjt ? this.m_ = this.f$ : this.m_ = this.Ujt, this.m_.mo("uj", this.handleAirplayChangedEvent) }, i.Mjt = function () { var t = St(At.mark(function t() { var n; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (this.Hjt) { t.next = 20; break } return this.jjt = this.f$.yg, this.Fjt = this.f$.cg, this.Ujt.mo("timeupdate", this.handleAirplayPlayerTimeUpdate), this.Gjt = this.f$.xf, this.f$.xf = this.Ujt, this.Gjt.dN(), this.Gjt.Z_(), this.Ujt.B_(), this.Ujt.RE = this.Gjt.RE, this.Ujt._g = this.Gjt._g, this.Ujt.ux = this.Gjt.ux, n = this.Ujt.Ro("seeked"), this.Ujt.yg = this.Gjt.yg, t.next = 16, n; case 16: this.Ujt.sN(), this.Ujt.RE = this.Gjt.RE, this.Ujt._g = this.Gjt._g, this.Ujt.ux = this.Gjt.ux; case 20: this.Lnt("connected"); case 21: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.Ljt = function () { this.Gjt && (this.Ujt.So("timeupdate", this.handleAirplayPlayerTimeUpdate), this.Gjt.RE = this.Ujt.RE, this.Gjt._g = this.Ujt._g, this.Gjt.ux = this.Ujt.ux, x.Tn && !x.in && this.f$.Zy === 1 / 0 ? this.Fjt ? this.Gjt.cg = this.Fjt : this.Gjt.yg = 1 / 0 : this.Gjt.yg = this.jjt, this.Fjt = void 0, this.jjt = void 0, this.Gjt.B_(), this.Ujt.Z_(), this.Ujt.rN || this.Gjt.sN(), this.f$.xf = this.Gjt, this.Ujt.bf(), this.Gjt = void 0); this.Lnt("available") }, i.preloadPlayer = function (t) { if (Rn(t), this.m_.Zf < eu.c_) { var n = this.m_.Ro("loadedmetadata", t); return this.m_.gg = X_.Qx, n } return Tt.resolve() }, i.Lnt = function (t) { t !== this.sz && (this.sz = t, this._o(new TH(this.sz))) }, i.W_ = function () { PI.BY && (this.j3.oI(), this.Pjt.eh(), this.Pjt = new ie, this.Hjt ? se(this.zjt(this.Pjt._h)) : se(this.qjt(this.Pjt._h))) }, i.zjt = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, this.preloadPlayer(n); case 2: this.f$.W_(); case 3: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.qjt = function () { var t = St(At.mark(function t(n) { var i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, t.next = 3, this.Ujt.z_(this.f$.G_(), n); case 3: return i = this.Ujt.Ro("playing", n), this.Ujt.sN(), t.next = 7, he(i, 3e3); case 7: this.Ujt.dN(), Rn(n), this.Ujt.W_(), t.next = 17; break; case 12: if (t.prev = 12, t.t0 = t.catch(0), !In(t.t0)) { t.next = 16; break } return t.abrupt("return"); case 16: 0; case 17: case "end": return t.stop() } }, t, this, [[0, 12]]) })); return function (n) { return t.apply(this, arguments) } }(), i.X_ = function () { PI.BY && this.m_.X_() }, i.Af = function () { this.To(), this.f$.Ux(this.Ujt), this.Ujt.Af() }, T(n, [{ key: "TQ", get: function () { return "connected" === this.J1 } }, { key: "Hjt", get: function () { return this.f$.q_() } }, { key: "J1", get: function () { return this.sz } }, { key: "vf", get: function () { var t; return this.cf || (this.cf = (t = this, { get casting() { return t.TQ }, get state() { return t.J1 }, start: function () { t.W_() }, stop: function () { t.X_() }, addEventListener: function (n, i) { n = Pr(n, Or), t.mo(n, i) }, removeEventListener: function (n, i) { n = Pr(n, Or), t.So(n, i) } })), this.cf } }]), n }(ar), Az = function (t) { function n(n, i, e, r) { var s; return (s = t.call(this) || this).rH = void 0, s.Bnt = void 0, s.L_ = new Hr, s.M_ = new Hr, s.j_ = new Yr, s.zV = n, s.Wjt = new Dt(1, ["video"]), s.Wjt.cH(n), s.Xjt = new yp(n, s.Wjt, i, e, r), s.Xjt.uf(s.do), s.L_.xf = s.Xjt.og, s.M_.xf = s.Xjt.Tg, s.j_.xf = s.Xjt.Ag, s } rt(n, t); var i = n.prototype; return i.q_ = function () { return this.Xjt.q_() }, i.W_ = function () { this.Xjt.W_() }, i.X_ = function () { this.Xjt.X_() }, i.sN = function () { se(this.Xjt.sN()) }, i.dN = function () { this.Xjt.dN() }, i.bx = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: case "end": return t.stop() } }, t) })); return function () { return t.apply(this, arguments) } }(), i.G_ = function () { return this.Bnt }, i.z_ = function () { var t = St(At.mark(function t(n, i) { var e, r, s, u; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (Rn(i), this.Bnt = n, !rf(n.sources)) { t.next = 6; break } e = nu({ src: "" }), t.next = 16; break; case 6: r = n.sources.filter(af), s = 0; case 8: if (!(s < r.length)) { t.next = 16; break } if (u = r[s], !yp.wV(u)) { t.next = 13; break } return e = u, t.abrupt("break", 16); case 13: s++, t.next = 8; break; case 16: if (e) { t.next = 18; break } throw new v("Unsupported source."); case 18: return t.next = 20, this.Xjt.z_(e, n, i); case 20: this.wH(e); case 21: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.wH = function (t) { this.rH !== t && (this.rH = t, this._o(new Kl(t))) }, i.Nx = function () { }, i.H_ = function () { }, i._x = function () { return [] }, i.oI = function () { this.Wjt._H() }, i.U_ = function (t) { Xl(this, t) }, i.V_ = function () { }, i.Ex = function (t) { return !1 }, i.K_ = function () { }, i.bf = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.rH = void 0, this.Bnt = void 0, t.next = 4, this.Xjt.bf(); case 4: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.B_ = function () { this.Xjt.B_() }, i.Z_ = function () { this.Xjt.Z_() }, i.Af = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.To(), this.Wjt.Af(), t.next = 4, this.Xjt.Af(); case 4: this.L_.Af(), this.M_.Af(), this.j_.Af(); case 7: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), T(n, [{ key: "og", get: function () { return this.Xjt.og } }, { key: "hg", get: function () { return this.Xjt.hg } }, { key: "fg", get: function () { return this.rH } }, { key: "yg", get: function () { return this.Xjt.yg }, set: function (t) { this.Xjt.yg = t } }, { key: "cg", get: function () { return this.Xjt.cg } }, { key: "Zy", get: function () { return this.Xjt.Zy } }, { key: "oE", get: function () { return this.zV } }, { key: "SN", get: function () { return this.Xjt.SN } }, { key: "Bo", get: function () { return this.Xjt.Bo } }, { key: "vg", get: function () { return this.Xjt.vg } }, { key: "A_", get: function () { return { b_: 0, k_: 0, N_: 0 } } }, { key: "RE", get: function () { return this.Xjt.RE }, set: function (t) { this.Xjt.RE = t } }, { key: "dg", get: function () { return this.Xjt.dg } }, { key: "rN", get: function () { return this.Xjt.rN } }, { key: "_g", get: function () { return this.Xjt._g }, set: function (t) { this.Xjt._g = t } }, { key: "wg", get: function () { return this.Xjt.wg } }, { key: "gg", get: function () { return this.Xjt.gg }, set: function (t) { this.Xjt.gg = t } }, { key: "Zf", get: function () { return this.Xjt.Zf } }, { key: "jx", get: function () { return this.Xjt.jx } }, { key: "pg", get: function () { return this.Xjt.pg } }, { key: "Ag", get: function () { return this.Xjt.Ag } }, { key: "Gx", get: function () { return this.Xjt.Gx } }, { key: "zx", get: function () { return this.Xjt.zx } }, { key: "Tg", get: function () { return this.Xjt.Tg } }, { key: "ux", get: function () { return this.Xjt.ux }, set: function (t) { this.Xjt.ux = t } }]), n }(ar); qE(function (t) { return function (t) { function n(n, i) { var e; e = t.call(this, n, i) || this; var r = new Az(e.T_.oE, e.pF, e.MB, e.CQ); return e.$jt = new bz(st(e), e.T_, e.pF, r), e.zQ.AQ(e.$jt), e.mo("currentsourcechange", function () { e.$jt.Vjt() }), e } rt(n, t); var i = n.prototype; return i.lf = function () { var n = this, i = t.prototype.lf.call(this); return Sr(i.cast, { get airplay() { return n.$jt.vf } }), i }, i.Af = function () { this.$jt.Af(), t.prototype.Af.call(this) }, n }(t) }, LE.WQ), function (t) { t.Qjt = "readonly", t.Yjt = "readwrite" }(kz || (kz = {})); var Tz = function (t) { function n(n, i) { return t.call(this, n, i) || this } return rt(n, t), T(n, [{ key: "name", get: function () { return "Zjt" } }]), n }(ot); function Sz(t, n) { if ("function" == typeof t.getAll) return Ez(void 0 === n ? t.getAll() : t.getAll(n)); var i, e, r, s = void 0 === n ? t.openCursor() : t.openCursor(n); return i = s, e = new Oi, r = [], i.onsuccess = function () { var t = i.result; t && t.value ? (r.push(t.value), t.continue()) : e.nh(r), sI() }, i.onerror = function () { e.ih(i.error), sI() }, e._a } function Ez(t) { return new Tt(function (n, i) { t.onsuccess = function () { n(t.result), sI() }, t.onerror = function () { i(t.error), sI() } }) } var Iz = function () { function t(t) { var n = this; this.kot = t, this.GP = !0, this._a = new Tt(function (t, i) { n.kot.oncomplete = function () { n.GP = !1, t(), sI() }, n.kot.onerror = function () { n.GP && (n.GP = !1, i(n.kot.error || new v("Transaction error")), sI()) }, n.kot.onabort = function () { n.GP = !1, i(new v("Transaction aborted")), sI() } }) } return t.prototype.eh = function () { if (this.GP) try { this.kot.abort(), this.GP = !1 } catch (t) { } }, t }(); function Rz(t, n, i) { return Cz.apply(this, arguments) } function Cz() { return (Cz = St(At.mark(function t(n, i, e) { var r, s, u; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return r = new Iz(n), t.prev = 1, t.next = 4, Tt.all([i(e), r._a]); case 4: return s = t.sent, u = s[0], t.abrupt("return", u); case 9: if (t.prev = 9, t.t0 = t.catch(1), r.GP) { t.next = 13; break } throw new Tz("IDBTransaction committed prematurely", t.t0); case 13: throw t.t0; case 14: return t.prev = 14, r.eh(), t.finish(14); case 17: case "end": return t.stop() } }, t, null, [[1, 9, 14, 17]]) }))).apply(this, arguments) } var Nz = function () { function t(t, n) { this.Ye = t, this.Kjt = n } var n = t.prototype; return n.eit = function (t) { return Ez(this.Jjt(kz.Yjt).put(t)) }, n.vot = function () { var t = St(At.mark(function t(n) { var i, e; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: i = 0; case 1: if (!(i < n.length)) { t.next = 8; break } return e = n[i], t.next = 5, this.eit(e); case 5: i++, t.next = 1; break; case 8: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), n.Uo = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.t0 = Boolean, t.next = 3, this.Vo(n); case 3: return t.t1 = t.sent, t.abrupt("return", (0, t.t0)(t.t1)); case 5: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), n.Vo = function (t, n) { var i = this.Jjt(kz.Qjt); return Ez(n ? i.index(n).get(t) : i.get(t)) }, n.cot = function () { var t = St(At.mark(function t(n) { var i, e, r, s; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: i = [], e = 0; case 2: if (!(e < n.length)) { t.next = 11; break } return r = n[e], t.next = 6, this.Vo(r); case 6: (s = t.sent) && i.push(s); case 8: e++, t.next = 2; break; case 11: return t.abrupt("return", i); case 12: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), n.lot = function () { return Sz(this.Jjt(kz.Qjt)) }, n.dot = function (t, n) { var i = this.Jjt(kz.Qjt); return Sz(n ? i.index(n) : i, t) }, n.Mh = function (t) { return Ez(this.Jjt(kz.Yjt).delete(t)) }, n._ot = function () { var t = St(At.mark(function t(n) { var i, e; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: i = 0; case 1: if (!(i < n.length)) { t.next = 8; break } return e = n[i], t.next = 5, this.Mh(e); case 5: i++, t.next = 1; break; case 8: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), n.got = function () { return Ez(this.Jjt(kz.Yjt).clear()) }, n.Jjt = function (t) { if (!this.Kjt) throw new v("Lock was released"); if (n = t, i = this.Kjt.mode, (n !== kz.Qjt || i !== kz.Qjt) && i !== kz.Yjt) throw new v("Incompatible transaction mode: " + this.Kjt.mode + ", expected " + t); var n, i; return this.Kjt.objectStore(this.Fn) }, n.tFt = function () { this.Ye.nFt(this), this.Kjt = void 0 }, T(t, [{ key: "Fn", get: function () { return this.Ye.Fn } }]), t }(); var Dz = function () { function t(t, n) { this.iFt = void 0, this._U = new hw, this.eFt = t, this.Fn = n } var n = t.prototype; return n.eit = function (t) { return this.kot(kz.Yjt, function (n) { return n.eit(t) }) }, n.vot = function (t) { return this.kot(kz.Yjt, function (n) { return n.vot(t) }) }, n.Uo = function (t) { return this.kot(kz.Qjt, function (n) { return n.Uo(t) }) }, n.Vo = function (t, n) { return this.kot(kz.Qjt, function (i) { return i.Vo(t, n) }) }, n.cot = function (t) { return this.kot(kz.Qjt, function (n) { return n.cot(t) }) }, n.lot = function () { return this.kot(kz.Qjt, function (t) { return t.lot() }) }, n.dot = function (t, n) { return this.kot(kz.Qjt, function (i) { return i.dot(t, n) }) }, n.Mh = function (t) { return this.kot(kz.Yjt, function (n) { return n.Mh(t) }) }, n._ot = function (t) { return this.kot(kz.Yjt, function (n) { return n._ot(t) }) }, n.got = function () { return this.kot(kz.Yjt, function (t) { return t.got() }) }, n.rFt = function (t) { return this.sFt(), this.iFt = new Nz(this, t), this.iFt }, n.sFt = function () { if (void 0 !== this.iFt) throw new v("Already locked") }, n.nFt = function (t) { if (this.iFt !== t) throw new v("Incorrect lock"); this.iFt = void 0 }, n.wj = function (t) { return this._U.wj(t) }, n.kot = function (t, n) { var i = this; return this.wj(function () { return i.uFt(t, n) }) }, n.uFt = function () { var t = St(At.mark(function t(n, i) { var e, r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return this.sFt(), e = this.eFt.transaction(this.Fn, n), r = this.rFt(e), t.prev = 3, t.next = 6, Rz(e, i, r); case 6: return t.abrupt("return", t.sent); case 7: return t.prev = 7, r.tFt(), t.finish(7); case 10: case "end": return t.stop() } }, t, this, [[3, , 7, 10]]) })); return function (n, i) { return t.apply(this, arguments) } }(), n.oFt = function (t) { this.sFt(); var n = this.eFt.transaction(this.Fn, t); return this.rFt(n) }, t.aFt = function (t, n) { var i, e = new Tt(function (t) { i = t }), r = t.reduce(function (t, n) { return t.then(function () { var t, i = new Tt(function (n) { t = n }); return n.wj(function () { return t(), e }).catch(q), i }) }, Tt.resolve()); return i(r.then(n)), e }, t }(), xz = { FO: 17, hFt: function () { var t = St(At.mark(function t(n) { var i, e, r, s; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (i = n.transaction, e = n.database, (r = i.objectStoreNames) && r.length) for (s = 0; s < r.length; s++)e.deleteObjectStore(r[s]); e.createObjectStore(Lz, { keyPath: "id" }), e.createObjectStore(jz, { keyPath: "key" }), e.createObjectStore(Fz, { keyPath: "key" }), e.createObjectStore(Uz, { keyPath: "segmentURLsegmentByteRange" }).createIndex("manifestURL", "manifestURL"), e.createObjectStore(Vz, { keyPath: "segmentURLsegmentByteRange" }).createIndex("manifestURL", "manifestURL"); case 10: case "end": return t.stop() } }, t) })); return function (n) { return t.apply(this, arguments) } }() }, Bz = function (t) { function n() { return t.apply(this, arguments) || this } return rt(n, t), T(n, [{ key: "cFt", get: function () { return [xz] } }]), n }(function () { function t(t) { this.fFt = t } return t.prototype.vFt = function () { var t = St(At.mark(function t(n) { var i, e, r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: i = 0, e = this.cFt; case 1: if (!(i < e.length)) { t.next = 9; break } if (r = e[i], !(this.fFt < r.FO)) { t.next = 6; break } return t.next = 6, r.hFt(n); case 6: i++, t.next = 1; break; case 9: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), t }()), Oz = new (function () { function t() { this.lFt = function (t) { return new Bz(t) } } var n = t.prototype; return n.dFt = function (t) { this.lFt = t }, n.C7 = function (t) { return this.lFt(t) }, t }()), Pz = "theoplayer-cache-database", Mz = 18, Lz = "cachingTask", jz = "licences", Fz = "manifest", Uz = "segment", Vz = "segmentMetadata"; function Hz() { return (Hz = St(At.mark(function t() { var n; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return Gz(), (n = indexedDB.open(Pz, Mz)).addEventListener("upgradeneeded", zz), t.next = 5, Ez(n); case 5: return t.abrupt("return", t.sent); case 6: case "end": return t.stop() } }, t) }))).apply(this, arguments) } function zz(t) { return qz.apply(this, arguments) } function qz() { return (qz = St(At.mark(function t(n) { var i, e, r, s, u, o; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return i = n.oldVersion <= Mz ? n.oldVersion : -1, e = n.target, r = e.result, s = e.transaction, u = Oz.C7(i), o = { database: r, transaction: s }, t.next = 8, Rz(s, function (t) { return u.vFt(t) }, o); case 8: case "end": return t.stop() } }, t) }))).apply(this, arguments) } function Gz() { if ("undefined" == typeof indexedDB) throw new v("Indexed database unavailable") } var Wz, Xz = function () { var t = function () { function t() { } return T(t, null, [{ key: "q", get: function () { return this.Dot || (this.Dot = function () { return Hz.apply(this, arguments) }()), this.Dot } }]), t }(); return t.Dot = void 0, t }(), $z = function () { function t(t, n) { this.wot = t.wot.rFt(n), this.u6 = t.u6.rFt(n), this.yot = t.yot.rFt(n), this.pot = t.pot.rFt(n), this.mot = t.mot.rFt(n) } var n = t.prototype; return n.kot = function (t) { return t(this) }, n.tFt = function () { this.wot.tFt(), this.u6.tFt(), this.yot.tFt(), this.pot.tFt(), this.mot.tFt() }, t }(), Qz = function () { function t(t) { this.eFt = t, this.wot = new Dz(t, Vz), this.u6 = new Dz(t, Uz), this.yot = new Dz(t, Fz), this.pot = new Dz(t, Lz), this.mot = new Dz(t, jz) } t.C7 = function () { var n = St(At.mark(function n() { var i; return At.wrap(function (n) { for (; ;)switch (n.prev = n.next) { case 0: return n.next = 2, Xz.q; case 2: return i = n.sent, n.abrupt("return", new t(i)); case 4: case "end": return n.stop() } }, n) })); return function () { return n.apply(this, arguments) } }(); var n = t.prototype; return n.kot = function (t) { var n = this, i = this.allCollections; return Dz.aFt(i, function () { return n.uFt(i, t) }) }, n.uFt = function () { var t = St(At.mark(function t(n, i) { var e, r, s; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return e = n.map(function (t) { return t.Fn }), r = this.eFt.transaction(e, kz.Yjt), s = new $z(this, r), t.prev = 3, t.next = 6, Rz(r, i, s); case 6: return t.abrupt("return", t.sent); case 7: return t.prev = 7, s.tFt(), t.finish(7); case 10: case "end": return t.stop() } }, t, this, [[3, , 7, 10]]) })); return function (n, i) { return t.apply(this, arguments) } }(), T(t, [{ key: "allCollections", get: function () { return [this.u6, this.wot, this.yot, this.pot, this.mot] } }]), t }(); oP.TY(Qz.C7), function (t) { t.IDLE = "idle", t.LOADING = "loading", t.DONE = "done", t.ERROR = "error", t.EVICTED = "evicted" }(Wz || (Wz = {})); var Yz = function (t) { function n() { var n; return (n = t.apply(this, arguments) || this)._Ft = new ar, n.do = function (t) { n._o(t) }, n } rt(n, t); var i = n.prototype; return i.lf = function () { return n = Zz(t = this), i = new mr(t, n), n.addEventListener = function (t, n) { i.mo(t, n) }, n.removeEventListener = function (t, n) { i.So(t, n) }, n; var t, n, i }, i.mo = function (t, n) { this._Ft.mo(t, n) }, i.uf = function (t) { this._Ft.uf(t) }, i.To = function () { this._Ft.To() }, i._o = function (t) { this._Ft._o(t) }, i.So = function (t, n) { this._Ft.So(t, n) }, i.Io = function (t) { this._Ft.Io(t) }, i.hf = function (t) { this._Ft.hf(t) }, i.Ro = function (t, n) { return this._Ft.Ro(t, n) }, n }(function () { function t() { this.Fo = [], this.cf = void 0 } var n = t.prototype; return n.lf = function () { return Zz(this) }, n.yf = function (t) { return this.Fo[t] }, n.kd = function (t) { this.Fo.push(t), this.cf && this.cf.push(t.vf), this.gFt(t) }, n.wFt = function (t) { for (var n = 0; n < t.length; n++) { var i = t[n]; this.kd(i) } }, n.yFt = function (t, n) { n >= 0 && n <= this.Fo.length && (this.Fo.splice(n, 0, t), this.cf && this.cf.splice(n, 0, t.vf), this.gFt(t)) }, n.sL = function (t) { return kn(this.Fo, t) }, n.Mh = function (t) { this.pFt(this.Fo.indexOf(t)) }, n.pFt = function (t) { if (t >= 0 && t < this.Fo.length) { var n = this.Fo[t]; mn(this.Fo, t), this.cf && mn(this.cf, t), this.mFt(n) } }, n.zo = function () { var t = this.Fo.slice(); An(this.Fo), this.cf && An(this.cf); for (var n = 0; n < t.length; n++) { var i = t[n]; this.mFt(i) } }, T(t, [{ key: "kFt", get: function () { return this.Fo } }, { key: "Sf", get: function () { return this.Fo.length } }, { key: "vf", get: function () { return this.cf || (this.cf = this.lf()), this.cf } }]), t }()); function Zz(t) { var n = t.kFt.map(function (t) { return t.vf }); return n.item = function (n) { n |= 0; var i = t.yf(n); return i && i.vf || void 0 }, n } var Kz, Jz = function (t) { function n(n) { var i; return (i = t.call(this, "addtask") || this).task = n, i } return rt(n, t), n }(Mn), tq = function (t) { function n(n) { var i; return (i = t.call(this, "AFt") || this).bFt = n, i } return rt(n, t), n.prototype.lf = function () { return new Jz(this.bFt.vf) }, n }(cr), nq = function (t) { function n(n) { var i; return (i = t.call(this, "removetask") || this).task = n, i } return rt(n, t), n }(Mn), iq = function (t) { function n(n) { var i; return (i = t.call(this, "TFt") || this).task = n, i } return rt(n, t), n.prototype.lf = function () { return new nq(this.task.vf) }, n }(cr), eq = function (t) { function n() { return t.call(this) || this } rt(n, t); var i = n.prototype; return i.gFt = function (t) { this._o(new tq(t)) }, i.mFt = function (t) { this._o(new iq(t)) }, n }(Yz); !function (t) { t.UNINITIALISED = "uninitialised", t.INITIALISED = "initialised" }(Kz || (Kz = {})); var rq = function (t) { function n(n, i) { var e; return (e = t.call(this) || this).mj = Kz.UNINITIALISED, e.vj = new eq, e.SFt = i, e.tit = n, e.oI(), e } rt(n, t); var i = n.prototype; return i.oI = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, this.EFt(); case 2: this.G8(Kz.INITIALISED); case 3: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.EFt = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, t.next = 3, this.IFt(); case 3: t.next = 8; break; case 5: t.prev = 5, t.t0 = t.catch(0); case 8: case "end": return t.stop() } }, t, this, [[0, 5]]) })); return function () { return t.apply(this, arguments) } }(), i.IFt = function () { var t = St(At.mark(function t() { var n, i, e, r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, this.tit.lot(); case 2: for (n = t.sent, i = 0; i < n.length; i++)e = n[i], r = this.SFt.RFt(e.id, e.sourceDescription, e.parameters), this.NFt(r), this.vj.kd(r); case 4: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.G8 = function (t) { this.mj = t, this._o(new AD) }, i.RFt = function (t, n) { var i = this.SFt.CFt(t, n); return this.DFt(i), this.vj.kd(i), this.NFt(i), i }, i.DFt = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, t.next = 3, this.xFt(n); case 3: t.next = 8; break; case 5: throw t.prev = 5, t.t0 = t.catch(0), v("Unable to persist task - " + t.t0); case 8: case "end": return t.stop() } }, t, this, [[0, 5]]) })); return function (n) { return t.apply(this, arguments) } }(), i.xFt = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, this.tit.eit({ key: n.Ff, id: n.Ff, sourceDescription: n.UD, parameters: n.OFt }); case 2: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.NFt = function (t) { var n = this; t.mo("D8", function () { t.Ej === Wz.EVICTED && n.vj.Mh(t) }) }, T(n, [{ key: "Ej", get: function () { return this.mj } }, { key: "BFt", get: function () { return this.vj } }]), n }(Pn), sq = function (t) { function n() { return t.call(this, "progress") || this } return rt(n, t), n }(Mn), uq = function (t) { function n() { return t.call(this, "Yot") || this } return rt(n, t), n.prototype.lf = function () { return new sq }, n }(cr), oq = function () { function t(t, n, i) { if (this.PFt = t, this.MFt = n, this.LFt = i, 0 === g.keys(this.MFt).length) this.jFt = hs.Vd(); else { var e = new hs([-1 / 0, 1 / 0]); for (var r in this.MFt) e = e.dd(this.MFt[r]); this.jFt = e } } return t.prototype.Hl = function (t) { return !!Ir(this.MFt, t.MFt) && (!!mo(this.PFt, t.PFt) && (!!mo(this.jd, t.jd) && (!!mo(this.FFt, t.FFt) && this.UFt.Dd(t.UFt)))) }, t.VFt = function () { return aq }, T(t, [{ key: "jd", get: function () { return this.LFt } }, { key: "HFt", get: function () { return this.PFt } }, { key: "FFt", get: function () { return this.UFt.jd } }, { key: "GFt", get: function () { var t = this.UFt.jd, n = this.jd; return 0 === n ? 1 : _.min(1, t / n) } }, { key: "UFt", get: function () { return this.jFt } }]), t }(), aq = new oq(0, {}, NaN); function hq(t, n) { if (U(t)) { if (Jt(t, "%")) return y(t) / 100 * n; throw new v("Unexpected - Invalid string supplied as amount to cache.") } return n < t ? n : t } function cq(t, n, i) { return fq.apply(this, arguments) } function fq() { return (fq = St(At.mark(function t(n, i, e) { var r, s, u, o, a; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: for (r = [], s = 0, u = n.iT; s < u.length; s++)o = u[s], r.push(vq(o, i, e)); return t.next = 4, Tt.all(r); case 4: return a = t.sent, t.abrupt("return", { Zy: n.JA.Bk.um, zFt: [n.xrt], iT: a }); case 6: case "end": return t.stop() } }, t) }))).apply(this, arguments) } function vq(t, n, i) { return lq.apply(this, arguments) } function lq() { return (lq = St(At.mark(function t(n, i, e) { var r, s, u, o, a; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: for (r = [], s = 0, u = n.Snt; s < u.length; s++)o = u[s], r.push(dq(o, i, e)); return t.next = 4, Tt.all(r); case 4: return a = t.sent, t.abrupt("return", { qFt: a }); case 6: case "end": return t.stop() } }, t) }))).apply(this, arguments) } function dq(t, n, i) { return gq.apply(this, arguments) } function gq() { return (gq = St(At.mark(function t(n, i, e) { var r, s, u, o, a; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: for (r = [], s = 0, u = n.GA; s < u.length; s++)_q(o = u[s]) || r.push(pq(o, i, e)); return t.next = 4, Tt.all(r); case 4: return a = t.sent, t.abrupt("return", { pO: a, Ou: n.Ou }); case 6: case "end": return t.stop() } }, t) }))).apply(this, arguments) } function _q(t) { return t.OA.every(yq) } var wq = 1; function yq(t) { return t.sA !== wq && Boolean(t.sA) } function pq(t, n, i) { return mq.apply(this, arguments) } function mq() { return (mq = St(At.mark(function t(n, i, e) { var r, s, u, o, a, h, c, f, v; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: for (r = [], s = 0, u = n.OA; s < u.length; s++)yq(o = u[s]) || r.push(bq(o, e)); return t.next = 4, Tt.all(r); case 4: return a = t.sent, h = n.tA[0], c = n.iA, f = c ? kq(h, c) : void 0, v = GO(n, i), t.abrupt("return", { zf: a, Gf: n.I8, Ou: n.Ou, yV: f, WFt: v }); case 10: case "end": return t.stop() } }, t) }))).apply(this, arguments) } function kq(t, n) { for (var i = [], e = function (t) { return t ? Jt(t, "avc") ? _d.VIDEO_H264 : Jt(t, "hev") || Jt(t, "hvc") || Jt(t, "hvt") || Jt(t, "lhv") || Jt(t, "lhe") || Jt(t, "lht") ? _d.VIDEO_H265 : Jt(t, "mp4") ? _d.VIDEO_MP4 : Jt(t, "mpeg2") ? _d.VIDEO_MPEG2 : Jt(t, "mpeg") ? _d.VIDEO_MPEG : _d.VIDEO_UNKNOWN : _d.VIDEO_UNKNOWN }(t), r = 0; r < n.length; r++) { var s = n[r], u = s.Vk.split(":").pop(), o = s.Uk; i.push({ mimeType: e, uuid: u, data: o }) } return { type: 0, schemeType: Ut, schemeDatas: i } } function bq(t, n) { return Aq.apply(this, arguments) } function Aq() { return (Aq = St(At.mark(function t(n, i) { var e, r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, Tq(n, i); case 2: e = t.sent, r = { Ff: Iq(n), xP: e, Nyt: n.ett, lA: n.lA, MY: n.MY, Ww: n.Ww, Ou: n.Ou, qw: n.qw }, t.t0 = n.Ou, t.next = "text" === t.t0 ? 7 : "video" === t.t0 ? 8 : "audio" === t.t0 ? 10 : 12; break; case 7: return t.abrupt("break", 13); case 8: return r.rA = n.rA ? n.rA.um : NaN, t.abrupt("break", 13); case 10: return r.audioSamplingRate = n.Zb, t.abrupt("break", 13); case 12: 0; case 13: return t.abrupt("return", r); case 14: case "end": return t.stop() } }, t) }))).apply(this, arguments) } function Tq(t, n) { return Sq.apply(this, arguments) } function Sq() { return (Sq = St(At.mark(function t(n, i) { var e, r, s, u, o, a, h, c; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: e = [], r = n.Ub, s = r.Cit(), u = s; case 4: if (!u) { t.next = 16; break } if (!r.u7(u.Wk)) { t.next = 12; break } return t.next = 8, n.o7(u, i, (new ie)._h); case 8: for (o = t.sent, a = 0; a < o.Sf; a++)e.push(Eq(o.c7(a), n)); t.next = 13; break; case 12: e.push(Eq(u, n)); case 13: u = r.E8(u), t.next = 4; break; case 16: return h = r.Bit(), c = h.OP.Od(s.zk).Pm(), t.abrupt("return", { Zy: c, u6: e }); case 19: case "end": return t.stop() } }, t) }))).apply(this, arguments) } function Eq(t, n) { return { zk: t.zk.Pm(), Zy: t.Zy.Pm(), XFt: n.S8(t) } } function Iq(t) { return t.H3.Ll.um + "-" + ("" + t.Ff) } function Rq(t, n) { return function (t, n) { var i = {}; for (var e in t) { var r = t[e]; for (var s in i[e] = {}, r) { var u = []; i[e][s] = []; for (var o = r[s], a = 0; a < o.length; a++) { var h = o[a], c = Cq(h, e, n); u.push(c) } i[e][s] = u } } return i }(function (t) { var n = function (t) { for (var n = {}, i = 0; i < t.length; i++) { var e = t[i]; n[e["group-id"]] || (n[e["group-id"]] = { Ou: e.type, $k: [] }), n[e["group-id"]].$k.push(e) } return n }(t), i = {}; for (var e in n) for (var r = n[e], s = 0, u = r.$k; s < u.length; s++) { var o = u[s]; i[r.Ou] || (i[r.Ou] = {}), i[r.Ou][o.name] || (i[r.Ou][o.name] = []), i[r.Ou][o.name].push(o) } return i }(t), n) } function Cq(t, n, i) { for (var e = t["group-id"], r = { eft: t, bvt: [] }, s = 0; s < i.length; s++) { var u = i[s]; u[n.toLowerCase()] === e && r.bvt.push(u) } return r } function Nq(t, n) { return Dq.apply(this, arguments) } function Dq() { return (Dq = St(At.mark(function t(n, i) { var e, r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, i.Ynt([n], {}); case 2: return e = t.sent, r = new CP, t.abrupt("return", r.GO(e.Xnt, e.Tq, NP(e.Tq))); case 5: case "end": return t.stop() } }, t) }))).apply(this, arguments) } function xq(t, n) { return Bq.apply(this, arguments) } function Bq() { return (Bq = St(At.mark(function t(n, i) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!n.isMasterPlaylist) { t.next = 4; break } return t.abrupt("return", Oq(n, i)); case 4: return t.abrupt("return", (r = void 0, r = $q(e = n), { Zy: e.duration, zFt: [e.uri], iT: [{ qFt: [{ pO: [{ zf: [{ Ff: e.uri, xP: r, lA: 0, MY: "", Ww: 0, Ou: null, qw: 0 }] }] }] }] })); case 5: case "end": return t.stop() }var e, r }, t) }))).apply(this, arguments) } function Oq(t, n) { return Pq.apply(this, arguments) } function Pq() { return (Pq = St(At.mark(function t(n, i) { var e, r, s; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return e = Rq(n.media, n.streams), t.next = 3, Fq(e, i); case 3: return r = t.sent, t.next = 6, Lq(n.streams, i); case 6: return s = t.sent, r.push(s), t.abrupt("return", { Zy: Mq(r), zFt: [n.uri], iT: [{ qFt: r }] }); case 9: case "end": return t.stop() } }, t) }))).apply(this, arguments) } function Mq(t) { for (var n = -1 / 0, i = 0; i < t.length; i++)for (var e = 0, r = t[i].pO; e < r.length; e++) { var s = r[e]; n = _.max.apply(_, [n].concat(s.zf.map(function (t) { return t.xP.Zy }))) } return n } function Lq(t, n) { return jq.apply(this, arguments) } function jq() { return (jq = St(At.mark(function t(n, i) { var e, r, s, u; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: e = [], r = 0; case 2: if (!(r < n.length)) { t.next = 15; break } return s = n[r], t.next = 6, Wq(s.uri, i); case 6: (u = t.sent).lA = s.bandwidth, u.MY = s.codecs, u.Ww = s.resolution && s.resolution.height, u.qw = s.resolution && s.resolution.width, e.push(u); case 12: r++, t.next = 2; break; case 15: return t.abrupt("return", { pO: [{ zf: e }] }); case 16: case "end": return t.stop() } }, t) }))).apply(this, arguments) } function Fq(t, n) { return Uq.apply(this, arguments) } function Uq() { return (Uq = St(At.mark(function t(n, i) { var e, r, s, u; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: e = [], t.t0 = At.keys(n); case 2: if ((t.t1 = t.t0()).done) { t.next = 11; break } return r = t.t1.value, s = n[r], t.next = 7, Vq(s, i); case 7: u = t.sent, e.push(u), t.next = 2; break; case 11: return t.abrupt("return", e); case 12: case "end": return t.stop() } }, t) }))).apply(this, arguments) } function Vq(t, n) { return Hq.apply(this, arguments) } function Hq() { return (Hq = St(At.mark(function t(n, i) { var e, r, s, u; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: e = [], t.t0 = At.keys(n); case 2: if ((t.t1 = t.t0()).done) { t.next = 11; break } return r = t.t1.value, s = n[r], t.next = 7, zq(s, i); case 7: u = t.sent, e.push(u), t.next = 2; break; case 11: return t.abrupt("return", { pO: e }); case 12: case "end": return t.stop() } }, t) }))).apply(this, arguments) } function zq(t, n) { return qq.apply(this, arguments) } function qq() { return (qq = St(At.mark(function t(n, i) { var e, r, s, u; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: e = [], r = 0; case 2: if (!(r < n.length)) { t.next = 11; break } return s = n[r], t.next = 6, Gq(s, i); case 6: u = t.sent, e.push(u); case 8: r++, t.next = 2; break; case 11: return t.abrupt("return", { zf: e }); case 12: case "end": return t.stop() } }, t) }))).apply(this, arguments) } function Gq(t, n) { var i, e, r; return Wq((e = (i = t).eft.uri, r = i.bvt.map(function (t) { return t.uri }), e || (r.length ? r[0] : null)), n) } function Wq(t, n) { return Xq.apply(this, arguments) } function Xq() { return (Xq = St(At.mark(function t(n, i) { var e, r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, Nq(n, i); case 2: return e = t.sent, r = $q(e), t.abrupt("return", { Ff: n, $Ft: n, xP: r, lA: 0, MY: "", Ww: 0, Ou: null, qw: 0 }); case 5: case "end": return t.stop() } }, t) }))).apply(this, arguments) } function $q(t) { for (var n = [], i = 0, e = t.fragments; i < e.length; i++) { var r = e[i]; n.push(Qq(r)) } return { Zy: t.duration, u6: n } } function Qq(t) { return { zk: t.start, Zy: t.duration, XFt: Yq(t.uri) } } function Yq(t) { return $P(t) ? { Mk: t.sit, Gk: [t.Gk.Ll, t.Gk.Fl], TT: !1 } : { Mk: t.toString(), TT: !1 } } var Zq = function () { function t(t, n, i) { this.Jnt = t, this.d7 = n, this.Pst = i } var n = t.prototype; return n.QFt = function () { var t = St(At.mark(function t(n) { var i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (n.src) { t.next = 2; break } throw new v("Invalid typed source"); case 2: if (!vf(i = n.type)) { t.next = 9; break } return t.next = 6, this.YFt(n); case 6: return t.abrupt("return", t.sent); case 9: if (!ff(i)) { t.next = 15; break } return t.next = 12, this.ZFt(n); case 12: return t.abrupt("return", t.sent); case 15: throw new v("Unexpected source type"); case 16: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), n.YFt = function () { var t = St(At.mark(function t(n) { var i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, t.next = 3, Nq(n.src, this.Jnt); case 3: return i = t.sent, t.next = 6, xq(i, this.Jnt); case 6: return t.abrupt("return", t.sent); case 9: throw t.prev = 9, t.t0 = t.catch(0), new v("Unable to fetch HLS manifest"); case 12: case "end": return t.stop() } }, t, this, [[0, 9]]) })); return function (n) { return t.apply(this, arguments) } }(), n.ZFt = function () { var t = St(At.mark(function t(n) { var i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, i = new TO({ tv: Rl(n.src), Lrt: n.liveOffset, Rrt: n.timeServer, TT: n.useCredentials }, this.Pst, TS.pW, this.Jnt), t.next = 4, i.xS; case 4: return t.next = 6, cq(i.Yrt.T5, n.contentProtection, this.d7); case 6: return t.abrupt("return", t.sent); case 9: throw t.prev = 9, t.t0 = t.catch(0), new v("Unable to fetch DASH manifest"); case 12: case "end": return t.stop() } }, t, this, [[0, 9]]) })); return function (n) { return t.apply(this, arguments) } }(), t }(); function Kq(t, n) { for (var i = 0, e = 0, r = t.xP.u6.map(function (t) { return t.Zy }); e < r.length; e++) { if ((i += r[e]) >= n) return i } return i } var Jq = function (t) { function n(n, i, e, r, s, u, o) { var a; void 0 === o && (o = aP), (a = t.call(this) || this).KFt = oq.VFt(), a.nit = n, a.Tot = i, a.Jnt = e, a.JFt = r, a.p9 = s, a.d7 = u, a.Pst = o, a.tUt = -1; var h = a.nit.UD.sources[0]; return a.nUt = h, a.nI = a.oI(), a } rt(n, t); var i = n.prototype; return i.oI = function () { var t = St(At.mark(function t() { var n, i, e, r, s, u, o, a, h, c, f, v, l, d, g, w, y, p, m, k, b, A, T, S, E, I, R, C, N, D, x = this; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return n = new Zq(this.Jnt, this.d7, this.Pst), t.next = 3, n.QFt(this.nUt); case 3: return this.Yat = t.sent, i = this.nit.OFt.amount, e = this.Yat.Zy, r = hq(i, e), this.iUt = r, u = SB(this.Yat.zFt[0]), t.next = 11, this.Tot.wot.dot(u, "manifestURL"); case 11: for (t.t0 = function (t) { return kn(t.references, x.nit.Ff) }, o = t.sent.filter(t.t0), a = [], h = this.nit.OFt.bandwidth, c = 0, f = this.Yat.iT; c < f.length; c++)for (v = f[c], l = 0, d = v.qFt; l < d.length; l++)for (g = d[l], w = 0, y = iG(g.pO); w < y.length; w++)for (p = y[w], m = 0, k = eG(p.zf, h); m < k.length; m++)b = k[m], a.push(b); if (this.tUt = _.ceil(a.map(function (t) { return t.lA * Kq(t, r) / 8 }).reduce(function (t, n) { return t + n }, 0)), o && 0 !== o.length) { for (A = o.reduce(function (t, n) { return t + n.byteSize }, 0), T = {}, S = 0; S < o.length; S++)E = o[S], I = E.qualityId, R = new hs(E.startsAndEnds), T[I] = I in T ? T[I].bd(R).md(5e-4) : R; s = new oq(A, T, this.iUt) } else { for (C = {}, N = 0; N < a.length; N++)D = a[N], C[D.Ff] = new hs([]); s = new oq(0, C, this.iUt) } this.eUt = s; case 19: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.rUt = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, this.nI; case 2: return t.next = 4, this.sUt(this.Yat, n); case 4: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.sUt = function () { var t = St(At.mark(function t(n, i) { var e, r, s, u; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (n.zFt) { t.next = 2; break } throw new v("Unexpected - manifest is missing locations"); case 2: return t.next = 4, this.uUt(); case 4: for (e = [], r = 0, s = n.iT; r < s.length; r++)u = s[r], e.push(this.oUt(u, n.zFt[0], i)); return t.abrupt("return", Tt.all(e)); case 7: case "end": return t.stop() } }, t, this) })); return function (n, i) { return t.apply(this, arguments) } }(), i.uUt = function () { var t = St(At.mark(function t() { var n, i, e, r; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, this.JFt.lot(); case 2: n = t.sent, i = 0; case 4: if (!(i < n.length)) { t.next = 25; break } return e = n[i], t.next = 8, this.Tot.yot.Vo(e.key); case 8: if (!(r = t.sent)) { t.next = 14; break } return t.next = 12, tG(r, this.nit.Ff, this.Tot.yot); case 12: t.next = 22; break; case 14: return t.prev = 14, t.next = 17, this.Tot.yot.eit(e); case 17: t.next = 22; break; case 19: throw t.prev = 19, t.t0 = t.catch(14), new Tz("Unable to store manifest with url: " + e.locationURL, t.t0); case 22: i++, t.next = 4; break; case 25: return t.next = 27, this.JFt.got(); case 27: case "end": return t.stop() } }, t, this, [[14, 19]]) })); return function () { return t.apply(this, arguments) } }(), i.oUt = function () { var t = St(At.mark(function t(n, i, e) { var r, s, u, o, a, h, c; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: for (r = [], s = 0, u = n.qFt; s < u.length; s++)for (o = u[s], a = iG(o.pO), h = 0; h < a.length; h++)c = a[h], r.push(this.aUt(c, i, e)); return t.abrupt("return", Tt.all(r)); case 3: case "end": return t.stop() } }, t, this) })); return function (n, i, e) { return t.apply(this, arguments) } }(), i.aUt = function () { var t = St(At.mark(function t(n, i, e) { var r, s, u, o, a; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (r = this.nit.OFt.bandwidth, s = eG(n.zf, r), "video" !== n.Ou || !n.WFt || !n.WFt.cF.widevine || "persistent" !== n.WFt.cF.widevine.licenseType) { t.next = 6; break } return t.next = 5, this.hUt(n.WFt); case 5: Rn(e); case 6: for (u = [], o = 0; o < s.length; o++)a = s[o], u.push(this.cUt(a, i, e)); return t.abrupt("return", Tt.all(u)); case 9: case "end": return t.stop() } }, t, this) })); return function (n, i, e) { return t.apply(this, arguments) } }(), i.cUt = function () { var t = St(At.mark(function t(n, i, e) { var r, s, u, o, a, h; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!n.Nyt) { t.next = 5; break } return r = { zk: 0, Zy: 0, XFt: n.Nyt }, t.next = 4, this.fUt(r, n, i); case 4: Rn(e); case 5: s = n.xP.u6[0].zk, u = s + this.iUt, o = 0, a = n.xP.u6; case 8: if (!(o < a.length)) { t.next = 18; break } if (!((h = a[o]).zk >= u)) { t.next = 12; break } return t.abrupt("break", 18); case 12: return Rn(e), t.next = 15, this.fUt(h, n, i); case 15: o++, t.next = 8; break; case 18: case "end": return t.stop() } }, t, this) })); return function (n, i, e) { return t.apply(this, arguments) } }(), i.vUt = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, this.nI; case 2: return t.abrupt("return", this.Yat); case 3: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), i.hUt = function (t) { return Tt.resolve() }, i.lUt = function () { var t = St(At.mark(function t() { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return J("License renewal unsupported in this SDK."), t.abrupt("return"); case 2: case "end": return t.stop() } }, t) })); return function () { return t.apply(this, arguments) } }(), i.fUt = function () { var t = St(At.mark(function t(n, i, e) { var r, s, u, o, a, h, c; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return r = this.Tot.wot, s = EB(n.XFt.Mk, n.XFt.Gk), t.next = 4, r.Vo(s); case 4: if (!(u = t.sent)) { t.next = 11; break } return t.next = 8, tG(u, this.nit.Ff, r); case 8: this.dUt(u, !1), t.next = 24; break; case 11: return t.prev = 11, t.next = 14, this._Ut(n.XFt); case 14: return o = t.sent, a = this.gUt(n, i, e, o), h = a.segmentMetadataEntry, c = a.segmentEntry, t.next = 18, this.Tot.kot(function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, n.wot.eit(h); case 2: return t.next = 4, n.u6.eit(c); case 4: case "end": return t.stop() } }, t) })); return function (n) { return t.apply(this, arguments) } }()); case 18: this.dUt(h, !0), t.next = 24; break; case 21: throw t.prev = 21, t.t0 = t.catch(11), new Tz("Unable to store segment with url: " + n.XFt.Mk, t.t0); case 24: case "end": return t.stop() } }, t, this, [[11, 21]]) })); return function (n, i, e) { return t.apply(this, arguments) } }(), i._Ut = function () { var t = St(At.mark(function t(n) { var i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, this.p9.O7(n, !1); case 2: return i = t.sent, t.next = 5, this.b9(i); case 5: return t.abrupt("return", t.sent); case 6: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), i.b9 = function () { var t = St(At.mark(function t(n) { var i; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, n.GF(); case 2: return i = t.sent, t.abrupt("return", { buffer: i }); case 4: case "end": return t.stop() } }, t) })); return function (n) { return t.apply(this, arguments) } }(), i.gUt = function (t, n, i, e) { var r = EB(t.XFt.Mk, t.XFt.Gk), s = t.zk, u = t.Zy, o = this.wUt(e); return { segmentMetadataEntry: { key: r, segmentURLsegmentByteRange: r, manifestURL: SB(i), qualityId: n.Ff, byteSize: o, startsAndEnds: new hs([s, s + u]).Vl, references: [this.nit.Ff] }, segmentEntry: { key: r, segmentURLsegmentByteRange: r, manifestURL: SB(i), data: e } } }, i.wUt = function (t) { return t.buffer.byteLength }, i.dUt = function (t, n) { var i = this.KFt, e = i.MFt, r = t.qualityId; e[r] = r in e ? e[r].bd(new hs(t.startsAndEnds)).md(5e-4) : new hs(t.startsAndEnds), this.eUt = new oq(n ? i.HFt + t.byteSize : i.HFt, e, this.iUt) }, T(n, [{ key: "yUt", get: function () { return this.tUt } }, { key: "eUt", get: function () { return this.KFt }, set: function (t) { this.KFt.Hl(t) || (this.KFt = t, t.Hl(oq.VFt()) || this._o(new uq)) } }]), n }(Pn); function tG(t, n, i) { return nG.apply(this, arguments) } function nG() { return (nG = St(At.mark(function t(n, i, e) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (kn(n.references, i)) { t.next = 4; break } return n.references.push(i), t.next = 4, e.eit(n); case 4: case "end": return t.stop() } }, t) }))).apply(this, arguments) } function iG(t) { return t.length ? [t[0]] : [] } function eG(t, n) { if (!t.length) return []; var i = [].concat(t).sort(tx), e = i.filter(function (t) { return t.lA <= n }); return e.length > 0 ? [e.pop()] : [i.shift()] } function rG(t) { return void 0 !== t } var sG = function () { function t() { this.pUt = [] } var n = t.prototype; return n.eit = function (t) { return this.Mh(t.key), this.pUt.push(t), Tt.resolve() }, n.vot = function (t) { var n = this; return t.forEach(function (t) { return n.eit(t) }), Tt.resolve() }, n.Uo = function (t) { return Tt.resolve(Boolean(this.Vo(t))) }, n.Vo = function (t, n) { return Tt.resolve(this.mUt(t, n)) }, n.cot = function (t) { var n = this, i = t ? t.map(function (t) { return n.mUt(t) }) : this.pUt; return Tt.resolve(i.filter(rG)) }, n.lot = function () { return Tt.resolve([].concat(this.pUt)) }, n.dot = function (t, n) { var i = n || "key", e = this.pUt.filter(function (n) { return n[i] === t }); return Tt.resolve(e) }, n.Mh = function (t) { var n = this.mUt(t); return n && pn(this.pUt, n), Tt.resolve() }, n._ot = function (t) { for (var n = 0; n < t.length; n++) { var i = t[n]; this.Mh(i) } return Tt.resolve() }, n.got = function () { return An(this.pUt), Tt.resolve() }, n.mUt = function (t, n) { n = n || "key"; for (var i = 0, e = this.pUt; i < e.length; i++) { var r = e[i]; if (r[n] === t) return r } }, t }(), uG = function (t) { function n() { return t.apply(this, arguments) || this } return rt(n, t), n.prototype.kUt = function (t, n, i, e, r, s) { return new Jq(t, n, i, e, r, s) }, n }(function () { function t(t) { this.OS = t } return t.prototype.C7 = function (t, n) { var i = Boolean(t.UD.sources[0].useCredentials), e = new dx(this.OS), r = new TB(this.OS, i), s = new JO(n.yot, n.wot, n.u6, n.mot), u = fx(this.OS, s), o = new sG, a = new DB(NB(r, s), o, t); return this.kUt(t, n, a, o, e, u) }, t }()); var oG = function () { function t(t, n, i) { this.nit = t, this.Tot = n, this.Yat = i } var n = t.prototype; return n.bUt = function () { var t = St(At.mark(function t() { var n = this; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, this.Tot.kot(function () { var t = St(At.mark(function t(i) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, n.AUt(i); case 2: return t.next = 4, n.TUt(i); case 4: return t.next = 6, n.SUt(i); case 6: return t.next = 8, n.EUt(i); case 8: case "end": return t.stop() } }, t) })); return function (n) { return t.apply(this, arguments) } }()); case 2: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }(), n.AUt = function () { var t = St(At.mark(function t(n) { var i, e; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return i = n.pot, e = this.nit.Ff, t.next = 4, i.Mh(e); case 4: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), n.TUt = function () { var t = St(At.mark(function t(n) { var i, e, r, s, u, o, a = this; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return i = n.wot, e = n.u6, r = SB(this.nit.UD.sources[0].src), t.next = 5, i.dot(r, "manifestURL"); case 5: t.t0 = function (t) { return kn(t.references, a.nit.Ff) }, s = t.sent.filter(t.t0), u = 0; case 8: if (!(u < s.length)) { t.next = 23; break } if (pn((o = s[u]).references, this.nit.Ff), 0 !== o.references.length) { t.next = 18; break } return t.next = 14, i.Mh(o.key); case 14: return t.next = 16, e.Mh(o.key); case 16: t.next = 20; break; case 18: return t.next = 20, i.eit(o); case 20: u++, t.next = 8; break; case 23: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), n.SUt = function () { var t = St(At.mark(function t(n) { var i, e, r, s, u, o = this; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return i = n.yot, e = this.IUt(), t.next = 4, i.cot(e); case 4: t.t0 = function (t) { return kn(t.references, o.nit.Ff) }, r = t.sent.filter(t.t0), s = 0; case 7: if (!(s < r.length)) { t.next = 20; break } if (pn((u = r[s]).references, this.nit.Ff), 0 !== u.references.length) { t.next = 15; break } return t.next = 13, i.Mh(u.key); case 13: t.next = 17; break; case 15: return t.next = 17, i.eit(u); case 17: s++, t.next = 7; break; case 20: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), n.IUt = function () { if (!this.Yat) return []; var t = SB(this.nit.UD.sources[0].src), n = function (t) { if (!t) return []; for (var n = [], i = 0, e = t.iT; i < e.length; i++)for (var r = 0, s = e[i].qFt; r < s.length; r++)for (var u = 0, o = s[r].pO; u < o.length; u++)for (var a = 0, h = o[u].zf; a < h.length; a++) { var c = h[a]; c.$Ft && n.push(c.$Ft) } return n.reduce(function (t, n) { return t.indexOf(n) < 0 && t.push(n), t }, []) }(this.Yat).map(function (t) { return { src: t } }).map(function (t) { return SB(t.src) }); return [t].concat(n) }, n.EUt = function () { var t = St(At.mark(function t(n) { var i, e, r, s, u = this; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return i = n.mot, t.next = 3, i.lot(); case 3: t.t0 = function (t) { return kn(t.references, u.nit.Ff) }, e = t.sent.filter(t.t0), r = 0; case 6: if (!(r < e.length)) { t.next = 20; break } if (pn((s = e[r]).references, this.nit.Ff), 0 !== s.references.length) { t.next = 15; break } return t.next = 12, i.Mh(s.key); case 12: this.RUt(s), t.next = 17; break; case 15: return t.next = 17, i.eit(s); case 17: r++, t.next = 6; break; case 20: case "end": return t.stop() } }, t, this) })); return function (n) { return t.apply(this, arguments) } }(), n.RUt = function (t) { }, t }(), aG = new (function () { function t() { } return t.prototype.C7 = function (t, n, i) { return new oG(t, n, i) }, t }()); var hG = function () { function t(t, n) { this.Ye = t, this.NUt = n } var n = t.prototype; return n.wgt = function (t) { this.CUt(t) }, n.CUt = function () { var t = St(At.mark(function t(n) { return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, t.next = 3, this.NUt.lUt(n); case 3: t.next = 9; break; case 5: t.prev = 5, t.t0 = t.catch(0), this.Ye.G8(Wz.ERROR); case 9: case "end": return t.stop() } }, t, this, [[0, 5]]) })); return function (n) { return t.apply(this, arguments) } }(), T(t, [{ key: "vf", get: function () { var t; return this.cf || (this.cf = (t = this, { renew: function (n) { t.wgt(n) } })), this.cf } }]), t }(), cG = function (t) { function n(n, i, e, r, s) { var u; (u = t.call(this) || this).DUt = new ie, u.evictOnLoading = function () { u.So("D8", u.evictOnLoading), u.xUt() }, u.Bw = n, u.mj = Wz.IDLE, u.Bnt = i, u.OUt = e, u.Tot = r, u.NUt = s.C7(st(u), u.Tot), u.BUt = new hG(st(u), u.NUt), u.NUt.mo("Yot", function (t) { u.do(t), 1 === u.PUt && u.G8(Wz.DONE) }); var o = new Date, h = u.OUt.expirationDate.getTime() - o.getTime(); return h < 2147483647 && a(function () { return u.xUt() }, h), u } rt(n, t); var i = n.prototype; return i.G8 = function (t) { this.mj !== t && (this.mj = t, this._o(new AD)) }, i.Ll = function () { this.mj === Wz.EVICTED || this.mj === Wz.DONE || this.MUt() }, i.MUt = function () { var t = St(At.mark(function t() { var n; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, this.G8(Wz.LOADING), n = new ie, this.DUt = n, t.next = 6, this.NUt.rUt(n._h); case 6: this.G8(Wz.DONE), t.next = 12; break; case 9: t.prev = 9, t.t0 = t.catch(0), In(t.t0) ? this.G8(Wz.IDLE) : this.G8(Wz.ERROR); case 12: return t.prev = 12, this.DUt.oo(), t.finish(12); case 15: case "end": return t.stop() } }, t, this, [[0, 9, 12, 15]]) })); return function () { return t.apply(this, arguments) } }(), i.dN = function () { this.DUt.eh() }, i.Mh = function () { this.Ej === Wz.LOADING ? (this.mo("D8", this.evictOnLoading), this.dN()) : this.xUt() }, i.xUt = function () { var t = St(At.mark(function t() { var n; return At.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, t.next = 3, this.NUt.vUt(); case 3: return n = t.sent, t.next = 6, aG.C7(this, this.Tot, n).bUt(); case 6: this.NUt.eUt = oq.VFt(), this.G8(Wz.EVICTED), t.next = 14; break; case 10: t.prev = 10, t.t0 = t.catch(0), this.G8(Wz.ERROR); case 14: case "end": return t.stop() } }, t, this, [[0, 10]]) })); return function () { return t.apply(this, arguments) } }(), T(n, [{ key: "vf", get: function () { var t, n, i; return this.cf || (this.cf = (i = { get id() { return t.Ff }, get status() { return t.Ej }, get source() { return t.UD }, get parameters() { return t.OFt }, get duration() { return t.Zy }, get cached() { return t.LUt.Jl() }, get secondsCached() { return t.jUt }, get percentageCached() { return t.PUt }, get bytes() { return t.FUt }, get bytesCached() { return t.UUt }, get license() { return t.VUt.vf }, start: function () { t.Ll() }, pause: function () { t.dN() }, remove: function () { t.Mh() }, addEventListener: function (t, i) { n.mo(t, i) }, removeEventListener: function (t, i) { n.So(t, i) } }, n = new mr(t = this, i), i)), this.cf } }, { key: "Ff", get: function () { return this.Bw } }, { key: "VUt", get: function () { return this.BUt } }, { key: "Ej", get: function () { return this.mj } }, { key: "UD", get: function () { return this.Bnt } }, { key: "OFt", get: function () { return this.OUt } }, { key: "Zy", get: function () { return this.NUt.eUt.jd } }, { key: "LUt", get: function () { return this.NUt.eUt.UFt } }, { key: "jUt", get: function () { return this.NUt.eUt.FFt } }, { key: "PUt", get: function () { return this.NUt.eUt.GFt } }, { key: "FUt", get: function () { return this.NUt.yUt } }, { key: "UUt", get: function () { return this.NUt.eUt.HFt } }]), n }(ar); var fG = function () { function t(t, n) { this.Tot = t, this.HUt = n } var n = t.prototype; return n.CFt = function (t, n) { var i = im(); return this.RFt(i, t, n) }, n.RFt = function (t, n, i) { return new cG(t, n, i, this.Tot, this.HUt) }, t }(), vG = 30; function lG(t) { if (!t) throw new v("Unexpected - The cache parameters are undefined"); var n = function (t) { if (U(t) && !Jt(t, "%")) return w(t); return t }(t.amount); !function (t) { if (i = t, U(i) && Jt(i, "%")) { var n = y(t); if (p(n) || n < 0 || n > 100) throw new v("The amount as percentage must be between 0 and 100 percent.") } var i; if (!U(t) && p(t)) throw new v("The amount must be a number or a string") }(n); var i = function (t) { if (!t) return (n = new Date).setMinutes(n.getMinutes() + vG), n; var n; return t }(t.expirationDate); !function (t) { if (t && (n = t, n && (i = n, !("[object Date]" === O.call(i) && n > new Date)))) throw new v("Invalid expiration date for the cache parameters"); var n, i }(i); var e = function (t) { if (void 0 === t) return 1 / 0; return t }(t.bandwidth); return function (t) { if (p(t) || t < 0) throw new v("The bandwidth must be between zero and infinity.") }(e), { amount: n, expirationDate: i, bandwidth: e } } var dG = function (t) { function n(n, i) { var e; return (e = t.call(this) || this).GUt = n, e.MQ = i, e.GUt.mo("D8", e.do), e } return rt(n, t), n.prototype.zUt = function (t, n) { var i, e; if (!t) throw new v("Unexpected - The source description is undefined"); if (i = Ef(t), e = lG(n), Jc(i)) throw new v("Invalid source description"); return this.GUt.RFt(i, e).vf }, T(n, [{ key: "vf", get: function () { var t, n, i; return this.cf || (this.cf = (i = { get status() { return t.Ej }, get tasks() { return t.BFt }, get network() { return t.qQ.vf }, createTask: function (n, i) { return t.zUt(n, i) }, addEventListener: function (t, i) { n.mo(t, i) }, removeEventListener: function (t, i) { n.So(t, i) } }, n = new mr(t = this, i), i)), this.cf } }, { key: "Ej", get: function () { return this.GUt.Ej } }, { key: "BFt", get: function () { return this.GUt.BFt.vf } }, { key: "qQ", get: function () { return this.MQ } }]), n }(ar); var gG, _G, wG, yG, pG, mG, kG = (gG = new fE(TS.wW, !1), _G = oP.q, wG = new uG(gG), yG = new fG(_G, wG), pG = new lE(gG), mG = new rq(_G.pot, yG), new dG(mG, pG)).vf; function bG(t) { return { get ratio() { return t.qUt }, get thresholds() { return t.WUt.slice() } } } function AG(t) { var n = [], i = _.floor(1 / t); if (p(i)) return []; for (var e = 0; e <= i; e++) { var r = _o(e * t, 0, 1); n.push(r) } return n } var TG = function () { function t(t, n, i) { this.XUt = 1, this.cf = void 0, this.$Ut = AG(n); var e = this.QUt(i); this.YUt = new r.IntersectionObserver(e, { root: null, threshold: this.$Ut }), this.YUt.observe(t) } var n = t.prototype; return n.QUt = function (t) { var n = this; return function (i) { var e = i[i.length - 1]; n.XUt = e.intersectionRatio, t(e.intersectionRatio) } }, n.bx = function () { this.YUt.disconnect() }, T(t, [{ key: "qUt", get: function () { return this.XUt } }, { key: "WUt", get: function () { return this.$Ut } }, { key: "vf", get: function () { return this.cf || (this.cf = bG(this)), this.cf } }]), t }(), SG = function (t) { function n(n, i, e) { var s; return (s = t.call(this, i, e) || this).ZUt = MR(function () { return s.KUt(s.JUt()) }, 50), s.tVt = n, r.addEventListener("scroll", s.ZUt, !!PS && { passive: !0 }), re(function () { return s.KUt(s.JUt()) }), s } rt(n, t); var i = n.prototype; return i.JUt = function () { var t = this.tVt.getBoundingClientRect(); return _o(_.max(0, _.min(r.innerWidth, t.right) - _.max(0, t.left)) * _.max(0, _.min(r.innerHeight, t.bottom) - _.max(0, t.top)) / (t.width * t.height), 0, 1) }, i.bx = function () { r.removeEventListener("scroll", this.ZUt) }, n }(function () { function t(t, n) { this.XUt = 1, this.nVt = -1, this.cf = void 0, this.$Ut = AG(t), this.iVt = n } return t.prototype.KUt = function (t) { this.XUt = t; var n = this.$Ut, i = 0; if (t > 0) for (; i < n.length && n[i] <= t;)++i; this.nVt !== i && (this.nVt = i, this.iVt(t)) }, T(t, [{ key: "qUt", get: function () { return this.XUt } }, { key: "WUt", get: function () { return this.$Ut } }, { key: "vf", get: function () { return this.cf || (this.cf = bG(this)), this.cf } }]), t }()), EG = function (t) { return t && t.__esModule && g.prototype.hasOwnProperty.call(t, "default") ? t.default : t }(bt(function (n, i) { n.exports = function t(n, i, e) { function r(u, o) { if (!i[u]) { if (!n[u]) { var a = kt; if (!o && a) return a(u, !0); if (s) return s(u, !0); var h = new v("Cannot find module '" + u + "'"); throw h.code = "MODULE_NOT_FOUND", h } var c = i[u] = { exports: {} }; n[u][0].call(c.exports, function (t) { var i = n[u][1][t]; return r(i || t) }, c, c.exports, t, n, i, e) } return i[u].exports } for (var s = kt, u = 0; u < e.length; u++)r(e[u]); return r }({ 1: [function (t, n, i) { i.__esModule = !0; var e = t(2), r = o(e), s = t(5), u = o(s); function o(t) { return t && t.__esModule ? t : { default: t } } var a = function (t) { function n(i, e) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var r = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)); return r.eVt = !1, r.on("mousedown", r.handleMouseDown), r } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.buildCSSClass = function () { return "vjs-big-play-button" }, n.prototype.handleClick = function (t) { var n = this.C_.play(); if (!(this.eVt && t.clientX && t.clientY)) { var i = this.C_.getChild("controlBar"), e = i && i.getChild("playToggle"); if (e) { var r = function () { return e.focus() }; n && n.then ? n.then(r, function () { }) : this.setTimeout(r, 1) } else this.C_.focus() } }, n.prototype.handleKeyPress = function (n) { this.eVt = !1, t.prototype.handleKeyPress.call(this, n) }, n.prototype.handleMouseDown = function (t) { this.eVt = !0 }, n }(r.default); a.prototype.rVt = "Play Video", u.default.registerComponent("BigPlayButton", a), i.default = a }, { 2: 2, 5: 5 }], 2: [function (t, n, i) { i.__esModule = !0; var e = t(3), r = c(e), s = t(5), u = c(s), o = t(87), a = c(o), h = t(89); function c(t) { return t && t.__esModule ? t : { default: t } } var f = function (t) { function n() { return function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n), function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.apply(this, arguments)) } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.createEl = function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "button", n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}; n = (0, h.assign)({ className: this.buildCSSClass() }, n), "button" !== t && (a.default.warn("Creating a Button with an HTML element of " + t + " is deprecated; use ClickableComponent instead."), n = (0, h.assign)({ tabIndex: 0 }, n), i = (0, h.assign)({ role: "button" }, i)), i = (0, h.assign)({ type: "button", "aria-live": "polite" }, i); var e = u.default.prototype.createEl.call(this, t, n, i); return this.createControlTextEl(e), e }, n.prototype.addChild = function (t) { var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, i = this.constructor.name; return a.default.warn("Adding an actionable (user controllable) child to a Button (" + i + ") is not supported; use a ClickableComponent instead."), u.default.prototype.addChild.call(this, t, n) }, n.prototype.enable = function () { t.prototype.enable.call(this), this.sVt.removeAttribute("disabled") }, n.prototype.disable = function () { t.prototype.disable.call(this), this.sVt.setAttribute("disabled", "disabled") }, n.prototype.handleKeyPress = function (n) { 32 !== n.which && 13 !== n.which && t.prototype.handleKeyPress.call(this, n) }, n }(r.default); u.default.registerComponent("Button", f), i.default = f }, { 3: 3, 5: 5, 87: 87, 89: 89 }], 3: [function (t, n, i) { i.__esModule = !0; var e = t(5), r = y(e), s = t(81), u = w(s), o = t(82), a = w(o), h = t(83), c = w(h), f = t(87), v = y(f), d = t(85), _ = t(89); function w(t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n } function y(t) { return t && t.__esModule ? t : { default: t } } var p = function (t) { function n(i, e) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var r = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)); return r.emitTapEvents(), r.enable(), r } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.createEl = function () { var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "div", i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, e = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}; i = (0, _.assign)({ className: this.buildCSSClass(), tabIndex: 0 }, i), "button" === n && v.default.error("Creating a ClickableComponent with an HTML element of " + n + " is not supported; use a Button instead."), e = (0, _.assign)({ role: "button", "aria-live": "polite" }, e), this.uVt = i.tabIndex; var r = t.prototype.createEl.call(this, n, i, e); return this.createControlTextEl(r), r }, n.prototype.createControlTextEl = function (t) { return this.oVt = u.createEl("span", { className: "vjs-control-text" }), t && t.appendChild(this.oVt), this.controlText(this.rVt, t), this.oVt }, n.prototype.controlText = function (t) { var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.el(); if (void 0 === t) return this.rVt || "Need Text"; var i = this.localize(t); return this.rVt = t, this.oVt.innerHTML = i, this.nonIconControl || n.setAttribute("title", i), this }, n.prototype.buildCSSClass = function () { return "vjs-control vjs-button " + t.prototype.buildCSSClass.call(this) }, n.prototype.enable = function () { return this.removeClass("vjs-disabled"), this.sVt.setAttribute("aria-disabled", "false"), void 0 !== this.uVt && this.sVt.setAttribute("tabIndex", this.uVt), this.off(["tap", "click"], this.handleClick), this.off("focus", this.handleFocus), this.off("blur", this.handleBlur), this.on(["tap", "click"], this.handleClick), this.on("focus", this.handleFocus), this.on("blur", this.handleBlur), this }, n.prototype.disable = function () { return this.addClass("vjs-disabled"), this.sVt.setAttribute("aria-disabled", "true"), void 0 !== this.uVt && this.sVt.removeAttribute("tabIndex"), this.off(["tap", "click"], this.handleClick), this.off("focus", this.handleFocus), this.off("blur", this.handleBlur), this }, n.prototype.handleClick = function (t) { }, n.prototype.handleFocus = function (t) { a.on(d.document, "keydown", c.bind(this, this.handleKeyPress)) }, n.prototype.handleKeyPress = function (n) { 32 === n.which || 13 === n.which ? (n.preventDefault(), this.handleClick(n)) : t.prototype.handleKeyPress && t.prototype.handleKeyPress.call(this, n) }, n.prototype.handleBlur = function (t) { a.off(d.document, "keydown", c.bind(this, this.handleKeyPress)) }, n }(r.default); r.default.registerComponent("ClickableComponent", p), i.default = p }, { 5: 5, 81: 81, 82: 82, 83: 83, 85: 85, 87: 87, 89: 89 }], 4: [function (t, n, i) { i.__esModule = !0; var e = t(2), r = o(e), s = t(5), u = o(s); function o(t) { return t && t.__esModule ? t : { default: t } } var a = function (t) { function n(i, e) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var r = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)); return r.controlText(e && e.controlText || r.localize("Close")), r } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.buildCSSClass = function () { return "vjs-close-button " + t.prototype.buildCSSClass.call(this) }, n.prototype.handleClick = function (t) { this.trigger({ type: "close", bubbles: !1 }) }, n }(r.default); u.default.registerComponent("CloseButton", a), i.default = a }, { 2: 2, 5: 5 }], 5: [function (t, n, i) { i.__esModule = !0; var e = t(85), r = t(81), s = S(r), u = t(83), o = S(u), a = t(86), h = S(a), c = t(82), f = S(c), d = t(87), p = T(d), m = t(92), k = T(m), b = t(88), A = T(b); function T(t) { return t && t.__esModule ? t : { default: t } } function S(t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n } var E = function () { function t(n, i, e) { if (function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, t), !n && this.play ? this.C_ = n = this : this.C_ = n, this.aVt = (0, A.default)({}, this.aVt), i = this.aVt = (0, A.default)(this.aVt, i), this.Ff = i.id || i.el && i.el.id, !this.Ff) { var r = n && n.id && n.id() || "no_player"; this.Ff = r + "hVt" + h.newGUID() } this.Fn = i.name || null, i.el ? this.sVt = i.el : !1 !== i.createEl && (this.sVt = this.createEl()), this.Qn = [], this.cVt = {}, this.fVt = {}, !1 !== i.initChildren && this.initChildren(), this.ready(e), !1 !== i.reportTouchActivity && this.enableTouchActivity() } return t.prototype.dispose = function () { if (this.trigger({ type: "dispose", bubbles: !1 }), this.Qn) for (var t = this.Qn.length - 1; t >= 0; t--)this.Qn[t].dispose && this.Qn[t].dispose(); this.Qn = null, this.cVt = null, this.fVt = null, this.off(), this.sVt.parentNode && this.sVt.parentNode.removeChild(this.sVt), s.removeElData(this.sVt), this.sVt = null }, t.prototype.player = function () { return this.C_ }, t.prototype.options = function (t) { return p.default.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"), t ? (this.aVt = (0, A.default)(this.aVt, t), this.aVt) : this.aVt }, t.prototype.el = function () { return this.sVt }, t.prototype.createEl = function (t, n, i) { return s.createEl(t, n, i) }, t.prototype.localize = function (t) { var n = this.C_.language && this.C_.language(), i = this.C_.languages && this.C_.languages(); if (!n || !i) return t; var e = i[n]; if (e && e[t]) return e[t]; var r = n.split("-")[0], s = i[r]; return s && s[t] ? s[t] : t }, t.prototype.contentEl = function () { return this.vVt || this.sVt }, t.prototype.id = function () { return this.Ff }, t.prototype.name = function () { return this.Fn }, t.prototype.children = function () { return this.Qn }, t.prototype.getChildById = function (t) { return this.cVt[t] }, t.prototype.getChild = function (t) { if (t) return t = (0, k.default)(t), this.fVt[t] }, t.prototype.addChild = function (n) { var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, e = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : this.Qn.length, r = void 0, s = void 0; if ("string" == typeof n) { s = (0, k.default)(n), i || (i = {}), !0 === i && (p.default.warn("Initializing a child component with `true` is deprecated.Children should be defined in an array when possible, but if necessary use an object instead of `true`."), i = {}); var u = i.componentClass || s; i.name = s; var o = t.getComponent(u); if (!o) throw new v("Component " + u + " does not exist"); if ("function" != typeof o) return null; r = new o(this.C_ || this, i) } else r = n; if (this.Qn.splice(e, 0, r), "function" == typeof r.id && (this.cVt[r.id()] = r), (s = s || r.name && (0, k.default)(r.name())) && (this.fVt[s] = r), "function" == typeof r.el && r.el()) { var a = this.contentEl().children, h = a[e] || null; this.contentEl().insertBefore(r.el(), h) } return r }, t.prototype.removeChild = function (t) { if ("string" == typeof t && (t = this.getChild(t)), t && this.Qn) { for (var n = !1, i = this.Qn.length - 1; i >= 0; i--)if (this.Qn[i] === t) { n = !0, this.Qn.splice(i, 1); break } if (n) { this.cVt[t.id()] = null, this.fVt[t.name()] = null; var e = t.el(); e && e.parentNode === this.contentEl() && this.contentEl().removeChild(t.el()) } } }, t.prototype.initChildren = function () { var n = this, i = this.aVt.children; if (i) { var e = this.aVt, r = void 0, s = t.getComponent("Tech"); (r = Array.isArray(i) ? i : g.keys(i)).concat(g.keys(this.aVt).filter(function (t) { return !r.some(function (n) { return "string" == typeof n ? t === n : t === n.name }) })).map(function (t) { var e = void 0, r = void 0; return "string" == typeof t ? r = i[e = t] || n.aVt[e] || {} : (e = t.name, r = t), { name: e, opts: r } }).filter(function (n) { var i = t.getComponent(n.opts.componentClass || (0, k.default)(n.name)); return i && !s.isTech(i) }).forEach(function (t) { var i = t.name, r = t.opts; if (void 0 !== e[i] && (r = e[i]), !1 !== r) { !0 === r && (r = {}), r.playerOptions = n.aVt.playerOptions; var s = n.addChild(i, r); s && (n[i] = s) } }) } }, t.prototype.buildCSSClass = function () { return "" }, t.prototype.on = function (t, n, i) { var e = this; if ("string" == typeof t || Array.isArray(t)) f.on(this.sVt, t, o.bind(this, n)); else { var r = t, s = n, u = o.bind(this, i), a = function () { return e.off(r, s, u) }; a.guid = u.guid, this.on("dispose", a); var h = function () { return e.off("dispose", a) }; h.guid = u.guid, t.nodeName ? (f.on(r, s, u), f.on(r, "dispose", h)) : "function" == typeof t.on && (r.on(s, u), r.on("dispose", h)) } return this }, t.prototype.off = function (t, n, i) { if (!t || "string" == typeof t || Array.isArray(t)) f.off(this.sVt, t, n); else { var e = t, r = n, s = o.bind(this, i); this.off("dispose", s), t.nodeName ? (f.off(e, r, s), f.off(e, "dispose", s)) : (e.off(r, s), e.off("dispose", s)) } return this }, t.prototype.one = function (t, n, i) { var e = this, r = arguments; if ("string" == typeof t || Array.isArray(t)) f.one(this.sVt, t, o.bind(this, n)); else { var s = t, u = n, a = o.bind(this, i), h = function t() { e.off(s, u, t), a.apply(null, r) }; h.guid = a.guid, this.on(s, u, h) } return this }, t.prototype.trigger = function (t, n) { return f.trigger(this.sVt, t, n), this }, t.prototype.ready = function (t) { var n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]; return t && (this.eF ? n ? t.call(this) : this.setTimeout(t, 1) : (this.lVt = this.lVt || [], this.lVt.push(t))), this }, t.prototype.triggerReady = function () { this.eF = !0, this.setTimeout(function () { var t = this.lVt; this.lVt = [], t && t.length > 0 && t.forEach(function (t) { t.call(this) }, this), this.trigger("ready") }, 1) }, t.prototype.$ = function (t, n) { return s.$(t, n || this.contentEl()) }, t.prototype.$$ = function (t, n) { return s.$$(t, n || this.contentEl()) }, t.prototype.hasClass = function (t) { return s.hasElClass(this.sVt, t) }, t.prototype.addClass = function (t) { return s.addElClass(this.sVt, t), this }, t.prototype.removeClass = function (t) { return s.removeElClass(this.sVt, t), this }, t.prototype.toggleClass = function (t, n) { return s.toggleElClass(this.sVt, t, n), this }, t.prototype.show = function () { return this.removeClass("vjs-hidden"), this }, t.prototype.hide = function () { return this.addClass("vjs-hidden"), this }, t.prototype.lockShowing = function () { return this.addClass("vjs-lock-showing"), this }, t.prototype.unlockShowing = function () { return this.removeClass("vjs-lock-showing"), this }, t.prototype.getAttribute = function (t) { return s.getAttribute(this.sVt, t) }, t.prototype.setAttribute = function (t, n) { return s.setAttribute(this.sVt, t, n), this }, t.prototype.removeAttribute = function (t) { return s.removeAttribute(this.sVt, t), this }, t.prototype.width = function (t, n) { return this.dimension("width", t, n) }, t.prototype.height = function (t, n) { return this.dimension("height", t, n) }, t.prototype.dimensions = function (t, n) { return this.width(t, !0).height(n) }, t.prototype.dimension = function (t, n, i) { if (void 0 !== n) return null !== n && n == n || (n = 0), -1 !== ("" + n).indexOf("%") || -1 !== ("" + n).indexOf("px") ? this.sVt.style[t] = n : this.sVt.style[t] = "auto" === n ? "" : n + "px", i || this.trigger("resize"), this; if (!this.sVt) return 0; var e = this.sVt.style[t], r = e.indexOf("px"); return w(-1 !== r ? e.slice(0, r) : this.sVt["offset" + (0, k.default)(t)], 10) }, t.prototype.currentDimension = function (t) { var n = 0; if ("width" !== t && "height" !== t) throw new v("currentDimension only accepts width or height value"); if ("function" == typeof e.window.getComputedStyle) { var i = e.window.getComputedStyle(this.sVt); n = i.getPropertyValue(t) || i[t] } if (0 === (n = y(n))) { var r = "offset" + (0, k.default)(t); n = this.sVt[r] } return n }, t.prototype.currentDimensions = function () { return { width: this.currentDimension("width"), height: this.currentDimension("height") } }, t.prototype.currentWidth = function () { return this.currentDimension("width") }, t.prototype.currentHeight = function () { return this.currentDimension("height") }, t.prototype.focus = function () { this.sVt.focus() }, t.prototype.blur = function () { this.sVt.blur() }, t.prototype.emitTapEvents = function () { var t = 0, n = null, i = void 0; this.on("touchstart", function (e) { 1 === e.touches.length && (n = { pageX: e.touches[0].pageX, pageY: e.touches[0].pageY }, t = (new Date).getTime(), i = !0) }), this.on("touchmove", function (t) { if (t.touches.length > 1) i = !1; else if (n) { var e = t.touches[0].pageX - n.pageX, r = t.touches[0].pageY - n.pageY, s = _.sqrt(e * e + r * r); s > 10 && (i = !1) } }); var e = function () { i = !1 }; this.on("touchleave", e), this.on("touchcancel", e), this.on("touchend", function (e) { if (n = null, !0 === i) { var r = (new Date).getTime() - t; r < 200 && (e.preventDefault(), this.trigger("tap")) } }) }, t.prototype.enableTouchActivity = function () { if (this.player() && this.player().reportUserActivity) { var t = o.bind(this.player(), this.player().reportUserActivity), n = void 0; this.on("touchstart", function () { t(), this.clearInterval(n), n = this.setInterval(t, 250) }); var i = function (i) { t(), this.clearInterval(n) }; this.on("touchmove", t), this.on("touchend", i), this.on("touchcancel", i) } }, t.prototype.setTimeout = function (t, n) { t = o.bind(this, t); var i = e.window.setTimeout(t, n), r = function () { this.clearTimeout(i) }; return r.guid = "vjs-timeout-" + i, this.on("dispose", r), i }, t.prototype.clearTimeout = function (t) { e.window.clearTimeout(t); var n = function () { }; return n.guid = "vjs-timeout-" + t, this.off("dispose", n), t }, t.prototype.setInterval = function (t, n) { t = o.bind(this, t); var i = e.window.setInterval(t, n), r = function () { this.clearInterval(i) }; return r.guid = "vjs-interval-" + i, this.on("dispose", r), i }, t.prototype.clearInterval = function (t) { e.window.clearInterval(t); var n = function () { }; return n.guid = "vjs-interval-" + t, this.off("dispose", n), t }, t.registerComponent = function (n, i) { if (n) { if (n = (0, k.default)(n), t.dVt || (t.dVt = {}), "Player" === n && t.dVt[n]) { var e = t.dVt[n]; if (e.players && g.keys(e.players).length > 0 && g.keys(e.players).map(function (t) { return e.players[t] }).every(Boolean)) throw new v("Can not register Player component after player has been created") } return t.dVt[n] = i, i } }, t.getComponent = function (n) { if (n) return n = (0, k.default)(n), t.dVt && t.dVt[n] ? t.dVt[n] : e.window && e.window.videojs && e.window.videojs[n] ? (p.default.warn("The " + n + " component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"), e.window.videojs[n]) : void 0 }, t.extend = function (n) { n = n || {}, p.default.warn("Component.extend({}) has been deprecated,  use videojs.extend(Component, {}) instead"); var i = n.init || n.init || this.prototype.init || this.prototype.init || function () { }, e = function () { i.apply(this, arguments) }; for (var r in (e.prototype = g.create(this.prototype)).constructor = e, e.extend = t.extend, n) n.hasOwnProperty(r) && (e.prototype[r] = n[r]); return e }, t }(); E.registerComponent("Component", E), i.default = E }, { 81: 81, 82: 82, 83: 83, 85: 85, 86: 86, 87: 87, 88: 88, 92: 92 }], 6: [function (t, n, i) { i.__esModule = !0; var e = t(36), r = h(e), s = t(5), u = h(s), o = t(7), a = h(o); function h(t) { return t && t.__esModule ? t : { default: t } } var c = function (t) { function n(i) { var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n), e.tracks = i.audioTracks && i.audioTracks(); var r = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)); return r.sVt.setAttribute("aria-label", "Audio Menu"), r } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.buildCSSClass = function () { return "vjs-audio-button " + t.prototype.buildCSSClass.call(this) }, n.prototype.createItems = function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []; this._Vt = 1; var n = this.C_.audioTracks && this.C_.audioTracks(); if (!n) return t; for (var i = 0; i < n.length; i++) { var e = n[i]; t.push(new a.default(this.C_, { track: e, selectable: !0 })) } return t }, n }(r.default); c.prototype.rVt = "Audio Track", u.default.registerComponent("AudioTrackButton", c), i.default = c }, { 36: 36, 5: 5, 7: 7 }], 7: [function (t, n, i) { i.__esModule = !0; var e = t(48), r = h(e), s = t(5), u = h(s), o = t(83), a = function (t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n }(o); function h(t) { return t && t.__esModule ? t : { default: t } } var c = function (t) { function n(i, e) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var r = e.track, s = i.audioTracks(); e.label = r.label || r.language || "Unknown", e.selected = r.enabled; var u = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)); if (u.track = r, s) { var o = a.bind(u, u.handleTracksChange); s.addEventListener("change", o), u.on("dispose", function () { s.removeEventListener("change", o) }) } return u } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.handleClick = function (n) { var i = this.C_.audioTracks(); if (t.prototype.handleClick.call(this, n), i) for (var e = 0; e < i.length; e++) { var r = i[e]; r.enabled = r === this.track } }, n.prototype.handleTracksChange = function (t) { this.selected(this.track.enabled) }, n }(r.default); u.default.registerComponent("AudioTrackMenuItem", c), i.default = c }, { 48: 48, 5: 5, 83: 83 }], 8: [function (t, n, i) { i.__esModule = !0; var e, r = t(5), s = (e = r) && e.__esModule ? e : { default: e }; t(12), t(32), t(33), t(35), t(34), t(10), t(18), t(9), t(38), t(40), t(11), t(25), t(27), t(29), t(24), t(6), t(13), t(21); var u = function (t) { function n() { return function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n), function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.apply(this, arguments)) } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.createEl = function () { return t.prototype.createEl.call(this, "div", { className: "vjs-control-bar", dir: "ltr" }, { role: "group" }) }, n }(s.default); u.prototype.aVt = { children: ["playToggle", "volumeMenuButton", "currentTimeDisplay", "timeDivider", "durationDisplay", "progressControl", "liveDisplay", "remainingTimeDisplay", "customControlSpacer", "playbackRateMenuButton", "chaptersButton", "descriptionsButton", "subtitlesButton", "captionsButton", "audioTrackButton", "fullscreenToggle"] }, s.default.registerComponent("ControlBar", u), i.default = u }, { 10: 10, 11: 11, 12: 12, 13: 13, 18: 18, 21: 21, 24: 24, 25: 25, 27: 27, 29: 29, 32: 32, 33: 33, 34: 34, 35: 35, 38: 38, 40: 40, 5: 5, 6: 6, 9: 9 }], 9: [function (t, n, i) { i.__esModule = !0; var e = t(2), r = o(e), s = t(5), u = o(s); function o(t) { return t && t.__esModule ? t : { default: t } } var a = function (t) { function n(i, e) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var r = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)); return r.on(i, "fullscreenchange", r.handleFullscreenChange), r } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.buildCSSClass = function () { return "vjs-fullscreen-control " + t.prototype.buildCSSClass.call(this) }, n.prototype.handleFullscreenChange = function (t) { this.C_.isFullscreen() ? this.controlText("Non-Fullscreen") : this.controlText("Fullscreen") }, n.prototype.handleClick = function (t) { this.C_.isFullscreen() ? this.C_.exitFullscreen() : this.C_.requestFullscreen() }, n }(r.default); a.prototype.rVt = "Fullscreen", u.default.registerComponent("FullscreenToggle", a), i.default = a }, { 2: 2, 5: 5 }], 10: [function (t, n, i) { i.__esModule = !0; var e, r = t(5), s = (e = r) && e.__esModule ? e : { default: e }, u = t(81), o = function (t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n }(u), a = function (t) { function n(i, e) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var r = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)); return r.updateShowing(), r.on(r.player(), "durationchange", r.updateShowing), r } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.createEl = function () { var n = t.prototype.createEl.call(this, "div", { className: "vjs-live-control vjs-control" }); return this.vVt = o.createEl("div", { className: "vjs-live-display", innerHTML: '<span class="vjs-control-text">' + this.localize("Stream Type") + "</span>" + this.localize("LIVE") }, { "aria-live": "off" }), n.appendChild(this.vVt), n }, n.prototype.updateShowing = function (t) { this.player().duration() === 1 / 0 ? this.show() : this.hide() }, n }(s.default); s.default.registerComponent("LiveDisplay", a), i.default = a }, { 5: 5, 81: 81 }], 11: [function (t, n, i) { i.__esModule = !0; var e = t(2), r = h(e), s = t(5), u = h(s), o = t(81), a = function (t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n }(o); function h(t) { return t && t.__esModule ? t : { default: t } } var c = function (t) { function n(i, e) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var r = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)); return r.on(i, "volumechange", r.update), i.gVt && !1 === i.gVt.featuresVolumeControl && r.addClass("vjs-hidden"), r.on(i, "loadstart", function () { this.update(), !1 === i.gVt.featuresVolumeControl ? this.addClass("vjs-hidden") : this.removeClass("vjs-hidden") }), r } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.buildCSSClass = function () { return "vjs-mute-control " + t.prototype.buildCSSClass.call(this) }, n.prototype.handleClick = function (t) { this.C_.muted(!this.C_.muted()) }, n.prototype.update = function (t) { var n = this.C_.volume(), i = 3; this.C_.muted() ? i = 0 : n < .33 ? i = 1 : n < .67 && (i = 2); var e = this.C_.muted() ? "Unmute" : "Mute"; this.controlText() !== e && this.controlText(e); for (var r = 0; r < 4; r++)a.removeElClass(this.sVt, "vjs-vol-" + r); a.addElClass(this.sVt, "vjs-vol-" + i) }, n }(r.default); c.prototype.rVt = "Mute", u.default.registerComponent("MuteToggle", c), i.default = c }, { 2: 2, 5: 5, 81: 81 }], 12: [function (t, n, i) { i.__esModule = !0; var e = t(2), r = o(e), s = t(5), u = o(s); function o(t) { return t && t.__esModule ? t : { default: t } } var a = function (t) { function n(i, e) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var r = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)); return r.on(i, "play", r.handlePlay), r.on(i, "pause", r.handlePause), r } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.buildCSSClass = function () { return "vjs-play-control " + t.prototype.buildCSSClass.call(this) }, n.prototype.handleClick = function (t) { this.C_.paused() ? this.C_.play() : this.C_.pause() }, n.prototype.handlePlay = function (t) { this.removeClass("vjs-paused"), this.addClass("vjs-playing"), this.controlText("Pause") }, n.prototype.handlePause = function (t) { this.removeClass("vjs-playing"), this.addClass("vjs-paused"), this.controlText("Play") }, n }(r.default); a.prototype.rVt = "Play", u.default.registerComponent("PlayToggle", a), i.default = a }, { 2: 2, 5: 5 }], 13: [function (t, n, i) { i.__esModule = !0; var e = t(47), r = d(e), s = t(49), u = d(s), o = t(14), a = d(o), h = t(5), c = d(h), f = t(81), v = function (t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n }(f); function d(t) { return t && t.__esModule ? t : { default: t } } var _ = function (t) { function n(i, e) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var r = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)); return r.updateVisibility(), r.updateLabel(), r.on(i, "loadstart", r.updateVisibility), r.on(i, "ratechange", r.updateLabel), r } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.createEl = function () { var n = t.prototype.createEl.call(this); return this.wVt = v.createEl("div", { className: "vjs-playback-rate-value", innerHTML: 1 }), n.appendChild(this.wVt), n }, n.prototype.buildCSSClass = function () { return "vjs-playback-rate " + t.prototype.buildCSSClass.call(this) }, n.prototype.createMenu = function () { var t = new u.default(this.player()), n = this.playbackRates(); if (n) for (var i = n.length - 1; i >= 0; i--)t.addChild(new a.default(this.player(), { rate: n[i] + "x" })); return t }, n.prototype.updateARIAAttributes = function () { this.el().setAttribute("aria-valuenow", this.player().playbackRate()) }, n.prototype.handleClick = function (t) { for (var n = this.player().playbackRate(), i = this.playbackRates(), e = i[0], r = 0; r < i.length; r++)if (i[r] > n) { e = i[r]; break } this.player().playbackRate(e) }, n.prototype.playbackRates = function () { return this.aVt.playbackRates || this.aVt.playerOptions && this.aVt.playerOptions.playbackRates }, n.prototype.playbackRateSupported = function () { return this.player().gVt && this.player().gVt.featuresPlaybackRate && this.playbackRates() && this.playbackRates().length > 0 }, n.prototype.updateVisibility = function (t) { this.playbackRateSupported() ? this.removeClass("vjs-hidden") : this.addClass("vjs-hidden") }, n.prototype.updateLabel = function (t) { this.playbackRateSupported() && (this.wVt.innerHTML = this.player().playbackRate() + "x") }, n }(r.default); _.prototype.rVt = "Playback Rate", c.default.registerComponent("PlaybackRateMenuButton", _), i.default = _ }, { 14: 14, 47: 47, 49: 49, 5: 5, 81: 81 }], 14: [function (t, n, i) { i.__esModule = !0; var e = t(48), r = o(e), s = t(5), u = o(s); function o(t) { return t && t.__esModule ? t : { default: t } } var a = function (t) { function n(i, e) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var r = e.rate, s = y(r, 10); e.label = r, e.selected = 1 === s, e.selectable = !0; var u = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)); return u.label = r, u.rate = s, u.on(i, "ratechange", u.update), u } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.handleClick = function (n) { t.prototype.handleClick.call(this), this.player().playbackRate(this.rate) }, n.prototype.update = function (t) { this.selected(this.player().playbackRate() === this.rate) }, n }(r.default); a.prototype.contentElType = "button", u.default.registerComponent("PlaybackRateMenuItem", a), i.default = a }, { 48: 48, 5: 5 }], 15: [function (t, n, i) { i.__esModule = !0; var e, r = t(5), s = (e = r) && e.__esModule ? e : { default: e }, u = t(81), o = function (t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n }(u), a = function (t) { function n(i, e) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var r = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)); return r.yVt = [], r.on(i, "progress", r.update), r } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.createEl = function () { return t.prototype.createEl.call(this, "div", { className: "vjs-load-progress", innerHTML: '<span class="vjs-control-text"><span>' + this.localize("Loaded") + "</span>: 0%</span>" }) }, n.prototype.update = function (t) { var n = this.C_.buffered(), i = this.C_.duration(), e = this.C_.bufferedEnd(), r = this.yVt, s = function (t, n) { var i = t / n || 0; return 100 * (i >= 1 ? 1 : i) + "%" }; this.sVt.style.width = s(e, i); for (var u = 0; u < n.length; u++) { var a = n.start(u), h = n.end(u), c = r[u]; c || (c = this.sVt.appendChild(o.createEl()), r[u] = c), c.style.left = s(a, e), c.style.width = s(h - a, e) } for (var f = r.length; f > n.length; f--)this.sVt.removeChild(r[f - 1]); r.length = n.length }, n }(s.default); s.default.registerComponent("LoadProgressBar", a), i.default = a }, { 5: 5, 81: 81 }], 16: [function (t, n, i) { i.__esModule = !0; var e = t(5), r = w(e), s = t(81), u = d(s), o = t(83), a = d(o), h = t(84), c = w(h), f = t(80), v = w(f); function d(t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n } function w(t) { return t && t.__esModule ? t : { default: t } } var p = function (t) { function n(i, e) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var r = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)); return e.playerOptions && e.playerOptions.controlBar && e.playerOptions.controlBar.progressControl && e.playerOptions.controlBar.progressControl.keepTooltipsInside && (r.keepTooltipsInside = e.playerOptions.controlBar.progressControl.keepTooltipsInside), r.keepTooltipsInside && (r.tooltip = u.createEl("div", { className: "vjs-time-tooltip" }), r.el().appendChild(r.tooltip), r.addClass("vjs-keep-tooltips-inside")), r.update(0, 0), i.on("ready", function () { r.on(i.controlBar.progressControl.el(), "mousemove", a.throttle(a.bind(r, r.handleMouseMove), 25)) }), r } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.createEl = function () { return t.prototype.createEl.call(this, "div", { className: "vjs-mouse-display" }) }, n.prototype.handleMouseMove = function (t) { var n = this.C_.duration(), i = this.calculateDistance(t) * n, e = t.pageX - u.findElPosition(this.el().parentNode).left; this.update(i, e) }, n.prototype.update = function (t, n) { var i = (0, c.default)(t, this.C_.duration()); if (this.el().style.left = n + "px", this.el().setAttribute("data-current-time", i), this.keepTooltipsInside) { var e = this.pVt(n), r = n - e + 1, s = y((0, v.default)(this.tooltip, "width")), u = s / 2; this.tooltip.innerHTML = i, this.tooltip.style.right = "-" + (u - r) + "px" } }, n.prototype.calculateDistance = function (t) { return u.getPointerPosition(this.el().parentNode, t).x }, n.prototype.pVt = function (t) { if (!this.keepTooltipsInside) return t; var n = y((0, v.default)(this.player().el(), "width")), i = y((0, v.default)(this.tooltip, "width")), e = i / 2, r = t; return t < e ? r = _.ceil(e) : t > n - e && (r = _.floor(n - e)), r }, n }(r.default); r.default.registerComponent("MouseTimeDisplay", p), i.default = p }, { 5: 5, 80: 80, 81: 81, 83: 83, 84: 84 }], 17: [function (t, n, i) { i.__esModule = !0; var e = t(5), r = h(e), s = t(83), u = function (t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n }(s), o = t(84), a = h(o); function h(t) { return t && t.__esModule ? t : { default: t } } var c = function (t) { function n(i, e) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var r = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)); return r.updateDataAttr(), r.on(i, "timeupdate", r.updateDataAttr), i.ready(u.bind(r, r.updateDataAttr)), e.playerOptions && e.playerOptions.controlBar && e.playerOptions.controlBar.progressControl && e.playerOptions.controlBar.progressControl.keepTooltipsInside && (r.keepTooltipsInside = e.playerOptions.controlBar.progressControl.keepTooltipsInside), r.keepTooltipsInside && r.addClass("vjs-keep-tooltips-inside"), r } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.createEl = function () { return t.prototype.createEl.call(this, "div", { className: "vjs-play-progress vjs-slider-bar", innerHTML: '<span class="vjs-control-text"><span>' + this.localize("Progress") + "</span>: 0%</span>" }) }, n.prototype.updateDataAttr = function (t) { var n = this.C_.scrubbing() ? this.C_.getCache().currentTime : this.C_.currentTime(); this.sVt.setAttribute("data-current-time", (0, a.default)(n, this.C_.duration())) }, n }(r.default); r.default.registerComponent("PlayProgressBar", c), i.default = c }, { 5: 5, 83: 83, 84: 84 }], 18: [function (t, n, i) { i.__esModule = !0; var e, r = t(5), s = (e = r) && e.__esModule ? e : { default: e }; t(19), t(16); var u = function (t) { function n() { return function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n), function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.apply(this, arguments)) } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.createEl = function () { return t.prototype.createEl.call(this, "div", { className: "vjs-progress-control vjs-control" }) }, n }(s.default); u.prototype.aVt = { children: ["seekBar"] }, s.default.registerComponent("ProgressControl", u), i.default = u }, { 16: 16, 19: 19, 5: 5 }], 19: [function (t, n, i) { i.__esModule = !0; var e = t(57), r = d(e), s = t(5), u = d(s), o = t(83), a = function (t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n }(o), h = t(84), c = d(h), f = t(80), v = d(f); function d(t) { return t && t.__esModule ? t : { default: t } } t(15), t(17), t(20); var w = function (t) { function n(i, e) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var r = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)); return r.on(i, "timeupdate", r.updateProgress), r.on(i, "ended", r.updateProgress), i.ready(a.bind(r, r.updateProgress)), e.playerOptions && e.playerOptions.controlBar && e.playerOptions.controlBar.progressControl && e.playerOptions.controlBar.progressControl.keepTooltipsInside && (r.keepTooltipsInside = e.playerOptions.controlBar.progressControl.keepTooltipsInside), r.keepTooltipsInside && (r.tooltipProgressBar = r.addChild("TooltipProgressBar")), r } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.createEl = function () { return t.prototype.createEl.call(this, "div", { className: "vjs-progress-holder" }, { "aria-label": "progress bar" }) }, n.prototype.updateProgress = function (t) { if (this.updateAriaAttributes(this.sVt), this.keepTooltipsInside) { this.updateAriaAttributes(this.tooltipProgressBar.sVt), this.tooltipProgressBar.sVt.style.width = this.bar.sVt.style.width; var n = y((0, v.default)(this.player().el(), "width")), i = y((0, v.default)(this.tooltipProgressBar.tooltip, "width")), e = this.tooltipProgressBar.el().style; e.maxWidth = _.floor(n - i / 2) + "px", e.minWidth = _.ceil(i / 2) + "px", e.right = "-" + i / 2 + "px" } }, n.prototype.updateAriaAttributes = function (t) { var n = this.C_.scrubbing() ? this.C_.getCache().currentTime : this.C_.currentTime(); t.setAttribute("aria-valuenow", (100 * this.getPercent()).toFixed(2)), t.setAttribute("aria-valuetext", (0, c.default)(n, this.C_.duration())) }, n.prototype.getPercent = function () { var t = this.C_.currentTime() / this.C_.duration(); return t >= 1 ? 1 : t }, n.prototype.handleMouseDown = function (n) { this.C_.scrubbing(!0), this.videoWasPlaying = !this.C_.paused(), this.C_.pause(), t.prototype.handleMouseDown.call(this, n) }, n.prototype.handleMouseMove = function (t) { var n = this.calculateDistance(t) * this.C_.duration(); n === this.C_.duration() && (n -= .1), this.C_.currentTime(n) }, n.prototype.handleMouseUp = function (n) { t.prototype.handleMouseUp.call(this, n), this.C_.scrubbing(!1), this.videoWasPlaying && this.C_.play() }, n.prototype.stepForward = function () { this.C_.currentTime(this.C_.currentTime() + 5) }, n.prototype.stepBack = function () { this.C_.currentTime(this.C_.currentTime() - 5) }, n }(r.default); w.prototype.aVt = { children: ["loadProgressBar", "mouseTimeDisplay", "playProgressBar"], barName: "playProgressBar" }, w.prototype.playerEvent = "timeupdate", u.default.registerComponent("SeekBar", w), i.default = w }, { 15: 15, 17: 17, 20: 20, 5: 5, 57: 57, 80: 80, 83: 83, 84: 84 }], 20: [function (t, n, i) { i.__esModule = !0; var e = t(5), r = h(e), s = t(83), u = function (t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n }(s), o = t(84), a = h(o); function h(t) { return t && t.__esModule ? t : { default: t } } var c = function (t) { function n(i, e) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var r = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)); return r.updateDataAttr(), r.on(i, "timeupdate", r.updateDataAttr), i.ready(u.bind(r, r.updateDataAttr)), r } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.createEl = function () { var n = t.prototype.createEl.call(this, "div", { className: "vjs-tooltip-progress-bar vjs-slider-bar", innerHTML: '<div class="vjs-time-tooltip"></div>\n        <span class="vjs-control-text"><span>' + this.localize("Progress") + "</span>: 0%</span>" }); return this.tooltip = n.querySelector(".vjs-time-tooltip"), n }, n.prototype.updateDataAttr = function (t) { var n = this.C_.scrubbing() ? this.C_.getCache().currentTime : this.C_.currentTime(), i = (0, a.default)(n, this.C_.duration()); this.sVt.setAttribute("data-current-time", i), this.tooltip.innerHTML = i }, n }(r.default); r.default.registerComponent("TooltipProgressBar", c), i.default = c }, { 5: 5, 83: 83, 84: 84 }], 21: [function (t, n, i) { i.__esModule = !0; var e = t(22), r = o(e), s = t(5), u = o(s); function o(t) { return t && t.__esModule ? t : { default: t } } var a = function (t) { function n() { return function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n), function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.apply(this, arguments)) } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.buildCSSClass = function () { return "vjs-custom-control-spacer " + t.prototype.buildCSSClass.call(this) }, n.prototype.createEl = function () { var n = t.prototype.createEl.call(this, { className: this.buildCSSClass() }); return n.innerHTML = "&nbsp;", n }, n }(r.default); u.default.registerComponent("CustomControlSpacer", a), i.default = a }, { 22: 22, 5: 5 }], 22: [function (t, n, i) { i.__esModule = !0; var e, r = t(5), s = (e = r) && e.__esModule ? e : { default: e }, u = function (t) { function n() { return function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n), function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.apply(this, arguments)) } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.buildCSSClass = function () { return "vjs-spacer " + t.prototype.buildCSSClass.call(this) }, n.prototype.createEl = function () { return t.prototype.createEl.call(this, "div", { className: this.buildCSSClass() }) }, n }(s.default); s.default.registerComponent("Spacer", u), i.default = u }, { 5: 5 }], 23: [function (t, n, i) { i.__esModule = !0; var e = t(31), r = o(e), s = t(5), u = o(s); function o(t) { return t && t.__esModule ? t : { default: t } } var a = function (t) { function n(i, e) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n), e.track = { player: i, kind: e.kind, label: e.kind + " settings", selectable: !1, default: !1, mode: "disabled" }, e.selectable = !1; var r = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)); return r.addClass("vjs-texttrack-settings"), r.controlText(", opens " + e.kind + " settings dialog"), r } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.handleClick = function (t) { this.player().getChild("textTrackSettings").show(), this.player().getChild("textTrackSettings").sVt.focus() }, n }(r.default); u.default.registerComponent("CaptionSettingsMenuItem", a), i.default = a }, { 31: 31, 5: 5 }], 24: [function (t, n, i) { i.__esModule = !0; var e = t(30), r = h(e), s = t(5), u = h(s), o = t(23), a = h(o); function h(t) { return t && t.__esModule ? t : { default: t } } var c = function (t) { function n(i, e, r) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var s = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e, r)); return s.sVt.setAttribute("aria-label", "Captions Menu"), s } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.buildCSSClass = function () { return "vjs-captions-button " + t.prototype.buildCSSClass.call(this) }, n.prototype.createItems = function () { var n = []; return this.player().gVt && this.player().gVt.featuresNativeTextTracks || (n.push(new a.default(this.C_, { kind: this.Vf })), this._Vt += 1), t.prototype.createItems.call(this, n) }, n }(r.default); c.prototype.Vf = "captions", c.prototype.rVt = "Captions", u.default.registerComponent("CaptionsButton", c), i.default = c }, { 23: 23, 30: 30, 5: 5 }], 25: [function (t, n, i) { i.__esModule = !0; var e = t(30), r = f(e), s = t(5), u = f(s), o = t(26), a = f(o), h = t(92), c = f(h); function f(t) { return t && t.__esModule ? t : { default: t } } var v = function (t) { function n(i, e, r) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var s = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e, r)); return s.sVt.setAttribute("aria-label", "Chapters Menu"), s } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.buildCSSClass = function () { return "vjs-chapters-button " + t.prototype.buildCSSClass.call(this) }, n.prototype.update = function (n) { this.df && (!n || "addtrack" !== n.type && "removetrack" !== n.type) || this.setTrack(this.findChaptersTrack()), t.prototype.update.call(this) }, n.prototype.setTrack = function (t) { if (this.df !== t) { if (this.mVt || (this.mVt = this.update.bind(this)), this.df) { var n = this.C_.remoteTextTrackEls().kVt(this.df); n && n.removeEventListener("load", this.mVt), this.df = null } if (this.df = t, this.df) { this.df.mode = "hidden"; var i = this.C_.remoteTextTrackEls().kVt(this.df); i && i.addEventListener("load", this.mVt) } } }, n.prototype.findChaptersTrack = function () { for (var t = this.C_.textTracks() || [], n = t.length - 1; n >= 0; n--) { var i = t[n]; if (i.kind === this.Vf) return i } }, n.prototype.getMenuCaption = function () { return this.df && this.df.label ? this.df.label : this.localize((0, c.default)(this.Vf)) }, n.prototype.createMenu = function () { return this.aVt.title = this.getMenuCaption(), t.prototype.createMenu.call(this) }, n.prototype.createItems = function () { var t = []; if (!this.df) return t; var n = this.df.cues; if (!n) return t; for (var i = 0, e = n.length; i < e; i++) { var r = n[i], s = new a.default(this.C_, { track: this.df, cue: r }); t.push(s) } return t }, n }(r.default); v.prototype.Vf = "chapters", v.prototype.rVt = "Chapters", u.default.registerComponent("ChaptersButton", v), i.default = v }, { 26: 26, 30: 30, 5: 5, 92: 92 }], 26: [function (t, n, i) { i.__esModule = !0; var e = t(48), r = h(e), s = t(5), u = h(s), o = t(83), a = function (t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n }(o); function h(t) { return t && t.__esModule ? t : { default: t } } var c = function (t) { function n(i, e) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var r = e.track, s = e.cue, u = i.currentTime(); e.selectable = !0, e.label = s.text, e.selected = s.startTime <= u && u < s.endTime; var o = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)); return o.track = r, o.cue = s, r.addEventListener("cuechange", a.bind(o, o.update)), o } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.handleClick = function (n) { t.prototype.handleClick.call(this), this.C_.currentTime(this.cue.startTime), this.update(this.cue.startTime) }, n.prototype.update = function (t) { var n = this.cue, i = this.C_.currentTime(); this.selected(n.startTime <= i && i < n.endTime) }, n }(r.default); u.default.registerComponent("ChaptersTrackMenuItem", c), i.default = c }, { 48: 48, 5: 5, 83: 83 }], 27: [function (t, n, i) { i.__esModule = !0; var e = t(30), r = h(e), s = t(5), u = h(s), o = t(83), a = function (t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n }(o); function h(t) { return t && t.__esModule ? t : { default: t } } var c = function (t) { function n(i, e, r) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var s = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e, r)); s.sVt.setAttribute("aria-label", "Descriptions Menu"); var u = i.textTracks(); if (u) { var o = a.bind(s, s.handleTracksChange); u.addEventListener("change", o), s.on("dispose", function () { u.removeEventListener("change", o) }) } return s } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.handleTracksChange = function (t) { for (var n = this.player().textTracks(), i = !1, e = 0, r = n.length; e < r; e++) { var s = n[e]; if (s.kind !== this.Vf && "showing" === s.mode) { i = !0; break } } i ? this.disable() : this.enable() }, n.prototype.buildCSSClass = function () { return "vjs-descriptions-button " + t.prototype.buildCSSClass.call(this) }, n }(r.default); c.prototype.Vf = "descriptions", c.prototype.rVt = "Descriptions", u.default.registerComponent("DescriptionsButton", c), i.default = c }, { 30: 30, 5: 5, 83: 83 }], 28: [function (t, n, i) { i.__esModule = !0; var e = t(31), r = o(e), s = t(5), u = o(s); function o(t) { return t && t.__esModule ? t : { default: t } } var a = function (t) { function n(i, e) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n), e.track = { player: i, kind: e.kind, label: e.kind + " off", default: !1, mode: "disabled" }, e.selectable = !0; var r = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)); return r.selected(!0), r } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.handleTracksChange = function (t) { for (var n = this.player().textTracks(), i = !0, e = 0, r = n.length; e < r; e++) { var s = n[e]; if (s.kind === this.track.kind && "showing" === s.mode) { i = !1; break } } this.selected(i) }, n }(r.default); u.default.registerComponent("OffTextTrackMenuItem", a), i.default = a }, { 31: 31, 5: 5 }], 29: [function (t, n, i) { i.__esModule = !0; var e = t(30), r = o(e), s = t(5), u = o(s); function o(t) { return t && t.__esModule ? t : { default: t } } var a = function (t) { function n(i, e, r) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var s = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e, r)); return s.sVt.setAttribute("aria-label", "Subtitles Menu"), s } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.buildCSSClass = function () { return "vjs-subtitles-button " + t.prototype.buildCSSClass.call(this) }, n }(r.default); a.prototype.Vf = "subtitles", a.prototype.rVt = "Subtitles", u.default.registerComponent("SubtitlesButton", a), i.default = a }, { 30: 30, 5: 5 }], 30: [function (t, n, i) { i.__esModule = !0; var e = t(36), r = f(e), s = t(5), u = f(s), o = t(31), a = f(o), h = t(28), c = f(h); function f(t) { return t && t.__esModule ? t : { default: t } } var v = function (t) { function n(i) { var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; return function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n), e.tracks = i.textTracks(), function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)) } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.createItems = function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []; t.push(new c.default(this.C_, { kind: this.Vf })), this._Vt += 1; var n = this.C_.textTracks(); if (!n) return t; for (var i = 0; i < n.length; i++) { var e = n[i]; e.kind === this.Vf && t.push(new a.default(this.C_, { track: e, selectable: !0 })) } return t }, n }(r.default); u.default.registerComponent("TextTrackButton", v), i.default = v }, { 28: 28, 31: 31, 36: 36, 5: 5 }], 31: [function (t, n, i) { i.__esModule = !0; var e = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }, r = t(48), s = f(r), u = t(5), o = f(u), a = t(83), h = function (t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n }(a), c = t(85); function f(t) { return t && t.__esModule ? t : { default: t } } var v = function (t) { function n(i, r) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var s = r.track, u = i.textTracks(); r.label = s.label || s.language || "Unknown", r.selected = s.default || "showing" === s.mode; var o = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, r)); if (o.track = s, u) { var a = h.bind(o, o.handleTracksChange); i.on(["loadstart", "texttrackchange"], a), u.addEventListener("change", a), o.on("dispose", function () { u.removeEventListener("change", a) }) } if (u && void 0 === u.onchange) { var f = void 0; o.on(["tap", "click"], function () { if ("object" !== e(c.window.Event)) try { f = new c.window.Event("change") } catch (t) { } f || (f = c.document.createEvent("Event")).initEvent("change", !0, !0), u.dispatchEvent(f) }) } return o } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.handleClick = function (n) { var i = this.track.kind, e = this.C_.textTracks(); if (t.prototype.handleClick.call(this, n), e) for (var r = 0; r < e.length; r++) { var s = e[r]; s.kind === i && (s === this.track ? "showing" !== s.mode && (s.mode = "showing") : "disabled" !== s.mode && (s.mode = "disabled")) } }, n.prototype.handleTracksChange = function (t) { this.selected("showing" === this.track.mode) }, n }(s.default); o.default.registerComponent("TextTrackMenuItem", v), i.default = v }, { 48: 48, 5: 5, 83: 83, 85: 85 }], 32: [function (t, n, i) { i.__esModule = !0; var e = t(5), r = h(e), s = t(81), u = function (t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n }(s), o = t(84), a = h(o); function h(t) { return t && t.__esModule ? t : { default: t } } var c = function (t) { function n(i, e) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var r = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)); return r.on(i, "timeupdate", r.updateContent), r } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.createEl = function () { var n = t.prototype.createEl.call(this, "div", { className: "vjs-current-time vjs-time-control vjs-control" }); return this.vVt = u.createEl("div", { className: "vjs-current-time-display", innerHTML: '<span class="vjs-control-text">Current Time </span>0:00' }, { "aria-live": "off" }), n.appendChild(this.vVt), n }, n.prototype.updateContent = function (t) { var n = this.C_.scrubbing() ? this.C_.getCache().currentTime : this.C_.currentTime(), i = this.localize("Current Time"), e = (0, a.default)(n, this.C_.duration()); e !== this.bVt && (this.bVt = e, this.vVt.innerHTML = '<span class="vjs-control-text">' + i + "</span> " + e) }, n }(r.default); r.default.registerComponent("CurrentTimeDisplay", c), i.default = c }, { 5: 5, 81: 81, 84: 84 }], 33: [function (t, n, i) { i.__esModule = !0; var e = t(5), r = h(e), s = t(81), u = function (t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n }(s), o = t(84), a = h(o); function h(t) { return t && t.__esModule ? t : { default: t } } var c = function (t) { function n(i, e) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var r = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)); return r.on(i, "durationchange", r.updateContent), r.on(i, "timeupdate", r.updateContent), r.on(i, "loadedmetadata", r.updateContent), r } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.createEl = function () { var n = t.prototype.createEl.call(this, "div", { className: "vjs-duration vjs-time-control vjs-control" }); return this.vVt = u.createEl("div", { className: "vjs-duration-display", innerHTML: '<span class="vjs-control-text">' + this.localize("Duration Time") + "</span> 0:00" }, { "aria-live": "off" }), n.appendChild(this.vVt), n }, n.prototype.updateContent = function (t) { var n = this.C_.duration(); if (n && this.Zy !== n) { this.Zy = n; var i = this.localize("Duration Time"), e = (0, a.default)(n); this.vVt.innerHTML = '<span class="vjs-control-text">' + i + "</span> " + e } }, n }(r.default); r.default.registerComponent("DurationDisplay", c), i.default = c }, { 5: 5, 81: 81, 84: 84 }], 34: [function (t, n, i) { i.__esModule = !0; var e = t(5), r = h(e), s = t(81), u = function (t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n }(s), o = t(84), a = h(o); function h(t) { return t && t.__esModule ? t : { default: t } } var c = function (t) { function n(i, e) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var r = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)); return r.on(i, "timeupdate", r.updateContent), r.on(i, "durationchange", r.updateContent), r } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.createEl = function () { var n = t.prototype.createEl.call(this, "div", { className: "vjs-remaining-time vjs-time-control vjs-control" }); return this.vVt = u.createEl("div", { className: "vjs-remaining-time-display", innerHTML: '<span class="vjs-control-text">' + this.localize("Remaining Time") + "</span> -0:00" }, { "aria-live": "off" }), n.appendChild(this.vVt), n }, n.prototype.updateContent = function (t) { if (this.C_.duration()) { var n = this.localize("Remaining Time"), i = (0, a.default)(this.C_.remainingTime()); i !== this.bVt && (this.bVt = i, this.vVt.innerHTML = '<span class="vjs-control-text">' + n + "</span> -" + i) } }, n }(r.default); r.default.registerComponent("RemainingTimeDisplay", c), i.default = c }, { 5: 5, 81: 81, 84: 84 }], 35: [function (t, n, i) { i.__esModule = !0; var e, r = t(5), s = (e = r) && e.__esModule ? e : { default: e }, u = function (t) { function n() { return function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n), function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.apply(this, arguments)) } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.createEl = function () { return t.prototype.createEl.call(this, "div", { className: "vjs-time-control vjs-time-divider", innerHTML: "<div><span>/</span></div>" }) }, n }(s.default); s.default.registerComponent("TimeDivider", u), i.default = u }, { 5: 5 }], 36: [function (t, n, i) { i.__esModule = !0; var e = t(47), r = h(e), s = t(5), u = h(s), o = t(83), a = function (t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n }(o); function h(t) { return t && t.__esModule ? t : { default: t } } function c(t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n } var f = function (t) { function n(i, e) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var r = e.tracks, s = c(this, t.call(this, i, e)); if (s.items.length <= 1 && s.hide(), !r) return c(s); var u = a.bind(s, s.update); return r.addEventListener("removetrack", u), r.addEventListener("addtrack", u), s.C_.on("dispose", function () { r.removeEventListener("removetrack", u), r.removeEventListener("addtrack", u) }), s } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n }(r.default); u.default.registerComponent("TrackButton", f), i.default = f }, { 47: 47, 5: 5, 83: 83 }], 37: [function (t, n, i) { i.__esModule = !0; var e = t(57), r = h(e), s = t(5), u = h(s), o = t(83), a = function (t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n }(o); function h(t) { return t && t.__esModule ? t : { default: t } } t(39); var c = function (t) { function n(i, e) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var r = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)); return r.on(i, "volumechange", r.updateARIAAttributes), i.ready(a.bind(r, r.updateARIAAttributes)), r } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.createEl = function () { return t.prototype.createEl.call(this, "div", { className: "vjs-volume-bar vjs-slider-bar" }, { "aria-label": "volume level" }) }, n.prototype.handleMouseMove = function (t) { this.checkMuted(), this.C_.volume(this.calculateDistance(t)) }, n.prototype.checkMuted = function () { this.C_.muted() && this.C_.muted(!1) }, n.prototype.getPercent = function () { return this.C_.muted() ? 0 : this.C_.volume() }, n.prototype.stepForward = function () { this.checkMuted(), this.C_.volume(this.C_.volume() + .1) }, n.prototype.stepBack = function () { this.checkMuted(), this.C_.volume(this.C_.volume() - .1) }, n.prototype.updateARIAAttributes = function (t) { var n = (100 * this.C_.volume()).toFixed(2); this.sVt.setAttribute("aria-valuenow", n), this.sVt.setAttribute("aria-valuetext", n + "%") }, n }(r.default); c.prototype.aVt = { children: ["volumeLevel"], barName: "volumeLevel" }, c.prototype.playerEvent = "volumechange", u.default.registerComponent("VolumeBar", c), i.default = c }, { 39: 39, 5: 5, 57: 57, 83: 83 }], 38: [function (t, n, i) { i.__esModule = !0; var e, r = t(5), s = (e = r) && e.__esModule ? e : { default: e }; t(37); var u = function (t) { function n(i, e) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var r = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)); return i.gVt && !1 === i.gVt.featuresVolumeControl && r.addClass("vjs-hidden"), r.on(i, "loadstart", function () { !1 === i.gVt.featuresVolumeControl ? this.addClass("vjs-hidden") : this.removeClass("vjs-hidden") }), r } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.createEl = function () { return t.prototype.createEl.call(this, "div", { className: "vjs-volume-control vjs-control" }) }, n }(s.default); u.prototype.aVt = { children: ["volumeBar"] }, s.default.registerComponent("VolumeControl", u), i.default = u }, { 37: 37, 5: 5 }], 39: [function (t, n, i) { i.__esModule = !0; var e, r = t(5), s = (e = r) && e.__esModule ? e : { default: e }, u = function (t) { function n() { return function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n), function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.apply(this, arguments)) } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.createEl = function () { return t.prototype.createEl.call(this, "div", { className: "vjs-volume-level", innerHTML: '<span class="vjs-control-text"></span>' }) }, n }(s.default); s.default.registerComponent("VolumeLevel", u), i.default = u }, { 5: 5 }], 40: [function (t, n, i) { i.__esModule = !0; var e = t(83), r = function (t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n }(e), s = t(5), u = w(s), o = t(54), a = w(o), h = t(53), c = w(h), f = t(11), v = w(f), d = t(37), _ = w(d); function w(t) { return t && t.__esModule ? t : { default: t } } var y = function (t) { function n(i) { var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n), void 0 === e.inline && (e.inline = !0), void 0 === e.vertical && (e.inline ? e.vertical = !1 : e.vertical = !0), e.volumeBar = e.volumeBar || {}, e.volumeBar.vertical = !!e.vertical; var r = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)); function s() { i.gVt && !1 === i.gVt.featuresVolumeControl ? this.addClass("vjs-hidden") : this.removeClass("vjs-hidden") } return r.on(i, "volumechange", r.volumeUpdate), r.on(i, "loadstart", r.volumeUpdate), s.call(r), r.on(i, "loadstart", s), r.on(r.volumeBar, ["slideractive", "focus"], function () { this.addClass("vjs-slider-active") }), r.on(r.volumeBar, ["sliderinactive", "blur"], function () { this.removeClass("vjs-slider-active") }), r.on(r.volumeBar, ["focus"], function () { this.addClass("vjs-lock-showing") }), r.on(r.volumeBar, ["blur"], function () { this.removeClass("vjs-lock-showing") }), r } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.buildCSSClass = function () { var n = ""; return n = this.aVt.vertical ? "vjs-volume-menu-button-vertical" : "vjs-volume-menu-button-horizontal", "vjs-volume-menu-button " + t.prototype.buildCSSClass.call(this) + " " + n }, n.prototype.createPopup = function () { var t = new a.default(this.C_, { contentElType: "div" }), n = new _.default(this.C_, this.aVt.volumeBar); return t.addChild(n), this.menuContent = t, this.volumeBar = n, this.attachVolumeBarEvents(), t }, n.prototype.handleClick = function (n) { v.default.prototype.handleClick.call(this), t.prototype.handleClick.call(this) }, n.prototype.attachVolumeBarEvents = function () { this.menuContent.on(["mousedown", "touchdown"], r.bind(this, this.handleMouseDown)) }, n.prototype.handleMouseDown = function (t) { this.on(["mousemove", "touchmove"], r.bind(this.volumeBar, this.volumeBar.handleMouseMove)), this.on(this.sVt.ownerDocument, ["mouseup", "touchend"], this.handleMouseUp) }, n.prototype.handleMouseUp = function (t) { this.off(["mousemove", "touchmove"], r.bind(this.volumeBar, this.volumeBar.handleMouseMove)) }, n }(c.default); y.prototype.volumeUpdate = v.default.prototype.update, y.prototype.rVt = "Mute", u.default.registerComponent("VolumeMenuButton", y), i.default = y }, { 11: 11, 37: 37, 5: 5, 53: 53, 54: 54, 83: 83 }], 41: [function (t, n, i) { i.__esModule = !0; var e = t(5), r = h(e), s = t(50), u = h(s), o = t(88), a = h(o); function h(t) { return t && t.__esModule ? t : { default: t } } var c = function (t) { function n(i, e) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var r = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)); return r.on(i, "error", r.open), r } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.buildCSSClass = function () { return "vjs-error-display " + t.prototype.buildCSSClass.call(this) }, n.prototype.content = function () { var t = this.player().error(); return t ? this.localize(t.message) : "" }, n }(u.default); c.prototype.aVt = (0, a.default)(u.default.prototype.aVt, { pauseOnOpen: !1, fillAlways: !0, temporary: !1, uncloseable: !0 }), r.default.registerComponent("ErrorDisplay", c), i.default = c }, { 5: 5, 50: 50, 88: 88 }], 42: [function (t, n, i) { i.__esModule = !0; var e = t(82), r = function (t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n }(e), s = function () { }; s.prototype.AVt = {}, s.prototype.on = function (t, n) { var i = this.addEventListener; this.addEventListener = function () { }, r.on(this, t, n), this.addEventListener = i }, s.prototype.addEventListener = s.prototype.on, s.prototype.off = function (t, n) { r.off(this, t, n) }, s.prototype.removeEventListener = s.prototype.off, s.prototype.one = function (t, n) { var i = this.addEventListener; this.addEventListener = function () { }, r.one(this, t, n), this.addEventListener = i }, s.prototype.trigger = function (t) { var n = t.type || t; "string" == typeof t && (t = { type: n }), t = r.fixEvent(t), this.AVt[n] && this["on" + n] && this["on" + n](t), r.trigger(this, t) }, s.prototype.dispatchEvent = s.prototype.trigger, i.default = s }, { 82: 82 }], 43: [function (t, n, i) { i.__esModule = !0; var e, r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }, s = t(87), u = (e = s) && e.__esModule ? e : { default: e }, o = t(89); i.default = function (t) { var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, i = function () { t.apply(this, arguments) }, e = {}; for (var s in (0, o.isObject)(n) ? ("function" == typeof n.init && (u.default.warn("Constructor logic via init() is deprecated; please use constructor() instead."), n.constructor = n.init), n.constructor !== g.prototype.constructor && (i = n.constructor), e = n) : "function" == typeof n && (i = n), function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + (void 0 === n ? "undefined" : r(n))); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (t.TVt = n) }(i, t), e) e.hasOwnProperty(s) && (i.prototype[s] = e[s]); return i } }, { 87: 87, 89: 89 }], 44: [function (t, n, i) { i.__esModule = !0; for (var e = t(85), r = {}, s = [["requestFullscreen", "exitFullscreen", "fullscreenElement", "fullscreenEnabled", "fullscreenchange", "fullscreenerror"], ["webkitRequestFullscreen", "webkitExitFullscreen", "webkitFullscreenElement", "webkitFullscreenEnabled", "webkitfullscreenchange", "webkitfullscreenerror"], ["webkitRequestFullScreen", "webkitCancelFullScreen", "webkitCurrentFullScreenElement", "webkitCancelFullScreen", "webkitfullscreenchange", "webkitfullscreenerror"], ["mozRequestFullScreen", "mozCancelFullScreen", "mozFullScreenElement", "mozFullScreenEnabled", "mozfullscreenchange", "mozfullscreenerror"], ["msRequestFullscreen", "msExitFullscreen", "msFullscreenElement", "msFullscreenEnabled", "MSFullscreenChange", "MSFullscreenError"]], u = s[0], o = void 0, a = 0; a < s.length; a++)if (s[a][1] in e.document) { o = s[a]; break } if (o) for (var h = 0; h < o.length; h++)r[u[h]] = o[h]; i.default = r }, { 85: 85 }], 45: [function (t, n, i) { i.__esModule = !0; var e, r = t(5), s = (e = r) && e.__esModule ? e : { default: e }, u = function (t) { function n() { return function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n), function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.apply(this, arguments)) } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.createEl = function () { return t.prototype.createEl.call(this, "div", { className: "vjs-loading-spinner", dir: "ltr" }) }, n }(s.default); s.default.registerComponent("LoadingSpinner", u), i.default = u }, { 5: 5 }], 46: [function (t, n, i) { i.__esModule = !0; var e = t(89); function r(t) { if (t instanceof r) return t; "number" == typeof t ? this.code = t : "string" == typeof t ? this.message = t : (0, e.isObject)(t) && ("number" == typeof t.code && (this.code = t.code), (0, e.assign)(this, t)), this.message || (this.message = r.defaultMessages[this.code] || "") } r.prototype.code = 0, r.prototype.message = "", r.prototype.status = null, r.errorTypes = ["MEDIA_ERR_CUSTOM", "MEDIA_ERR_ABORTED", "MEDIA_ERR_NETWORK", "MEDIA_ERR_DECODE", "MEDIA_ERR_SRC_NOT_SUPPORTED", "MEDIA_ERR_ENCRYPTED"], r.defaultMessages = { 1: "You aborted the media playback", 2: "A network error caused the media download to fail part-way.", 3: "The media playback was aborted due to a corruption problem or because the media used features your browser did not support.", 4: "The media could not be loaded, either because the server or network failed or because the format is not supported.", 5: "The media is encrypted and we do not have the keys to decrypt it." }; for (var s = 0; s < r.errorTypes.length; s++)r[r.errorTypes[s]] = s, r.prototype[r.errorTypes[s]] = s; i.default = r }, { 89: 89 }], 47: [function (t, n, i) { i.__esModule = !0; var e = t(3), r = y(e), s = t(5), u = y(s), o = t(49), a = y(o), h = t(81), c = w(h), f = t(83), v = w(f), d = t(92), _ = y(d); function w(t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n } function y(t) { return t && t.__esModule ? t : { default: t } } var p = function (t) { function n(i) { var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var r = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)); return r.update(), r.jf = !0, r.sVt.setAttribute("aria-haspopup", "true"), r.sVt.setAttribute("role", "menuitem"), r.on("keydown", r.handleSubmenuKeyPress), r } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.update = function () { var t = this.createMenu(); this.menu && this.removeChild(this.menu), this.menu = t, this.addChild(t), this.SVt = !1, this.sVt.setAttribute("aria-expanded", "false"), this.items && this.items.length <= this._Vt ? this.hide() : this.show() }, n.prototype.createMenu = function () { var t = new a.default(this.C_); if (this._Vt = 0, this.aVt.title) { var n = c.createEl("li", { className: "vjs-menu-title", innerHTML: (0, _.default)(this.aVt.title), tabIndex: -1 }); this._Vt += 1, t.Qn.unshift(n), c.insertElFirst(n, t.contentEl()) } if (this.items = this.createItems(), this.items) for (var i = 0; i < this.items.length; i++)t.addItem(this.items[i]); return t }, n.prototype.createItems = function () { }, n.prototype.createEl = function () { return t.prototype.createEl.call(this, "div", { className: this.buildCSSClass() }) }, n.prototype.buildCSSClass = function () { var n = "vjs-menu-button"; return !0 === this.aVt.inline ? n += "-inline" : n += "-popup", "vjs-menu-button " + n + " " + t.prototype.buildCSSClass.call(this) }, n.prototype.handleClick = function (t) { this.one(this.menu.contentEl(), "mouseleave", v.bind(this, function (t) { this.unpressButton(), this.sVt.blur() })), this.SVt ? this.unpressButton() : this.pressButton() }, n.prototype.handleKeyPress = function (n) { 27 === n.which || 9 === n.which ? (this.SVt && this.unpressButton(), 9 !== n.which && n.preventDefault()) : 38 === n.which || 40 === n.which ? this.SVt || (this.pressButton(), n.preventDefault()) : t.prototype.handleKeyPress.call(this, n) }, n.prototype.handleSubmenuKeyPress = function (t) { 27 !== t.which && 9 !== t.which || (this.SVt && this.unpressButton(), 9 !== t.which && t.preventDefault()) }, n.prototype.pressButton = function () { this.jf && (this.SVt = !0, this.menu.lockShowing(), this.sVt.setAttribute("aria-expanded", "true"), this.menu.focus()) }, n.prototype.unpressButton = function () { this.jf && (this.SVt = !1, this.menu.unlockShowing(), this.sVt.setAttribute("aria-expanded", "false"), this.sVt.focus()) }, n.prototype.disable = function () { return this.SVt = !1, this.menu.unlockShowing(), this.sVt.setAttribute("aria-expanded", "false"), this.jf = !1, t.prototype.disable.call(this) }, n.prototype.enable = function () { return this.jf = !0, t.prototype.enable.call(this) }, n }(r.default); u.default.registerComponent("MenuButton", p), i.default = p }, { 3: 3, 49: 49, 5: 5, 81: 81, 83: 83, 92: 92 }], 48: [function (t, n, i) { i.__esModule = !0; var e = t(3), r = a(e), s = t(5), u = a(s), o = t(89); function a(t) { return t && t.__esModule ? t : { default: t } } var h = function (t) { function n(i, e) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var r = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)); return r.selectable = e.selectable, r.selected(e.selected), r.selectable ? r.sVt.setAttribute("role", "menuitemcheckbox") : r.sVt.setAttribute("role", "menuitem"), r } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.createEl = function (n, i, e) { return this.nonIconControl = !0, t.prototype.createEl.call(this, "li", (0, o.assign)({ className: "vjs-menu-item", innerHTML: this.localize(this.aVt.label), tabIndex: -1 }, i), e) }, n.prototype.handleClick = function (t) { this.selected(!0) }, n.prototype.selected = function (t) { this.selectable && (t ? (this.addClass("vjs-selected"), this.sVt.setAttribute("aria-checked", "true"), this.controlText(", selected")) : (this.removeClass("vjs-selected"), this.sVt.setAttribute("aria-checked", "false"), this.controlText(""))) }, n }(r.default); u.default.registerComponent("MenuItem", h), i.default = h }, { 3: 3, 5: 5, 89: 89 }], 49: [function (t, n, i) { i.__esModule = !0; var e, r = t(5), s = (e = r) && e.__esModule ? e : { default: e }, u = t(81), o = v(u), a = t(83), h = v(a), c = t(82), f = v(c); function v(t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n } var d = function (t) { function n(i, e) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var r = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)); return r.EVt = -1, r.on("keydown", r.handleKeyPress), r } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.addItem = function (t) { this.addChild(t), t.on("click", h.bind(this, function (t) { this.unlockShowing() })) }, n.prototype.createEl = function () { var n = this.aVt.contentElType || "ul"; this.vVt = o.createEl(n, { className: "vjs-menu-content" }), this.vVt.setAttribute("role", "menu"); var i = t.prototype.createEl.call(this, "div", { append: this.vVt, className: "vjs-menu" }); return i.setAttribute("role", "presentation"), i.appendChild(this.vVt), f.on(i, "click", function (t) { t.preventDefault(), t.stopImmediatePropagation() }), i }, n.prototype.handleKeyPress = function (t) { 37 === t.which || 40 === t.which ? (t.preventDefault(), this.stepForward()) : 38 !== t.which && 39 !== t.which || (t.preventDefault(), this.stepBack()) }, n.prototype.stepForward = function () { var t = 0; void 0 !== this.EVt && (t = this.EVt + 1), this.focus(t) }, n.prototype.stepBack = function () { var t = 0; void 0 !== this.EVt && (t = this.EVt - 1), this.focus(t) }, n.prototype.focus = function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0, n = this.children().slice(), i = n.length && n[0].className && /vjs-menu-title/.test(n[0].className); i && n.shift(), n.length > 0 && (t < 0 ? t = 0 : t >= n.length && (t = n.length - 1), this.EVt = t, n[t].sVt.focus()) }, n }(s.default); s.default.registerComponent("Menu", d), i.default = d }, { 5: 5, 81: 81, 82: 82, 83: 83 }], 50: [function (t, n, i) { i.__esModule = !0; var e, r = t(81), s = c(r), u = t(83), o = c(u), a = t(5), h = (e = a) && e.__esModule ? e : { default: e }; function c(t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n } var f = "vjs-modal-dialog", v = function (t) { function n(i, e) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var r = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)); return r.IVt = r.RVt = r.NVt = !1, r.closeable(!r.aVt.uncloseable), r.content(r.aVt.content), r.vVt = s.createEl("div", { className: f + "-content" }, { role: "document" }), r.CVt = s.createEl("p", { className: f + "-description vjs-offscreen", id: r.el().getAttribute("aria-describedby") }), s.textContent(r.CVt, r.description()), r.sVt.appendChild(r.CVt), r.sVt.appendChild(r.vVt), r } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.createEl = function () { return t.prototype.createEl.call(this, "div", { className: this.buildCSSClass(), tabIndex: -1 }, { "aria-describedby": this.id() + "DVt", "aria-hidden": "true", "aria-label": this.label(), role: "dialog" }) }, n.prototype.buildCSSClass = function () { return f + " vjs-hidden " + t.prototype.buildCSSClass.call(this) }, n.prototype.handleKeyPress = function (t) { 27 === t.which && this.closeable() && this.close() }, n.prototype.label = function () { return this.aVt.label || this.localize("Modal Window") }, n.prototype.description = function () { var t = this.aVt.description || this.localize("This is a modal window."); return this.closeable() && (t += " " + this.localize("This modal can be closed by pressing the Escape key or activating the close button.")), t }, n.prototype.open = function () { if (!this.IVt) { var t = this.player(); this.trigger("beforemodalopen"), this.IVt = !0, (this.aVt.fillAlways || !this.RVt && !this.NVt) && this.fill(), this.xVt = !t.paused(), this.aVt.pauseOnOpen && this.xVt && t.pause(), this.closeable() && this.on(this.sVt.ownerDocument, "keydown", o.bind(this, this.handleKeyPress)), t.controls(!1), this.show(), this.el().setAttribute("aria-hidden", "false"), this.trigger("modalopen"), this.RVt = !0 } return this }, n.prototype.opened = function (t) { return "boolean" == typeof t && this[t ? "open" : "close"](), this.IVt }, n.prototype.close = function () { if (this.IVt) { var t = this.player(); this.trigger("beforemodalclose"), this.IVt = !1, this.xVt && this.aVt.pauseOnOpen && t.play(), this.closeable() && this.off(this.sVt.ownerDocument, "keydown", o.bind(this, this.handleKeyPress)), t.controls(!0), this.hide(), this.el().setAttribute("aria-hidden", "true"), this.trigger("modalclose"), this.aVt.temporary && this.dispose() } return this }, n.prototype.closeable = function (t) { if ("boolean" == typeof t) { var n = this.OVt = !!t, i = this.getChild("closeButton"); if (n && !i) { var e = this.vVt; this.vVt = this.sVt, i = this.addChild("closeButton", { controlText: "Close Modal Dialog" }), this.vVt = e, this.on(i, "close", this.close) } !n && i && (this.off(i, "close", this.close), this.removeChild(i), i.dispose()) } return this.OVt }, n.prototype.fill = function () { return this.fillWith(this.content()) }, n.prototype.fillWith = function (t) { var n = this.contentEl(), i = n.parentNode, e = n.nextSibling; return this.trigger("beforemodalfill"), this.NVt = !0, i.removeChild(n), this.empty(), s.insertContent(n, t), this.trigger("modalfill"), e ? i.insertBefore(n, e) : i.appendChild(n), this }, n.prototype.empty = function () { return this.trigger("beforemodalempty"), s.emptyEl(this.contentEl()), this.trigger("modalempty"), this }, n.prototype.content = function (t) { return void 0 !== t && (this.BP = t), this.BP }, n }(h.default); v.prototype.aVt = { pauseOnOpen: !0, temporary: !0 }, h.default.registerComponent("ModalDialog", v), i.default = v }, { 5: 5, 81: 81, 83: 83 }], 51: [function (t, n, i) { i.__esModule = !0; var e = t(5), r = Y(e), s = t(85), u = t(82), o = Q(u), a = t(81), h = Q(a), c = t(83), f = Q(c), d = t(86), w = Q(d), m = t(78), k = Q(m), b = t(87), A = Y(b), T = t(92), S = Y(T), E = t(91), I = t(79), R = t(90), C = Q(R), N = t(44), D = Y(N), x = t(46), B = Y(x), O = t(116), P = Y(O), M = t(89), L = t(88), j = Y(L), F = t(69), U = Y(F), V = t(50), H = Y(V), z = t(62), q = Y(z), G = t(63), W = Y(G), X = t(76), $ = Y(X); function Q(t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n } function Y(t) { return t && t.__esModule ? t : { default: t } } t(61), t(59), t(55), t(68), t(45), t(1), t(4), t(8), t(41), t(71), t(60); var Z = ["progress", "abort", "suspend", "emptied", "stalled", "loadedmetadata", "loadeddata", "timeupdate", "ratechange", "volumechange", "texttrackchange"], K = function (t) { function n(i, e, r) { if (function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n), i.id = i.id || ["vjs_video", w.newGUID()].join("_"), (e = (0, M.assign)(n.getTagSettings(i), e)).initChildren = !1, e.createEl = !1, e.reportTouchActivity = !1, !e.language) if ("function" == typeof i.closest) { var s = i.closest("[lang]"); s && (e.language = s.getAttribute("lang")) } else for (var u = i; u && 1 === u.nodeType;) { if (h.getElAttributes(u).hasOwnProperty("lang")) { e.language = u.getAttribute("lang"); break } u = u.parentNode } var o = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, null, e, r)); if (!o.aVt || !o.aVt.techOrder || !o.aVt.techOrder.length) throw new v("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?"); if (o.tag = i, o.tagAttributes = i && h.getElAttributes(i), o.language(o.aVt.language), e.languages) { var a = {}; g.getOwnPropertyNames(e.languages).forEach(function (t) { a[t.toLowerCase()] = e.languages[t] }), o.BVt = a } else o.BVt = n.prototype.aVt.languages; o.rUt = {}, o.EY = e.poster || "", o.PVt = !!e.controls, i.controls = !1, o.MVt = !1, o.sVt = o.createEl(); var c = (0, j.default)(o.aVt); if (e.plugins) { var f = e.plugins; g.getOwnPropertyNames(f).forEach(function (t) { "function" == typeof this[t] ? this[t](f[t]) : A.default.error("Unable to find plugin:", t) }, o) } o.aVt.playerOptions = c, o.initChildren(), o.isAudio("audio" === i.nodeName.toLowerCase()), o.controls() ? o.addClass("vjs-controls-enabled") : o.addClass("vjs-controls-disabled"), o.sVt.setAttribute("role", "region"), o.isAudio() ? o.sVt.setAttribute("aria-label", "audio player") : o.sVt.setAttribute("aria-label", "video player"), o.isAudio() && o.addClass("vjs-audio"), o.LVt() && o.addClass("vjs-no-flex"), k.IS_IOS || o.addClass("vjs-workinghover"), n.players[o.Ff] = o; var d = "5.20.6-opentelly.3".split(".")[0]; return o.addClass("vjs-v" + d), o.userActive(!0), o.reportUserActivity(), o.jVt(), o.on("fullscreenchange", o.pX), o.on("stageclick", o.FVt), o } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.dispose = function () { this.trigger("dispose"), this.off("dispose"), this.UVt && this.UVt.parentNode && this.UVt.parentNode.removeChild(this.UVt), n.players[this.Ff] = null, this.tag && this.tag.player && (this.tag.player = null), this.sVt && this.sVt.player && (this.sVt.player = null), this.gVt && this.gVt.dispose(), t.prototype.dispose.call(this) }, n.prototype.createEl = function () { var n = this.tag, i = void 0, e = this.VVt = n.parentNode && n.parentNode.hasAttribute && n.parentNode.hasAttribute("data-vjs-player"); i = this.sVt = e ? n.parentNode : t.prototype.createEl.call(this, "div"), n.setAttribute("tabindex", "-1"), n.removeAttribute("width"), n.removeAttribute("height"); var r = h.getElAttributes(n); if (g.getOwnPropertyNames(r).forEach(function (t) { "class" === t ? i.className += " " + r[t] : i.setAttribute(t, r[t]) }), n.playerId = n.id, n.id += "HVt", n.className = "vjs-tech", n.player = i.player = this, this.addClass("vjs-paused"), !0 !== s.window.VIDEOJS_NO_DYNAMIC_STYLE) { this.UVt = C.createStyleElement("vjs-styles-dimensions"); var u = h.$(".vjs-styles-defaults"), o = h.$("head"); o.insertBefore(this.UVt, u ? u.nextSibling : o.firstChild) } this.width(this.aVt.width), this.height(this.aVt.height), this.fluid(this.aVt.fluid), this.aspectRatio(this.aVt.aspectRatio); for (var a = n.getElementsByTagName("a"), c = 0; c < a.length; c++) { var f = a.item(c); h.addElClass(f, "vjs-hidden"), f.setAttribute("hidden", "hidden") } return n.GVt = n.networkState, n.parentNode && !e && n.parentNode.insertBefore(i, n), h.insertElFirst(n, i), this.Qn.unshift(n), this.sVt = i, i }, n.prototype.width = function (t) { return this.dimension("width", t) }, n.prototype.height = function (t) { return this.dimension("height", t) }, n.prototype.dimension = function (t, n) { var i = "width" === t ? "qw" : "Ww"; if (void 0 === n) return this[i] || 0; if ("" === n) this[i] = void 0; else { var e = y(n); if (p(e)) return A.default.error('Improper value "' + n + '" supplied for for ' + t), this; this[i] = e } return this.zVt(), this }, n.prototype.fluid = function (t) { if (void 0 === t) return !!this.qVt; this.qVt = !!t, t ? this.addClass("vjs-fluid") : this.removeClass("vjs-fluid"), this.zVt() }, n.prototype.aspectRatio = function (t) { if (void 0 === t) return this.WVt; if (!/^\d+\:\d+$/.test(t)) throw new v("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9."); this.WVt = t, this.fluid(!0), this.zVt() }, n.prototype.zVt = function () { if (!0 !== s.window.VIDEOJS_NO_DYNAMIC_STYLE) { var t = void 0, n = void 0, i = void 0, e = (void 0 !== this.WVt && "auto" !== this.WVt ? this.WVt : this.videoWidth() > 0 ? this.videoWidth() + ":" + this.videoHeight() : "16:9").split(":"), r = e[1] / e[0]; t = void 0 !== this.qw ? this.qw : void 0 !== this.Ww ? this.Ww / r : this.videoWidth() || 300, n = void 0 !== this.Ww ? this.Ww : t * r, i = /^[^a-zA-Z]/.test(this.id()) ? "dimensions-" + this.id() : this.id() + "-dimensions", this.addClass(i), C.setTextContent(this.UVt, "\n      ." + i + " {\n        width: " + t + "px;\n        height: " + n + "px;\n      }\n\n      ." + i + ".vjs-fluid {\n        padding-top: " + 100 * r + "%;\n      }\n    ") } else { var u = "number" == typeof this.qw ? this.qw : this.aVt.width, o = "number" == typeof this.Ww ? this.Ww : this.aVt.height, a = this.gVt && this.gVt.el(); a && (u >= 0 && (a.width = u), o >= 0 && (a.height = o)) } }, n.prototype.XVt = function (t, n) { var i = this; this.gVt && this.$Vt(), "Html5" !== t && this.tag && (q.default.getTech("Html5").disposeMediaElement(this.tag), this.tag.player = null, this.tag = null), this.QVt = t, this.eF = !1; var e = (0, M.assign)({ source: n, nativeControlsForTouch: this.aVt.nativeControlsForTouch, playerId: this.id(), techId: this.id() + "_" + t + "YVt", videoTracks: this.Tg, textTracks: this.Ag, audioTracks: this.og, autoplay: this.aVt.autoplay, playsinline: this.aVt.playsinline, preload: this.aVt.preload, loop: this.aVt.loop, muted: this.aVt.muted, poster: this.poster(), language: this.language(), playerElIngest: this.VVt || !1, "vtt.js": this.aVt["vtt.js"] }, this.aVt[t.toLowerCase()]); this.tag && (e.tag = this.tag), n && (this.ZVt = n.type, n.src === this.rUt.src && this.rUt.currentTime > 0 && (e.startTime = this.rUt.currentTime), this.rUt.sources = null, this.rUt.source = n, this.rUt.src = n.src); var s = q.default.getTech(t); s || (s = r.default.getComponent(t)), this.gVt = new s(e), this.gVt.ready(f.bind(this, this.KVt), !0), U.default.jsonToTextTracks(this.JVt || [], this.gVt), Z.forEach(function (t) { i.on(i.gVt, t, i["handleTech" + (0, S.default)(t) + "_"]) }), this.on(this.gVt, "loadstart", this.tHt), this.on(this.gVt, "waiting", this.nHt), this.on(this.gVt, "canplay", this.iHt), this.on(this.gVt, "canplaythrough", this.eHt), this.on(this.gVt, "playing", this.rHt), this.on(this.gVt, "ended", this.sHt), this.on(this.gVt, "seeking", this.uHt), this.on(this.gVt, "seeked", this.oHt), this.on(this.gVt, "play", this.aHt), this.on(this.gVt, "firstplay", this.hHt), this.on(this.gVt, "pause", this.cHt), this.on(this.gVt, "durationchange", this.fHt), this.on(this.gVt, "fullscreenchange", this.vHt), this.on(this.gVt, "error", this.lHt), this.on(this.gVt, "loadedmetadata", this.zVt), this.on(this.gVt, "resize", this.zVt), this.on(this.gVt, "posterchange", this.dHt), this.on(this.gVt, "textdata", this._Ht), this.usingNativeControls(this.gHt("controls")), this.controls() && !this.usingNativeControls() && this.wHt(), this.gVt.el().parentNode === this.contentEl() || "Html5" === t && this.tag || h.insertElFirst(this.gVt.el(), this.contentEl()), this.tag && (this.tag.player = null, this.tag = null) }, n.prototype.$Vt = function () { this.Tg = this.videoTracks(), this.Ag = this.textTracks(), this.og = this.audioTracks(), this.JVt = U.default.textTracksToJson(this.gVt), this.eF = !1, this.gVt.dispose(), this.gVt = !1 }, n.prototype.tech = function (t) { if (t && t.IWillNotUseThisInPlugins) return this.gVt; var n = "\n      Please make sure that you are not using this inside of a plugin.\n      To disable this alert and error, please pass in an object with\n      `IWillNotUseThisInPlugins` to the `tech` method. See\n      https://github.com/videojs/video.js/issues/2617 for more info.\n    "; throw s.window.alert(n), new v(n) }, n.prototype.wHt = function () { this.yHt(), this.on(this.gVt, "mousedown", this.pHt), this.on(this.gVt, "touchstart", this.mHt), this.on(this.gVt, "touchmove", this.kHt), this.on(this.gVt, "touchend", this.bHt), this.on(this.gVt, "tap", this.AHt) }, n.prototype.yHt = function () { this.off(this.gVt, "tap", this.AHt), this.off(this.gVt, "touchstart", this.mHt), this.off(this.gVt, "touchmove", this.kHt), this.off(this.gVt, "touchend", this.bHt), this.off(this.gVt, "mousedown", this.pHt) }, n.prototype.KVt = function () { if (this.triggerReady(), this.rUt.volume && this.THt("setVolume", this.rUt.volume), this.dHt(), this.fHt(), (this.src() || this.currentSrc()) && this.tag && this.aVt.autoplay && this.paused()) { try { delete this.tag.poster } catch (t) { (0, A.default)("deleting tag.poster throws in some browsers", t) } this.play() } }, n.prototype.tHt = function () { this.removeClass("vjs-ended"), this.removeClass("vjs-seeking"), this.error(null), this.paused() ? (this.hasStarted(!1), this.trigger("loadstart")) : (this.trigger("loadstart"), this.trigger("firstplay")) }, n.prototype.hasStarted = function (t) { return void 0 !== t ? (this.SHt !== t && (this.SHt = t, t ? (this.addClass("vjs-has-started"), this.trigger("firstplay")) : this.removeClass("vjs-has-started")), this) : !!this.SHt }, n.prototype.aHt = function () { this.removeClass("vjs-ended"), this.removeClass("vjs-paused"), this.addClass("vjs-playing"), this.hasStarted(!0), this.trigger("play") }, n.prototype.nHt = function () { var t = this; this.addClass("vjs-waiting"), this.trigger("waiting"), this.one("timeupdate", function () { return t.removeClass("vjs-waiting") }) }, n.prototype.iHt = function () { this.removeClass("vjs-waiting"), this.trigger("canplay") }, n.prototype.eHt = function () { this.removeClass("vjs-waiting"), this.trigger("canplaythrough") }, n.prototype.rHt = function () { this.removeClass("vjs-waiting"), this.trigger("playing") }, n.prototype.uHt = function () { this.addClass("vjs-seeking"), this.trigger("seeking") }, n.prototype.oHt = function () { this.removeClass("vjs-seeking"), this.trigger("seeked") }, n.prototype.hHt = function () { this.aVt.starttime && (A.default.warn("Passing the `starttime` option to the player will be deprecated in 6.0"), this.currentTime(this.aVt.starttime)), this.addClass("vjs-has-started"), this.trigger("firstplay") }, n.prototype.cHt = function () { this.removeClass("vjs-playing"), this.addClass("vjs-paused"), this.trigger("pause") }, n.prototype.sHt = function () { this.addClass("vjs-ended"), this.aVt.loop ? (this.currentTime(0), this.play()) : this.paused() || this.pause(), this.trigger("ended") }, n.prototype.fHt = function () { this.duration(this.gHt("duration")) }, n.prototype.pHt = function (t) { 0 === t.button && this.controls() && (this.paused() ? this.play() : this.pause()) }, n.prototype.AHt = function () { this.userActive(!this.userActive()) }, n.prototype.mHt = function () { this.userWasActive = this.userActive() }, n.prototype.kHt = function () { this.userWasActive && this.reportUserActivity() }, n.prototype.bHt = function (t) { t.preventDefault() }, n.prototype.pX = function () { this.isFullscreen() ? this.addClass("vjs-fullscreen") : this.removeClass("vjs-fullscreen") }, n.prototype.FVt = function () { this.reportUserActivity() }, n.prototype.vHt = function (t, n) { n && this.isFullscreen(n.isFullscreen), this.trigger("fullscreenchange") }, n.prototype.lHt = function () { var t = this.gVt.error(); this.error(t) }, n.prototype._Ht = function () { var t = null; arguments.length > 1 && (t = arguments[1]), this.trigger("textdata", t) }, n.prototype.getCache = function () { return this.rUt }, n.prototype.THt = function (t, n) { if (this.gVt && !this.gVt.eF) this.gVt.ready(function () { this[t](n) }, !0); else try { this.gVt && this.gVt[t](n) } catch (t) { throw (0, A.default)(t), t } }, n.prototype.gHt = function (t) { if (this.gVt && this.gVt.eF) try { return this.gVt[t]() } catch (n) { throw void 0 === this.gVt[t] ? (0, A.default)("Video.js: " + t + " method not defined for " + this.QVt + " playback technology.", n) : "TypeError" === n.name ? ((0, A.default)("Video.js: " + t + " unavailable on " + this.QVt + " playback technology element.", n), this.gVt.eF = !1) : (0, A.default)(n), n } }, n.prototype.play = function () { return this.src() || this.currentSrc() ? this.THt("play") : this.gVt.one("loadstart", function () { this.play() }), this }, n.prototype.pause = function () { return this.THt("pause"), this }, n.prototype.paused = function () { return !1 !== this.gHt("paused") }, n.prototype.scrubbing = function (t) { return void 0 !== t ? (this.MVt = !!t, t ? this.addClass("vjs-scrubbing") : this.removeClass("vjs-scrubbing"), this) : this.MVt }, n.prototype.currentTime = function (t) { return void 0 !== t ? (this.THt("setCurrentTime", t), this) : (this.rUt.currentTime = this.gHt("currentTime") || 0, this.rUt.currentTime) }, n.prototype.duration = function (t) { return void 0 === t ? void 0 !== this.rUt.duration ? this.rUt.duration : NaN : ((t = y(t)) < 0 && (t = 1 / 0), t !== this.rUt.duration && (this.rUt.duration = t, t === 1 / 0 ? this.addClass("vjs-live") : this.removeClass("vjs-live"), this.trigger("durationchange")), this) }, n.prototype.remainingTime = function () { return this.duration() - this.currentTime() }, n.prototype.buffered = function () { var t = this.gHt("buffered"); return t && t.length || (t = (0, E.createTimeRange)(0, 0)), t }, n.prototype.bufferedPercent = function () { return (0, I.bufferedPercent)(this.buffered(), this.duration()) }, n.prototype.bufferedEnd = function () { var t = this.buffered(), n = this.duration(), i = t.end(t.length - 1); return i > n && (i = n), i }, n.prototype.volume = function (t) { var n = void 0; return void 0 !== t ? (n = _.max(0, _.min(1, y(t))), this.rUt.volume = n, this.THt("setVolume", n), this) : (n = y(this.gHt("volume")), p(n) ? 1 : n) }, n.prototype.muted = function (t) { return void 0 !== t ? (this.THt("setMuted", t), this) : this.gHt("muted") || !1 }, n.prototype.supportsFullScreen = function () { return this.gHt("supportsFullScreen") || !1 }, n.prototype.isFullscreen = function (t) { return void 0 !== t ? (this.KW = !!t, this) : !!this.KW }, n.prototype.requestFullscreen = function () { var t = D.default; return this.isFullscreen(!0), t.requestFullscreen ? (o.on(s.document, t.fullscreenchange, f.bind(this, function n(i) { this.isFullscreen(s.document[t.fullscreenElement]), !1 === this.isFullscreen() && o.off(s.document, t.fullscreenchange, n), this.trigger("fullscreenchange") })), this.sVt[t.requestFullscreen]()) : this.gVt.supportsFullScreen() ? this.THt("enterFullScreen") : (this.enterFullWindow(), this.trigger("fullscreenchange")), this }, n.prototype.exitFullscreen = function () { var t = D.default; return this.isFullscreen(!1), t.requestFullscreen ? s.document[t.exitFullscreen]() : this.gVt.supportsFullScreen() ? this.THt("exitFullScreen") : (this.exitFullWindow(), this.trigger("fullscreenchange")), this }, n.prototype.enterFullWindow = function () { this.isFullWindow = !0, this.docOrigOverflow = s.document.documentElement.style.overflow, o.on(s.document, "keydown", f.bind(this, this.fullWindowOnEscKey)), s.document.documentElement.style.overflow = "hidden", h.addElClass(s.document.body, "vjs-full-window"), this.trigger("enterFullWindow") }, n.prototype.fullWindowOnEscKey = function (t) { 27 === t.keyCode && (!0 === this.isFullscreen() ? this.exitFullscreen() : this.exitFullWindow()) }, n.prototype.exitFullWindow = function () { this.isFullWindow = !1, o.off(s.document, "keydown", this.fullWindowOnEscKey), s.document.documentElement.style.overflow = this.docOrigOverflow, h.removeElClass(s.document.body, "vjs-full-window"), this.trigger("exitFullWindow") }, n.prototype.canPlayType = function (t) { for (var n = void 0, i = 0, e = this.aVt.techOrder; i < e.length; i++) { var s = (0, S.default)(e[i]), u = q.default.getTech(s); if (u || (u = r.default.getComponent(s)), u) { if (u.isSupported() && (n = u.canPlayType(t))) return n } else A.default.error('The "' + s + '" tech is undefined. Skipped browser support check for that tech.') } return "" }, n.prototype.selectSource = function (t) { var n, i = this, e = this.aVt.techOrder.map(S.default).map(function (t) { return [t, q.default.getTech(t) || r.default.getComponent(t)] }).filter(function (t) { var n = t[0], i = t[1]; return i ? i.isSupported() : (A.default.error('The "' + n + '" tech is undefined. Skipped browser support check for that tech.'), !1) }), s = function (t, n, i) { var e = void 0; return t.some(function (t) { return n.some(function (n) { if (e = i(t, n)) return !0 }) }), e }, u = function (t, n) { var e = t[0], r = t[1]; if (r.canPlaySource(n, i.aVt[e.toLowerCase()])) return { source: n, tech: e } }; return (this.aVt.sourceOrder ? s(t, e, (n = u, function (t, i) { return n(i, t) })) : s(e, t, u)) || !1 }, n.prototype.src = function (t) { if (void 0 === t) return this.gHt("src"); var n = q.default.getTech(this.QVt); return n || (n = r.default.getComponent(this.QVt)), Array.isArray(t) ? this.EHt(t) : "string" == typeof t ? this.src({ src: t }) : t instanceof g && (t.type && !n.canPlaySource(t, this.aVt[this.QVt.toLowerCase()]) ? this.EHt([t]) : (this.rUt.sources = null, this.rUt.source = t, this.rUt.src = t.src, this.ZVt = t.type || "", this.ready(function () { n.prototype.hasOwnProperty("setSource") ? this.THt("setSource", t) : this.THt("src", t.src), "auto" === this.aVt.preload && this.load(), this.aVt.autoplay && this.play() }, !0))), this }, n.prototype.EHt = function (t) { var n = this.selectSource(t); n ? (n.tech === this.QVt ? this.src(n.source) : this.XVt(n.tech, n.source), this.rUt.sources = t) : (this.setTimeout(function () { this.error({ code: 4, message: this.localize(this.aVt.notSupportedMessage) }) }, 0), this.triggerReady()) }, n.prototype.load = function () { return this.THt("load"), this }, n.prototype.reset = function () { return this.XVt((0, S.default)(this.aVt.techOrder[0]), null), this.THt("reset"), this }, n.prototype.currentSources = function () { var t = this.currentSource(), n = []; return 0 !== g.keys(t).length && n.push(t), this.rUt.sources || n }, n.prototype.currentSource = function () { var t = {}, n = this.currentSrc(); return n && (t.src = n), this.rUt.source || t }, n.prototype.currentSrc = function () { return this.gHt("currentSrc") || this.rUt.src || "" }, n.prototype.currentType = function () { return this.ZVt || "" }, n.prototype.preload = function (t) { return void 0 !== t ? (this.THt("setPreload", t), this.aVt.preload = t, this) : this.gHt("preload") }, n.prototype.autoplay = function (t) { return void 0 !== t ? (this.THt("setAutoplay", t), this.aVt.autoplay = t, this) : this.gHt("autoplay", t) }, n.prototype.playsinline = function (t) { return void 0 !== t ? (this.THt("setPlaysinline", t), this.aVt.playsinline = t, this) : this.gHt("playsinline") }, n.prototype.loop = function (t) { return void 0 !== t ? (this.THt("setLoop", t), this.aVt.loop = t, this) : this.gHt("loop") }, n.prototype.poster = function (t) { return void 0 === t ? this.EY : (t || (t = ""), this.EY = t, this.THt("setPoster", t), this.trigger("posterchange"), this) }, n.prototype.dHt = function () { !this.EY && this.gVt && this.gVt.poster && (this.EY = this.gVt.poster() || "", this.trigger("posterchange")) }, n.prototype.controls = function (t) { return void 0 !== t ? (t = !!t, this.PVt !== t && (this.PVt = t, this.usingNativeControls() && this.THt("setControls", t), t ? (this.removeClass("vjs-controls-disabled"), this.addClass("vjs-controls-enabled"), this.trigger("controlsenabled"), this.usingNativeControls() || this.wHt()) : (this.removeClass("vjs-controls-enabled"), this.addClass("vjs-controls-disabled"), this.trigger("controlsdisabled"), this.usingNativeControls() || this.yHt())), this) : !!this.PVt }, n.prototype.usingNativeControls = function (t) { return void 0 !== t ? (t = !!t, this.IHt !== t && (this.IHt = t, t ? (this.addClass("vjs-using-native-controls"), this.trigger("usingnativecontrols")) : (this.removeClass("vjs-using-native-controls"), this.trigger("usingcustomcontrols"))), this) : !!this.IHt }, n.prototype.error = function (t) { return void 0 === t ? this.Bo || null : null === t ? (this.Bo = t, this.removeClass("vjs-error"), this.errorDisplay && this.errorDisplay.close(), this) : (this.Bo = new B.default(t), this.addClass("vjs-error"), A.default.error("(CODE:" + this.Bo.code + " " + B.default.errorTypes[this.Bo.code] + ")", this.Bo.message, this.Bo), this.trigger("error"), this) }, n.prototype.reportUserActivity = function (t) { this.RHt = !0 }, n.prototype.userActive = function (t) { return void 0 !== t ? ((t = !!t) !== this.NHt && (this.NHt = t, t ? (this.RHt = !0, this.removeClass("vjs-user-inactive"), this.addClass("vjs-user-active"), this.trigger("useractive")) : (this.RHt = !1, this.gVt && this.gVt.one("mousemove", function (t) { t.stopPropagation(), t.preventDefault() }), this.removeClass("vjs-user-active"), this.addClass("vjs-user-inactive"), this.trigger("userinactive"))), this) : this.NHt }, n.prototype.jVt = function () { var t = void 0, n = void 0, i = void 0, e = f.bind(this, this.reportUserActivity); this.on("mousedown", function () { e(), this.clearInterval(t), t = this.setInterval(e, 250) }), this.on("mousemove", function (t) { t.screenX === n && t.screenY === i || (n = t.screenX, i = t.screenY, e()) }), this.on("mouseup", function (n) { e(), this.clearInterval(t) }), this.on("keydown", e), this.on("keyup", e); var r = void 0; this.setInterval(function () { if (this.RHt) { this.RHt = !1, this.userActive(!0), this.clearTimeout(r); var t = this.aVt.inactivityTimeout; t > 0 && (r = this.setTimeout(function () { this.RHt || this.userActive(!1) }, t)) } }, 250) }, n.prototype.playbackRate = function (t) { return void 0 !== t ? (this.THt("setPlaybackRate", t), this) : this.gVt && this.gVt.featuresPlaybackRate ? this.gHt("playbackRate") : 1 }, n.prototype.isAudio = function (t) { return void 0 !== t ? (this.CHt = !!t, this) : !!this.CHt }, n.prototype.videoTracks = function () { return this.gVt ? this.gVt.videoTracks() : (this.Tg = this.Tg || new $.default, this.Tg) }, n.prototype.audioTracks = function () { return this.gVt ? this.gVt.audioTracks() : (this.og = this.og || new W.default, this.og) }, n.prototype.textTracks = function () { if (this.gVt) return this.gVt.textTracks() }, n.prototype.remoteTextTracks = function () { if (this.gVt) return this.gVt.remoteTextTracks() }, n.prototype.remoteTextTrackEls = function () { if (this.gVt) return this.gVt.remoteTextTrackEls() }, n.prototype.addTextTrack = function (t, n, i) { if (this.gVt) return this.gVt.addTextTrack(t, n, i) }, n.prototype.addRemoteTextTrack = function (t, n) { if (this.gVt) return this.gVt.addRemoteTextTrack(t, n) }, n.prototype.removeRemoteTextTrack = function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, n = t.track, i = void 0 === n ? arguments[0] : n; if (this.gVt) return this.gVt.removeRemoteTextTrack(i) }, n.prototype.getVideoPlaybackQuality = function () { return this.gHt("getVideoPlaybackQuality") }, n.prototype.videoWidth = function () { return this.gVt && this.gVt.videoWidth && this.gVt.videoWidth() || 0 }, n.prototype.videoHeight = function () { return this.gVt && this.gVt.videoHeight && this.gVt.videoHeight() || 0 }, n.prototype.language = function (t) { return void 0 === t ? this.Gf : (this.Gf = String(t).toLowerCase(), this) }, n.prototype.languages = function () { return (0, j.default)(n.prototype.aVt.languages, this.BVt) }, n.prototype.toJSON = function () { var t = (0, j.default)(this.aVt), n = t.tracks; t.tracks = []; for (var i = 0; i < n.length; i++) { var e = n[i]; (e = (0, j.default)(e)).player = void 0, t.tracks[i] = e } return t }, n.prototype.createModal = function (t, n) { var i = this; (n = n || {}).content = t || ""; var e = new H.default(this, n); return this.addChild(e), e.on("dispose", function () { i.removeChild(e) }), e.open() }, n.getTagSettings = function (t) { var n = { sources: [], tracks: [] }, i = h.getElAttributes(t), e = i["data-setup"]; if (h.hasElClass(t, "vjs-fluid") && (i.fluid = !0), null !== e) { var r = (0, P.default)(e || "{}"), s = r[0], u = r[1]; s && A.default.error(s), (0, M.assign)(i, u) } if ((0, M.assign)(n, i), t.hasChildNodes()) for (var o = t.childNodes, a = 0, c = o.length; a < c; a++) { var f = o[a], v = f.nodeName.toLowerCase(); "source" === v ? n.sources.push(h.getElAttributes(f)) : "track" === v && n.tracks.push(h.getElAttributes(f)) } return n }, n.prototype.LVt = function () { var t = s.document.createElement("i"); return !("flexBasis" in t.style || "webkitFlexBasis" in t.style || "mozFlexBasis" in t.style || "msFlexBasis" in t.style || "msFlexOrder" in t.style) }, n }(r.default); K.players = {}; var J = s.window.navigator; K.prototype.aVt = { techOrder: ["html5", "flash"], html5: {}, flash: {}, defaultVolume: 0, inactivityTimeout: 2e3, playbackRates: [], children: ["mediaLoader", "posterImage", "textTrackDisplay", "loadingSpinner", "bigPlayButton", "controlBar", "errorDisplay", "textTrackSettings"], language: J && (J.languages && J.languages[0] || J.userLanguage || J.language) || "en", languages: {}, notSupportedMessage: "No compatible source was found for this media." }, ["ended", "seeking", "seekable", "networkState", "readyState"].forEach(function (t) { K.prototype[t] = function () { return this.gHt(t) } }), Z.forEach(function (t) { K.prototype["handleTech" + (0, S.default)(t) + "_"] = function () { return this.trigger(t) } }), r.default.registerComponent("Player", K), i.default = K }, { 1: 1, 116: 116, 4: 4, 41: 41, 44: 44, 45: 45, 46: 46, 5: 5, 50: 50, 55: 55, 59: 59, 60: 60, 61: 61, 62: 62, 63: 63, 68: 68, 69: 69, 71: 71, 76: 76, 78: 78, 79: 79, 8: 8, 81: 81, 82: 82, 83: 83, 85: 85, 86: 86, 87: 87, 88: 88, 89: 89, 90: 90, 91: 91, 92: 92 }], 52: [function (t, n, i) { i.__esModule = !0; var e, r = t(51), s = (e = r) && e.__esModule ? e : { default: e }; i.default = function (t, n) { s.default.prototype[t] = n } }, { 51: 51 }], 53: [function (t, n, i) { i.__esModule = !0; var e = t(3), r = o(e), s = t(5), u = o(s); function o(t) { return t && t.__esModule ? t : { default: t } } var a = function (t) { function n(i) { var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var r = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)); return r.update(), r } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.update = function () { var t = this.createPopup(); this.popup && this.removeChild(this.popup), this.popup = t, this.addChild(t), this.items && 0 === this.items.length ? this.hide() : this.items && this.items.length > 1 && this.show() }, n.prototype.createPopup = function () { }, n.prototype.createEl = function () { return t.prototype.createEl.call(this, "div", { className: this.buildCSSClass() }) }, n.prototype.buildCSSClass = function () { var n = "vjs-menu-button"; return !0 === this.aVt.inline ? n += "-inline" : n += "-popup", "vjs-menu-button " + n + " " + t.prototype.buildCSSClass.call(this) }, n }(r.default); u.default.registerComponent("PopupButton", a), i.default = a }, { 3: 3, 5: 5 }], 54: [function (t, n, i) { i.__esModule = !0; var e, r = t(5), s = (e = r) && e.__esModule ? e : { default: e }, u = t(81), o = v(u), a = t(83), h = v(a), c = t(82), f = v(c); function v(t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n } var d = function (t) { function n() { return function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n), function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.apply(this, arguments)) } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.addItem = function (t) { this.addChild(t), t.on("click", h.bind(this, function () { this.unlockShowing() })) }, n.prototype.createEl = function () { var n = this.aVt.contentElType || "ul"; this.vVt = o.createEl(n, { className: "vjs-menu-content" }); var i = t.prototype.createEl.call(this, "div", { append: this.vVt, className: "vjs-menu" }); return i.appendChild(this.vVt), f.on(i, "click", function (t) { t.preventDefault(), t.stopImmediatePropagation() }), i }, n }(s.default); s.default.registerComponent("Popup", d), i.default = d }, { 5: 5, 81: 81, 82: 82, 83: 83 }], 55: [function (t, n, i) { i.__esModule = !0; var e = t(3), r = _(e), s = t(5), u = _(s), o = t(83), a = d(o), h = t(81), c = d(h), f = t(78), v = d(f); function d(t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n } function _(t) { return t && t.__esModule ? t : { default: t } } var w = function (t) { function n(i, e) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var r = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)); return r.update(), i.on("posterchange", a.bind(r, r.update)), r } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.dispose = function () { this.player().off("posterchange", this.update), t.prototype.dispose.call(this) }, n.prototype.createEl = function () { var t = c.createEl("div", { className: "vjs-poster", tabIndex: -1 }); return v.BACKGROUND_SIZE_SUPPORTED || (this.DHt = c.createEl("img"), t.appendChild(this.DHt)), t }, n.prototype.update = function (t) { var n = this.player().poster(); this.setSrc(n), n ? this.show() : this.hide() }, n.prototype.setSrc = function (t) { if (this.DHt) this.DHt.src = t; else { var n = ""; t && (n = 'url("' + t + '")'), this.sVt.style.backgroundImage = n } }, n.prototype.handleClick = function (t) { this.C_.controls() && (this.C_.paused() ? this.C_.play() : this.C_.pause()) }, n }(r.default); u.default.registerComponent("PosterImage", w), i.default = w }, { 3: 3, 5: 5, 78: 78, 81: 81, 83: 83 }], 56: [function (t, n, i) { i.__esModule = !0, i.hasLoaded = i.autoSetupTimeout = i.autoSetup = void 0; var e = t(81), r = a(e), s = t(82), u = a(s), o = t(85); function a(t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n } var h = !1, c = void 0, f = function () { if (r.isReal()) { var t = o.document.getElementsByTagName("video"), n = o.document.getElementsByTagName("audio"), i = []; if (t && t.length > 0) for (var e = 0, s = t.length; e < s; e++)i.push(t[e]); if (n && n.length > 0) for (var u = 0, a = n.length; u < a; u++)i.push(n[u]); if (i && i.length > 0) for (var f = 0, l = i.length; f < l; f++) { var d = i[f]; if (!d || !d.getAttribute) { v(1); break } if (void 0 === d.player) { var g = d.getAttribute("data-setup"); null !== g && c(d) } } else h || v(1) } }; function v(t, n) { n && (c = n), o.window.setTimeout(f, t) } r.isReal() && "complete" === o.document.readyState ? h = !0 : u.one(o.window, "load", function () { h = !0 }), i.autoSetup = f, i.autoSetupTimeout = v, i.hasLoaded = function () { return h } }, { 81: 81, 82: 82, 85: 85 }], 57: [function (t, n, i) { i.__esModule = !0; var e, r = t(5), s = (e = r) && e.__esModule ? e : { default: e }, u = t(81), o = function (t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n }(u), a = t(89), h = function (t) { function n(i, e) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var r = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)); return r.bar = r.getChild(r.aVt.barName), r.vertical(!!r.aVt.vertical), r.on("mousedown", r.handleMouseDown), r.on("touchstart", r.handleMouseDown), r.on("focus", r.handleFocus), r.on("blur", r.handleBlur), r.on("click", r.handleClick), r.on(i, "controlsvisible", r.update), r.on(i, r.playerEvent, r.update), r } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.createEl = function (n) { var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, e = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}; return i.className = i.className + " vjs-slider", i = (0, a.assign)({ tabIndex: 0 }, i), e = (0, a.assign)({ role: "slider", "aria-valuenow": 0, "aria-valuemin": 0, "aria-valuemax": 100, tabIndex: 0 }, e), t.prototype.createEl.call(this, n, i, e) }, n.prototype.handleMouseDown = function (t) { var n = this.bar.sVt.ownerDocument; t.preventDefault(), o.blockTextSelection(), this.addClass("vjs-sliding"), this.trigger("slideractive"), this.on(n, "mousemove", this.handleMouseMove), this.on(n, "mouseup", this.handleMouseUp), this.on(n, "touchmove", this.handleMouseMove), this.on(n, "touchend", this.handleMouseUp), this.handleMouseMove(t) }, n.prototype.handleMouseMove = function (t) { }, n.prototype.handleMouseUp = function () { var t = this.bar.sVt.ownerDocument; o.unblockTextSelection(), this.removeClass("vjs-sliding"), this.trigger("sliderinactive"), this.off(t, "mousemove", this.handleMouseMove), this.off(t, "mouseup", this.handleMouseUp), this.off(t, "touchmove", this.handleMouseMove), this.off(t, "touchend", this.handleMouseUp), this.update() }, n.prototype.update = function () { if (this.sVt) { var t = this.getPercent(), n = this.bar; if (n) { ("number" != typeof t || t != t || t < 0 || t === 1 / 0) && (t = 0); var i = (100 * t).toFixed(2) + "%"; this.vertical() ? n.el().style.height = i : n.el().style.width = i } } }, n.prototype.calculateDistance = function (t) { var n = o.getPointerPosition(this.sVt, t); return this.vertical() ? n.y : n.x }, n.prototype.handleFocus = function () { this.on(this.bar.sVt.ownerDocument, "keydown", this.handleKeyPress) }, n.prototype.handleKeyPress = function (t) { 37 === t.which || 40 === t.which ? (t.preventDefault(), this.stepBack()) : 38 !== t.which && 39 !== t.which || (t.preventDefault(), this.stepForward()) }, n.prototype.handleBlur = function () { this.off(this.bar.sVt.ownerDocument, "keydown", this.handleKeyPress) }, n.prototype.handleClick = function (t) { t.stopImmediatePropagation(), t.preventDefault() }, n.prototype.vertical = function (t) { return void 0 === t ? this._M || !1 : (this._M = !!t, this._M ? this.addClass("vjs-slider-vertical") : this.addClass("vjs-slider-horizontal"), this) }, n }(s.default); s.default.registerComponent("Slider", h), i.default = h }, { 5: 5, 81: 81, 89: 89 }], 58: [function (t, n, i) { i.__esModule = !0, i.default = function (t) { return t.streamingFormats = { "rtmp/mp4": "MP4", "rtmp/flv": "FLV" }, t.streamFromParts = function (t, n) { return t + "&" + n }, t.streamToParts = function (t) { var n = { connection: "", stream: "" }; if (!t) return n; var i = t.search(/&(?!\w+=)/), e = void 0; return -1 !== i ? e = i + 1 : 0 === (i = e = t.lastIndexOf("/") + 1) && (i = e = t.length), n.connection = t.substring(0, i), n.stream = t.substring(e, t.length), n }, t.isStreamingType = function (n) { return n in t.streamingFormats }, t.RTMP_RE = /^rtmp[set]?:\/\//i, t.isStreamingSrc = function (n) { return t.RTMP_RE.test(n) }, t.rtmpSourceHandler = {}, t.rtmpSourceHandler.canPlayType = function (n) { return t.isStreamingType(n) ? "maybe" : "" }, t.rtmpSourceHandler.canHandleSource = function (n, i) { var e = t.rtmpSourceHandler.canPlayType(n.type); return e || (t.isStreamingSrc(n.src) ? "maybe" : "") }, t.rtmpSourceHandler.handleSource = function (n, i, e) { var r = t.streamToParts(n.src); i.setRtmpConnection(r.connection), i.setRtmpStream(r.stream) }, t.registerSourceHandler(t.rtmpSourceHandler), t } }, {}], 59: [function (t, n, i) { i.__esModule = !0; var e = t(62), r = p(e), s = t(81), u = y(s), o = t(93), a = y(o), h = t(91), c = t(58), f = p(c), v = t(5), d = p(v), _ = t(85), w = t(89); function y(t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n } function p(t) { return t && t.__esModule ? t : { default: t } } var m = _.window.navigator, k = function (t) { function n(i, e) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var r = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)); return i.source && r.ready(function () { this.setSource(i.source) }, !0), i.startTime && r.ready(function () { this.load(), this.play(), this.currentTime(i.startTime) }, !0), _.window.videojs = _.window.videojs || {}, _.window.videojs.Flash = _.window.videojs.Flash || {}, _.window.videojs.Flash.onReady = n.onReady, _.window.videojs.Flash.onEvent = n.onEvent, _.window.videojs.Flash.onError = n.onError, r.on("seeked", function () { this.xHt = void 0 }), r } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.createEl = function () { var t = this.aVt; t.swf || (t.swf = "//vjs.zencdn.net/swf/5.4.1/video-js.swf"); var i = t.techId, e = (0, w.assign)({ readyFunction: "videojs.Flash.onReady", eventProxyFunction: "videojs.Flash.onEvent", errorEventProxyFunction: "videojs.Flash.onError", autoplay: t.autoplay, preload: t.preload, loop: t.loop, muted: t.muted }, t.flashVars), r = (0, w.assign)({ wmode: "opaque", bgcolor: "#000000" }, t.params), s = (0, w.assign)({ id: i, name: i, class: "vjs-tech" }, t.attributes); return this.sVt = n.embed(t.swf, e, r, s), this.sVt.tech = this, this.sVt }, n.prototype.play = function () { this.ended() && this.setCurrentTime(0), this.sVt.vjs_play() }, n.prototype.pause = function () { this.sVt.vjs_pause() }, n.prototype.src = function (t) { return void 0 === t ? this.currentSrc() : this.setSrc(t) }, n.prototype.setSrc = function (t) { var n = this; t = a.getAbsoluteURL(t), this.sVt.vjs_src(t), this.autoplay() && this.setTimeout(function () { return n.play() }, 0) }, n.prototype.seeking = function () { return void 0 !== this.xHt }, n.prototype.setCurrentTime = function (n) { var i = this.seekable(); i.length && (n = (n = n > i.start(0) ? n : i.start(0)) < i.end(i.length - 1) ? n : i.end(i.length - 1), this.xHt = n, this.trigger("seeking"), this.sVt.vjs_setProperty("currentTime", n), t.prototype.setCurrentTime.call(this)) }, n.prototype.currentTime = function () { return this.seeking() ? this.xHt || 0 : this.sVt.vjs_getProperty("currentTime") }, n.prototype.currentSrc = function () { return this.fg ? this.fg.src : this.sVt.vjs_getProperty("currentSrc") }, n.prototype.duration = function () { if (0 === this.readyState()) return NaN; var t = this.sVt.vjs_getProperty("duration"); return t >= 0 ? t : 1 / 0 }, n.prototype.load = function () { this.sVt.vjs_load() }, n.prototype.poster = function () { this.sVt.vjs_getProperty("poster") }, n.prototype.setPoster = function () { }, n.prototype.seekable = function () { var t = this.duration(); return 0 === t ? (0, h.createTimeRange)() : (0, h.createTimeRange)(0, t) }, n.prototype.buffered = function () { var t = this.sVt.vjs_getProperty("buffered"); return 0 === t.length ? (0, h.createTimeRange)() : (0, h.createTimeRange)(t[0][0], t[0][1]) }, n.prototype.supportsFullScreen = function () { return !1 }, n.prototype.enterFullScreen = function () { return !1 }, n.prototype.getVideoPlaybackQuality = function () { var t = this.sVt.vjs_getProperty("getVideoPlaybackQuality"); return _.window.performance && "function" == typeof _.window.performance.now ? t.creationTime = _.window.performance.now() : _.window.performance && _.window.performance.timing && "number" == typeof _.window.performance.timing.navigationStart && (t.creationTime = _.window.Date.now() - _.window.performance.timing.navigationStart), t }, n }(r.default), b = k.prototype, A = "rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","), T = "networkState,readyState,initialTime,startOffsetTime,paused,ended,videoWidth,videoHeight".split(","); function S(t) { var n = t.charAt(0).toUpperCase() + t.slice(1); b["set" + n] = function (n) { return this.sVt.vjs_setProperty(t, n) } } function E(t) { b[t] = function () { return this.sVt.vjs_getProperty(t) } } for (var I = 0; I < A.length; I++)E(A[I]), S(A[I]); for (var R = 0; R < T.length; R++)E(T[R]); k.isSupported = function () { return k.version()[0] >= 10 }, r.default.withSourceHandlers(k), k.nativeSourceHandler = {}, k.nativeSourceHandler.canPlayType = function (t) { return t in k.formats ? "maybe" : "" }, k.nativeSourceHandler.canHandleSource = function (t, n) { var i, e, r = void 0; return r = t.type ? t.type.replace(/;.*/, "").toLowerCase() : (i = t.src, (e = a.getFileExtension(i)) ? "video/" + e : ""), k.nativeSourceHandler.canPlayType(r) }, k.nativeSourceHandler.handleSource = function (t, n, i) { n.setSrc(t.src) }, k.nativeSourceHandler.dispose = function () { }, k.registerSourceHandler(k.nativeSourceHandler), k.formats = { "video/flv": "FLV", "video/x-flv": "FLV", "video/mp4": "MP4", "video/m4v": "MP4" }, k.onReady = function (t) { var n = u.getEl(t), i = n && n.tech; i && i.el() && k.checkReady(i) }, k.checkReady = function (t) { t.el() && (t.el().vjs_getProperty ? t.triggerReady() : this.setTimeout(function () { k.checkReady(t) }, 50)) }, k.onEvent = function (t, n) { var i = u.getEl(t).tech, e = Array.prototype.slice.call(arguments, 2); i.setTimeout(function () { i.trigger(n, e) }, 1) }, k.onError = function (t, n) { var i = u.getEl(t).tech; if ("srcnotfound" === n) return i.error(4); i.error("FLASH: " + n) }, k.version = function () { var t = "0,0,0"; try { t = new _.window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g, ",").match(/^,?(.+),?$/)[1] } catch (n) { try { m.mimeTypes["application/x-shockwave-flash"].enabledPlugin && (t = (m.plugins["Shockwave Flash 2.0"] || m.plugins["Shockwave Flash"]).description.replace(/\D+/g, ",").match(/^,?(.+),?$/)[1]) } catch (t) { } } return t.split(",") }, k.embed = function (t, n, i, e) { var r = k.getEmbedCode(t, n, i, e), s = u.createEl("div", { innerHTML: r }).childNodes[0]; return s }, k.getEmbedCode = function (t, n, i, e) { var r = "", s = "", u = ""; return n && g.getOwnPropertyNames(n).forEach(function (t) { r += t + "=" + n[t] + "&amp;" }), i = (0, w.assign)({ movie: t, flashvars: r, allowScriptAccess: "always", allowNetworking: "all" }, i), g.getOwnPropertyNames(i).forEach(function (t) { s += '<param name="' + t + '" value="' + i[t] + '" />' }), e = (0, w.assign)({ data: t, width: "100%", height: "100%" }, e), g.getOwnPropertyNames(e).forEach(function (t) { u += t + '="' + e[t] + '" ' }), '<object type="application/x-shockwave-flash" ' + u + ">" + s + "</object>" }, (0, f.default)(k), d.default.registerComponent("Flash", k), r.default.registerTech("Flash", k), i.default = k }, { 5: 5, 58: 58, 62: 62, 81: 81, 85: 85, 89: 89, 91: 91, 93: 93 }], 60: [function (t, n, i) { i.__esModule = !0; var e, r = ((e = ["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]).raw = ["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."], e), s = t(62), u = N(s), o = t(5), a = N(o), h = t(81), c = C(h), f = t(93), v = C(f), d = t(83), _ = C(d), w = t(87), y = N(w), p = t(121), m = N(p), k = t(78), b = C(k), A = t(85), T = t(89), S = t(88), E = N(S), I = t(92), R = N(I); function C(t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n } function N(t) { return t && t.__esModule ? t : { default: t } } var D = function (t) { function n(i, e) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var s = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)), u = i.source, o = !1; if (u && (s.sVt.currentSrc !== u.src || i.tag && 3 === i.tag.GVt) ? s.setSource(u) : s.OHt(s.sVt), s.sVt.hasChildNodes()) { for (var a = s.sVt.childNodes, h = a.length, c = []; h--;) { var f = a[h], d = f.nodeName.toLowerCase(); "track" === d && (s.featuresNativeTextTracks ? (s.remoteTextTrackEls().BHt(f), s.remoteTextTracks().pf(f.track), o || s.sVt.hasAttribute("crossorigin") || !v.isCrossOrigin(f.src) || (o = !0)) : c.push(f)) } for (var g = 0; g < c.length; g++)s.sVt.removeChild(c[g]) } return ["audio", "video"].forEach(function (t) { var n = s.el()[t + "Tracks"], i = s[t + "Tracks"](), e = (0, R.default)(t); s["featuresNative" + e + "Tracks"] && n && n.addEventListener && (s["handle" + e + "PHt"] = function (t) { i.trigger({ type: "change", target: i, currentTarget: i, srcElement: i }) }, s["handle" + e + "MHt"] = function (t) { return i.addTrack(t.track) }, s["handle" + e + "LHt"] = function (t) { return i.removeTrack(t.track) }, n.addEventListener("change", s["handle" + e + "PHt"]), n.addEventListener("addtrack", s["handle" + e + "MHt"]), n.addEventListener("removetrack", s["handle" + e + "LHt"]), s["removeOld" + e + "jHt"] = function (t) { return s.FHt(i, n) }, s.on("loadstart", s["removeOld" + e + "jHt"])) }), s.featuresNativeTextTracks && (o && y.default.warn((0, m.default)(r)), s.UHt = _.bind(s, s.handleTextTrackChange), s.VHt = _.bind(s, s.handleTextTrackAdd), s.HHt = _.bind(s, s.handleTextTrackRemove), s.GHt()), s.zHt(), (b.TOUCH_ENABLED || b.IS_IPHONE || b.IS_NATIVE_ANDROID) && !0 === i.nativeControlsForTouch && s.setControls(!0), s.qHt(), s.triggerReady(), s } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.dispose = function () { var i = this;["audio", "video", "text"].forEach(function (t) { var n = (0, R.default)(t), e = i.sVt[t + "Tracks"]; e && e.removeEventListener && (e.removeEventListener("change", i["handle" + n + "PHt"]), e.removeEventListener("addtrack", i["handle" + n + "MHt"]), e.removeEventListener("removetrack", i["handle" + n + "LHt"])), e && i.off("loadstart", i["removeOld" + n + "jHt"]) }), n.disposeMediaElement(this.sVt), t.prototype.dispose.call(this) }, n.prototype.zHt = function () { var t = this.textTracks(), n = void 0, i = function () { n = []; for (var i = 0; i < t.length; i++) { var e = t[i]; "metadata" === e.kind && n.push({ track: e, storedMode: e.mode }) } }; i(), t.addEventListener("change", i); var e = function i() { for (var e = 0; e < n.length; e++) { var r = n[e]; "disabled" === r.track.mode && r.track.mode !== r.storedMode && (r.track.mode = r.storedMode) } t.removeEventListener("change", i) }; this.on("webkitbeginfullscreen", function () { t.removeEventListener("change", i), t.removeEventListener("change", e), t.addEventListener("change", e) }), this.on("webkitendfullscreen", function () { t.removeEventListener("change", i), t.addEventListener("change", i), t.removeEventListener("change", e) }) }, n.prototype.createEl = function () { var t = this.aVt.tag; if (!t || !this.aVt.playerElIngest && !this.movingMediaElementInDOM) { if (t) { var i = t.cloneNode(!0); t.parentNode && t.parentNode.insertBefore(i, t), n.disposeMediaElement(t), t = i } else { t = A.document.createElement("video"); var e = this.aVt.tag && c.getElAttributes(this.aVt.tag), r = (0, E.default)({}, e); b.TOUCH_ENABLED && !0 === this.aVt.nativeControlsForTouch || delete r.controls, c.setElAttributes(t, (0, T.assign)(r, { id: this.aVt.techId, class: "vjs-tech" })) } t.playerId = this.aVt.playerId } void 0 !== this.aVt.preload && c.setAttribute(t, "preload", this.aVt.preload); for (var s = ["loop", "muted", "playsinline", "autoplay"], u = s.length - 1; u >= 0; u--) { var o = s[u], a = this.aVt[o]; void 0 !== a && (a ? c.setAttribute(t, o, o) : c.removeAttribute(t, o), t[o] = a) } return t }, n.prototype.OHt = function (t) { if (0 !== t.networkState && 3 !== t.networkState) { if (0 === t.readyState) { var n = !1, i = function () { n = !0 }; this.on("loadstart", i); var e = function () { n || this.trigger("loadstart") }; return this.on("loadedmetadata", e), void this.ready(function () { this.off("loadstart", i), this.off("loadedmetadata", e), n || this.trigger("loadstart") }) } var r = ["loadstart"]; r.push("loadedmetadata"), t.readyState >= 2 && r.push("loadeddata"), t.readyState >= 3 && r.push("canplay"), t.readyState >= 4 && r.push("canplaythrough"), this.ready(function () { r.forEach(function (t) { this.trigger(t) }, this) }) } }, n.prototype.GHt = function () { var t = this.el().textTracks; if (t) { for (var n = 0; n < t.length; n++)this.textTracks().pf(t[n]); t.addEventListener && (t.addEventListener("change", this.UHt), t.addEventListener("addtrack", this.VHt), t.addEventListener("removetrack", this.HHt)), this.on("loadstart", this.WHt) } }, n.prototype.handleTextTrackChange = function (t) { var n = this.textTracks(); this.textTracks().trigger({ type: "change", target: n, currentTarget: n, srcElement: n }) }, n.prototype.handleTextTrackAdd = function (t) { this.textTracks().pf(t.track) }, n.prototype.handleTextTrackRemove = function (t) { this.textTracks().kf(t.track) }, n.prototype.FHt = function (t, n) { var i = []; if (n) { for (var e = 0; e < t.length; e++) { for (var r = t[e], s = !1, u = 0; u < n.length; u++)if (n[u] === r) { s = !0; break } s || i.push(r) } for (var o = 0; o < i.length; o++) { var a = i[o]; t.kf(a) } } }, n.prototype.WHt = function (t) { var n = this.textTracks(), i = this.el().textTracks; this.FHt(n, i) }, n.prototype.play = function () { var t = this.sVt.play(); void 0 !== t && "function" == typeof t.then && t.then(null, function (t) { }) }, n.prototype.setCurrentTime = function (t) { try { this.sVt.currentTime = t } catch (t) { (0, y.default)(t, "Video is not ready. (Video.js)") } }, n.prototype.duration = function () { var t = this; return this.sVt.duration === 1 / 0 && b.IS_ANDROID && b.IS_CHROME && 0 === this.sVt.currentTime ? (this.on("timeupdate", function n() { t.sVt.currentTime > 0 && (t.sVt.duration === 1 / 0 && t.trigger("durationchange"), t.off("timeupdate", n)) }), NaN) : this.sVt.duration || NaN }, n.prototype.width = function () { return this.sVt.offsetWidth }, n.prototype.height = function () { return this.sVt.offsetHeight }, n.prototype.qHt = function () { var t = this; if ("webkitDisplayingFullscreen" in this.sVt) { var n = function () { this.trigger("fullscreenchange", { isFullscreen: !1 }) }, i = function () { "webkitPresentationMode" in this.sVt && "picture-in-picture" !== this.sVt.webkitPresentationMode && (this.one("webkitendfullscreen", n), this.trigger("fullscreenchange", { isFullscreen: !0 })) }; this.on("webkitbeginfullscreen", i), this.on("dispose", function () { t.off("webkitbeginfullscreen", i), t.off("webkitendfullscreen", n) }) } }, n.prototype.supportsFullScreen = function () { if ("function" == typeof this.sVt.webkitEnterFullScreen) { var t = A.window.navigator && A.window.navigator.userAgent || ""; if (/Android/.test(t) || !/Chrome|Mac OS X 10.5/.test(t)) return !0 } return !1 }, n.prototype.enterFullScreen = function () { var t = this.sVt; t.paused && t.networkState <= t.HAVE_METADATA ? (this.sVt.play(), this.setTimeout(function () { t.pause(), t.webkitEnterFullScreen() }, 0)) : t.webkitEnterFullScreen() }, n.prototype.exitFullScreen = function () { this.sVt.webkitExitFullScreen() }, n.prototype.src = function (t) { if (void 0 === t) return this.sVt.src; this.setSrc(t) }, n.prototype.reset = function () { n.resetMediaElement(this.sVt) }, n.prototype.currentSrc = function () { return this.fg ? this.fg.src : this.sVt.currentSrc }, n.prototype.setControls = function (t) { this.sVt.controls = !!t }, n.prototype.addTextTrack = function (n, i, e) { return this.featuresNativeTextTracks ? this.sVt.addTextTrack(n, i, e) : t.prototype.addTextTrack.call(this, n, i, e) }, n.prototype.createRemoteTextTrack = function (n) { if (!this.featuresNativeTextTracks) return t.prototype.createRemoteTextTrack.call(this, n); var i = A.document.createElement("track"); return n.kind && (i.kind = n.kind), n.label && (i.label = n.label), (n.language || n.srclang) && (i.srclang = n.language || n.srclang), n.default && (i.default = n.default), n.id && (i.id = n.id), n.src && (i.src = n.src), i }, n.prototype.addRemoteTextTrack = function (n, i) { var e = t.prototype.addRemoteTextTrack.call(this, n, i); return this.featuresNativeTextTracks && this.el().appendChild(e), e }, n.prototype.removeRemoteTextTrack = function (n) { if (t.prototype.removeRemoteTextTrack.call(this, n), this.featuresNativeTextTracks) for (var i = this.$$("track"), e = i.length; e--;)n !== i[e] && n !== i[e].track || this.el().removeChild(i[e]) }, n.prototype.getVideoPlaybackQuality = function () { if ("function" == typeof this.el().getVideoPlaybackQuality) return this.el().getVideoPlaybackQuality(); var t = {}; return void 0 !== this.el().webkitDroppedFrameCount && void 0 !== this.el().webkitDecodedFrameCount && (t.droppedVideoFrames = this.el().webkitDroppedFrameCount, t.totalVideoFrames = this.el().webkitDecodedFrameCount), A.window.performance && "function" == typeof A.window.performance.now ? t.creationTime = A.window.performance.now() : A.window.performance && A.window.performance.timing && "number" == typeof A.window.performance.timing.navigationStart && (t.creationTime = A.window.Date.now() - A.window.performance.timing.navigationStart), t }, n }(u.default); if (c.isReal()) { D.TEST_VID = A.document.createElement("video"); var x = A.document.createElement("track"); x.kind = "captions", x.srclang = "en", x.label = "English", D.TEST_VID.appendChild(x) } D.isSupported = function () { try { D.TEST_VID.volume = .5 } catch (t) { return !1 } return !(!D.TEST_VID || !D.TEST_VID.canPlayType) }, D.canControlVolume = function () { try { var t = D.TEST_VID.volume; return D.TEST_VID.volume = t / 2 + .1, t !== D.TEST_VID.volume } catch (t) { return !1 } }, D.canControlPlaybackRate = function () { if (b.IS_ANDROID && b.IS_CHROME && b.CHROME_VERSION < 58) return !1; try { var t = D.TEST_VID.playbackRate; return D.TEST_VID.playbackRate = t / 2 + .1, t !== D.TEST_VID.playbackRate } catch (t) { return !1 } }, D.supportsNativeTextTracks = function () { return b.IS_ANY_SAFARI }, D.supportsNativeVideoTracks = function () { return !(!D.TEST_VID || !D.TEST_VID.videoTracks) }, D.supportsNativeAudioTracks = function () { return !(!D.TEST_VID || !D.TEST_VID.audioTracks) }, D.Events = ["loadstart", "suspend", "abort", "error", "emptied", "stalled", "loadedmetadata", "loadeddata", "canplay", "canplaythrough", "playing", "waiting", "seeking", "seeked", "ended", "durationchange", "timeupdate", "progress", "play", "pause", "ratechange", "volumechange"], D.prototype.featuresVolumeControl = D.canControlVolume(), D.prototype.featuresPlaybackRate = D.canControlPlaybackRate(), D.prototype.movingMediaElementInDOM = !b.IS_IOS, D.prototype.featuresFullscreenResize = !0, D.prototype.featuresProgressEvents = !0, D.prototype.featuresTimeupdateEvents = !0, D.prototype.featuresNativeTextTracks = D.supportsNativeTextTracks(), D.prototype.featuresNativeVideoTracks = D.supportsNativeVideoTracks(), D.prototype.featuresNativeAudioTracks = D.supportsNativeAudioTracks(); var B = D.TEST_VID && D.TEST_VID.constructor.prototype.canPlayType, O = /^application\/(?:x-|vnd\.apple\.)mpegurl/i, P = /^video\/mp4/i; D.patchCanPlayType = function () { b.ANDROID_VERSION >= 4 && !b.IS_FIREFOX ? D.TEST_VID.constructor.prototype.canPlayType = function (t) { return t && O.test(t) ? "maybe" : B.call(this, t) } : b.IS_OLD_ANDROID && (D.TEST_VID.constructor.prototype.canPlayType = function (t) { return t && P.test(t) ? "maybe" : B.call(this, t) }) }, D.unpatchCanPlayType = function () { var t = D.TEST_VID.constructor.prototype.canPlayType; return D.TEST_VID.constructor.prototype.canPlayType = B, t }, D.patchCanPlayType(), D.disposeMediaElement = function (t) { if (t) { var n = t.nodeName.toLowerCase(); if ("video" === n || "audio" === n) { for (t.parentNode && t.parentNode.removeChild(t); t.hasChildNodes();)t.removeChild(t.firstChild); t.removeAttribute("src"), "function" == typeof t.load && function () { try { t.load() } catch (t) { } }() } } }, D.resetMediaElement = function (t) { if (t) { for (var n = t.querySelectorAll("source"), i = n.length; i--;)t.removeChild(n[i]); t.removeAttribute("src"), "function" == typeof t.load && function () { try { t.load() } catch (t) { } }() } }, ["muted", "defaultMuted", "autoplay", "controls", "loop", "playsinline"].forEach(function (t) { D.prototype[t] = function () { return this.sVt[t] || this.sVt.hasAttribute(t) } }), ["muted", "defaultMuted", "autoplay", "loop", "playsinline"].forEach(function (t) { D.prototype["set" + (0, R.default)(t)] = function (n) { this.sVt[t] = n, n ? this.sVt.setAttribute(t, t) : this.sVt.removeAttribute(t) } }), ["paused", "currentTime", "buffered", "volume", "poster", "preload", "error", "seeking", "seekable", "ended", "playbackRate", "played", "networkState", "readyState", "videoWidth", "videoHeight"].forEach(function (t) { D.prototype[t] = function () { return this.sVt[t] } }), ["volume", "src", "poster", "preload", "playbackRate"].forEach(function (t) { D.prototype["set" + (0, R.default)(t)] = function (n) { this.sVt[t] = n } }), ["pause", "load"].forEach(function (t) { D.prototype[t] = function () { return this.sVt[t]() } }), u.default.withSourceHandlers(D), D.nativeSourceHandler = {}, D.nativeSourceHandler.canPlayType = function (t) { try { return D.TEST_VID.canPlayType(t) } catch (t) { return "" } }, D.nativeSourceHandler.canHandleSource = function (t, n) { if (t.type) return D.nativeSourceHandler.canPlayType(t.type); if (t.src) { var i = v.getFileExtension(t.src); return D.nativeSourceHandler.canPlayType("video/" + i) } return "" }, D.nativeSourceHandler.handleSource = function (t, n, i) { n.setSrc(t.src) }, D.nativeSourceHandler.dispose = function () { }, D.registerSourceHandler(D.nativeSourceHandler), a.default.registerComponent("Html5", D), u.default.registerTech("Html5", D), i.default = D }, { 121: 121, 5: 5, 62: 62, 78: 78, 81: 81, 83: 83, 85: 85, 87: 87, 88: 88, 89: 89, 92: 92, 93: 93 }], 61: [function (t, n, i) { i.__esModule = !0; var e = t(5), r = h(e), s = t(62), u = h(s), o = t(92), a = h(o); function h(t) { return t && t.__esModule ? t : { default: t } } var c = function (t) { function n(i, e, s) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var o = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e, s)); if (e.playerOptions.sources && 0 !== e.playerOptions.sources.length) i.src(e.playerOptions.sources); else for (var h = 0, c = e.playerOptions.techOrder; h < c.length; h++) { var f = (0, a.default)(c[h]), v = u.default.getTech(f); if (f || (v = r.default.getComponent(f)), v && v.isSupported()) { i.XVt(f); break } } return o } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n }(r.default); r.default.registerComponent("MediaLoader", c), i.default = c }, { 5: 5, 62: 62, 92: 92 }], 62: [function (t, n, i) { i.__esModule = !0; var e = t(5), r = x(e), s = t(66), u = x(s), o = t(65), a = x(o), h = t(88), c = x(h), f = t(72), d = x(f), _ = t(70), w = x(_), y = t(76), p = x(y), m = t(63), k = x(m), b = t(83), A = function (t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n }(b), T = t(87), S = x(T), E = t(91), I = t(79), R = t(46), C = x(R), N = t(85), D = t(89); function x(t) { return t && t.__esModule ? t : { default: t } } var B = function (t) { function n() { var i = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : function () { }; !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n), i.reportTouchActivity = !1; var r = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, null, i, e)); return r.SHt = !1, r.on("playing", function () { this.SHt = !0 }), r.on("loadstart", function () { this.SHt = !1 }), r.Ag = i.textTracks, r.Tg = i.videoTracks, r.og = i.audioTracks, r.featuresProgressEvents || r.manualProgressOn(), r.featuresTimeupdateEvents || r.manualTimeUpdatesOn(), ["Text", "Audio", "Video"].forEach(function (t) { !1 === i["native" + t + "Tracks"] && (r["featuresNative" + t + "Tracks"] = !1) }), !1 === i.nativeCaptions && (r.featuresNativeTextTracks = !1), r.featuresNativeTextTracks || r.emulateTextTracks(), r.XHt = new w.default, r.initTextTrackListeners(), r.initTrackListeners(), i.nativeControlsForTouch || r.emitTapEvents(), r.constructor && (r.Fn = r.constructor.name || "Unknown Tech"), r } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.manualProgressOn = function () { this.on("durationchange", this.onDurationChange), this.manualProgress = !0, this.one("ready", this.trackProgress) }, n.prototype.manualProgressOff = function () { this.manualProgress = !1, this.stopTrackingProgress(), this.off("durationchange", this.onDurationChange) }, n.prototype.trackProgress = function (t) { this.stopTrackingProgress(), this.progressInterval = this.setInterval(A.bind(this, function () { var t = this.bufferedPercent(); this.$Ht !== t && this.trigger("progress"), this.$Ht = t, 1 === t && this.stopTrackingProgress() }), 500) }, n.prototype.onDurationChange = function (t) { this.Zy = this.duration() }, n.prototype.buffered = function () { return (0, E.createTimeRange)(0, 0) }, n.prototype.bufferedPercent = function () { return (0, I.bufferedPercent)(this.buffered(), this.Zy) }, n.prototype.stopTrackingProgress = function () { this.clearInterval(this.progressInterval) }, n.prototype.manualTimeUpdatesOn = function () { this.manualTimeUpdates = !0, this.on("play", this.trackCurrentTime), this.on("pause", this.stopTrackingCurrentTime) }, n.prototype.manualTimeUpdatesOff = function () { this.manualTimeUpdates = !1, this.stopTrackingCurrentTime(), this.off("play", this.trackCurrentTime), this.off("pause", this.stopTrackingCurrentTime) }, n.prototype.trackCurrentTime = function () { this.currentTimeInterval && this.stopTrackingCurrentTime(), this.currentTimeInterval = this.setInterval(function () { this.trigger({ type: "timeupdate", target: this, manuallyTriggered: !0 }) }, 250) }, n.prototype.stopTrackingCurrentTime = function () { this.clearInterval(this.currentTimeInterval), this.trigger({ type: "timeupdate", target: this, manuallyTriggered: !0 }) }, n.prototype.dispose = function () { this.clearTracks(["audio", "video", "text"]), this.manualProgress && this.manualProgressOff(), this.manualTimeUpdates && this.manualTimeUpdatesOff(), t.prototype.dispose.call(this) }, n.prototype.clearTracks = function (t) { var n = this; (t = [].concat(t)).forEach(function (t) { for (var i = n[t + "Tracks"]() || [], e = i.length; e--;) { var r = i[e]; "text" === t && n.removeRemoteTextTrack(r), i.kf(r) } }) }, n.prototype.cleanupAutoTextTracks = function () { for (var t = this.XHt || [], n = t.length; n--;) { var i = t[n]; this.removeRemoteTextTrack(i) } }, n.prototype.reset = function () { }, n.prototype.error = function (t) { return void 0 !== t && (this.Bo = new C.default(t), this.trigger("error")), this.Bo }, n.prototype.played = function () { return this.SHt ? (0, E.createTimeRange)(0, 0) : (0, E.createTimeRange)() }, n.prototype.setCurrentTime = function () { this.manualTimeUpdates && this.trigger({ type: "timeupdate", target: this, manuallyTriggered: !0 }) }, n.prototype.initTextTrackListeners = function () { var t = A.bind(this, function () { this.trigger("texttrackchange") }), n = this.textTracks(); n && (n.addEventListener("removetrack", t), n.addEventListener("addtrack", t), this.on("dispose", A.bind(this, function () { n.removeEventListener("removetrack", t), n.removeEventListener("addtrack", t) }))) }, n.prototype.initTrackListeners = function () { var t = this;["video", "audio"].forEach(function (n) { var i = function () { t.trigger(n + "trackchange") }, e = t[n + "Tracks"](); e.addEventListener("removetrack", i), e.addEventListener("addtrack", i), t.on("dispose", function () { e.removeEventListener("removetrack", i), e.removeEventListener("addtrack", i) }) }) }, n.prototype.QHt = function () { var t = this; if (!N.window.WebVTT) if (N.document.body.contains(this.el())) { var n = {}; if (!this.aVt["vtt.js"] && (0, D.isPlain)(n) && g.keys(n).length > 0) return void this.trigger("vttjsloaded"); var i = N.document.createElement("script"); i.src = this.aVt["vtt.js"] || "https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js", i.onload = function () { t.trigger("vttjsloaded") }, i.onerror = function () { t.trigger("vttjserror") }, this.on("dispose", function () { i.onload = null, i.onerror = null }), N.window.WebVTT = !0, this.el().parentNode.appendChild(i) } else this.ready(this.QHt) }, n.prototype.emulateTextTracks = function () { var t = this, n = this.textTracks(); if (n) { var i = this.remoteTextTracks(), e = function (t) { return n.pf(t.track) }, r = function (t) { return n.kf(t.track) }; i.on("addtrack", e), i.on("removetrack", r), this.QHt(); var s = function () { return t.trigger("texttrackchange") }, u = function () { s(); for (var t = 0; t < n.length; t++) { var i = n[t]; i.removeEventListener("cuechange", s), "showing" === i.mode && i.addEventListener("cuechange", s) } }; u(), n.addEventListener("change", u), n.addEventListener("addtrack", u), n.addEventListener("removetrack", u), this.on("dispose", function () { i.off("addtrack", e), i.off("removetrack", r), n.removeEventListener("change", u), n.removeEventListener("addtrack", u), n.removeEventListener("removetrack", u); for (var t = 0; t < n.length; t++) { var o = n[t]; o.removeEventListener("cuechange", s) } }) } }, n.prototype.videoTracks = function () { return this.Tg = this.Tg || new p.default, this.Tg }, n.prototype.audioTracks = function () { return this.og = this.og || new k.default, this.og }, n.prototype.textTracks = function () { return this.Ag = this.Ag || new w.default, this.Ag }, n.prototype.remoteTextTracks = function () { return this.YHt = this.YHt || new w.default, this.YHt }, n.prototype.remoteTextTrackEls = function () { return this.ZHt = this.ZHt || new a.default, this.ZHt }, n.prototype.addTextTrack = function (t, n, i) { if (!t) throw new v("TextTrack kind is required but was not provided"); return function (t, n, i, e) { var r = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : {}, s = t.textTracks(); r.kind = n, i && (r.label = i), e && (r.language = e), r.tech = t; var u = new d.default(r); return s.pf(u), u }(this, t, n, i) }, n.prototype.createRemoteTextTrack = function (t) { var n = (0, c.default)(t, { tech: this }); return new u.default(n) }, n.prototype.addRemoteTextTrack = function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, n = arguments[1], i = this.createRemoteTextTrack(t); return !0 !== n && !1 !== n && (S.default.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'), n = !0), this.remoteTextTrackEls().BHt(i), this.remoteTextTracks().pf(i.track), !0 !== n && this.XHt.pf(i.track), i }, n.prototype.removeRemoteTextTrack = function (t) { var n = this.remoteTextTrackEls().kVt(t); this.remoteTextTrackEls().KHt(n), this.remoteTextTracks().kf(t), this.XHt.kf(t) }, n.prototype.getVideoPlaybackQuality = function () { return {} }, n.prototype.setPoster = function () { }, n.prototype.playsinline = function () { }, n.prototype.setPlaysinline = function () { }, n.prototype.canPlayType = function () { return "" }, n.isTech = function (t) { return t.prototype instanceof n || t instanceof n || t === n }, n.registerTech = function (t, i) { if (n.JHt || (n.JHt = {}), !n.isTech(i)) throw new v("Tech " + t + " must be a Tech"); return n.JHt[t] = i, i }, n.getTech = function (t) { return n.JHt && n.JHt[t] ? n.JHt[t] : N.window && N.window.videojs && N.window.videojs[t] ? (S.default.warn("The " + t + " tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"), N.window.videojs[t]) : void 0 }, n }(r.default); B.prototype.Ag, B.prototype.og, B.prototype.Tg, B.prototype.featuresVolumeControl = !0, B.prototype.featuresFullscreenResize = !1, B.prototype.featuresPlaybackRate = !1, B.prototype.featuresProgressEvents = !1, B.prototype.featuresTimeupdateEvents = !1, B.prototype.featuresNativeTextTracks = !1, B.withSourceHandlers = function (t) { t.registerSourceHandler = function (n, i) { var e = t.sourceHandlers; e || (e = t.sourceHandlers = []), void 0 === i && (i = e.length), e.splice(i, 0, n) }, t.canPlayType = function (n) { for (var i = t.sourceHandlers || [], e = void 0, r = 0; r < i.length; r++)if (e = i[r].canPlayType(n)) return e; return "" }, t.selectSourceHandler = function (n, i) { for (var e = t.sourceHandlers || [], r = 0; r < e.length; r++)if (e[r].canHandleSource(n, i)) return e[r]; return null }, t.canPlaySource = function (n, i) { var e = t.selectSourceHandler(n, i); return e ? e.canHandleSource(n, i) : "" }, ["seekable", "duration"].forEach(function (t) { var n = this[t]; "function" == typeof n && (this[t] = function () { return this.tGt && this.tGt[t] ? this.tGt[t].apply(this.tGt, arguments) : n.apply(this, arguments) }) }, t.prototype), t.prototype.setSource = function (n) { var i = t.selectSourceHandler(n, this.aVt); return i || (t.nativeSourceHandler ? i = t.nativeSourceHandler : S.default.error("No source hander found for the current source.")), this.disposeSourceHandler(), this.off("dispose", this.disposeSourceHandler), i !== t.nativeSourceHandler && (this.fg = n, this.off(this.sVt, "loadstart", t.prototype.nGt), this.off(this.sVt, "loadstart", t.prototype.iGt), this.one(this.sVt, "loadstart", t.prototype.nGt)), this.tGt = i.handleSource(n, this, this.aVt), this.on("dispose", this.disposeSourceHandler), this }, t.prototype.nGt = function () { this.one(this.sVt, "loadstart", t.prototype.iGt) }, t.prototype.iGt = function () { this.disposeSourceHandler(), this.one(this.sVt, "loadstart", t.prototype.iGt) }, t.prototype.disposeSourceHandler = function () { this.fg && (this.clearTracks(["audio", "video"]), this.fg = null), this.cleanupAutoTextTracks(), this.tGt && (this.off(this.sVt, "loadstart", t.prototype.nGt), this.off(this.sVt, "loadstart", t.prototype.iGt), this.tGt.dispose && this.tGt.dispose(), this.tGt = null) } }, r.default.registerComponent("Tech", B), r.default.registerComponent("MediaTechController", B), B.registerTech("Tech", B), i.default = B }, { 46: 46, 5: 5, 63: 63, 65: 65, 66: 66, 70: 70, 72: 72, 76: 76, 79: 79, 83: 83, 85: 85, 87: 87, 88: 88, 89: 89, 91: 91 }], 63: [function (t, n, i) { i.__esModule = !0; var e, r = t(74), s = (e = r) && e.__esModule ? e : { default: e }, u = t(78), o = function (t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n }(u), a = t(85); function h(t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n } var c = function (t, n) { for (var i = 0; i < t.length; i++)n.id !== t[i].id && (t[i].enabled = !1) }, f = function (t) { function n() { var i, e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []; !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); for (var r = void 0, u = e.length - 1; u >= 0; u--)if (e[u].enabled) { c(e, e[u]); break } if (o.IS_IE8) { for (var f in r = a.document.createElement("custom"), s.default.prototype) "constructor" !== f && (r[f] = s.default.prototype[f]); for (var v in n.prototype) "constructor" !== v && (r[v] = n.prototype[v]) } return i = h(this, t.call(this, e, r)), (r = i).eGt = !1, h(i, r) } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.pf = function (n) { var i = this; n.enabled && c(this, n), t.prototype.pf.call(this, n), n.addEventListener && n.addEventListener("enabledchange", function () { i.eGt || (i.eGt = !0, c(i, n), i.eGt = !1, i.trigger("change")) }) }, n.prototype.addTrack = function (t) { this.pf(t) }, n.prototype.removeTrack = function (n) { t.prototype.kf.call(this, n) }, n }(s.default); i.default = f }, { 74: 74, 78: 78, 85: 85 }], 64: [function (t, n, i) { i.__esModule = !0; var e = t(73), r = t(75), s = c(r), u = t(88), o = c(u), a = t(78), h = function (t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n }(a); function c(t) { return t && t.__esModule ? t : { default: t } } function f(t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n } var v = function (t) { function n() { var i, r = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var s = (0, o.default)(r, { kind: e.AudioTrackKind[r.kind] || "" }), u = i = f(this, t.call(this, s)), a = !1; if (h.IS_IE8) for (var c in n.prototype) "constructor" !== c && (u[c] = n.prototype[c]); return g.defineProperty(u, "enabled", { get: function () { return a }, set: function (t) { "boolean" == typeof t && t !== a && (a = t, this.trigger("enabledchange")) } }), s.enabled && (u.enabled = s.enabled), u.xS = !0, f(i, u) } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n }(s.default); i.default = v }, { 73: 73, 75: 75, 78: 78, 88: 88 }], 65: [function (t, n, i) { i.__esModule = !0; var e = t(78), r = function (t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n }(e), s = t(85), u = function () { function t() { var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []; !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, t); var i = this; if (r.IS_IE8) for (var e in i = s.document.createElement("custom"), t.prototype) "constructor" !== e && (i[e] = t.prototype[e]); i.rGt = [], g.defineProperty(i, "length", { get: function () { return this.rGt.length } }); for (var u = 0, o = n.length; u < o; u++)i.BHt(n[u]); if (r.IS_IE8) return i } return t.prototype.BHt = function (t) { var n = this.rGt.length; "" + n in this || g.defineProperty(this, n, { get: function () { return this.rGt[n] } }), -1 === this.rGt.indexOf(t) && this.rGt.push(t) }, t.prototype.kVt = function (t) { for (var n = void 0, i = 0, e = this.rGt.length; i < e; i++)if (t === this.rGt[i].track) { n = this.rGt[i]; break } return n }, t.prototype.KHt = function (t) { for (var n = 0, i = this.rGt.length; n < i; n++)if (t === this.rGt[n]) { this.rGt.splice(n, 1); break } }, t }(); i.default = u }, { 78: 78, 85: 85 }], 66: [function (t, n, i) { i.__esModule = !0; var e = t(78), r = function (t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n }(e), s = t(85), u = t(42), o = c(u), a = t(72), h = c(a); function c(t) { return t && t.__esModule ? t : { default: t } } function f(t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n } var v = 0, d = 2, _ = function (t) { function n() { var i = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var e = f(this, t.call(this)), u = void 0, o = e; if (r.IS_IE8) for (var a in o = s.document.createElement("custom"), n.prototype) "constructor" !== a && (o[a] = n.prototype[a]); var c = new h.default(i); return o.kind = c.kind, o.src = c.src, o.srclang = c.language, o.label = c.label, o.default = c.default, g.defineProperty(o, "readyState", { get: function () { return u } }), g.defineProperty(o, "track", { get: function () { return c } }), u = v, c.addEventListener("loadeddata", function () { u = d, o.trigger({ type: "load", target: o }) }), r.IS_IE8 ? f(e, o) : e } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n }(o.default); _.prototype.AVt = { load: "load" }, _.NONE = v, _.LOADING = 1, _.LOADED = d, _.ERROR = 3, i.default = _ }, { 42: 42, 72: 72, 78: 78, 85: 85 }], 67: [function (t, n, i) { i.__esModule = !0; var e = t(78), r = function (t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n }(e), s = t(85), u = function () { function t(n) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, t); var i = this; if (r.IS_IE8) for (var e in i = s.document.createElement("custom"), t.prototype) "constructor" !== e && (i[e] = t.prototype[e]); if (t.prototype.sGt.call(i, n), g.defineProperty(i, "length", { get: function () { return this.Sf } }), r.IS_IE8) return i } return t.prototype.sGt = function (t) { var n = this.length || 0, i = 0, e = t.length; this.Kf = t, this.Sf = t.length; var r = function (t) { "" + t in this || g.defineProperty(this, "" + t, { get: function () { return this.Kf[t] } }) }; if (n < e) for (i = n; i < e; i++)r.call(this, i) }, t.prototype.getCueById = function (t) { for (var n = null, i = 0, e = this.length; i < e; i++) { var r = this[i]; if (r.id === t) { n = r; break } } return n }, t }(); i.default = u }, { 78: 78, 85: 85 }], 68: [function (t, n, i) { i.__esModule = !0; var e, r = t(5), s = (e = r) && e.__esModule ? e : { default: e }, u = t(83), o = function (t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n }(u), a = t(85), h = { monospace: "monospace", sansSerif: "sans-serif", serif: "serif", monospaceSansSerif: '"Andale Mono", "Lucida Console", monospace', monospaceSerif: '"Courier New", monospace', proportionalSansSerif: "sans-serif", proportionalSerif: "serif", casual: '"Comic Sans MS", Impact, fantasy', script: '"Monotype Corsiva", cursive', smallcaps: '"Andale Mono", "Lucida Console", monospace, sans-serif' }; function c(t, n) { return "rgba(" + w(t[1] + t[1], 16) + "," + w(t[2] + t[2], 16) + "," + w(t[3] + t[3], 16) + "," + n + ")" } function f(t, n, i) { try { t.style[n] = i } catch (t) { return } } var v = function (t) { function n(i, e, r) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var s = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e, r)); return i.on("loadstart", o.bind(s, s.toggleDisplay)), i.on("texttrackchange", o.bind(s, s.updateDisplay)), i.ready(o.bind(s, function () { if (i.gVt && i.gVt.featuresNativeTextTracks) this.hide(); else { i.on("fullscreenchange", o.bind(this, this.updateDisplay)); for (var t = this.aVt.playerOptions.tracks || [], n = 0; n < t.length; n++)this.C_.addRemoteTextTrack(t[n], !0); var e = { captions: 1, subtitles: 1 }, r = this.C_.textTracks(), s = void 0, u = void 0; if (r) { for (var a = 0; a < r.length; a++) { var h = r[a]; h.default && ("descriptions" !== h.kind || s ? h.kind in e && !u && (u = h) : s = h) } u ? u.mode = "showing" : s && (s.mode = "showing") } } })), s } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.toggleDisplay = function () { this.C_.gVt && this.C_.gVt.featuresNativeTextTracks ? this.hide() : this.show() }, n.prototype.createEl = function () { return t.prototype.createEl.call(this, "div", { className: "vjs-text-track-display" }, { "aria-live": "off", "aria-atomic": "true" }) }, n.prototype.clearDisplay = function () { "function" == typeof a.window.WebVTT && a.window.WebVTT.processCues(a.window, [], this.sVt) }, n.prototype.updateDisplay = function () { var t = this.C_.textTracks(); if (this.clearDisplay(), t) { for (var n = null, i = null, e = t.length; e--;) { var r = t[e]; "showing" === r.mode && ("descriptions" === r.kind ? n = r : i = r) } i ? ("off" !== this.getAttribute("aria-live") && this.setAttribute("aria-live", "off"), this.updateForTrack(i)) : n && ("assertive" !== this.getAttribute("aria-live") && this.setAttribute("aria-live", "assertive"), this.updateForTrack(n)) } }, n.prototype.updateForTrack = function (t) { if ("function" == typeof a.window.WebVTT && t.activeCues) { for (var n = this.C_.textTrackSettings.getValues(), i = [], e = 0; e < t.activeCues.length; e++)i.push(t.activeCues[e]); a.window.WebVTT.processCues(a.window, i, this.sVt); for (var r = i.length; r--;) { var s = i[r]; if (s) { var u = s.displayState; if (n.color && (u.firstChild.style.color = n.color), n.textOpacity && f(u.firstChild, "color", c(n.color || "#fff", n.textOpacity)), n.backgroundColor && (u.firstChild.style.backgroundColor = n.backgroundColor), n.backgroundOpacity && f(u.firstChild, "backgroundColor", c(n.backgroundColor || "#000", n.backgroundOpacity)), n.windowColor && (n.windowOpacity ? f(u, "backgroundColor", c(n.windowColor, n.windowOpacity)) : u.style.backgroundColor = n.windowColor), n.edgeStyle && ("dropshadow" === n.edgeStyle ? u.firstChild.style.textShadow = "2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222" : "raised" === n.edgeStyle ? u.firstChild.style.textShadow = "1px 1px #222, 2px 2px #222, 3px 3px #222" : "depressed" === n.edgeStyle ? u.firstChild.style.textShadow = "1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222" : "uniform" === n.edgeStyle && (u.firstChild.style.textShadow = "0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")), n.fontPercent && 1 !== n.fontPercent) { var o = a.window.parseFloat(u.style.fontSize); u.style.fontSize = o * n.fontPercent + "px", u.style.height = "auto", u.style.top = "auto", u.style.bottom = "2px" } n.fontFamily && "default" !== n.fontFamily && ("small-caps" === n.fontFamily ? u.firstChild.style.fontVariant = "small-caps" : u.firstChild.style.fontFamily = h[n.fontFamily]) } } } }, n }(s.default); s.default.registerComponent("TextTrackDisplay", v), i.default = v }, { 5: 5, 83: 83, 85: 85 }], 69: [function (t, n, i) { i.__esModule = !0; var e = function (t) { var n = ["kind", "label", "language", "id", "inBandMetadataTrackDispatchType", "mode", "src"].reduce(function (n, i, e) { return t[i] && (n[i] = t[i]), n }, { cues: t.cues && Array.prototype.map.call(t.cues, function (t) { return { startTime: t.startTime, endTime: t.endTime, text: t.text, id: t.id } }) }); return n }; i.default = { textTracksToJson: function (t) { var n = t.$$("track"), i = Array.prototype.map.call(n, function (t) { return t.track }); return Array.prototype.map.call(n, function (t) { var n = e(t.track); return t.src && (n.src = t.src), n }).concat(Array.prototype.filter.call(t.textTracks(), function (t) { return -1 === i.indexOf(t) }).map(e)) }, jsonToTextTracks: function (t, n) { return t.forEach(function (t) { var i = n.addRemoteTextTrack(t).track; !t.src && t.cues && t.cues.forEach(function (t) { return i.addCue(t) }) }), n.textTracks() }, uGt: e } }, {}], 70: [function (t, n, i) { i.__esModule = !0; var e, r = t(74), s = (e = r) && e.__esModule ? e : { default: e }, u = t(83), o = f(u), a = t(78), h = f(a), c = t(85); function f(t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n } function v(t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n } var d = function (t) { function n() { var i, e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []; !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var r = void 0; if (h.IS_IE8) { for (var u in r = c.document.createElement("custom"), s.default.prototype) "constructor" !== u && (r[u] = s.default.prototype[u]); for (var o in n.prototype) "constructor" !== o && (r[o] = n.prototype[o]) } return i = v(this, t.call(this, e, r)), v(i, r = i) } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.pf = function (n) { t.prototype.pf.call(this, n), n.addEventListener("modechange", o.bind(this, function () { this.trigger("change") })) }, n }(s.default); i.default = d }, { 74: 74, 78: 78, 83: 83, 85: 85 }], 71: [function (t, n, i) { i.__esModule = !0; var e = t(85), r = t(5), s = _(r), u = t(81), o = t(83), a = d(o), h = t(89), c = d(h), f = t(87), v = _(f); function d(t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n } function _(t) { return t && t.__esModule ? t : { default: t } } var w = ["#000", "Black"], y = ["#00F", "Blue"], p = ["#0FF", "Cyan"], m = ["#0F0", "Green"], k = ["#F0F", "Magenta"], b = ["#F00", "Red"], A = ["#FFF", "White"], T = ["#FF0", "Yellow"], S = ["1", "Opaque"], E = ["0.5", "Semi-Transparent"], I = ["0", "Transparent"], R = { backgroundColor: { selector: ".vjs-bg-color > select", id: "captions-background-color-%s", label: "Color", options: [w, A, b, m, y, T, k, p] }, backgroundOpacity: { selector: ".vjs-bg-opacity > select", id: "captions-background-opacity-%s", label: "Transparency", options: [S, E, I] }, color: { selector: ".vjs-fg-color > select", id: "captions-foreground-color-%s", label: "Color", options: [A, w, b, m, y, T, k, p] }, edgeStyle: { selector: ".vjs-edge-style > select", id: "%s", label: "Text Edge Style", options: [["none", "None"], ["raised", "Raised"], ["depressed", "Depressed"], ["uniform", "Uniform"], ["dropshadow", "Dropshadow"]] }, fontFamily: { selector: ".vjs-font-family > select", id: "captions-font-family-%s", label: "Font Family", options: [["proportionalSansSerif", "Proportional Sans-Serif"], ["monospaceSansSerif", "Monospace Sans-Serif"], ["proportionalSerif", "Proportional Serif"], ["monospaceSerif", "Monospace Serif"], ["casual", "Casual"], ["script", "Script"], ["small-caps", "Small Caps"]] }, fontPercent: { selector: ".vjs-font-percent > select", id: "captions-font-size-%s", label: "Font Size", options: [["0.50", "50%"], ["0.75", "75%"], ["1.00", "100%"], ["1.25", "125%"], ["1.50", "150%"], ["1.75", "175%"], ["2.00", "200%"], ["3.00", "300%"], ["4.00", "400%"]], default: 2, parser: function (t) { return "1.00" === t ? null : Number(t) } }, textOpacity: { selector: ".vjs-text-opacity > select", id: "captions-foreground-opacity-%s", label: "Transparency", options: [S, E] }, windowColor: { selector: ".vjs-window-color > select", id: "captions-window-color-%s", label: "Color" }, windowOpacity: { selector: ".vjs-window-opacity > select", id: "captions-window-opacity-%s", label: "Transparency", options: [I, E, S] } }; function C(t, n) { if (n && (t = n(t)), t && "none" !== t) return t } R.windowColor.options = R.backgroundColor.options; var N = function (t) { function n(i, e) { !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var r = function (t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n }(this, t.call(this, i, e)); return r.setDefaults(), r.hide(), r.updateDisplay = a.bind(r, r.updateDisplay), void 0 === e.persistTextTrackSettings && (r.aVt.persistTextTrackSettings = r.aVt.playerOptions.persistTextTrackSettings), r.on(r.$(".vjs-done-button"), "click", function () { r.saveSettings(), r.hide() }), r.on(r.$(".vjs-default-button"), "click", function () { r.setDefaults(), r.updateDisplay() }), c.each(R, function (t) { r.on(r.$(t.selector), "change", r.updateDisplay) }), r.aVt.persistTextTrackSettings && r.restoreSettings(), r } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.oGt = function (t) { var n = this, i = R[t], e = i.id.replace("%s", this.Ff); return [(0, u.createEl)("label", { className: "vjs-label", textContent: i.label }, { for: e }), (0, u.createEl)("select", { id: e }, void 0, i.options.map(function (t) { return (0, u.createEl)("option", { textContent: n.localize(t[1]), value: t[0] }) }))] }, n.prototype.aGt = function () { var t = (0, u.createEl)("legend", { textContent: this.localize("Text") }), n = this.oGt("color"), i = (0, u.createEl)("span", { className: "vjs-text-opacity vjs-opacity" }, void 0, this.oGt("textOpacity")); return (0, u.createEl)("fieldset", { className: "vjs-fg-color vjs-tracksetting" }, void 0, [t].concat(n, i)) }, n.prototype.hGt = function () { var t = (0, u.createEl)("legend", { textContent: this.localize("Background") }), n = this.oGt("backgroundColor"), i = (0, u.createEl)("span", { className: "vjs-bg-opacity vjs-opacity" }, void 0, this.oGt("backgroundOpacity")); return (0, u.createEl)("fieldset", { className: "vjs-bg-color vjs-tracksetting" }, void 0, [t].concat(n, i)) }, n.prototype.cGt = function () { var t = (0, u.createEl)("legend", { textContent: this.localize("Window") }), n = this.oGt("windowColor"), i = (0, u.createEl)("span", { className: "vjs-window-opacity vjs-opacity" }, void 0, this.oGt("windowOpacity")); return (0, u.createEl)("fieldset", { className: "vjs-window-color vjs-tracksetting" }, void 0, [t].concat(n, i)) }, n.prototype.fGt = function () { return (0, u.createEl)("div", { className: "vjs-tracksettings-colors" }, void 0, [this.aGt(), this.hGt(), this.cGt()]) }, n.prototype.vGt = function () { var t = (0, u.createEl)("div", { className: "vjs-font-percent vjs-tracksetting" }, void 0, this.oGt("fontPercent")), n = (0, u.createEl)("div", { className: "vjs-edge-style vjs-tracksetting" }, void 0, this.oGt("edgeStyle")), i = (0, u.createEl)("div", { className: "vjs-font-family vjs-tracksetting" }, void 0, this.oGt("fontFamily")); return (0, u.createEl)("div", { className: "vjs-tracksettings-font" }, void 0, [t, n, i]) }, n.prototype.lGt = function () { var t = (0, u.createEl)("button", { className: "vjs-default-button", textContent: this.localize("Defaults") }), n = (0, u.createEl)("button", { className: "vjs-done-button", textContent: "Done" }); return (0, u.createEl)("div", { className: "vjs-tracksettings-controls" }, void 0, [t, n]) }, n.prototype.createEl = function () { var t = (0, u.createEl)("div", { className: "vjs-tracksettings" }, void 0, [this.fGt(), this.vGt(), this.lGt()]), n = (0, u.createEl)("div", { className: "vjs-control-text", id: "TTsettingsDialogLabel-" + this.Ff, textContent: "Caption Settings Dialog" }, { "aria-level": "1", role: "heading" }), i = (0, u.createEl)("div", { className: "vjs-control-text", id: "TTsettingsDialogDescription-" + this.Ff, textContent: "Beginning of dialog window. Escape will cancel and close the window." }), e = (0, u.createEl)("div", void 0, { role: "document" }, [n, i, t]); return (0, u.createEl)("div", { className: "vjs-caption-settings vjs-modal-overlay", tabIndex: -1 }, { role: "dialog", "aria-labelledby": n.id, "aria-describedby": i.id }, e) }, n.prototype.getValues = function () { var t = this; return c.reduce(R, function (n, i, e) { var r, s, u = (r = t.$(i.selector), s = i.parser, C(r.options[r.options.selectedIndex].value, s)); return void 0 !== u && (n[e] = u), n }, {}) }, n.prototype.setValues = function (t) { var n = this; c.each(R, function (i, e) { !function (t, n, i) { if (n) for (var e = 0; e < t.options.length; e++)if (C(t.options[e].value, i) === n) { t.selectedIndex = e; break } }(n.$(i.selector), t[e], i.parser) }) }, n.prototype.setDefaults = function () { var t = this; c.each(R, function (n) { var i = n.hasOwnProperty("default") ? n.default : 0; t.$(n.selector).selectedIndex = i }) }, n.prototype.restoreSettings = function () { var t = void 0; try { t = JSON.parse(e.window.localStorage.getItem("vjs-text-track-settings")) } catch (t) { v.default.warn(t) } t && this.setValues(t) }, n.prototype.saveSettings = function () { if (this.aVt.persistTextTrackSettings) { var t = this.getValues(); try { g.keys(t).length ? e.window.localStorage.setItem("vjs-text-track-settings", JSON.stringify(t)) : e.window.localStorage.removeItem("vjs-text-track-settings") } catch (t) { v.default.warn(t) } } }, n.prototype.updateDisplay = function () { var t = this.C_.getChild("textTrackDisplay"); t && t.updateDisplay() }, n }(s.default); s.default.registerComponent("TextTrackSettings", N), i.default = N }, { 5: 5, 81: 81, 83: 83, 85: 85, 87: 87, 89: 89 }], 72: [function (t, n, i) { i.__esModule = !0; var e = t(67), r = T(e), s = t(83), u = A(s), o = t(73), a = t(87), h = T(a), c = t(85), f = t(75), d = T(f), _ = t(93), w = t(122), y = T(w), p = t(88), m = T(p), k = t(78), b = A(k); function A(t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n } function T(t) { return t && t.__esModule ? t : { default: t } } function S(t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n } var E = function (t, n) { var i = new c.window.WebVTT.Parser(c.window, c.window.vttjs, c.window.WebVTT.StringDecoder()), e = []; i.oncue = function (t) { n.addCue(t) }, i.onparsingerror = function (t) { e.push(t) }, i.onflush = function () { n.trigger({ type: "loadeddata", target: n }) }, i.parse(t), e.length > 0 && (c.window.console && c.window.console.groupCollapsed && c.window.console.groupCollapsed("Text Track parsing errors for " + n.src), e.forEach(function (t) { return h.default.error(t) }), c.window.console && c.window.console.groupEnd && c.window.console.groupEnd()), i.flush() }, I = function (t, n) { var i = { uri: t }, e = (0, _.isCrossOrigin)(t); e && (i.cors = e), (0, y.default)(i, u.bind(this, function (t, i, e) { if (t) return h.default.error(t, i); if (n.xS = !0, "function" != typeof c.window.WebVTT) { if (n.gVt) { var r = function () { return E(e, n) }; n.gVt.on("vttjsloaded", r), n.gVt.on("vttjserror", function () { h.default.error("vttjs failed to load, stopping trying to process " + n.src), n.gVt.off("vttjsloaded", r) }) } } else E(e, n) })) }, R = function (t) { function n() { var i, e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; if (function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n), !e.tech) throw new v("A tech was not provided."); var s = (0, m.default)(e, { kind: o.TextTrackKind[e.kind] || "subtitles", language: e.language || e.srclang || "" }), a = o.TextTrackMode[s.mode] || "disabled", h = s.default; "metadata" !== s.kind && "chapters" !== s.kind || (a = "hidden"); var c = i = S(this, t.call(this, s)); if (c.gVt = s.tech, b.IS_IE8) for (var f in n.prototype) "constructor" !== f && (c[f] = n.prototype[f]); c.Kf = [], c.Jf = []; var d = new r.default(c.Kf), _ = new r.default(c.Jf), w = !1, y = u.bind(c, function () { this.activeCues, w && (this.trigger("cuechange"), w = !1) }); return "disabled" !== a && c.gVt.ready(function () { c.gVt.on("timeupdate", y) }, !0), g.defineProperty(c, "default", { get: function () { return h }, set: function () { } }), g.defineProperty(c, "mode", { get: function () { return a }, set: function (t) { var n = this; o.TextTrackMode[t] && ("showing" === (a = t) && this.gVt.ready(function () { n.gVt.on("timeupdate", y) }, !0), this.trigger("modechange")) } }), g.defineProperty(c, "cues", { get: function () { return this.xS ? d : null }, set: function () { } }), g.defineProperty(c, "activeCues", { get: function () { if (!this.xS) return null; if (0 === this.cues.length) return _; for (var t = this.gVt.currentTime(), n = [], i = 0, e = this.cues.length; i < e; i++) { var r = this.cues[i]; r.startTime <= t && r.endTime >= t ? n.push(r) : r.startTime === r.endTime && r.startTime <= t && r.startTime + .5 >= t && n.push(r) } if (w = !1, n.length !== this.Jf.length) w = !0; else for (var s = 0; s < n.length; s++)-1 === this.Jf.indexOf(n[s]) && (w = !0); return this.Jf = n, _.sGt(this.Jf), _ }, set: function () { } }), s.src ? (c.src = s.src, I(s.src, c)) : c.xS = !0, S(i, c) } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.addCue = function (t) { var n = t; if (c.window.vttjs && !(t instanceof c.window.vttjs.VTTCue)) { for (var i in n = new c.window.vttjs.VTTCue(t.startTime, t.endTime, t.text), t) i in n || (n[i] = t[i]); n.id = t.id, n.dGt = t } var e = this.gVt.textTracks(); if (e) for (var r = 0; r < e.length; r++)e[r] !== this && e[r].removeCue(n); this.Kf.push(n), this.cues.sGt(this.Kf) }, n.prototype.removeCue = function (t) { for (var n = this.Kf.length; n--;) { var i = this.Kf[n]; if (i === t || i.dGt && i.dGt === t) { this.Kf.splice(n, 1), this.cues.sGt(this.Kf); break } } }, n }(d.default); R.prototype.AVt = { cuechange: "cuechange" }, i.default = R }, { 122: 122, 67: 67, 73: 73, 75: 75, 78: 78, 83: 83, 85: 85, 87: 87, 88: 88, 93: 93 }], 73: [function (t, n, i) { i.__esModule = !0, i.VideoTrackKind = { alternative: "alternative", captions: "captions", main: "main", sign: "sign", subtitles: "subtitles", commentary: "commentary" }, i.AudioTrackKind = { alternative: "alternative", descriptions: "descriptions", main: "main", "main-desc": "main-desc", translation: "translation", commentary: "commentary" }, i.TextTrackKind = { subtitles: "subtitles", captions: "captions", descriptions: "descriptions", chapters: "chapters", metadata: "metadata" }, i.TextTrackMode = { disabled: "disabled", hidden: "hidden", showing: "showing" } }, {}], 74: [function (t, n, i) { i.__esModule = !0; var e, r = t(42), s = (e = r) && e.__esModule ? e : { default: e }, u = t(78), o = function (t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n }(u), a = t(85); function h(t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n } var c = function (t) { function n() { var i = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [], e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null; !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var r = h(this, t.call(this)); if (!e && (e = r, o.IS_IE8)) for (var s in e = a.document.createElement("custom"), n.prototype) "constructor" !== s && (e[s] = n.prototype[s]); e.pO = [], g.defineProperty(e, "length", { get: function () { return this.pO.length } }); for (var u = 0; u < i.length; u++)e.pf(i[u]); return h(r, e) } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.pf = function (t) { var n = this.pO.length; "" + n in this || g.defineProperty(this, n, { get: function () { return this.pO[n] } }), -1 === this.pO.indexOf(t) && (this.pO.push(t), this.trigger({ track: t, type: "addtrack" })) }, n.prototype.kf = function (t) { for (var n = void 0, i = 0, e = this.length; i < e; i++)if (this[i] === t) { (n = this[i]).off && n.off(), this.pO.splice(i, 1); break } n && this.trigger({ track: n, type: "removetrack" }) }, n.prototype.getTrackById = function (t) { for (var n = null, i = 0, e = this.length; i < e; i++) { var r = this[i]; if (r.id === t) { n = r; break } } return n }, n }(s.default); for (var f in c.prototype.AVt = { change: "change", addtrack: "addtrack", removetrack: "removetrack" }, c.prototype.AVt) c.prototype["on" + f] = null; i.default = c }, { 42: 42, 78: 78, 85: 85 }], 75: [function (t, n, i) { i.__esModule = !0; var e, r = t(78), s = f(r), u = t(85), o = t(86), a = f(o), h = t(42), c = (e = h) && e.__esModule ? e : { default: e }; function f(t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n } function v(t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n } var d = function (t) { function n() { var i = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var e = v(this, t.call(this)), r = e; if (s.IS_IE8) for (var o in r = u.document.createElement("custom"), n.prototype) "constructor" !== o && (r[o] = n.prototype[o]); var h = { id: i.id || ["vjs_track", a.newGUID()].join("_"), kind: i.kind || "", label: i.label || "", language: i.language || "" }, c = function (t) { g.defineProperty(r, t, { get: function () { return h[t] }, set: function () { } }) }; for (var f in h) c(f); return v(e, r) } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n }(c.default); i.default = d }, { 42: 42, 78: 78, 85: 85, 86: 86 }], 76: [function (t, n, i) { i.__esModule = !0; var e, r = t(74), s = (e = r) && e.__esModule ? e : { default: e }, u = t(78), o = function (t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n }(u), a = t(85); function h(t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n } var c = function (t, n) { for (var i = 0; i < t.length; i++)n.id !== t[i].id && (t[i].selected = !1) }, f = function (t) { function n() { var i, e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []; !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); for (var r = void 0, u = e.length - 1; u >= 0; u--)if (e[u].selected) { c(e, e[u]); break } if (o.IS_IE8) { for (var f in r = a.document.createElement("custom"), s.default.prototype) "constructor" !== f && (r[f] = s.default.prototype[f]); for (var v in n.prototype) "constructor" !== v && (r[v] = n.prototype[v]) } return i = h(this, t.call(this, e, r)), (r = i).eGt = !1, g.defineProperty(r, "selectedIndex", { get: function () { for (var t = 0; t < this.length; t++)if (this[t].selected) return t; return -1 }, set: function () { } }), h(i, r) } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n.prototype.pf = function (n) { var i = this; n.selected && c(this, n), t.prototype.pf.call(this, n), n.addEventListener && n.addEventListener("selectedchange", function () { i.eGt || (i.eGt = !0, c(i, n), i.eGt = !1, i.trigger("change")) }) }, n.prototype.addTrack = function (t) { this.pf(t) }, n.prototype.removeTrack = function (n) { t.prototype.kf.call(this, n) }, n }(s.default); i.default = f }, { 74: 74, 78: 78, 85: 85 }], 77: [function (t, n, i) { i.__esModule = !0; var e = t(73), r = t(75), s = c(r), u = t(88), o = c(u), a = t(78), h = function (t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n }(a); function c(t) { return t && t.__esModule ? t : { default: t } } function f(t, n) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !n || "object" != typeof n && "function" != typeof n ? t : n } var v = function (t) { function n() { var i, r = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; !function (t, n) { if (!(t instanceof n)) throw new l("Cannot call a class as a function") }(this, n); var s = (0, o.default)(r, { kind: e.VideoTrackKind[r.kind] || "" }), u = i = f(this, t.call(this, s)), a = !1; if (h.IS_IE8) for (var c in n.prototype) "constructor" !== c && (u[c] = n.prototype[c]); return g.defineProperty(u, "selected", { get: function () { return a }, set: function (t) { "boolean" == typeof t && t !== a && (a = t, this.trigger("selectedchange")) } }), s.selected && (u.selected = s.selected), f(i, u) } return function (t, n) { if ("function" != typeof n && null !== n) throw new l("Super expression must either be null or a function, not " + typeof n); t.prototype = g.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (g.setPrototypeOf ? g.setPrototypeOf(t, n) : t.__proto__ = n) }(n, t), n }(s.default); i.default = v }, { 73: 73, 75: 75, 78: 78, 88: 88 }], 78: [function (t, n, i) { i.__esModule = !0, i.BACKGROUND_SIZE_SUPPORTED = i.TOUCH_ENABLED = i.IS_ANY_SAFARI = i.IS_SAFARI = i.IE_VERSION = i.IS_IE8 = i.CHROME_VERSION = i.IS_CHROME = i.IS_EDGE = i.IS_FIREFOX = i.IS_NATIVE_ANDROID = i.IS_OLD_ANDROID = i.ANDROID_VERSION = i.IS_ANDROID = i.IOS_VERSION = i.IS_IOS = i.IS_IPOD = i.IS_IPHONE = i.IS_IPAD = void 0; var e, r, s, u = t(81), o = function (t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n }(u), a = t(85), h = a.window.navigator && a.window.navigator.userAgent || "", c = /AppleWebKit\/([\d.]+)/i.exec(h), f = c ? y(c.pop()) : null, v = i.IS_IPAD = /iPad/i.test(h), l = i.IS_IPHONE = /iPhone/i.test(h) && !v, d = i.IS_IPOD = /iPod/i.test(h), _ = i.IS_IOS = l || v || d, w = (i.IOS_VERSION = (e = h.match(/OS (\d+)_/i)) && e[1] ? e[1] : null, i.IS_ANDROID = /Android/i.test(h)), p = i.ANDROID_VERSION = function () { var t = h.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i); if (!t) return null; var n = t[1] && y(t[1]), i = t[2] && y(t[2]); return n && i ? y(t[1] + "." + t[2]) : n || null }(), m = (i.IS_OLD_ANDROID = w && /webkit/i.test(h) && p < 2.3, i.IS_NATIVE_ANDROID = w && p < 5 && f < 537, i.IS_FIREFOX = /Firefox/i.test(h), i.IS_EDGE = /Edge/i.test(h)), k = i.IS_CHROME = !m && /Chrome/i.test(h), b = (i.CHROME_VERSION = function () { var t = h.match(/Chrome\/(\d+)/); return t && t[1] ? y(t[1]) : null }(), i.IS_IE8 = /MSIE\s8\.0/.test(h), i.IE_VERSION = (r = /MSIE\s(\d+)\.\d/.exec(h), !(s = r && y(r[1])) && /Trident\/7.0/i.test(h) && /rv:11.0/.test(h) && (s = 11), s), i.IS_SAFARI = /Safari/i.test(h) && !k && !w && !m); i.IS_ANY_SAFARI = b || _, i.TOUCH_ENABLED = o.isReal() && ("ontouchstart" in a.window || a.window.DocumentTouch && a.window.document instanceof a.window.DocumentTouch), i.BACKGROUND_SIZE_SUPPORTED = o.isReal() && "backgroundSize" in a.window.document.createElement("video").style }, { 81: 81, 85: 85 }], 79: [function (t, n, i) { i.__esModule = !0, i.bufferedPercent = function (t, n) { var i = 0, r = void 0, s = void 0; if (!n) return 0; t && t.length || (t = (0, e.createTimeRange)(0, 0)); for (var u = 0; u < t.length; u++)r = t.start(u), (s = t.end(u)) > n && (s = n), i += s - r; return i / n }; var e = t(91) }, { 91: 91 }], 80: [function (t, n, i) { i.__esModule = !0, i.default = function (t, n) { if (!t || !n) return ""; if ("function" == typeof e.window.getComputedStyle) { var i = e.window.getComputedStyle(t); return i ? i[n] : "" } return t.currentStyle[n] || "" }; var e = t(85) }, { 85: 85 }], 81: [function (t, n, i) { i.__esModule = !0, i.$$ = i.$ = void 0; var e, r = ((e = ["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set ", " to ", "."]).raw = ["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set ", " to ", "."], e); i.isReal = function () { return s.document === s.window.document && void 0 !== s.document.createElement }, i.isEl = p, i.getEl = function (t) { return 0 === t.indexOf("#") && (t = t.slice(1)), s.document.getElementById(t) }, i.createEl = function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "div", n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, e = arguments[3], u = s.document.createElement(t); return g.getOwnPropertyNames(n).forEach(function (t) { var i = n[t]; -1 !== t.indexOf("aria-") || "role" === t || "type" === t ? (h.default.warn((0, f.default)(r, t, i)), u.setAttribute(t, i)) : "textContent" === t ? k(u, i) : u[t] = i }), g.getOwnPropertyNames(i).forEach(function (t) { u.setAttribute(t, i[t]) }), e && D(u, e), u }, i.textContent = k, i.insertElFirst = function (t, n) { n.firstChild ? n.insertBefore(t, n.firstChild) : n.appendChild(t) }, i.getElData = function (t) { var n = t[A]; return n || (n = t[A] = o.newGUID()), b[n] || (b[n] = {}), b[n] }, i.hasElData = function (t) { var n = t[A]; return !!n && !!g.getOwnPropertyNames(b[n]).length }, i.removeElData = function (t) { var n = t[A]; if (n) { delete b[n]; try { delete t[A] } catch (n) { t.removeAttribute ? t.removeAttribute(A) : t[A] = null } } }, i.hasElClass = T, i.addElClass = S, i.removeElClass = E, i.toggleElClass = function (t, n, i) { var e = T(t, n); if ("function" == typeof i && (i = i(t, n)), "boolean" != typeof i && (i = !e), i !== e) return i ? S(t, n) : E(t, n), t }, i.setElAttributes = function (t, n) { g.getOwnPropertyNames(n).forEach(function (i) { var e = n[i]; null == e || !1 === e ? t.removeAttribute(i) : t.setAttribute(i, !0 === e ? "" : e) }) }, i.getElAttributes = function (t) { var n = {}, i = ",autoplay,controls,playsinline,loop,muted,default,defaultMuted,"; if (t && t.attributes && t.attributes.length > 0) for (var e = t.attributes, r = e.length - 1; r >= 0; r--) { var s = e[r].name, u = e[r].value; "boolean" != typeof t[s] && -1 === i.indexOf("," + s + ",") || (u = null !== u), n[s] = u } return n }, i.getAttribute = function (t, n) { return t.getAttribute(n) }, i.setAttribute = function (t, n, i) { t.setAttribute(n, i) }, i.removeAttribute = function (t, n) { t.removeAttribute(n) }, i.blockTextSelection = function () { s.document.body.focus(), s.document.onselectstart = function () { return !1 } }, i.unblockTextSelection = function () { s.document.onselectstart = function () { return !0 } }, i.findElPosition = I, i.getPointerPosition = function (t, n) { var i = {}, e = I(t), r = t.offsetWidth, s = t.offsetHeight, u = e.top, o = e.left, a = n.pageY, h = n.pageX; return n.changedTouches && (h = n.changedTouches[0].pageX, a = n.changedTouches[0].pageY), i.y = _.max(0, _.min(1, (u - a + s) / s)), i.x = _.max(0, _.min(1, (h - o) / r)), i }, i.isTextNode = R, i.emptyEl = C, i.normalizeContent = N, i.appendContent = D, i.insertContent = function (t, n) { return D(C(t), n) }; var s = t(85), u = t(86), o = function (t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n }(u), a = t(87), h = d(a), c = t(121), f = d(c), l = t(89); function d(t) { return t && t.__esModule ? t : { default: t } } function w(t) { return "string" == typeof t && /\S/.test(t) } function y(t) { if (/\s/.test(t)) throw new v("class has illegal whitespace characters") } function p(t) { return (0, l.isObject)(t) && 1 === t.nodeType } function m(t) { return function (n, i) { if (!w(n)) return s.document[t](null); w(i) && (i = s.document.querySelector(i)); var e = p(i) ? i : s.document; return e[t] && e[t](n) } } function k(t, n) { return void 0 === t.textContent ? t.innerText = n : t.textContent = n, t } var b = {}, A = "vdata" + (new Date).getTime(); function T(t, n) { return y(n), t.classList ? t.classList.contains(n) : (i = n, new RegExp("(^|\\s)" + i + "($|\\s)")).test(t.className); var i } function S(t, n) { return t.classList ? t.classList.add(n) : T(t, n) || (t.className = (t.className + " " + n).trim()), t } function E(t, n) { return t.classList ? t.classList.remove(n) : (y(n), t.className = t.className.split(/\s+/).filter(function (t) { return t !== n }).join(" ")), t } function I(t) { var n = void 0; if (t.getBoundingClientRect && t.parentNode && (n = t.getBoundingClientRect()), !n) return { left: 0, top: 0 }; var i = s.document.documentElement, e = s.document.body, r = i.clientLeft || e.clientLeft || 0, u = s.window.pageXOffset || e.scrollLeft, o = n.left + u - r, a = i.clientTop || e.clientTop || 0, h = s.window.pageYOffset || e.scrollTop, c = n.top + h - a; return { left: _.round(o), top: _.round(c) } } function R(t) { return (0, l.isObject)(t) && 3 === t.nodeType } function C(t) { for (; t.firstChild;)t.removeChild(t.firstChild); return t } function N(t) { return "function" == typeof t && (t = t()), (Array.isArray(t) ? t : [t]).map(function (t) { return "function" == typeof t && (t = t()), p(t) || R(t) ? t : "string" == typeof t && /\S/.test(t) ? s.document.createTextNode(t) : void 0 }).filter(function (t) { return t }) } function D(t, n) { return N(n).forEach(function (n) { return t.appendChild(n) }), t } i.$ = m("querySelector"), i.$$ = m("querySelectorAll") }, { 121: 121, 85: 85, 86: 86, 87: 87, 89: 89 }], 82: [function (t, n, i) { i.__esModule = !0, i.fixEvent = d, i.on = y, i.off = p, i.trigger = function t(n, i, e) { var r = s.hasElData(n) ? s.getElData(n) : {}, u = n.parentNode || n.ownerDocument; if ("string" == typeof i && (i = { type: i, target: n }), i = d(i), r.dispatcher && r.dispatcher.call(n, i, e), u && !i.isPropagationStopped() && !0 === i.bubbles) t.call(null, u, i, e); else if (!u && !i.defaultPrevented) { var o = s.getElData(i.target); i.target[i.type] && (o.disabled = !0, "function" == typeof i.target[i.type] && i.target[i.type](), o.disabled = !1) } return !i.defaultPrevented }, i.one = function t(n, i, e) { if (Array.isArray(i)) return l(t, n, i, e); var r = function t() { p(n, i, t), e.apply(this, arguments) }; r.guid = e.guid = e.guid || o.newGUID(), y(n, i, r) }; var e, r = t(81), s = f(r), u = t(86), o = f(u), a = t(87), h = (e = a) && e.__esModule ? e : { default: e }, c = t(85); function f(t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n } function v(t, n) { var i = s.getElData(t); 0 === i.handlers[n].length && (delete i.handlers[n], t.removeEventListener ? t.removeEventListener(n, i.dispatcher, !1) : t.detachEvent && t.detachEvent("on" + n, i.dispatcher)), g.getOwnPropertyNames(i.handlers).length <= 0 && (delete i.handlers, delete i.dispatcher, delete i.disabled), 0 === g.getOwnPropertyNames(i).length && s.removeElData(t) } function l(t, n, i, e) { i.forEach(function (i) { t(n, i, e) }) } function d(t) { function n() { return !0 } function i() { return !1 } if (!t || !t.isPropagationStopped) { var e = t || c.window.event; for (var r in t = {}, e) "layerX" !== r && "layerY" !== r && "keyLocation" !== r && "webkitMovementX" !== r && "webkitMovementY" !== r && ("returnValue" === r && e.preventDefault || (t[r] = e[r])); if (t.target || (t.target = t.srcElement || c.document), t.relatedTarget || (t.relatedTarget = t.fromElement === t.target ? t.toElement : t.fromElement), t.preventDefault = function () { e.preventDefault && e.preventDefault(), t.returnValue = !1, e.returnValue = !1, t.defaultPrevented = !0 }, t.defaultPrevented = !1, t.stopPropagation = function () { e.stopPropagation && e.stopPropagation(), t.cancelBubble = !0, e.cancelBubble = !0, t.isPropagationStopped = n }, t.isPropagationStopped = i, t.stopImmediatePropagation = function () { e.stopImmediatePropagation && e.stopImmediatePropagation(), t.isImmediatePropagationStopped = n, t.stopPropagation() }, t.isImmediatePropagationStopped = i, null !== t.clientX && void 0 !== t.clientX) { var s = c.document.documentElement, u = c.document.body; t.pageX = t.clientX + (s && s.scrollLeft || u && u.scrollLeft || 0) - (s && s.clientLeft || u && u.clientLeft || 0), t.pageY = t.clientY + (s && s.scrollTop || u && u.scrollTop || 0) - (s && s.clientTop || u && u.clientTop || 0) } t.which = t.charCode || t.keyCode, null !== t.button && void 0 !== t.button && (t.button = 1 & t.button ? 0 : 4 & t.button ? 1 : 2 & t.button ? 2 : 0) } return t } var _ = !1; !function () { try { var t = g.defineProperty({}, "passive", { get: function () { _ = !0 } }); c.window.addEventListener("test", null, t) } catch (t) { } }(); var w = ["touchstart", "touchmove"]; function y(t, n, i) { if (Array.isArray(n)) return l(y, t, n, i); var e = s.getElData(t); if (e.handlers || (e.handlers = {}), e.handlers[n] || (e.handlers[n] = []), i.guid || (i.guid = o.newGUID()), e.handlers[n].push(i), e.dispatcher || (e.disabled = !1, e.dispatcher = function (n, i) { if (!e.disabled) { n = d(n); var r = e.handlers[n.type]; if (r) for (var s = r.slice(0), u = 0, o = s.length; u < o && !n.isImmediatePropagationStopped(); u++)try { s[u].call(t, n, i) } catch (t) { h.default.error(t) } } }), 1 === e.handlers[n].length) if (t.addEventListener) { var r = !1; _ && w.indexOf(n) > -1 && (r = { passive: !0 }), t.addEventListener(n, e.dispatcher, r) } else t.attachEvent && t.attachEvent("on" + n, e.dispatcher) } function p(t, n, i) { if (s.hasElData(t)) { var e = s.getElData(t); if (e.handlers) { if (Array.isArray(n)) return l(p, t, n, i); var r = function (n) { e.handlers[n] = [], v(t, n) }; if (n) { var u = e.handlers[n]; if (u) if (i) { if (i.guid) for (var o = 0; o < u.length; o++)u[o].guid === i.guid && u.splice(o--, 1); v(t, n) } else r(n) } else for (var a in e.handlers) r(a) } } } }, { 81: 81, 85: 85, 86: 86, 87: 87 }], 83: [function (t, n, i) { i.__esModule = !0, i.throttle = i.bind = void 0; var e = t(86); i.bind = function (t, n, i) { n.guid || (n.guid = (0, e.newGUID)()); var r = function () { return n.apply(t, arguments) }; return r.guid = i ? i + "_" + n.guid : n.guid, r }, i.throttle = function (t, n) { var i = Date.now(); return function () { var e = Date.now(); e - i >= n && (t.apply(void 0, arguments), i = e) } } }, { 86: 86 }], 84: [function (t, n, i) { i.__esModule = !0, i.default = function (t) { var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : t; t = t < 0 ? 0 : t; var i = _.floor(t % 60), e = _.floor(t / 60 % 60), r = _.floor(t / 3600), s = _.floor(n / 60 % 60), u = _.floor(n / 3600); return (p(t) || t === 1 / 0) && (r = e = i = "-"), (r = r > 0 || u > 0 ? r + ":" : "") + (e = ((r || s >= 10) && e < 10 ? "0" + e : e) + ":") + (i = i < 10 ? "0" + i : i) } }, {}], 85: [function (n, i, e) { (function (n) { e.__esModule = !0; var i = void 0 !== r ? r : void 0 !== n ? n : void 0 !== t ? t : {}, u = void 0 !== s ? s : { createElement: function () { } }; e.window = i, e.document = u }).call(this, void 0 !== mt ? mt : void 0 !== t ? t : void 0 !== r ? r : {}) }, {}], 86: [function (t, n, i) { i.__esModule = !0, i.newGUID = function () { return e++ }; var e = 1 }, {}], 87: [function (t, n, i) { i.__esModule = !0, i.logByType = void 0; var e = t(85), r = t(78), s = t(89), u = void 0, o = i.logByType = function (t, n) { var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : !!r.IE_VERSION && r.IE_VERSION < 11; "log" !== t && n.unshift(t.toUpperCase() + ":"), u.history.push(n), n.unshift("VIDEOJS:"); var o = e.window.console && e.window.console[t]; o && (i && (n = n.map(function (t) { if ((0, s.isObject)(t) || Array.isArray(t)) try { return JSON.stringify(t) } catch (n) { return String(t) } return String(t) }).join(" ")), o.apply ? o[Array.isArray(n) ? "apply" : "call"](e.window.console, n) : o(n)) }; (u = function () { for (var t = arguments.length, n = Array(t), i = 0; i < t; i++)n[i] = arguments[i]; o("log", n) }).history = [], u.error = function () { for (var t = arguments.length, n = Array(t), i = 0; i < t; i++)n[i] = arguments[i]; return o("error", n) }, u.warn = function () { for (var t = arguments.length, n = Array(t), i = 0; i < t; i++)n[i] = arguments[i]; return o("warn", n) }, i.default = u }, { 78: 78, 85: 85, 89: 89 }], 88: [function (t, n, i) { i.__esModule = !0, i.default = function t() { for (var n = {}, i = arguments.length, r = Array(i), s = 0; s < i; s++)r[s] = arguments[s]; return r.forEach(function (i) { i && (0, e.each)(i, function (i, r) { (0, e.isPlain)(i) ? ((0, e.isPlain)(n[r]) || (n[r] = {}), n[r] = t(n[r], i)) : n[r] = i }) }), n }; var e = t(89) }, { 89: 89 }], 89: [function (t, n, i) { i.__esModule = !0; var e = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }; i.each = u, i.reduce = function (t, n) { var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0; return s(t).reduce(function (i, e) { return n(i, t[e], e) }, i) }, i.assign = function (t) { for (var n = arguments.length, i = Array(n > 1 ? n - 1 : 0), e = 1; e < n; e++)i[e - 1] = arguments[e]; return g.assign ? g.assign.apply(g, [t].concat(i)) : (i.forEach(function (n) { n && u(n, function (n, i) { t[i] = n }) }), t) }, i.isObject = o, i.isPlain = function (t) { return o(t) && "[object Object]" === r.call(t) && t.constructor === g }; var r = g.prototype.toString, s = function (t) { return o(t) ? g.keys(t) : [] }; function u(t, n) { s(t).forEach(function (i) { return n(t[i], i) }) } function o(t) { return !!t && "object" === (void 0 === t ? "undefined" : e(t)) } }, {}], 90: [function (t, n, i) { i.__esModule = !0, i.setTextContent = i.createStyleElement = void 0; var e = t(85); i.createStyleElement = function (t) { var n = e.document.createElement("style"); return n.className = t, n }, i.setTextContent = function (t, n) { t.styleSheet ? t.styleSheet.cssText = n : t.textContent = n } }, { 85: 85 }], 91: [function (t, n, i) { i.__esModule = !0, i.createTimeRange = void 0, i.createTimeRanges = a; var e, r = t(87), s = (e = r) && e.__esModule ? e : { default: e }; function u(t, n, i, e) { return void 0 === e && (s.default.warn("DEPRECATED: Function '" + t + "' on 'TimeRanges' called without an index argument."), e = 0), function (t, n, i) { if (n < 0 || n > i) throw new v("Failed to execute '" + t + "' on 'TimeRanges': The index provided (" + n + ") is greater than or equal to the maximum bound (" + i + ").") }(t, e, i.length - 1), i[e][n] } function o(t) { return void 0 === t || 0 === t.length ? { length: 0, start: function () { throw new v("This TimeRanges object is empty") }, end: function () { throw new v("This TimeRanges object is empty") } } : { length: t.length, start: u.bind(null, "start", 0, t), end: u.bind(null, "end", 1, t) } } function a(t, n) { return Array.isArray(t) ? o(t) : void 0 === t || void 0 === n ? o() : o([[t, n]]) } i.createTimeRange = a }, { 87: 87 }], 92: [function (t, n, i) { i.__esModule = !0, i.default = function (t) { return "string" != typeof t ? t : t.charAt(0).toUpperCase() + t.slice(1) } }, {}], 93: [function (t, n, i) { i.__esModule = !0, i.isCrossOrigin = i.getFileExtension = i.getAbsoluteURL = i.parseUrl = void 0; var e = t(85), r = i.parseUrl = function (t) { var n = ["protocol", "hostname", "port", "pathname", "search", "hash", "host"], i = e.document.createElement("a"); i.href = t; var r = "" === i.host && "file:" !== i.protocol, s = void 0; r && ((s = e.document.createElement("div")).innerHTML = '<a href="' + t + '"></a>', i = s.firstChild, s.setAttribute("style", "display:none; position:absolute;"), e.document.body.appendChild(s)); for (var u = {}, o = 0; o < n.length; o++)u[n[o]] = i[n[o]]; return "http:" === u.protocol && (u.host = u.host.replace(/:80$/, "")), "https:" === u.protocol && (u.host = u.host.replace(/:443$/, "")), r && e.document.body.removeChild(s), u }; i.getAbsoluteURL = function (t) { if (!t.match(/^https?:\/\//)) { var n = e.document.createElement("div"); n.innerHTML = '<a href="' + t + '">x</a>', t = n.firstChild.href } return t }, i.getFileExtension = function (t) { if ("string" == typeof t) { var n = /^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(t); if (n) return n.pop().toLowerCase() } return "" }, i.isCrossOrigin = function (t) { var n = e.window.location, i = r(t), s = ":" === i.protocol ? n.protocol : i.protocol, u = s + i.host !== n.protocol + n.host; return u } }, { 85: 85 }], 94: [function (t, n, i) { i.__esModule = !0; var e = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }, r = t(85), s = t(78), u = K(s), o = t(81), a = K(o), h = t(56), c = K(h), f = t(90), v = K(f), d = t(5), _ = Z(d), w = t(42), y = Z(w), p = t(82), m = K(p), k = t(51), b = Z(k), A = t(52), T = Z(A), S = t(88), E = Z(S), I = t(83), R = K(I), C = t(72), N = Z(C), D = t(64), x = Z(D), B = t(77), O = Z(B), P = t(91), M = t(84), L = Z(M), j = t(87), F = Z(j), U = t(93), V = K(U), H = t(89), z = t(80), q = Z(z), G = t(43), W = Z(G), X = t(122), $ = Z(X), Q = t(62), Y = Z(Q); function Z(t) { return t && t.__esModule ? t : { default: t } } function K(t) { if (t && t.__esModule) return t; var n = {}; if (null != t) for (var i in t) g.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]); return n.default = t, n } function J(t, n, i) { var e = void 0; if ("string" == typeof t) { if (0 === t.indexOf("#") && (t = t.slice(1)), J.getPlayers()[t]) return n && F.default.warn('Player "' + t + '" is already initialised. Options will not be applied.'), i && J.getPlayers()[t].ready(i), J.getPlayers()[t]; e = a.getEl(t) } else e = t; if (!e || !e.nodeName) throw new l("The element or ID supplied is not valid. (videojs)"); if (e.player || b.default.players[e.playerId]) return e.player || b.default.players[e.playerId]; n = n || {}, J.hooks("beforesetup").forEach(function (t) { var i = t(e, (0, E.default)(n)); (0, H.isObject)(i) && !Array.isArray(i) ? n = (0, E.default)(n, i) : F.default.error("please return an object in beforesetup hooks") }); var r = _.default.getComponent("Player"), s = new r(e, n, i); return J.hooks("setup").forEach(function (t) { return t(s) }), s } if ("undefined" == typeof HTMLVideoElement && a.isReal() && (r.document.createElement("video"), r.document.createElement("audio"), r.document.createElement("track")), J._Gt = {}, J.hooks = function (t, n) { return J._Gt[t] = J._Gt[t] || [], n && (J._Gt[t] = J._Gt[t].concat(n)), J._Gt[t] }, J.hook = function (t, n) { J.hooks(t, n) }, J.removeHook = function (t, n) { var i = J.hooks(t).indexOf(n); return !(i <= -1 || (J._Gt[t] = J._Gt[t].slice(), J._Gt[t].splice(i, 1), 0)) }, !0 !== r.window.VIDEOJS_NO_DYNAMIC_STYLE && a.isReal()) { var tt = a.$(".vjs-styles-defaults"); if (!tt) { tt = v.createStyleElement("vjs-styles-defaults"); var nt = a.$("head"); nt && nt.insertBefore(tt, nt.firstChild), v.setTextContent(tt, "\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ") } } c.autoSetupTimeout(1, J), J.VERSION = "5.20.6-opentelly.3", J.options = b.default.prototype.aVt, J.getPlayers = function () { return b.default.players }, J.players = b.default.players, J.getComponent = _.default.getComponent, J.registerComponent = function (t, n) { Y.default.isTech(n) && F.default.warn("The " + t + " tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"), _.default.registerComponent.call(_.default, t, n) }, J.getTech = Y.default.getTech, J.registerTech = Y.default.registerTech, J.browser = u, J.TOUCH_ENABLED = u.TOUCH_ENABLED, J.extend = W.default, J.mergeOptions = E.default, J.bind = R.bind, J.plugin = T.default, J.addLanguage = function (t, n) { var i; return t = ("" + t).toLowerCase(), J.options.languages = (0, E.default)(J.options.languages, ((i = {})[t] = n, i)), J.options.languages[t] }, J.log = F.default, J.createTimeRange = J.createTimeRanges = P.createTimeRanges, J.formatTime = L.default, J.parseUrl = V.parseUrl, J.isCrossOrigin = V.isCrossOrigin, J.EventTarget = y.default, J.on = m.on, J.one = m.one, J.off = m.off, J.trigger = m.trigger, J.xhr = $.default, J.TextTrack = N.default, J.AudioTrack = x.default, J.VideoTrack = O.default, J.isEl = a.isEl, J.isTextNode = a.isTextNode, J.createEl = a.createEl, J.hasClass = a.hasElClass, J.addClass = a.addElClass, J.removeClass = a.removeElClass, J.toggleClass = a.toggleElClass, J.setAttributes = a.setElAttributes, J.getAttributes = a.getElAttributes, J.emptyEl = a.emptyEl, J.appendContent = a.appendContent, J.insertContent = a.insertContent, J.computedStyle = q.default, "object" === (void 0 === i ? "undefined" : e(i)) && "object" === (void 0 === n ? "undefined" : e(n)) && (n.exports = J), i.default = J }, { 122: 122, 42: 42, 43: 43, 5: 5, 51: 51, 52: 52, 56: 56, 62: 62, 64: 64, 72: 72, 77: 77, 78: 78, 80: 80, 81: 81, 82: 82, 83: 83, 84: 84, 85: 85, 87: 87, 88: 88, 89: 89, 90: 90, 91: 91, 93: 93 }], 95: [function (t, n, i) { var e = t(113), r = "function" == typeof Symbol && "symbol" == typeof Symbol("foo"), s = g.prototype.toString, u = Array.prototype.concat, o = g.defineProperty, a = o && function () { var t = {}; try { for (var n in o(t, "x", { enumerable: !1, value: t }), t) return !1; return t.x === t } catch (t) { return !1 } }(), h = function (t, n, i, e) { var r; n in t && ("function" != typeof (r = e) || "[object Function]" !== s.call(r) || !e()) || (a ? o(t, n, { configurable: !0, enumerable: !1, value: i, writable: !0 }) : t[n] = i) }, c = function (t, n) { var i = arguments.length > 2 ? arguments[2] : {}, s = e(n); r && (s = u.call(s, g.getOwnPropertySymbols(n))); for (var o = 0; o < s.length; o += 1)h(t, s[o], n[s[o]], i[s[o]]) }; c.supportsDescriptors = !!a, n.exports = c }, { 113: 113 }], 96: [function (t, n, i) { var e = g.getOwnPropertyDescriptor ? function () { return g.getOwnPropertyDescriptor(arguments, "callee").get }() : function () { throw new l }, r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator, s = g.getPrototypeOf || function (t) { return t.__proto__ }, u = void 0 === m ? void 0 : s(m), o = { "$ %Array%": Array, "$ %ArrayBuffer%": "undefined" == typeof ArrayBuffer ? void 0 : ArrayBuffer, "$ %ArrayBufferPrototype%": "undefined" == typeof ArrayBuffer ? void 0 : ArrayBuffer.prototype, "$ %ArrayIteratorPrototype%": r ? s([][Symbol.iterator]()) : void 0, "$ %ArrayPrototype%": Array.prototype, "$ %ArrayProto_entries%": Array.prototype.entries, "$ %ArrayProto_forEach%": Array.prototype.forEach, "$ %ArrayProto_keys%": Array.prototype.keys, "$ %ArrayProto_values%": Array.prototype.values, "$ %AsyncFromSyncIteratorPrototype%": void 0, "$ %AsyncFunction%": void 0, "$ %AsyncFunctionPrototype%": void 0, "$ %AsyncGenerator%": void 0, "$ %AsyncGeneratorFunction%": void 0, "$ %AsyncGeneratorPrototype%": void 0, "$ %AsyncIteratorPrototype%": void 0, "$ %Atomics%": "undefined" == typeof Atomics ? void 0 : Atomics, "$ %Boolean%": Boolean, "$ %BooleanPrototype%": Boolean.prototype, "$ %DataView%": "undefined" == typeof DataView ? void 0 : DataView, "$ %DataViewPrototype%": "undefined" == typeof DataView ? void 0 : DataView.prototype, "$ %Date%": Date, "$ %DatePrototype%": Date.prototype, "$ %decodeURI%": decodeURI, "$ %decodeURIComponent%": decodeURIComponent, "$ %encodeURI%": encodeURI, "$ %encodeURIComponent%": encodeURIComponent, "$ %Error%": v, "$ %ErrorPrototype%": v.prototype, "$ %eval%": eval, "$ %EvalError%": EvalError, "$ %EvalErrorPrototype%": EvalError.prototype, "$ %Float32Array%": "undefined" == typeof Float32Array ? void 0 : Float32Array, "$ %Float32ArrayPrototype%": "undefined" == typeof Float32Array ? void 0 : Float32Array.prototype, "$ %Float64Array%": "undefined" == typeof Float64Array ? void 0 : Float64Array, "$ %Float64ArrayPrototype%": "undefined" == typeof Float64Array ? void 0 : Float64Array.prototype, "$ %Function%": Function, "$ %FunctionPrototype%": Function.prototype, "$ %Generator%": void 0, "$ %GeneratorFunction%": void 0, "$ %GeneratorPrototype%": void 0, "$ %Int8Array%": "undefined" == typeof Int8Array ? void 0 : Int8Array, "$ %Int8ArrayPrototype%": "undefined" == typeof Int8Array ? void 0 : Int8Array.prototype, "$ %Int16Array%": "undefined" == typeof Int16Array ? void 0 : Int16Array, "$ %Int16ArrayPrototype%": "undefined" == typeof Int16Array ? void 0 : Int8Array.prototype, "$ %Int32Array%": "undefined" == typeof Int32Array ? void 0 : Int32Array, "$ %Int32ArrayPrototype%": "undefined" == typeof Int32Array ? void 0 : Int32Array.prototype, "$ %isFinite%": isFinite, "$ %isNaN%": p, "$ %IteratorPrototype%": r ? s(s([][Symbol.iterator]())) : void 0, "$ %JSON%": JSON, "$ %JSONParse%": JSON.parse, "$ %Map%": "undefined" == typeof Map ? void 0 : Map, "$ %MapIteratorPrototype%": "undefined" != typeof Map && r ? s((new Map)[Symbol.iterator]()) : void 0, "$ %MapPrototype%": "undefined" == typeof Map ? void 0 : Map.prototype, "$ %Math%": _, "$ %Number%": Number, "$ %NumberPrototype%": Number.prototype, "$ %Object%": g, "$ %ObjectPrototype%": g.prototype, "$ %ObjProto_toString%": g.prototype.toString, "$ %ObjProto_valueOf%": g.prototype.valueOf, "$ %parseFloat%": y, "$ %parseInt%": w, "$ %Promise%": "undefined" == typeof Promise ? void 0 : Promise, "$ %PromisePrototype%": "undefined" == typeof Promise ? void 0 : Promise.prototype, "$ %PromiseProto_then%": "undefined" == typeof Promise ? void 0 : Promise.prototype.then, "$ %Promise_all%": "undefined" == typeof Promise ? void 0 : Promise.all, "$ %Promise_reject%": "undefined" == typeof Promise ? void 0 : Promise.reject, "$ %Promise_resolve%": "undefined" == typeof Promise ? void 0 : Promise.resolve, "$ %Proxy%": "undefined" == typeof Proxy ? void 0 : Proxy, "$ %RangeError%": RangeError, "$ %RangeErrorPrototype%": RangeError.prototype, "$ %ReferenceError%": ReferenceError, "$ %ReferenceErrorPrototype%": ReferenceError.prototype, "$ %Reflect%": "undefined" == typeof Reflect ? void 0 : Reflect, "$ %RegExp%": RegExp, "$ %RegExpPrototype%": RegExp.prototype, "$ %Set%": "undefined" == typeof Set ? void 0 : Set, "$ %SetIteratorPrototype%": "undefined" != typeof Set && r ? s((new Set)[Symbol.iterator]()) : void 0, "$ %SetPrototype%": "undefined" == typeof Set ? void 0 : Set.prototype, "$ %SharedArrayBuffer%": "undefined" == typeof SharedArrayBuffer ? void 0 : SharedArrayBuffer, "$ %SharedArrayBufferPrototype%": "undefined" == typeof SharedArrayBuffer ? void 0 : SharedArrayBuffer.prototype, "$ %String%": String, "$ %StringIteratorPrototype%": r ? s(""[Symbol.iterator]()) : void 0, "$ %StringPrototype%": String.prototype, "$ %Symbol%": r ? Symbol : void 0, "$ %SymbolPrototype%": r ? Symbol.prototype : void 0, "$ %SyntaxError%": d, "$ %SyntaxErrorPrototype%": d.prototype, "$ %ThrowTypeError%": e, "$ %TypedArray%": u, "$ %TypedArrayPrototype%": u ? u.prototype : void 0, "$ %TypeError%": l, "$ %TypeErrorPrototype%": l.prototype, "$ %Uint8Array%": void 0 === m ? void 0 : m, "$ %Uint8ArrayPrototype%": void 0 === m ? void 0 : m.prototype, "$ %Uint8ClampedArray%": "undefined" == typeof Uint8ClampedArray ? void 0 : Uint8ClampedArray, "$ %Uint8ClampedArrayPrototype%": "undefined" == typeof Uint8ClampedArray ? void 0 : Uint8ClampedArray.prototype, "$ %Uint16Array%": "undefined" == typeof Uint16Array ? void 0 : Uint16Array, "$ %Uint16ArrayPrototype%": "undefined" == typeof Uint16Array ? void 0 : Uint16Array.prototype, "$ %Uint32Array%": "undefined" == typeof Uint32Array ? void 0 : Uint32Array, "$ %Uint32ArrayPrototype%": "undefined" == typeof Uint32Array ? void 0 : Uint32Array.prototype, "$ %URIError%": URIError, "$ %URIErrorPrototype%": URIError.prototype, "$ %WeakMap%": "undefined" == typeof WeakMap ? void 0 : WeakMap, "$ %WeakMapPrototype%": "undefined" == typeof WeakMap ? void 0 : WeakMap.prototype, "$ %WeakSet%": "undefined" == typeof WeakSet ? void 0 : WeakSet, "$ %WeakSetPrototype%": "undefined" == typeof WeakSet ? void 0 : WeakSet.prototype }; n.exports = function (t, n) { if (arguments.length > 1 && "boolean" != typeof n) throw new l('"allowMissing" argument must be a boolean'); var i = "$ " + t; if (!(i in o)) throw new d("intrinsic " + t + " does not exist!"); if (void 0 === o[i] && !n) throw new l("intrinsic " + t + " exists, but is not available. Please file an issue!"); return o[i] } }, {}], 97: [function (t, n, i) { var e = t(96), r = e("%Object%"), s = e("%TypeError%"), u = e("%String%"), o = t(98), a = t(100), h = t(99), c = t(102), f = t(101), v = t(110), d = t(103), g = t(109), w = { ToPrimitive: d, ToBoolean: function (t) { return !!t }, ToNumber: function (t) { return +t }, ToInteger: function (t) { var n = this.ToNumber(t); return a(n) ? 0 : 0 !== n && h(n) ? c(n) * _.floor(_.abs(n)) : n }, ToInt32: function (t) { return this.ToNumber(t) >> 0 }, ToUint32: function (t) { return this.ToNumber(t) >>> 0 }, ToUint16: function (t) { var n = this.ToNumber(t); if (a(n) || 0 === n || !h(n)) return 0; var i = c(n) * _.floor(_.abs(n)); return f(i, 65536) }, ToString: function (t) { return u(t) }, ToObject: function (t) { return this.CheckObjectCoercible(t), r(t) }, CheckObjectCoercible: function (t, n) { if (null == t) throw new s(n || "Cannot call method on " + t); return t }, IsCallable: v, SameValue: function (t, n) { return t === n ? 0 !== t || 1 / t == 1 / n : a(t) && a(n) }, Type: function (t) { return null === t ? "Null" : void 0 === t ? "Undefined" : "function" == typeof t || "object" == typeof t ? "Object" : "number" == typeof t ? "Number" : "boolean" == typeof t ? "Boolean" : "string" == typeof t ? "String" : void 0 }, IsPropertyDescriptor: function (t) { if ("Object" !== this.Type(t)) return !1; var n = { "[[Configurable]]": !0, "[[Enumerable]]": !0, "[[Get]]": !0, "[[Set]]": !0, "[[Value]]": !0, "[[Writable]]": !0 }; for (var i in t) if (g(t, i) && !n[i]) return !1; var e = g(t, "[[Value]]"), r = g(t, "[[Get]]") || g(t, "[[Set]]"); if (e && r) throw new s("Property Descriptors may not be both accessor and data descriptors"); return !0 }, IsAccessorDescriptor: function (t) { return void 0 !== t && (o(this, "Property Descriptor", "Desc", t), !(!g(t, "[[Get]]") && !g(t, "[[Set]]"))) }, IsDataDescriptor: function (t) { return void 0 !== t && (o(this, "Property Descriptor", "Desc", t), !(!g(t, "[[Value]]") && !g(t, "[[Writable]]"))) }, IsGenericDescriptor: function (t) { return void 0 !== t && (o(this, "Property Descriptor", "Desc", t), !this.IsAccessorDescriptor(t) && !this.IsDataDescriptor(t)) }, FromPropertyDescriptor: function (t) { if (void 0 === t) return t; if (o(this, "Property Descriptor", "Desc", t), this.IsDataDescriptor(t)) return { value: t["[[Value]]"], writable: !!t["[[Writable]]"], enumerable: !!t["[[Enumerable]]"], configurable: !!t["[[Configurable]]"] }; if (this.IsAccessorDescriptor(t)) return { get: t["[[Get]]"], set: t["[[Set]]"], enumerable: !!t["[[Enumerable]]"], configurable: !!t["[[Configurable]]"] }; throw new s("FromPropertyDescriptor must be called with a fully populated Property Descriptor") }, ToPropertyDescriptor: function (t) { if ("Object" !== this.Type(t)) throw new s("ToPropertyDescriptor requires an object"); var n = {}; if (g(t, "enumerable") && (n["[[Enumerable]]"] = this.ToBoolean(t.enumerable)), g(t, "configurable") && (n["[[Configurable]]"] = this.ToBoolean(t.configurable)), g(t, "value") && (n["[[Value]]"] = t.value), g(t, "writable") && (n["[[Writable]]"] = this.ToBoolean(t.writable)), g(t, "get")) { var i = t.get; if (void 0 !== i && !this.IsCallable(i)) throw new l("getter must be a function"); n["[[Get]]"] = i } if (g(t, "set")) { var e = t.set; if (void 0 !== e && !this.IsCallable(e)) throw new s("setter must be a function"); n["[[Set]]"] = e } if ((g(n, "[[Get]]") || g(n, "[[Set]]")) && (g(n, "[[Value]]") || g(n, "[[Writable]]"))) throw new s("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute"); return n } }; n.exports = w }, { 100: 100, 101: 101, 102: 102, 103: 103, 109: 109, 110: 110, 96: 96, 98: 98, 99: 99 }], 98: [function (t, n, i) { var e = t(96), r = e("%TypeError%"), s = e("%SyntaxError%"), u = t(109), o = { "Property Descriptor": function (t, n) { if ("Object" !== t.Type(n)) return !1; var i = { "[[Configurable]]": !0, "[[Enumerable]]": !0, "[[Get]]": !0, "[[Set]]": !0, "[[Value]]": !0, "[[Writable]]": !0 }; for (var e in n) if (u(n, e) && !i[e]) return !1; var s = u(n, "[[Value]]"), o = u(n, "[[Get]]") || u(n, "[[Set]]"); if (s && o) throw new r("Property Descriptors may not be both accessor and data descriptors"); return !0 } }; n.exports = function (t, n, i, e) { var u = o[n]; if ("function" != typeof u) throw new s("unknown record type: " + n); if (!u(t, e)) throw new r(i + " must be a " + n); console.log(u(t, e), e) } }, { 109: 109, 96: 96 }], 99: [function (t, n, i) { var e = Number.isNaN || function (t) { return t != t }; n.exports = Number.isFinite || function (t) { return "number" == typeof t && !e(t) && t !== 1 / 0 && t !== -1 / 0 } }, {}], 100: [function (t, n, i) { n.exports = Number.isNaN || function (t) { return t != t } }, {}], 101: [function (t, n, i) { n.exports = function (t, n) { var i = t % n; return _.floor(i >= 0 ? i : i + n) } }, {}], 102: [function (t, n, i) { n.exports = function (t) { return t >= 0 ? 1 : -1 } }, {}], 103: [function (t, n, i) { var e = g.prototype.toString, r = t(104), s = t(110), u = { "[[DefaultValue]]": function (t) { var n; if ((n = arguments.length > 1 ? arguments[1] : "[object Date]" === e.call(t) ? String : Number) === String || n === Number) { var i, u, o = n === String ? ["toString", "valueOf"] : ["valueOf", "toString"]; for (u = 0; u < o.length; ++u)if (s(t[o[u]]) && (i = t[o[u]](), r(i))) return i; throw new l("No default value") } throw new l("invalid [[DefaultValue]] hint supplied") } }; n.exports = function (t) { return r(t) ? t : arguments.length > 1 ? u["[[DefaultValue]]"](t, arguments[1]) : u["[[DefaultValue]]"](t) } }, { 104: 104, 110: 110 }], 104: [function (t, n, i) { n.exports = function (t) { return null === t || "function" != typeof t && "object" != typeof t } }, {}], 105: [function (t, n, i) { var e = t(110), r = g.prototype.toString, s = g.prototype.hasOwnProperty; n.exports = function (t, n, i) { if (!e(n)) throw new l("iterator must be a function"); var u; arguments.length >= 3 && (u = i), "[object Array]" === r.call(t) ? function (t, n, i) { for (var e = 0, r = t.length; e < r; e++)s.call(t, e) && (null == i ? n(t[e], e, t) : n.call(i, t[e], e, t)) }(t, n, u) : "string" == typeof t ? function (t, n, i) { for (var e = 0, r = t.length; e < r; e++)null == i ? n(t.charAt(e), e, t) : n.call(i, t.charAt(e), e, t) }(t, n, u) : function (t, n, i) { for (var e in t) s.call(t, e) && (null == i ? n(t[e], e, t) : n.call(i, t[e], e, t)) }(t, n, u) } }, { 110: 110 }], 106: [function (t, n, i) { var e = Array.prototype.slice, r = g.prototype.toString; n.exports = function (t) { var n = this; if ("function" != typeof n || "[object Function]" !== r.call(n)) throw new l("Function.prototype.bind called on incompatible " + n); for (var i, s = e.call(arguments, 1), u = _.max(0, n.length - s.length), o = [], a = 0; a < u; a++)o.push("$" + a); if (i = Function("binder", "return function (" + o.join(",") + "){ return binder.apply(this,arguments); }")(function () { if (this instanceof i) { var r = n.apply(this, s.concat(e.call(arguments))); return g(r) === r ? r : this } return n.apply(t, s.concat(e.call(arguments))) }), n.prototype) { var h = function () { }; h.prototype = n.prototype, i.prototype = new h, h.prototype = null } return i } }, {}], 107: [function (t, n, i) { var e = t(106); n.exports = Function.prototype.bind || e }, { 106: 106 }], 108: [function (n, i, e) { (function (n) { i.exports = void 0 !== r ? r : void 0 !== n ? n : void 0 !== t ? t : {} }).call(this, void 0 !== mt ? mt : void 0 !== t ? t : void 0 !== r ? r : {}) }, {}], 109: [function (t, n, i) { var e = t(107); n.exports = e.call(Function.call, g.prototype.hasOwnProperty) }, { 107: 107 }], 110: [function (t, n, i) { var e = Function.prototype.toString, r = /^\s*class\b/, s = function (t) { try { var n = e.call(t); return r.test(n) } catch (t) { return !1 } }, u = g.prototype.toString, o = "function" == typeof Symbol && "symbol" == typeof Symbol.toStringTag; n.exports = function (t) { if (!t) return !1; if ("function" != typeof t && "object" != typeof t) return !1; if ("function" == typeof t && !t.prototype) return !0; if (o) return function (t) { try { return !s(t) && (e.call(t), !0) } catch (t) { return !1 } }(t); if (s(t)) return !1; var n = u.call(t); return "[object Function]" === n || "[object GeneratorFunction]" === n } }, {}], 111: [function (t, n, i) { n.exports = function (t) { var n = e.call(t); return "[object Function]" === n || "function" == typeof t && "[object RegExp]" !== n || void 0 !== r && (t === r.setTimeout || t === r.alert || t === r.confirm || t === r.prompt) }; var e = g.prototype.toString }, {}], 112: [function (t, n, i) { var e; if (!g.keys) { var s = g.prototype.hasOwnProperty, u = g.prototype.toString, o = t(114), a = g.prototype.propertyIsEnumerable, h = !a.call({ toString: null }, "toString"), c = a.call(function () { }, "prototype"), f = ["toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor"], v = function (t) { var n = t.constructor; return n && n.prototype === t }, d = { $applicationCache: !0, $console: !0, $external: !0, $frame: !0, $frameElement: !0, $frames: !0, $innerHeight: !0, $innerWidth: !0, $onmozfullscreenchange: !0, $onmozfullscreenerror: !0, $outerHeight: !0, $outerWidth: !0, $pageXOffset: !0, $pageYOffset: !0, $parent: !0, $scrollLeft: !0, $scrollTop: !0, $scrollX: !0, $scrollY: !0, $self: !0, $webkitIndexedDB: !0, $webkitStorageInfo: !0, $window: !0 }, _ = function () { if (void 0 === r) return !1; for (var t in r) try { if (!d["$" + t] && s.call(r, t) && null !== r[t] && "object" == typeof r[t]) try { v(r[t]) } catch (t) { return !0 } } catch (t) { return !0 } return !1 }(); e = function (t) { var n = null !== t && "object" == typeof t, i = "[object Function]" === u.call(t), e = o(t), a = n && "[object String]" === u.call(t), d = []; if (!n && !i && !e) throw new l("Object.keys called on a non-object"); var g = c && i; if (a && t.length > 0 && !s.call(t, 0)) for (var w = 0; w < t.length; ++w)d.push(String(w)); if (e && t.length > 0) for (var y = 0; y < t.length; ++y)d.push(String(y)); else for (var p in t) g && "prototype" === p || !s.call(t, p) || d.push(String(p)); if (h) for (var m = function (t) { if (void 0 === r || !_) return v(t); try { return v(t) } catch (t) { return !1 } }(t), k = 0; k < f.length; ++k)m && "constructor" === f[k] || !s.call(t, f[k]) || d.push(f[k]); return d } } n.exports = e }, { 114: 114 }], 113: [function (t, n, i) { var e = Array.prototype.slice, r = t(114), s = g.keys, u = s ? function (t) { return s(t) } : t(112), o = g.keys; u.shim = function () { if (g.keys) { var t = function () { var t = g.keys(arguments); return t && t.length === arguments.length }(1, 2); t || (g.keys = function (t) { return r(t) ? o(e.call(t)) : o(t) }) } else g.keys = u; return g.keys || u }, n.exports = u }, { 112: 112, 114: 114 }], 114: [function (t, n, i) { var e = g.prototype.toString; n.exports = function (t) { var n = e.call(t), i = "[object Arguments]" === n; return i || (i = "[object Array]" !== n && null !== t && "object" == typeof t && "number" == typeof t.length && t.length >= 0 && "[object Function]" === e.call(t.callee)), i } }, {}], 115: [function (t, n, i) { var e = t(118), r = t(105); n.exports = function (t) { if (!t) return {}; var n = {}; return r(e(t).split("\n"), function (t) { var i, r = t.indexOf(":"), s = e(t.slice(0, r)).toLowerCase(), u = e(t.slice(r + 1)); void 0 === n[s] ? n[s] = u : (i = n[s], "[object Array]" === g.prototype.toString.call(i) ? n[s].push(u) : n[s] = [n[s], u]) }), n } }, { 105: 105, 118: 118 }], 116: [function (t, n, i) { n.exports = function (t, n) { var i, e = null; try { i = JSON.parse(t, n) } catch (t) { e = t } return [e, i] } }, {}], 117: [function (t, n, i) { var e = t(107), r = t(97), s = e.call(Function.call, String.prototype.replace), u = /^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/, o = /[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/; n.exports = function () { var t = r.ToString(r.CheckObjectCoercible(this)); return s(s(t, u, ""), o, "") } }, { 107: 107, 97: 97 }], 118: [function (t, n, i) { var e = t(107), r = t(95), s = t(117), u = t(119), o = t(120), a = e.call(Function.call, u()); r(a, { getPolyfill: u, implementation: s, shim: o }), n.exports = a }, { 107: 107, 117: 117, 119: 119, 120: 120, 95: 95 }], 119: [function (t, n, i) { var e = t(117); n.exports = function () { return String.prototype.trim && "\u200b" === "\u200b".trim() ? String.prototype.trim : e } }, { 117: 117 }], 120: [function (t, n, i) { var e = t(95), r = t(119); n.exports = function () { var t = r(); return e(String.prototype, { trim: t }, { trim: function () { return String.prototype.trim !== t } }), t } }, { 119: 119, 95: 95 }], 121: [function (t, n, i) { function e(t) { return t.replace(/\n\r?\s*/g, "") } n.exports = function (t) { for (var n = "", i = 0; i < arguments.length; i++)n += e(t[i]) + (arguments[i + 1] || ""); return n } }, {}], 122: [function (t, n, i) { var e = t(108), r = t(111), s = t(115), u = t(123); function o(t, n, i) { var e = t; return r(n) ? (i = n, "string" == typeof t && (e = { uri: t })) : e = u(n, { uri: t }), e.callback = i, e } function c(t, n, i) { return f(n = o(t, n, i)) } function f(t) { if (void 0 === t.callback) throw new v("callback argument missing"); var n = !1, i = function (i, e, r) { n || (n = !0, t.callback(i, e, r)) }; function e() { var t = void 0; if (t = d.response ? d.response : d.responseText || function (t) { if ("document" === t.responseType) return t.responseXML; var n = 204 === t.status && t.responseXML && "parsererror" === t.responseXML.documentElement.nodeName; return "" !== t.responseType || n ? null : t.responseXML }(d), k) try { t = JSON.parse(t) } catch (t) { } return t } var r = { body: void 0, headers: {}, statusCode: 0, method: w, url: _, rawRequest: d }; function u(t) { return h(g), t instanceof v || (t = new v("" + (t || "Unknown XMLHttpRequest Error"))), t.statusCode = 0, i(t, r) } function o() { if (!l) { var n; h(g), n = t.useXDR && void 0 === d.status ? 200 : 1223 === d.status ? 204 : d.status; var u = r, o = null; return 0 !== n ? (u = { body: e(), statusCode: n, method: w, headers: {}, url: _, rawRequest: d }, d.getAllResponseHeaders && (u.headers = s(d.getAllResponseHeaders()))) : o = new v("Internal XMLHttpRequest Error"), i(o, u, u.body) } } var f, l, d = t.xhr || null; d || (d = t.cors || t.useXDR ? new c.XDomainRequest : new c.XMLHttpRequest); var g, _ = d.url = t.uri || t.url, w = d.method = t.method || "GET", y = t.body || t.data || null, p = d.headers = t.headers || {}, m = !!t.sync, k = !1; if ("json" in t && (k = !0, p.accept || p.Accept || (p.Accept = "application/json"), "GET" !== w && "HEAD" !== w && (p["content-type"] || p["Content-Type"] || (p["Content-Type"] = "application/json"), y = JSON.stringify(t.json))), d.onreadystatechange = function () { 4 === d.readyState && o() }, d.onload = o, d.onerror = u, d.onprogress = function () { }, d.ontimeout = u, d.open(w, _, !m, t.username, t.password), m || (d.withCredentials = !!t.withCredentials), !m && t.timeout > 0 && (g = a(function () { l = !0, d.abort("timeout"); var t = new v("XMLHttpRequest timeout"); t.code = "ETIMEDOUT", u(t) }, t.timeout)), d.setRequestHeader) for (f in p) p.hasOwnProperty(f) && d.setRequestHeader(f, p[f]); else if (t.headers && !function (t) { for (var n in t) if (t.hasOwnProperty(n)) return !1; return !0 }(t.headers)) throw new v("Headers cannot be set on an XDomainRequest object"); return "responseType" in t && (d.responseType = t.responseType), "beforeSend" in t && "function" == typeof t.beforeSend && t.beforeSend(d), d.send(y), d } n.exports = c, c.XMLHttpRequest = e.XMLHttpRequest || function () { }, c.XDomainRequest = "withCredentials" in new c.XMLHttpRequest ? c.XMLHttpRequest : e.XDomainRequest, function (t, n) { for (var i = 0; i < t.length; i++)n(t[i]) }(["get", "put", "post", "patch", "head", "delete"], function (t) { c["delete" === t ? "del" : t] = function (n, i, e) { return (i = o(n, i, e)).method = t.toUpperCase(), f(i) } }) }, { 108: 108, 111: 111, 115: 115, 123: 123 }], 123: [function (t, n, i) { n.exports = function () { for (var t = {}, n = 0; n < arguments.length; n++) { var i = arguments[n]; for (var r in i) e.call(i, r) && (t[r] = i[r]) } return t }; var e = g.prototype.hasOwnProperty }, {}] }, {}, [94])(94) })), IG = EG.getComponent("Button"), RG = function (t) { function n(n, i) { var e; return (e = t.call(this, n, i) || this).controlText(e.localize("Close Picture-in-Picture")), e.gGt = i.gGt, e } rt(n, t); var i = n.prototype; return i.buildCSSClass = function () { return "theo-close-button theo-pip-close" }, i.handleClick = function () { this.gGt.wGt() }, n }(IG); EG.registerComponent("THEOPiPCloseButton", RG); var CG = .1, NG = function (t) { function n(n, i, e) { var r; return (r = t.call(this) || this).V5 = !1, r.MP = !1, r.Eqt = !1, r.Iqt = !1, r.nI = !1, r.Rqt = !1, r.Cqt = !1, r.Nqt = function () { r.V5 = !0, r.Dqt && !r.GP && r.xqt && r.EGt && r.xqt.qUt <= r.EGt && r.CM(!1) }, r.Bqt = function () { r.Oqt || (r.V5 = !1, r.DM(!1)) }, r.Pqt = function (t) { !r.Iqt && r.Dqt && (p(t) || (r.EGt && t <= r.EGt || r.Cqt ? r.MP || r.Eqt || r.CM(!1) : r.MP ? r.DM(!1) : r.Eqt = !1)) }, r.EGt = i.visibility, r.fM = i.position, r.Oqt = i.retainPresentationModeOnSourceChange, r.Dqt = void 0 !== r.EGt, r.C_ = n, r.tVt = n.Mqt, r.wGt = e, r.lvt(), r } rt(n, t); var i = n.prototype; return i.lvt = function () { this.C_.mo("play", this.Nqt), this.Oqt || this.C_.mo("sourcechange", this.Bqt) }, i.Lqt = function () { var t = this.fM; if (t) return "theo-pip-" + t }, i.CM = function (t) { var n = this.tVt; if (n && !this.jqt) { this.nI || this.Fqt(), this.Uqt(), He(n, "theo-pip"); var i = this.Lqt(); i && He(n, i), this.MP = !0, this.Iqt = t, this.Eqt = !1, this._o(new YS("picture-in-picture")) } }, i.DM = function (t) { var n = this.tVt; if (n) { this.Vqt(), ze(n, "theo-pip"); var i = this.Lqt(); i && ze(n, i), this.MP = !1, this.Eqt = t, this.Cqt = this.Iqt, this.Iqt = !1, this._o(new YS("inline")) } }, i.Fqt = function () { if (!this.nI) { var t = this.C_.Hqt; t.addChild("THEOPiPCloseButton", { gGt: this }); var n = s.createElement("div"); n.className = "theo-pip-overlay"; var i = s.createElement("div"); i.className = "theo-pip-overlay-text", XH(i, t.localize("Video playing in Picture-in-Picture mode")), n.appendChild(i), t.el().appendChild(n), this.zqt = n, this.nI = !0 } }, i.qqt = function () { this.Dqt && !this.Rqt && this.C_.IGt && (this.xqt = this.C_.IGt.kGt(CG, this.Pqt), this.Rqt = !0) }, i.Gqt = function () { this.xqt && this.C_.IGt && (this.C_.IGt.AGt(this.xqt), this.Rqt = !1) }, i.Uqt = function () { var t = this.C_.Hqt.contentEl(), n = t.getBoundingClientRect(), i = s.documentElement.clientWidth, e = s.documentElement.clientHeight; t.style.top = n.top + "px", t.style.bottom = e - n.bottom + "px", t.style.right = i - n.right + "px", t.style.left = n.left + "px", t.style.width = n.width + "px", t.style.height = n.height + "px", t.style.position = "fixed" }, i.Vqt = function () { var t = this.C_.Hqt.contentEl(); t.style.top = "", t.style.bottom = "", t.style.right = "", t.style.left = "", t.style.width = "", t.style.height = "", t.style.position = "" }, i.Wqt = function () { ze(this.tVt, "theo-pip"), this.GP && this.fM && ze(this.tVt, "theo-pip-" + this.fM), this.zqt && (Le(this.zqt), this.zqt = void 0) }, i.Af = function () { this.Wqt(), this.Gqt(), this.To(), this.C_.So("play", this.Nqt), this.C_.So("sourcechange", this.Bqt) }, T(n, [{ key: "GP", get: function () { return this.MP } }, { key: "jqt", get: function () { return this.C_.KW() } }]), n }(hr), DG = function () { function t(t) { this.yGt = 1, this.pGt = 0, this.mGt = [], this.cf = void 0, this.tVt = t, this.kGt(CG, this.bGt()) } var n = t.prototype; return n.bGt = function (t) { var n = this; return function (i) { n.yGt = i, null == t || t(n.yGt) } }, n.kGt = function (t, n) { if (p(t)) throw new l("step is not of the right type"); if (t > 1 || t <= 0) throw new RangeError("The step must be a number greater than 0 and smaller than or equal to 1"); var i; return i = "function" == typeof r.IntersectionObserver ? new TG(this.tVt, t, this.bGt(n)) : new SG(this.tVt, t, this.bGt(n)), this.mGt.push(i), i }, n.AGt = function (t) { t.bx(), pn(this.mGt, t) }, n.TGt = function (t) { for (var n = 0, i = this.mGt; n < i.length; n++) { var e = i[n]; if (e.vf === t) return e } }, n.Af = function () { for (var t = 0, n = this.mGt; t < n.length; t++) { n[t].bx() } An(this.mGt) }, T(t, [{ key: "SGt", get: function () { return this.yGt } }, { key: "EGt", get: function () { return this.pGt }, set: function (t) { if (p(t) || t < 0 || t > 1) throw new RangeError("The threshold must be a value between 0 and 1"); this.pGt = t } }, { key: "vf", get: function () { var t; return this.cf || (this.cf = (t = this, { get ratio() { return t.SGt }, get visible() { return t.SGt > t.EGt }, get visibleThreshold() { return t.EGt }, set visibleThreshold(n) { n = Br(n), t.EGt = n }, addObserver: function (n, i) { return n = Br(n), t.kGt(n, i).vf }, removeObserver: function (n) { var i = t.TGt(n); i && t.AGt(i) } })), this.cf } }]), t }(); qE(function (t) { return function (t) { function n(n, i) { var e; return (e = t.call(this, n, i) || this).IGt = new DG(n), e } rt(n, t); var i = n.prototype; return i.lf = function () { var n = this; return Sr(t.prototype.lf.call(this), { get visibility() { return n.IGt.vf } }) }, i.Af = function () { this.IGt && (this.IGt.Af(), this.IGt = void 0), t.prototype.Af.call(this) }, n }(t) }, LE.XQ), GE(function (t) { return function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, i, e) || this).IGt = new DG(n), r } rt(n, t); var i = n.prototype; return i.lf = function () { var n = this; return Sr(t.prototype.lf.call(this), { get visibility() { return n.IGt.vf } }) }, i.Af = function () { this.IGt && (this.IGt.Af(), this.IGt = void 0), t.prototype.Af.call(this) }, n }(t) }, jE.$Q); var xG = "theoplayer-texttracks", BG = function () { function t(t, n) { void 0 === n && (n = 5); var i = s.createElement("div"); i.className = xG, i.style.position = "absolute", i.style.display = "none", i.style.overflow = "hidden", i.style.pointerEvents = "none", i.style.top = "10%", i.style.bottom = "80%", i.style.bottom = "10%", i.style.left = "0", i.style.width = "100%", i.style.lineHeight = "1.3em", i.style.zIndex = "" + n, this.RGt = i, this.oH = t, this.oH.appendChild(this.RGt), this.B_() } var n = t.prototype; return n.Z_ = function () { this.RGt.style.display = "none" }, n.B_ = function () { We(this.RGt.style, "flex", "-ms-flexbox") }, n.Af = function () { Le(this.RGt), this.RGt = null }, T(t, [{ key: "oE", get: function () { return this.RGt } }]), t }(), OG = function (t) { function n() { return t.call(this, "mf") || this } return rt(n, t), n.prototype.lf = function () { return new PG }, n }(cr), PG = function (t) { function n() { return t.call(this, "change") || this } return rt(n, t), n }(Mn); var MG = { I1: void 0, E1: void 0, R1: void 0, N1: void 0, C1: void 0, D1: void 0 }, LG = "THEOplayer.textTrackStyle.", jG = function (t) { function n() { var i; return (i = t.call(this) || this).cf = void 0, i.P0 = n.NGt(), i } return rt(n, t), n.prototype.Lh = function (t) { this.P0 = Et(Et({}, this.P0), t), n.CGt(this.P0), this._o(new OG) }, n.NGt = function () { var t = Et({}, MG); return t.I1 = oI.Vo(LG + "fontFamily") || t.I1, t.E1 = oI.Vo(LG + "fontColor") || t.E1, t.R1 = oI.Vo(LG + "fontSize") || t.R1, t.N1 = oI.Vo(LG + "backgroundColor") || t.N1, t.C1 = oI.Vo(LG + "windowColor") || t.C1, t.D1 = oI.Vo(LG + "edgeStyle") || t.D1, t }, n.CGt = function (t) { oI.zd(LG + "fontFamily", t.I1 || ""), oI.zd(LG + "fontColor", t.E1 || ""), oI.zd(LG + "fontSize", t.R1 || ""), oI.zd(LG + "backgroundColor", t.N1 || ""), oI.zd(LG + "windowColor", t.C1 || ""), oI.zd(LG + "edgeStyle", t.D1 || "") }, T(n, [{ key: "DGt", get: function () { return this.P0 } }, { key: "I1", get: function () { return this.P0.I1 }, set: function (t) { this.Lh({ I1: t }) } }, { key: "E1", get: function () { return this.P0.E1 }, set: function (t) { this.Lh({ E1: t }) } }, { key: "R1", get: function () { return this.P0.R1 }, set: function (t) { this.Lh({ R1: t }) } }, { key: "N1", get: function () { return this.P0.N1 }, set: function (t) { this.Lh({ N1: t }) } }, { key: "C1", get: function () { return this.P0.C1 }, set: function (t) { this.Lh({ C1: t }) } }, { key: "D1", get: function () { return this.P0.D1 }, set: function (t) { this.Lh({ D1: t }) } }, { key: "vf", get: function () { var t, n, i; return this.cf || (this.cf = (i = { get fontFamily() { return t.I1 }, set fontFamily(n) { t.I1 = n }, get fontColor() { return t.E1 }, set fontColor(n) { t.E1 = n }, get fontSize() { return t.R1 }, set fontSize(n) { t.R1 = n }, get backgroundColor() { return t.N1 }, set backgroundColor(n) { t.N1 = n }, get windowColor() { return t.C1 }, set windowColor(n) { t.C1 = n }, get edgeStyle() { return t.D1 }, set edgeStyle(n) { t.D1 = n }, addEventListener: function (t, i) { t = Pr(t, Or), n.mo(t, i) }, removeEventListener: function (t, i) { t = Pr(t, Or), n.So(t, i) } }, n = new kr(t = this, i), i)), this.cf } }]), n }(hr); function FG(t, n) { return t ? Et(Et({}, n), Nr(t)) : n } function UG(t) { return t.R1 && Jt(t.R1, "%") ? +t.R1.replace("%", "") / 100 : t.R1 && Jt(t.R1, "em") ? +t.R1.replace("em", "") : 1 } var VG = function () { function t(t, n, i, e, r) { var s = this; this.xGt = Rt(), this.OGt = !0, this.BGt = function (t) { return s.xGt.has(t.zP) }, this.PGt = function (t) { return !s.BGt(t) }, this.MGt = function (t) { return s.SL(t.NM) }, this.LGt = function (t) { return s.removeCue(t.NM) }, this.jGt = function () { return s.FGt() }, this.UGt = function (t) { return s.VGt(t.NM) }, this.HGt = function (t) { return s.GGt(t.NM) }, this.zGt = function (t) { s.qGt(t.qw, t.Ww) }, this.PP = t, this.WGt = this.XGt = r, this.Nc = this.$Gt(i), this.fMt = e, n.appendChild(this.Nc), this.QGt(), this.PP.Kf.Tf.forEach(function (t) { return s.SL(t) }), this.x_.mo("TW", this.zGt), this.qGt(this.x_.xW, this.x_.DW) } var n = t.prototype; return n.YGt = function (t) { this.XGt = FG(t, this.WGt), this.XGt.I1 && (this.fV.style.fontFamily = this.XGt.I1), this.qGt(this.x_.xW, this.x_.DW), this.ZGt() }, n.QGt = function () { this.PP.mo("nL", this.MGt), this.PP.mo("iL", this.LGt), this.PP.mo("mf", this.jGt) }, n.KGt = function () { var t = this; this.PP.So("nL", this.MGt), this.PP.So("iL", this.LGt), this.PP.So("mf", this.jGt), this.PP.Kf.Tf.forEach(function (n) { return t.JGt(n) }) }, n.tzt = function (t) { t.mo("CM", this.UGt), t.mo("DM", this.HGt) }, n.JGt = function (t) { t.So("CM", this.UGt), t.So("DM", this.HGt) }, n.SL = function (t) { t.zP || (t.zP = this.nzt), this.tzt(t), t.GP && this.VGt(t) }, n.removeCue = function (t) { this.JGt(t), this.GGt(t) }, n.FGt = function () { this.PP.Yf === Vr.$f ? this.izt() : this.ezt() }, n.izt = function () { var t = this, n = this.x_.xW, i = this.x_.DW, e = new CS(n, i); this.zGt(e), this.OGt = !1, this.rzt.forEach(function (n) { return t.VGt(n) }) }, n.VGt = function (t) { this.OGt || this.PGt(t) && (this.szt(t), this.xGt.set(t.zP, t)) }, n.szt = function (t) { var n = this.Nc, i = this.uzt(t); if (i) for (var e = 0; e < i.length; e++) { var r = i[e]; r.className = t.zP, n.appendChild(r) } }, n.ezt = function () { var t = this; this.OGt = !0, this.xGt.forEach(function (n) { return t.GGt(n) }) }, n.GGt = function (t) { this.BGt(t) && (this.ozt(t), this.xGt.delete(t.zP)) }, n.ozt = function (t) { for (var n = this.Nc, i = n.getElementsByClassName(t.zP); i.length;)n.removeChild(i[0]) }, n.ZGt = function () { for (var t = 0, n = this.azt; t < n.length; t++) { var i = n[t]; this.ozt(i), this.szt(i) } }, n.Af = function () { Le(this.fV), this.KGt(), this.x_.So("TW", this.zGt) }, T(t, [{ key: "df", get: function () { return this.PP } }, { key: "fV", get: function () { return this.Nc } }, { key: "x_", get: function () { return this.fMt } }, { key: "hzt", get: function () { return this.XGt } }, { key: "azt", get: function () { return this.PP.Jf.Tf.filter(this.BGt) } }, { key: "rzt", get: function () { return this.PP.Jf.Tf.filter(this.PGt) } }]), t }(), HG = Ct({ monospace: "monospace", sansSerif: "sans-serif", serif: "serif", monospaceSansSerif: "monospace, sans-serif", monospaceSerif: "monospace, serif", proportionalSansSerif: "Arial", proportionalSerif: "Times New Roman", default: "monospace, sans-serif;" }), zG = Ct({ lrtb: "-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;", rltb: "-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;", tbrl: "-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;", tblr: "-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;", lr: "-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;", rl: "-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;", tb: "-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;" }), qG = { backgroundColor: function (t, n) { n.style.backgroundColor = t }, color: function (t, n) { n.style.color = t }, direction: function (t, n) { n.style.direction = t }, display: function (t, n) { "none" === t && (n.style.display = "none") }, fontFamily: function (t, n) { var i = HG.get(t); n.style.fontFamily = i || t }, fontSize: function (t, n) { nn(t, "px") ? t = w(t) / 24 + "em" : nn(t, "c") && (t = t.replace("c", "em")), n.style.fontSize = t }, fontStyle: function (t, n) { n.style.fontStyle = t }, fontWeight: function (t, n) { n.style.fontWeight = t }, lineHeight: function (t, n) { n.style.lineHeight = t }, opacity: function (t, n) { n.style.opacity = t }, overflow: function (t, n) { n.style.overflow = t }, padding: function (t, n) { n.style.padding = t }, textAlign: function (t, n) { "right" === t ? (n.style.textAlign = "right", n.style.justifyContent = "flex-end") : "start" === t ? (n.style.textAlign = "start", n.style.justifyContent = "flex-start") : "center" === t ? (n.style.textAlign = "center", n.style.justifyContent = "center") : "end" === t ? (n.style.textAlign = "end", n.style.justifyContent = "flex-end") : "left" === t && (n.style.textAlign = "left", n.style.justifyContent = "flex-start") }, textDecoration: function (t, n) { var i = t; i = (i = (i = (i = i.replace("lineThrough", "line-through")).replace("noUnderline", "none")).replace("noLineThrough ", "none")).replace("noOverline  ", "none"), n.style.textDecoration = i }, unicodeBidi: function (t, n) { n.style.unicodeBidi = t.replace("bidiOverride", "bidi-override") }, visibility: function (t, n) { n.style.visibility = t }, zIndex: function (t, n) { n.style.zIndex = t }, displayAlign: function (t, n) { var i; "before" === t.toLowerCase() ? i = "flex-start" : "center" === t.toLowerCase() ? i = "center" : "after" === t.toLowerCase() && (i = "flex-end"), n.style.alignItems = i }, extent: function (t, n) { var i, e, r = t.split(" "); r.length >= 2 ? (i = r[0], e = r[1]) : i = e = "100%", n.style.height = e, n.style.width = i }, origin: function (t, n) { var i = t.split(" "); n.style.left = i[0], n.style.top = i[1] }, showBackground: function (t, n) { }, wrapOption: function (t, n) { n.style.whiteSpace = t.replace("noWrap", "nowrp").replace("wrap", "normal").replace("nowrp", "nowrap") }, writingMode: function (t, n) { var i = zG.get(t); i && (n.style.cssText = n.style.cssText.concat(i)) }, textOutline: function () { }, linePadding: function (t, n) { if (nn(t, "c")) { var i = t.replace("c", "em"); n.style.paddingLeft = n.style.paddingRight = i } }, multiRowAlign: function (t, n) { "auto" === t.toLowerCase() ? n.style.textAlign = "" : n.style.textAlign = "value" } }, GG = 0, WG = { E1: YC.WHITE, I1: "Arial, Helvetica, Sans-Serif", R1: "100%", N1: YC.TRANSPARENT, C1: YC.TRANSPARENT, D1: "" }, XG = function (t) { function n(n, i, e, r) { return t.call(this, n, i, e, r, WG) || this } rt(n, t); var i = n.prototype; return i.$Gt = function (t) { var n = s.createElement("div"); return n.className = "theoplayer-ttml-texttrack-" + t, n.style.position = "absolute", n.style.display = "flex", n.style.overflow = "hidden", n.style.pointerEvents = "none", n.style.top = "0", n.style.left = "0", n.style.width = "100%", n.style.height = "100%", n }, i.qGt = function (t, n) { var i = n / 15; this.fV.style.fontSize = i + "px" }, i.uzt = function (t) { if (t.df && "ttml" !== t.df.Ou) return []; var n, i = [], e = t, r = e.QP, u = e.YP, o = e.BP; if (0 === g.keys(u).length) { He(n = s.createElement("div"), e.zP), tW(n); for (var a = $G(o, r, e.ZP, void 0, this.fV), h = 0; h < a.length; h++) { var c = a[h]; n.appendChild(c) } i.push(n) } else for (var f = 0, v = g.keys(u); f < v.length; f++) { var l = v[f], d = s.createElement("div"); d.id = l, He(d, e.zP); var _ = $G(o, r, e.ZP, d, this.fV); if (_) { tW(d), ZG(d, u[l], r, this.fV); for (var w = 0; w < _.length; w++) { var y = _[w]; d.appendChild(y) } i.push(d) } i.push(d) } return i }, i.YGt = function (t) { }, T(n, [{ key: "nzt", get: function () { return "theoplayer-ttmlcue-" + GG++ } }]), n }(VG); function $G(t, n, i, e, r) { var s, u; if (Ju(t) && ("SPAN" === (u = t).nodeName.toUpperCase() || "P" === u.nodeName.toUpperCase() || "BR" === u.nodeName.toUpperCase() || "DIV" === u.nodeName.toUpperCase() || "BODY" === u.nodeName.toUpperCase())) { var o = Wu(t, "region"); if (!o || e.id === o) { (function (t, n, i, e) { var r = Wu(n, "style"); JG(t, r, i, e), function (t, n, i) { Array.prototype.slice.call(n.attributes).forEach(function (n) { var e = Zu(n.name, ["ebutts", "tts", "xml"]); qG[e] && qG[e](n.value, t, i) }) }(t, n, e) })(s = "BODY" === t.nodeName.toUpperCase() ? e : QG(t), t, n, r), function (t, n, i) { var e = Wu(n, "smpte:backgroundImage"); if (e) { var r = "[*|id='" + (e = e.replace("#", "")) + "']", s = i.querySelector(r); s && KG(t, s, n, !0) } !function (t, n) { var i = n.firstElementChild; if (!i || "metadata" !== i.nodeName.toLowerCase()) return; var e = i.firstElementChild; KG(t, e, n) }(t, n) }(s, t, i); for (var a = [], h = t.childNodes, c = 0; c < h.length; c++) { var f = $G(h[c], n, i, e, r); f && (a = a.concat(f)) } if ("BODY" !== t.nodeName.toUpperCase()) { for (var v = 0, l = a; v < l.length; v++) { var d = l[v]; s.appendChild(d) } return [s] } return a } } else (function (t) { return t && 3 === t.nodeType })(t) && (s = QG(t)); if (s) return [s] } function QG(t) { var n, i; switch (t.nodeName.toUpperCase()) { case "#TEXT": XH(n = s.createElement("text"), t.textContent); break; case "BR": n = s.createElement("br"); break; case "SPAN": n = s.createElement("span"), (i = n).style.backgroundColor = "rgba(0,0,0,0.6)", i.style.textAlign = "start", i.style.lineHeight = "normal", YG(n, t); break; case "P": (function (t) { t.style.fontFamily = "Arial, Helvetica, Sans-Serif", t.style.color = "white", t.style.justifyContent = "flex-start", t.style.textAlign = "start", t.style.padding = "none", t.style.margin = "0", t.style.lineHeight = "normal", t.style.lineHeight = "1.3em", t.style.textShadow = "rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px" })(n = s.createElement("p")), YG(n, t); break; case "DIV": YG(n = s.createElement("div"), t) }return n } function YG(t, n) { var i = Xu(n, "id", Gu); i && (t.id = i) } function ZG(t, n, i, e) { JG(t, n.style, i, e), g.keys(n).forEach(function (i) { qG[i] && qG[i](n[i], t) }) } function KG(t, n, i, e) { void 0 === e && (e = !1), e && (t.style.width = t.style.height = "100%"); var r = "data:png;base64," + n.innerHTML, u = s.createElement("img"); u.src = r, u.id = t.id, u.style.height = "100%", u.style.maxWidth = "100%", function (t, n) { t.style.display = "flex"; var i = Wu(n, "smpte:backgroundImageVertical"); if (i) switch (i.toLowerCase()) { case "left": t.style.alignItems = "flex-start"; break; case "center": t.style.alignItems = "center"; break; case "right": t.style.alignItems = "flex-end"; break; case "inherit": t.style.alignItems = "inherit" } else t.style.alignItems = "center"; var e = Wu(n, "smpte:backgroundImageHorizontal"); if (e) switch (e.toLowerCase()) { case "left": t.style.justifyContent = "flex-start"; break; case "center": t.style.justifyContent = "center"; break; case "right": t.style.justifyContent = "flex-end"; break; case "inherit": t.style.justifyContent = "inherit" } else t.style.justifyContent = "center" }(t, i), t.appendChild(u) } function JG(t, n, i, e) { n && n.split(" ").forEach(function (n) { i[n] && g.keys(i[n]).forEach(function (r) { var s = Zu(r, ["ebutts", "tts", "xml"]); "style" === s.toLowerCase() ? JG(t, i[n][r], i, e) : qG[s] && qG[s](i[n][r], t, e) }) }) } function tW(t) { t.style.display = "flex", t.style.top = "auto", t.style.left = "5%", t.style.width = "90%", t.style.height = "100%", t.style.maxHeight = t.style.maxWidth = "100%", t.style.alignItems = "flex-start", t.style.overflow = "visible", t.style.position = "absolute", t.style.justifyContent = "center", t.style.textAlign = "start", t.style.cssText = t.style.cssText.concat("ms-writing-mode: lr-tb, horizontal-tb;-webkit-writing-mode: horizontal-tb;-moz-writing-mode: horizontal-tb;writing-mode: horizontal-tb;"), t.style.padding = "none", t.style.margin = "0" } var nW, iW, eW = s.createElement("textarea"); function rW(t, n) { for (var i, e = nW.czt, r = "", s = [], u = t.charAt(n.Yo), o = "", a = { Ou: iW.fzt, Xn: "", vzt: [] }; n.Yo < t.length + 1;) { switch (u = n.Yo < t.length ? t.charAt(n.Yo) : "EOF", e) { case nW.czt: switch (u) { case "&": var h = t.substr(n.Yo).match(/&#?[0-9a-zA-Z]+;/); h ? (r += (i = h[0], eW.innerHTML = i, eW.value), n.Xo(h[0].length - 1)) : r += "&"; break; case "<": if (r) return { Ou: iW.lS, BP: r }; e = nW.lzt; break; case "EOF": return { Ou: iW.lS, BP: r }; default: r += u }break; case nW.lzt: switch (u) { case "\t": case "\n": case "\f": case " ": e = nW.dzt; break; case ".": e = nW._zt; break; case "/": e = nW.gzt; break; case "0": case "1": case "2": case "3": case "4": case "5": case "6": case "7": case "8": case "9": r = u, e = nW.wzt; break; case ">": return n.Xo(1), a; case "EOF": return a; default: r = u, e = nW.yzt }break; case nW.yzt: switch (u) { case "\t": case "\f": case " ": e = nW.dzt; break; case "\n": o = u, e = nW.dzt; break; case ".": e = nW._zt; break; case ">": return n.Xo(1), { Ou: iW.fzt, Xn: r, vzt: [] }; case "EOF": return { Ou: iW.fzt, Xn: r, vzt: [] }; default: r += u }break; case nW._zt: switch (u) { case "\t": case "\f": case " ": s.push(o), o = "", e = nW.dzt; break; case "\n": s.push(o), o = u, e = nW.dzt; break; case ".": s.push(o), o = ""; break; case ">": return n.Xo(1), s.push(o), { Ou: iW.fzt, Xn: r, vzt: s }; case "EOF": return s.push(o), { Ou: iW.fzt, Xn: r, vzt: s }; default: o += u }break; case nW.dzt: switch (u) { case "&": e = nW.pzt; break; case ">": n.Xo(1); var c = o.trim(); return c = c.replace(/\s/, " "), { Ou: iW.fzt, Xn: r, vzt: s, mzt: c }; default: o += u }break; case nW.pzt: for (var f = "", v = n.Yo; ">" === t.charAt(v); v++)f += t.charAt(v); o += f || "&", e = nW.dzt; break; case nW.gzt: switch (u) { case ">": return n.Xo(1), { Ou: iW.kzt, Xn: r }; case "EOF": return { Ou: iW.kzt, Xn: r }; default: r += u }break; case nW.wzt: switch (u) { case ">": return n.Xo(1), { Ou: iW.bzt, Azt: r }; case "EOF": return { Ou: iW.bzt, Azt: r }; default: r += u } }n.Xo(1) } } !function (t) { t.czt = "Data", t.lzt = "Tag", t.yzt = "StartTag", t._zt = "StartTagClass", t.dzt = "StartTagAnnotation", t.pzt = "CharRefInAnnotation", t.gzt = "EndTag", t.wzt = "TimestampTag" }(nW || (nW = {})), function (t) { t.lS = "string", t.fzt = "starttag", t.kzt = "endtag", t.bzt = "timestamp" }(iW || (iW = {})); var sW = { E1: YC.WHITE, I1: "sans-serif", R1: "100%", N1: "rgba(0,0,0,0.8)", C1: YC.TRANSPARENT, D1: "none" }, uW = "theoplayer-webvtt-region-", oW = "theoplayer-webvtt-styling-", aW = "theoplayer-webvtt-voice-", hW = 5.23, cW = 1.14, fW = 0, vW = function (t) { function n(n, i, e, r) { var s; return (s = t.call(this, n, i, e, r, sW) || this).Tzt = {}, s.Szt = wW(3), s } rt(n, t); var i = n.prototype; return i.$Gt = function (t) { var n = s.createElement("div"); return n.className = "theoplayer-webvtt-texttrack-" + t, $e(n), We(n.style, "flex", "-ms-flexbox"), n.style.overflow = "hidden", n.style.pointerEvents = "none", n.style.fontFamily = this.hzt.I1, n.style.whiteSpace = "pre-line", n }, i.qGt = function (t, n) { for (var i = n / 100, e = t / 100, r = _.min(i, e), s = UG(this.hzt), u = 0, o = g.keys(this.Ezt); u < o.length; u++) { var a = o[u], h = this.Ezt[a].Izt; this.Rzt(h, r, s, this.Ezt[a].lM) } this.Rzt(this.Nzt, r, s), this.Czt() }, i.Czt = function () { var t = UG(this.hzt); this.Nzt.style.padding = t >= 1.5 ? "0" : 1 / t + "em" }, i.szt = function (t) { var n = this.fV, i = this.x_.DW / 100, e = this.Nzt; t.lM && (this.Ezt[t.lM.Ff] || (this.Ezt[t.lM.Ff] = { lM: t.lM, Izt: yW(t.lM, i) }), e = this.Ezt[t.lM.Ff].Izt), n.querySelector("." + e.className) || n.appendChild(e); var r = this.uzt(t); e.children.length >= 1 && t.lM && "up" === t.lM.pM && (e.style.transitionProperty = "top", e.style.transitionDuration = "0.433s"); for (var s = 0; s < r.length; s++) { var u = r[s]; u.className = t.zP, e.appendChild(u) } }, i.uzt = function (t) { var n = []; return t && n.push(this.Dzt(t)), n }, i.Dzt = function (t) { for (var n = new xi, i = t.BP, e = this.xzt(t), r = e, u = "", o = [], a = {}; n.Yo < i.length;) { var h = rW(i, n); if (h.Ou === iW.lS) { var c = this.Ozt(h.BP); lW(c, a), r.appendChild(c) } else if (h.Ou === iW.fzt) { switch (a[h.Xn.toLowerCase()] || (a[h.Xn.toLowerCase()] = []), a[h.Xn.toLowerCase()].push(h), h.Xn.toLowerCase()) { case "c": break; case "i": var f = s.createElement("i"); r.appendChild(f), r = f; break; case "b": var v = s.createElement("b"); r.appendChild(v), r = v; break; case "u": var l = s.createElement("u"); r.appendChild(l), r = l; break; case "ruby": var d = s.createElement("ruby"); r.appendChild(d), r = d; break; case "rt": if ("ruby" === u) { var g = s.createElement("rt"); r.appendChild(g) } break; case "v": break; case "lang": o.push(h.mzt) }u = h.Xn || "" } else if (h.Ou === iW.kzt) { a[h.Xn.toLowerCase()] && a[h.Xn.toLowerCase()].pop(), (!h.Xn || "C" !== h.Xn.toUpperCase() && "V" !== h.Xn.toUpperCase()) && ("LANG" === h.Xn.toUpperCase() ? o.pop() : "RUBY" === h.Xn.toUpperCase() && "RUBY" === r.tagName ? r = r.parentNode.parentNode : r.tagName && r.tagName.toUpperCase() === h.Xn.toUpperCase() && (r = r.parentNode)), u = h.Xn || "" } else if (h.Ou === iW.bzt) { var _ = h.Azt, w = new xi; try { Ag(_, w) } catch (t) { tt("ERROR collecting timestamp", t) } } } return e }, i.Ozt = function (t) { var n = s.createElement("span"); return XH(n, t), n.style.background = this.hzt.N1, n }, i.Rzt = function (t, n, i, e) { if (e) { var r = dW(e, n); t.style.height = r * i + "px", t.style.left = gW(e) + "%", t.style.top = _W(e, n) + "px" } t.style.fontSize = hW * n * i + "px" }, i.xzt = function (t) { var n = s.createElement("div"); return n.style.margin = "0", n.style.padding = "0", n.style.unicodeBidi = "plaintext", n.style.wordWrap = "break-word", n.style.width = "auto", n.style.textAlign = t.aM, function (t, n) { "rl" === n._M ? t.style.writingMode = "vertical-rl" : "lr" === n._M ? t.style.writingMode = "vertical-lr" : t.style.writingMode = "horizontal-tb" }(n, t), function (t, n) { var i = Wd(n); pW(n) ? (t.style.width = i + "%", t.style.height = "auto") : (t.style.height = i + "%", t.style.width = "auto") }(n, t), function (t, n) { var i, e, r = Gd(n), s = qd(n), u = Wd(n); pW(n) ? ("line-left" === r ? i = s : "center" === r ? i = s - u / 2 : "line-right" === r && (i = s - u), e = n.dM ? 0 : zd(n)) : ("line-left" === r ? e = s : "center" === r ? e = s - u / 2 : "line-right" === r && (e = s - u), i = n.dM ? 0 : zd(n)); t.style.left = i + "%", t.style.top = e + "%" }(n, t), n.style.background = this.hzt.C1, n.style.color = this.hzt.E1, n.style.textShadow = sN(this.hzt.D1), n }, i.ozt = function (t) { for (var n = t.zP, i = this.fV, e = i.children, r = 0; r < e.length; r++) { for (var s = e[r].getElementsByClassName(n), u = 0; u < s.length; u++)e[r].removeChild(s[u]); if (0 === e[r].childNodes.length) { for (var o = 0, a = g.keys(this.Ezt); o < a.length; o++) { var h = a[o]; if (Jt(e[r].className, uW + h)) { delete this.Ezt[h]; break } } i.removeChild(e[r]) } } }, T(n, [{ key: "Ezt", get: function () { return this.Tzt || (this.Tzt = {}), this.Tzt } }, { key: "Nzt", get: function () { return this.Szt || (this.Szt = wW(3)), this.Szt } }, { key: "nzt", get: function () { return "theoplayer-webvtt-cue-" + fW++ } }]), n }(VG); function lW(t, n) { if (n.c) for (var i = 0, e = n.c; i < e.length; i++) { var r = e[i]; if (r.vzt) for (var s = 0, u = r.vzt; s < u.length; s++) { var o = u[s]; He(t, oW + o) } } if (n.v) for (var a = 0, h = n.v; a < h.length; a++) { var c = h[a]; c.mzt && He(t, aW + c.mzt) } } function dW(t, n) { return t.gM * (hW * n) * cW } function gW(t) { return t.mM - t.wM * t.qw / 100 } function _W(t, n) { var i = t.kM, e = t.yM * dW(t, n) / 100; return _.max(0, i - e) } function wW(t) { var n = s.createElement("div"); return n.className = uW + "default", $e(n), We(n.style, "inline-flex", "-ms-flexbox"), n.style.flexFlow = "column", n.style.justifyContent = "flex-end", n.style["-ms-flex-align"] = "end", n.style.overflow = "hidden", n.style.wordWrap = "break-word", n.style.writingMode = "horizontal-tb", n.style.pointerEvents = "none", n.style.maxHeight = "100%", n.style.minHeight = "0px", n.style.margin = "0", n.style.padding = "1em", n.style.boxSizing = "border-box", n.style.fontSize = hW * t + "px", n.style.lineHeight = cW + "em", n } function yW(t, n) { var i = wW(n); i.className = uW + t.Ff; var e = t.qw, r = dW(t, n); return i.style.width = e + "%", i.style.height = r + "px", i.style.left = gW(t) + "%", i.style.top = _W(t, n) + "px", i.style.padding = "0", i.style.boxSizing = "border-box", i } function pW(t) { return "" === t._M } var mW = function () { function t(t, n, i) { this.Bzt = t, this.Pzt = n, this.XGt = i } var n = t.prototype; return n.Mzt = function () { return this.Lzt = this.jzt(), this.Fzt(), this.Uzt(), this.Lzt }, n.jzt = function () { var t = s.createElement("div"); return t.style.position = "absolute", t.style.margin = "0", t.style.padding = "0", t.style.whiteSpace = "pre", t.style.width = this.Vzt / kC * this.Pzt.Hzt * 100 + "%", t.style.height = 1.2 * this.Gzt + "em", t.style.lineHeight = "1.2em", t.style.letterSpacing = this.Pzt.zzt ? "calc(1em - 1ch)" : "", t.style.fontFamily = this.XGt.I1, t.style.backgroundColor = this.XGt.C1, t }, n.Fzt = function () { var t = this.qzt.A0 / mC * 100, n = this.qzt.T0 / kC * 100, i = (kC - this.Wzt.T0 - 1) / kC * 100, e = (mC - this.Wzt.A0 - 1) / mC * 100; this.Pzt.Xzt || (n = i = 1, this.Lzt.style.width = "98%"), e < t ? this.Lzt.style.bottom = e * this.Pzt.Hzt + "%" : this.Lzt.style.top = t * this.Pzt.Hzt + "%", i < n ? this.Lzt.style.right = i + "%" : this.Lzt.style.left = n + "%" }, n.Uzt = function () { for (var t = this.Bzt.x0.sort(kW), n = 0; n < t.length; n++)this.$zt(t[n - 1], t[n]), this.Qzt(t[n]); this.$zt(t[t.length - 1], null) }, n.Qzt = function (n) { var i = FG(this.XGt, n.F0), e = t.Yzt(i); XH(e, n.j0), this.Lzt.appendChild(e) }, t.Yzt = function (t) { var n = s.createElement("span"); return n.style.display = "inline-block", t.O1 !== uN.FONT_ITALICS && t.O1 !== uN.FONT_UNDERLINE_ITALICS || (n.style.fontStyle = "italic"), t.O1 !== uN.FONT_UNDERLINE && t.O1 !== uN.FONT_UNDERLINE_ITALICS || (n.style.textDecoration = "underline"), n.style.color = t.E1, n.style.backgroundColor = t.N1, n.style.textShadow = sN(t.D1), n.style.height = "1.2em", n }, n.$zt = function (t, n) { var i = t ? t.B0.A0 : this.Bzt.O0.A0, e = n ? n.O0.A0 : this.Bzt.B0.A0, r = t ? t.B0.T0 : this.Bzt.O0.T0, s = n ? n.O0.T0 : this.Bzt.B0.T0; i < e && (!n || t && t.O0.A0 !== n.O0.A0 ? this.Zzt() : this.Kzt(this.Bzt.B0.T0 - r), r = this.Bzt.O0.T0), r < s && (n ? this.Kzt(s - r) : this.Zzt()) }, n.Zzt = function () { var t = s.createElement("br"); this.Lzt.appendChild(t) }, n.Kzt = function (t) { if (!(t <= 0)) { var n = s.createElement("span"); n.style.display = "inline-block", XH(n, rn(" ", t)), this.Lzt.appendChild(n) } }, T(t, [{ key: "qzt", get: function () { return this.Bzt.O0 } }, { key: "Wzt", get: function () { return this.Bzt.B0 } }, { key: "Vzt", get: function () { return this.Bzt.B0.T0 - this.Bzt.O0.T0 + 1 } }, { key: "Gzt", get: function () { return this.Bzt.B0.A0 - this.Bzt.O0.A0 + 1 } }]), t }(); function kW(t, n) { return function (t, n) { if (t.A0 !== n.A0) return t.A0 - n.A0; return t.T0 - n.T0 }(t.O0, n.O0) } var bW = 0; var AW = function (t) { function n(n, i, e, r) { return t.call(this, n, i, e, r, hN) || this } rt(n, t); var i = n.prototype; return i.$Gt = function (t) { var n = s.createElement("div"); return n.className = "theoplayer-cea608-texttrack-" + t, n.style.position = "absolute", n.style.overflow = "hidden", n.style.pointerEvents = "none", n.style.height = "100%", this.hzt.I1 && (n.style.fontFamily = this.hzt.I1), n }, i.qGt = function (t, n) { this.Jzt() }, i.Jzt = function () { var t, n = UG(this.hzt); this.tqt = { Hzt: (t = 100 * n) / 100, zzt: t <= 100, Xzt: t <= 150 }; var i = this.nqt / kC; this.iqt = i * n, this.fV.style.fontSize = this.iqt + "px" }, i.uzt = function (t) { var n = this; return this.tqt && this.tqt.Xzt ? this.eqt(80) : this.eqt(100), this.Jzt(), t.BP.map(function (t) { return new mW(t, n.tqt, n.hzt).Mzt() }) }, i.eqt = function (t) { var n = (100 - t) / 2; this.fV.style.left = n + "%", this.fV.style.width = t + "%" }, T(n, [{ key: "nqt", get: function () { var t = this.fV.offsetWidth; return this.tqt && this.tqt.Xzt || (t *= .8), t } }, { key: "nzt", get: function () { return "theoplayer-cea608-texttrack-" + bW++ } }]), n }(VG), TW = function () { function t(t, n, i, e) { var r = this; this.rqt = [], this.sqt = function (t) { var n = t.df; n.mo("uL", r.uqt), n.mo("oL", r.uqt), n instanceof bR && (n.hZ = r.hZ), r.oqt(n) }, this.uqt = function (t) { var n = t.df; r.oqt(n) }, this.aqt = function (t) { var n = t.df; n.So("uL", r.uqt), n.So("oL", r.uqt), r.hqt(n) }, this.cqt = function () { for (var t = r.hZ, n = 0, i = r.j_.Tf; n < i.length; n++) { var e = i[n]; e instanceof bR && (e.hZ = t) } }, this.sxt = t, this.fMt = n, this.j_ = i, this.fqt = e, this.j_.mo("_f", this.sqt), this.j_.mo("gf", this.aqt), this.j_.mo("mf", this.uqt), this.fqt.mo("fullscreenchange", this.cqt), this.cqt() } var n = t.prototype; return n.vqt = function (t) { for (var n = 0, i = this.rqt; n < i.length; n++) { var e = i[n]; if (e.df === t) return e } }, n.lqt = function (t) { switch (t.Ou) { case "ttml": case "srt": case "webvtt": case "cea608": return !0 }return !1 }, n.dqt = function (t) { switch (t.Ou) { case "ttml": return new XG(t, this.sxt, t.Hf, this.fMt); case "srt": case "webvtt": return new vW(t, this.sxt, t.Hf, this.fMt); case "cea608": return new AW(t, this.sxt, t.Hf, this.fMt) } }, n._qt = function (t) { var n = this.vqt(t); n || ((n = this.dqt(t)).YGt(this.XGt), this.rqt.push(n), t.Yf === Vr.$f && n.izt()) }, n.hqt = function (t) { for (var n = this.rqt, i = n.length - 1; i >= 0; i -= 1) { var e = n[i]; e.df === t && (e.Af(), mn(n, i)) } }, n.oqt = function (t) { Fg(t.Vf) && this.lqt(t) && (t.Zf === E_.ERROR ? this.hqt(t) : this._qt(t)) }, n.bf = function () { for (var t = 0, n = this.rqt; t < n.length; t++) { var i = n[t]; i.df.So("uL", this.uqt), i.df.So("oL", this.uqt), i.Af() } An(this.rqt) }, n.Af = function () { this.bf(); for (var t = 0, n = this.rqt; t < n.length; t++) { n[t].Af() } this.XGt = void 0, this.rqt = void 0, this.j_.So("_f", this.sqt), this.j_.So("gf", this.aqt), this.j_.So("mf", this.uqt), this.j_ = void 0, this.fqt.So("fullscreenchange", this.cqt), this.sxt = void 0, this.fMt = void 0 }, n.YGt = function (t) { this.XGt = t; for (var n = 0, i = this.rqt; n < i.length; n++) { i[n].YGt(t) } }, T(t, [{ key: "hZ", get: function () { return this.fqt.KW } }]), t }(), SW = function () { function t(t, n) { var i = this; this.gqt = t, this.UQ = n, this.wqt = !0, this.yqt = function () { i.wqt && (i.UQ.TQ ? i.gqt.Z_() : i.gqt.B_()) }, this.UQ.mo("mQ", this.yqt) } return t.prototype.Af = function () { this.UQ && this.UQ.So("mQ", this.yqt) }, T(t, [{ key: "pqt", set: function (t) { this.wqt !== t && (t ? this.UQ && this.UQ.TQ || this.gqt.B_() : this.gqt.Z_(), this.wqt = t) } }]), t }(); qE(function (t) { return function (t) { function n(n, i) { var e; return (e = t.call(this, n, i) || this).mqt = function () { e.YGt(e.kqt.DGt) }, e.bqt = new BG(n), e.Aqt = new TW(e.bqt.oE, e.OQ, e.Ag, e.jQ), e.kqt = new jG, e.kqt.mo("mf", e.mqt), e.mqt(), e.Tqt = new SW(e.bqt, e.zQ), e } rt(n, t); var i = n.prototype; return i.lf = function () { var n = this; return Sr(t.prototype.lf.call(this), { get textTrackStyle() { return n.Sqt.vf } }) }, i.Af = function () { this.Aqt.Af(), this.bqt.Af(), this.Tqt.Af(), t.prototype.Af.call(this) }, i.B_ = function () { t.prototype.B_.call(this), this.Tqt.pqt = !0 }, i.Z_ = function () { t.prototype.Z_.call(this), this.Tqt.pqt = !1 }, i.YGt = function (t) { this.Aqt.YGt(t) }, T(n, [{ key: "Sqt", get: function () { return this.kqt } }]), n }(t) }, LE.XQ); var EW = 10, IW = 60; function RW(t) { return t.duration() === 1 / 0 } function CW(t) { return t.scrubbing() ? t.getCache().currentTime : t.currentTime() } function NW(t) { var n = BW(t); return RW(t) ? n.end(n.length - 1) : n.start(0) } function DW(t) { return BW(t).start(0) } function xW(t) { var n = BW(t); return n.end(n.length - 1) - n.start(0) } function BW(t) { var n = t.seekable(); if (n && n.length) return n; var i = t.duration(); return i = isFinite(i) ? i : 0, new hs([0, i]).Jl() } function OW(t, n) { void 0 === n && (n = t); var i = t < 0 ? "-" : ""; t = _.abs(t); var e = _.floor(t % 60), r = _.floor(t / 60 % 60), s = _.floor(t / 3600), u = _.floor(n / 60 % 60), o = _.floor(n / 3600); return (p(t) || t === 1 / 0) && (s = r = e = "-"), i + (s = s > 0 || o > 0 ? s + ":" : "") + (r = ((s || u >= 10) && r < 10 ? "0" + r : r) + ":") + (e = e < 10 ? "0" + e : e) } function PW() { var t = CW(this); this.toggleClass("theo-at-live", function (t, n) { if (RW(t)) { var i = BW(t); return i.end(i.length - 1) - n < EW } return !1 }(this, t)), this.toggleClass("theo-dvr", function (t) { return RW(t) && xW(t) >= IW }(this)) } var MW, LW = function (t, n) { this.type = t.type, this.target = n, this.playerEvent = t }; !function (t) { t.Xqt = "unavailable", t.$qt = "available", t.Qqt = "presenting" }(MW || (MW = {})); var jW = ["suspend", "abort", "stalled", "loadedmetadata", "loadeddata", "canplay", "canplaythrough", "playing", "waiting", "seeking", "seeked", "ended", "durationchange", "timeupdate", "progress", "play", "pause", "ratechange", "volumechange", "resize"], FW = EG.getTech("Tech"), UW = EG.getTech("Html5"), VW = function (t) { function n(n, i) { var e; void 0 === n && (n = {}), (e = t.call(this, n, i) || this).LEt = function (t) { return e.do(t) }, e.Yqt = !1, e.tY = function () { e.do(new xh(e.Zqt.currentTime, e.Zqt.readyState)), e.do(new BR) }, e.Kqt = function (t) { e.textTracks().pf(t.track) }, e.Jqt = function (t) { e.audioTracks().pf(t.track) }, e.tWt = function (t) { e.textTracks().kf(t.track) }, e.nWt = function (t) { e.audioTracks().kf(t.track) }, e.iWt = function () { var t = e.textTracks(); t.trigger({ type: "change", target: t, currentTarget: t, srcElement: t }) }, e.eWt = function () { var t = e.audioTracks(); t.trigger({ type: "change", target: t, currentTarget: t, srcElement: t }) }, e.rWt = function () { if (e.supportsFullScreen()) { var t = e.Yqt, n = "fullscreen" === e.Zqt.presentation.currentMode; t !== n && (e.Yqt = n, e.trigger("fullscreenchange", { isFullscreen: n })) } }, e.cc = function () { var t = e.Zqt.error, n = t && t.code || -1, i = t && t.message || "An unknown error occurred."; e.error({ code: n, message: e.localize(i) }) }, e.Zqt = e.aVt.player, e.sWt(); var r = !e.paused(); return r && e.pause(), n.preload && e.setPreload(n.preload), n.autoplay && e.setAutoplay(n.autoplay), n.muted && e.setMuted(n.muted), n.source ? e.setSrc(n.source) : e.OHt(), r && e.ready(function () { return e.play() }), e.triggerReady(), e } rt(n, t); var i = n.prototype; return i.sWt = function () { for (var t = 0; t < jW.length; t++) { var n = jW[t]; this.Zqt.addEventListener(n, this.LEt) } this.Zqt.addEventListener("error", this.cc), this.Zqt.addEventListener("contentprotectionerror", this.cc), this.Zqt.addEventListener("sourcechange", this.tY), this.Zqt.presentation.addEventListener("presentationmodechange", this.rWt), this.Zqt.textTracks.addEventListener("addtrack", this.Kqt), this.Zqt.textTracks.addEventListener("removetrack", this.tWt), this.Zqt.textTracks.addEventListener("change", this.iWt), this.Zqt.audioTracks.addEventListener("addtrack", this.Jqt), this.Zqt.audioTracks.addEventListener("removetrack", this.nWt), this.Zqt.audioTracks.addEventListener("change", this.eWt) }, i.uWt = function () { for (var t = 0; t < jW.length; t++) { var n = jW[t]; this.Zqt.removeEventListener(n, this.LEt) } this.Zqt.removeEventListener("error", this.cc), this.Zqt.removeEventListener("contentprotectionerror", this.cc), this.Zqt.removeEventListener("sourcechange", this.tY), this.Zqt.presentation.removeEventListener("presentationmodechange", this.rWt), this.Zqt.textTracks.removeEventListener("addtrack", this.Kqt), this.Zqt.textTracks.removeEventListener("removetrack", this.tWt), this.Zqt.textTracks.removeEventListener("change", this.iWt), this.Zqt.audioTracks.removeEventListener("addtrack", this.Jqt), this.Zqt.audioTracks.removeEventListener("removetrack", this.nWt), this.Zqt.audioTracks.removeEventListener("change", this.eWt) }, i.do = function (t) { this.trigger(new LW(t, this)) }, i.createEl = function () { var t = this.aVt, n = t.player; if (!n) throw new v(this.localize('Missing required tech option "player"')); var i = n.element; return EG.setAttributes(i, { id: t.techId }), i }, i.theoplayer = function () { return this.Zqt }, i.addTextTrack = function (n, i, e) { return t.prototype.addTextTrack.call(this, n, i, e) }, i.buffered = function () { return this.Zqt.buffered }, i.played = function () { return this.Zqt.played }, i.reset = function () { this.Zqt.stop() }, i.play = function () { this.Zqt.play() }, i.pause = function () { this.Zqt.pause() }, i.paused = function () { return this.Zqt.paused }, i.currentTime = function () { return this.Zqt.currentTime }, i.setCurrentTime = function (t) { this.Zqt.currentTime = t }, i.duration = function () { return this.Zqt.duration }, i.volume = function () { return this.Zqt.volume }, i.setVolume = function (t) { this.Zqt.volume = t }, i.muted = function () { return this.Zqt.muted }, i.setMuted = function (t) { this.Zqt.muted = t }, i.src = function (t) { if (void 0 !== t) this.setSrc(t); else { if (this.Zqt.src) return this.Zqt.src; if (this.Zqt.source) { if (!tf(this.Zqt.source.ads)) return this.Zqt.source.ads[0].sources; if (function (t) { if (t.sources) if (M(t.sources)) for (var n = 0, i = t.sources; n < i.length; n++) { var e = i[n]; if (!U(e) && "verizon-media" === e.integration) return !0 } else if (!U(t.sources)) return "verizon-media" === t.sources.integration; return !1 }(this.Zqt.source)) return "This source is managed by the Verizon Media integration extension."; if (function (t) { if (t.sources) if (M(t.sources)) { for (var n = 0, i = t.sources; n < i.length; n++)if (uf(i[n])) return !0 } else if (j(t.sources)) return uf(t.sources); return !1 }(this.Zqt.source)) return "This source is managed by the DAI integration extension." } } }, i.setSrc = function (t) { return this.setSource({ src: t }) }, i.setSource = function (t) { this.Bo = null, this.trigger("error") }, i.currentSrc = function () { return this.Zqt.src }, i.load = function () { this.setPreload("auto") }, i.preload = function () { return this.Zqt.preload }, i.setPreload = function (t) { this.Zqt.preload = t }, i.autoplay = function () { return this.Zqt.autoplay }, i.setAutoplay = function (t) { this.Zqt.autoplay = !!t }, i.seeking = function () { return this.Zqt.seeking }, i.seekable = function () { return this.Zqt.seekable }, i.ended = function () { return this.Zqt.ended }, i.playbackRate = function () { return this.Zqt.playbackRate }, i.setPlaybackRate = function (t) { this.Zqt.playbackRate = t }, i.readyState = function () { return this.Zqt.readyState }, i.networkState = function () { return 0 }, i.controls = function () { return !1 }, i.videoHeight = function () { return this.Zqt.videoHeight }, i.videoWidth = function () { return this.Zqt.videoWidth }, i.supportsFullScreen = function () { return this.Zqt.presentation.supportsMode("fullscreen") }, i.enterFullScreen = function () { this.Zqt.presentation.requestMode("fullscreen") }, i.exitFullScreen = function () { this.Zqt.presentation.requestMode("inline") }, i.oWt = function () { var t = this.Zqt.ads; if (t && t.playing) return !0; var n = this.Zqt.vr; return !(!n || n.state === MW.Xqt) }, i.initTextTrackListeners = function () { var n = this; return this.on("touchend", function (t) { n.oWt() && (t.preventDefault = function () { }) }), t.prototype.initTextTrackListeners.call(this) }, i.OHt = function () { if (this.src()) { var t = this.readyState(); if (0 === t) { var n = !1, i = function () { n = !0 }; this.on("loadstart", i); var e = function () { n || this.trigger("loadstart") }; return this.on("loadedmetadata", e), void this.ready(function () { this.off("loadstart", i), this.off("loadedmetadata", e), n || this.trigger("loadstart") }) } var r = ["loadstart"]; r.push("loadedmetadata"), t >= 2 && r.push("loadeddata"), t >= 3 && r.push("canplay"), t >= 4 && r.push("canplaythrough"), this.ready(function () { for (var t = 0; t < r.length; t++) { var n = r[t]; this.trigger(n) } }) } }, i.dispose = function () { this.uWt(), this.Zqt = null, t.prototype.dispose.call(this) }, n.isSupported = function () { return !0 }, n.canPlayType = function () { return "maybe" }, n.canPlaySource = function (t) { return "maybe" }, T(n, [{ key: "featuresVolumeControl", get: function () { return CI } }]), n }(FW); function HW(t) { return function (t) { function n() { var n; return (n = t.apply(this, arguments) || this).aWt = void 0, n } return rt(n, t), n.prototype.dispose = function () { this.aWt = void 0, t.prototype.dispose.call(this) }, T(n, [{ key: "Zqt", get: function () { return this.aWt || (this.aWt = this.player().tech({ IWillNotUseThisInPlugins: !0 }).theoplayer()), this.aWt } }]), n }(t) } VW.prototype.featuresFullscreenResize = UW.prototype.featuresFullscreenResize, VW.prototype.featuresPlaybackRate = UW.prototype.featuresPlaybackRate, VW.prototype.featuresProgressEvents = !0, VW.prototype.featuresTimeupdateEvents = !0, VW.prototype.featuresNativeTextTracks = !0, EG.registerTech("THEOplayer", VW); var zW = function (t) { var n = this; this.hWt = function (t) { He(n.zV, "theo-mobile-button-hover"), t.stopImmediatePropagation() }, this.cWt = function (t) { ze(n.zV, "theo-mobile-button-hover") }, this.fWt = function (t) { n.zV.blur() }, this.zV = t, t.addEventListener("touchstart", this.hWt), t.addEventListener("touchend", this.cWt), t.addEventListener("focusin", this.fWt) }, qW = function (t) { function n(n, i) { return t.call(this, n, i) || this } rt(n, t); var i = n.prototype; return i.vWt = function () { He(this.lWt, "theo-menu-opened") }, i.Oh = function () { ze(this.lWt, "theo-menu-opened") }, T(n, [{ key: "lWt", get: function () { return this.player().el() } }]), n }(HW(EG.getComponent("Menu"))), GW = function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, Et({ selectable: !0 }, i)) || this).dWt = !1, r.hWt = function (t) { He(r.el(), "theo-mobile-menu-item-hover"), t.stopImmediatePropagation() }, r.cWt = function (t) { ze(r.el(), "theo-mobile-menu-item-hover") }, r.gWt = e, PI.hn && (r.el().addEventListener("touchstart", r.hWt), r.el().addEventListener("touchend", r.cWt)), r } rt(n, t); var i = n.prototype; return i.buildCSSClass = function () { return "theo-menu-item vjs-menu-item" }, i.createEl = function () { var n = t.prototype.createEl.call(this, "li", { className: this.buildCSSClass(), tabIndex: 0 }, { "aria-live": "off", "aria-label": "" }); return n.innerHTML = "", n }, i.handleClick = function (t) { this.dWt || (this.parentMenu._Wt(this), "tap" !== t.type && "keydown" !== t.type || (this.dWt = !0, this.trigger("click"), this.dWt = !1)) }, i.dispose = function () { PI.hn && (this.el().removeEventListener("touchstart", this.hWt), this.el().removeEventListener("touchend", this.cWt)), t.prototype.dispose.call(this) }, T(n, [{ key: "parentMenu", get: function () { return this.gWt } }]), n }(HW(EG.getComponent("MenuItem"))), WW = function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, i) || this).dWt = !1, r.wWt = !1, r.gWt = e, r } rt(n, t); var i = n.prototype; return i.buildCSSClass = function () { return "theo-primary-background theo-menu-header" }, i.createEl = function () { var n = t.prototype.createEl.call(this, "div", { className: this.buildCSSClass(), tabIndex: -1 }, { "aria-live": "off", "aria-label": "" }); return n.innerHTML = "", n }, i.handleClick = function (t) { !this.dWt && this.yWt && (this.gWt.pWt(), "tap" === t.type && (this.dWt = !0, this.trigger("click"), this.dWt = !1)) }, T(n, [{ key: "parentMenu", get: function () { return this.gWt } }, { key: "yWt", get: function () { return this.wWt }, set: function (t) { this.wWt = t, this.yWt ? (this.el().setAttribute("tabindex", "0"), this.el().setAttribute("aria-label", this.localize("Go back to the previous menu"))) : (this.el().setAttribute("tabindex", "-1"), this.el().setAttribute("aria-label", "")) } }]), n }(EG.getComponent("ClickableComponent")), XW = function (t) { function n(n, i) { return t.call(this, n, i) || this } rt(n, t); var i = n.prototype; return i.mWt = function (t) { this.bWt.kWt(t, "replace") }, i.AWt = function (t) { t.bWt.kWt(this, "restore") }, i.B_ = function () { ze(this.TWt, "vjs-hidden"), this.TWt.style.opacity = "1", t.prototype.show.call(this) }, i.Z_ = function () { He(this.TWt, "vjs-hidden") }, i.vWt = function () { this.bWt && this.bWt.vWt(), t.prototype.vWt.call(this) }, i.Oh = function () { this.bWt && this.bWt.Oh(), t.prototype.Oh.call(this), He(this.TWt, "vjs-hidden") }, i.SWt = function () { if (this.bWt && this.bWt.EWt) return this.bWt.EWt.TWt }, i.IWt = function (n, i) { if (i.length > 0) { var e = i[0].height, r = i[0].width; this.RWt.oE.style.height = e + "px", this.RWt.oE.style.width = r + "px" } t.prototype.IWt.call(this, n, i) }, T(n, [{ key: "bWt", get: function () { return this.RWt }, set: function (t) { this.RWt && this.RWt.CWt(this), this.RWt = t, t && t.NWt(this) } }]), n }(function (t) { function n(n, i) { var e; return (e = t.call(this, n, i) || this).DWt = function () { return e.xWt() }, e.BWt = e.player().el(), e.hide(), e.on("menuchange", e.xWt), e } rt(n, t); var i = n.prototype; return i.addMenuItem = function (t) { t = Et({ playerOptions: this.aVt.playerOptions }, t); var n = new GW(this.player(), t, this); return this.addChild(n, void 0, t.index), this.trigger("menuchange"), n }, i.addSubMenuItem = function (t) { t = Et({ playerOptions: this.aVt.playerOptions }, t); var n = this.OWt(this.player(), t); return this.addChild(n, void 0, t.index), this.trigger("menuchange"), n }, i.removeMenuItem = function (t) { this.removeChild(t), this.trigger("menuchange") }, i.buildCSSClass = function () { return "theo-menu vjs-menu" }, i.vWt = function () { t.prototype.vWt.call(this), r.removeEventListener("resize", this.DWt), r.addEventListener("resize", this.DWt), this.show() }, i.xWt = function () { var t = this.SWt(); if (t) { var n = t.getClientRects(); PI.hn ? this.PWt(t, n) : this.IWt(t, n) } }, i.SWt = function () { return this.contentEl().parentElement }, i.IWt = function (t, n) { }, i.PWt = function (t, n) { }, i.Oh = function () { r.removeEventListener("resize", this.DWt), t.prototype.Oh.call(this), this.hide(), PI.hn && (this.el().removeAttribute("style"), this.contentEl().removeAttribute("style")) }, i.createEl = function () { var n = t.prototype.createEl.call(this); n.className = this.buildCSSClass(); var i = this.contentEl(); He(i, "theo-menu-content"); var e = new WW(this.player(), this.aVt, this); return i.parentNode.insertBefore(e.el(), i), this.MWt = e, n }, i._Wt = function (t) { }, i.show = function () { return this.xWt(), t.prototype.show.call(this) }, i.dispose = function () { this.MWt && (this.MWt.dispose(), this.MWt = void 0), this.BWt = null, t.prototype.dispose.call(this) }, T(n, [{ key: "menuHeader", get: function () { return this.MWt } }, { key: "menuItems", get: function () { return this.children() } }]), n }(qW)), $W = function () { function t(t) { this.LWt = this.jWt = t, this.zV = s.createElement("div"), this.zV.className = "theo-tertiary-background theo-menu-animation-container", this.zV.appendChild(this.LWt.TWt), this.BWt = this.jWt.player().el() } var n = t.prototype; return n.NWt = function (t) { t.Z_(), this.zV.appendChild(t.TWt) }, n.CWt = function (t) { this.zV.removeChild(t.TWt) }, n.kWt = function (t, n) { if (t != this.jWt) { var i = this.jWt; if (this.jWt = t, this.jWt.B_(), this.EWt.focus(), PI.hn) i.Z_(); else { var e = LS("transform"); i.TWt.style.opacity = "0", i.TWt.style[e] = "replace" === n ? "translateX(-100%)" : "translateX(100%)", this.jWt.TWt.style.opacity = "1", this.jWt.TWt.style[e] = "", a(function () { i.Z_(), i.TWt.style[e] = "" }, 300) } } }, n.vWt = function () { this.FWt(), this.jWt.B_(), this.UWt() }, n.Oh = function () { this.FWt(), this.jWt.Z_(), this.LWt.Z_(), this.jWt = this.LWt, this.UWt() }, n.UWt = function () { var t = this; l_(function () { ze(t.zV, "theo-no-transition"), ze(t.jWt.TWt, "theo-no-transition") }) }, n.FWt = function () { He(this.zV, "theo-no-transition"), He(this.jWt.TWt, "theo-no-transition") }, n.aEt = function () { this.zV = null, this.BWt = null, this.LWt = null, this.jWt = null }, T(t, [{ key: "oE", get: function () { return this.zV } }, { key: "EWt", get: function () { return this.jWt } }]), t }(), QW = function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, i) || this).VWt = e, r.menuHeader.yWt = !0, r } rt(n, t); var i = n.prototype; return i.OWt = function (t, n) { var i = new YW(t, n, this); return i.subMenu.bWt = this.bWt, i }, i.pWt = function () { this.HWt() }, i._Wt = function (n) { t.prototype._Wt.call(this, n), this.HWt() }, i.HWt = function () { this.parentMenu.AWt(this) }, i.buildCSSClass = function () { return "theo-submenu " + (this.zWt ? "" : "theo-leaf-submenu ") + "theo-menu-content theo-menu-content-animatable " + t.prototype.buildCSSClass.call(this) }, i.addSubMenuItem = function (n) { this.zWt = !0; var i = t.prototype.addSubMenuItem.call(this, n); return this.removeClass("theo-leaf-submenu"), i }, T(n, [{ key: "TWt", get: function () { return this.el() } }, { key: "parentMenu", get: function () { return this.VWt } }]), n }(XW), YW = function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, Et({ selectable: !1 }, i), e) || this).qWt = new QW(n, i, e), r } return rt(n, t), n.prototype.handleClick = function (t) { this.parentMenu.mWt(this.subMenu) }, T(n, [{ key: "subMenu", get: function () { return this.qWt } }]), n }(GW), ZW = function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, i) || this).GWt = !1, r.WWt = e, r } rt(n, t); var i = n.prototype; return i.createEl = function () { var n = EG.createEl("div", { className: this.buildCSSClass() }); return this.XWt = t.prototype.createEl.call(this), this.XWt.className = t.prototype.buildCSSClass.call(this), He(this.XWt, "theo-menu-content-animatable"), n.appendChild(this.XWt), this.bWt = new $W(this), n.appendChild(this.bWt.oE), n }, i.buildCSSClass = function () { return "theo-menu-animatable " + t.prototype.buildCSSClass.call(this) }, i.OWt = function (t, n) { var i = new YW(t, n, this); return i.subMenu.bWt = this.bWt, i }, i.IWt = function (n, i) { t.prototype.IWt.call(this, n, i); var e = this.BWt.getClientRects(), r = e.length > 0 && e[0], s = y(getComputedStyle(this.el()).fontSize); qH(this.el(), this.WWt.el(), r, s) }, i.pWt = function () { this.WWt.closeMenu() }, i.dispose = function () { this.GWt || (this.GWt = !0, this.WWt = null, this.XWt = null, t.prototype.dispose.call(this), this.bWt && (this.bWt.aEt(), this.RWt = null)) }, T(n, [{ key: "menuButton", get: function () { return this.WWt } }, { key: "TWt", get: function () { return this.XWt } }]), n }(XW), KW = function (t) { function n(n, i) { var e; return (e = t.call(this, n, i) || this).$Wt = !1, e.QWt = 1, e.tj = !0, e.YWt = function (t) { var n, i = e.el().contains(t.target), r = e.ZWt.el().contains(t.target), s = !1; PI.hn && e.KWt && (s = (null === (n = e.el().parentElement) || void 0 === n ? void 0 : n.querySelector(".theo-mobile-menu-background")) === t.target), i || r || !e.$Wt || (s && t.preventDefault(), e.closeMenu()) }, e.JWt = function (t) { 27 === t.which && (e.closeMenu(), e.focus()) }, e.cJ = function () { e.$Wt && e.closeMenu() }, e.tXt = function () { e.ZWt.menuItems.length >= e.QWt ? e.show() : (e.closeMenu(), e.hide()) }, e.ZWt = new ZW(n, i, st(e)), e.player().getChild("controlBarMenuContainer").addChild(e.ZWt), e.el().setAttribute("aria-haspopup", "true"), PI.Gt ? (e.on(s, "touchend", e.YWt), new zW(e.el())) : (e.on(s, "click", e.YWt), e.on(s, "keydown", e.JWt), e.on(s, qS.YW, e.closeMenu)), e.Zqt.addEventListener("seeking", e.cJ), e.on(e.ZWt, "menuchange", e.tXt), e.tXt(), e } rt(n, t); var i = n.prototype; return i.isMenuOpen = function () { return this.$Wt }, i.openMenu = function () { this.tj && !this.$Wt && (this.ZWt.vWt(), this.el().setAttribute("aria-expanded", "true"), this.$Wt = !0, this.ZWt.focus()) }, i.closeMenu = function () { this.tj && this.$Wt && (this.ZWt.Oh(), this.el().setAttribute("aria-expanded", "false"), this.$Wt = !1) }, i.buildCSSClass = function () { return "theo-controlbar-button vjs-menu-button vjs-menu-button-popup " + t.prototype.buildCSSClass.call(this) }, i.createEl = function (n, i, e) { return t.prototype.createEl.call(this, "button", {}, { "aria-live": "off" }) }, i.handleClick = function () { this.$Wt ? this.closeMenu() : this.openMenu() }, i.enable = function () { return this.tj = !0, t.prototype.enable.call(this) }, i.disable = function () { return this.closeMenu(), this.tj = !1, t.prototype.disable.call(this) }, i.dispose = function () { this.player().removeChild(this.ZWt), this.ZWt.dispose(), this.Zqt.removeEventListener("seeking", this.cJ), t.prototype.dispose.call(this) }, T(n, [{ key: "KWt", get: function () { return !!this.el().parentElement && null !== this.el().parentElement.querySelector(".theo-mobile-menu-background") } }, { key: "menu", get: function () { return this.ZWt } }, { key: "minimumMenuItems", set: function (t) { this.QWt = t, this.tXt() } }]), n }(HW(EG.getComponent("Button"))), JW = function (t) { function n(n, i) { var e; return (e = t.call(this, n, i) || this).nXt = i.iXt, e } rt(n, t); var i = n.prototype; return i.handleFocus = function (n) { t.prototype.handleFocus.call(this, n), this.nXt.addClass("focus-within") }, i.handleBlur = function (n) { t.prototype.handleBlur.call(this, n), this.nXt.removeClass("focus-within") }, n }(EG.getComponent("VolumeBar")), tX = EG.getComponent("VolumeControl"), nX = function (t) { function n(n, i) { var e; return (e = t.call(this, n, i) || this).eXt = new JW(n, { iXt: st(e) }), e.addChild(e.eXt), e } return rt(n, t), n }(tX); nX.prototype.aVt = Et(Et({}, tX.prototype.aVt), { children: [] }), EG.registerComponent("VolumeControl", nX); var iX = EG.getComponent("ControlBar"), eX = EG.getComponent("Component"), rX = function (t) { function n(n, i) { var e; return (e = t.call(this, n, i) || this).addChild("THEOControlBarShadow", null, 0), e } rt(n, t); var i = n.prototype; return i.addMenuButton = function (t) { t = Et({ playerOptions: this.aVt.playerOptions }, t); var n = new KW(this.player(), t); return this.addChild(n), n }, i.removeMenuButton = function (t) { this.removeChild(t) }, i.createEl = function () { var n = t.prototype.createEl.call(this); return n.className = this.buildCSSClass(), n }, i.buildCSSClass = function () { return "theo-secondary-color vjs-control-bar " + t.prototype.buildCSSClass.call(this) }, n }(iX), sX = function (t) { function n() { return t.apply(this, arguments) || this } rt(n, t); var i = n.prototype; return i.createEl = function () { return t.prototype.createEl.call(this, "div", { className: this.buildCSSClass() }) }, i.buildCSSClass = function () { return "theo-tertiary-color theo-control-bar-shadow" }, n }(eX); rX.prototype.aVt = Et(Et({}, iX.prototype.aVt), { children: ["progressControl", "playToggle", "muteToggle", "volumeControl", "currentTimeDisplay", "timeDivider", "durationDisplay", "liveDisplay", "remainingTimeDisplay", "customControlSpacer", "activeQualityLabel", "vrButton", "descriptionsButton", "subtitlesButton", "chromecastButton", "airplayButton", "audioTrackButton", "SettingsButton", "fullscreenToggle"] }), EG.registerComponent("ControlBar", rX), EG.registerComponent("THEOControlBarShadow", sX); var uX = function (t) { function n(n, i) { var e; return (e = t.call(this, n, i) || this).on(n, "timeupdate", e.updateContent), e.on(n, "emptied", e.updateContent), e } return rt(n, t), n.prototype.updateContent = function () { var t = this.player(), n = CW(t), i = DW(t), e = this.localize("Current Time"), r = OW(_.max(0, n - i), xW(t)); r !== this.bVt && (this.bVt = r, this.contentEl().innerHTML = '<span class="vjs-control-text">' + e + "</span> " + r) }, n }(EG.getComponent("CurrentTimeDisplay")); EG.registerComponent("CurrentTimeDisplay", uX); var oX = function (t) { function n(n, i) { var e; return (e = t.call(this, n, i) || this).rXt = function () { return e.updateContent() }, e.off(n, "durationchange", e.updateContent), e.on(n, "durationchange", e.updateContent), e.off(n, "timeupdate", e.updateContent), e.on(n, "timeupdate", e.updateContent), e.off(n, "emptied", e.updateContent), e.on(n, "emptied", e.updateContent), e.Zqt && e.Zqt.clip.addEventListener("change", e.rXt), e } return rt(n, t), n.prototype.updateContent = function () { var t = p(this.Zqt.duration) ? NaN : xW(this.player()), n = this.Zqt.clip.endTime - this.Zqt.clip.startTime, i = _.min(t, n) || 0; if (this.Zy !== i) { this.Zy = i; var e = this.localize("Duration Time"), r = OW(i); this.vVt.innerHTML = '<span class="vjs-control-text">' + e + "</span> " + r } }, n }(HW(EG.getComponent("DurationDisplay"))); EG.registerComponent("DurationDisplay", oX); var aX = function (t) { function n(n, i) { var e; return (e = t.call(this, n, i) || this).controlText(e.localize("Live")), e.sXt(), e.on(e.player(), "durationchange", e.sXt), PI.Gt && new zW(e.el()), e } rt(n, t); var i = n.prototype; return i.buildCSSClass = function () { return "theo-live-control " + t.prototype.buildCSSClass.call(this) }, i.createEl = function () { var n = t.prototype.createEl.call(this, "button", {}, { "aria-live": "off" }); return this.uXt = EG.createEl("span", { className: "theo-live-control-indicator" }), n.insertBefore(this.uXt, n.firstChild), n }, i.createControlTextEl = function (n) { var i = t.prototype.createControlTextEl.call(this, n); return EG.removeClass(i, "vjs-control-text"), EG.addClass(i, "theo-live-control-text"), i }, i.handleClick = function () { var t = this.player(); t.currentTime(NW(t)), t.play() }, i.sXt = function () { RW(this.player()) ? this.show() : this.hide() }, n }(EG.getComponent("Button")); EG.registerComponent("LiveDisplay", aX); var hX = function (t) { function n(n, i) { return t.call(this, n, i) || this } rt(n, t); var i = n.prototype; return i.buildCSSClass = function () { return "theo-secondary-color vjs-loading-spinner " + t.prototype.buildCSSClass.call(this) }, i.createEl = function () { var n = t.prototype.createEl.call(this); n.className = this.buildCSSClass(); var i = EG.createEl("div", { className: "theo-loading-spinner-rotator" }), e = EG.createEl("div", { className: "theo-loading-spinner-circle-left" }), r = EG.createEl("div", { className: "theo-loading-spinner-circle-right" }); return i.appendChild(e), i.appendChild(r), n.appendChild(i), n }, n }(EG.getComponent("LoadingSpinner")); EG.registerComponent("LoadingSpinner", hX); var cX = function (t) { function n(n, i) { var e; return (e = t.call(this, n, i) || this).oXt = [], e.on(n, "emptied", e.update), e } return rt(n, t), n.prototype.update = function () { var t = this.player(), n = hs.Fd(BW(t)), i = n.Ll(0), e = hs.Fd(t.buffered()).dd(n), r = n.Fl(0) - i, u = e.Sf && e.Fl(e.Sf - 1) || 0; u = _.max(0, u - i); var o = this.el(), a = this.oXt, h = function (t, n) { var i = t / n || 0; return 100 * (i >= 1 ? 1 : i) + "%" }; o.style.width = h(u, r); for (var c = 0; c < e.Sf; c++) { var f = e.Ll(c), v = e.Fl(c), l = a[c]; l || (l = s.createElement("div"), a.push(l), o.appendChild(l)), l.style.left = h(f - i, u), l.style.width = h(v - f, u) } for (var d = a.length; d > e.Sf; d--)o.removeChild(a[d - 1]); a.length = e.Sf }, n }(EG.getComponent("LoadProgressBar")); EG.registerComponent("LoadProgressBar", cX); var fX = function (t) { function n(n, i) { var e; return (e = t.call(this, n, i) || this).vft = function () { var t = e.player(), n = t.scrubbing() ? t.getCache().currentTime : t.currentTime(), i = (n - DW(t)) / xW(t) || 0; i = _o(i, 0, 1), e.update(n, 100 * i + "%") }, e.keepTooltipsInside && (EG.addClass(e.tooltip, "theo-secondary-color"), e.tooltip.appendChild(e.aXt)), x.hn && (e.on(n, "firstplay", e.vft), e.on(n, "play", e.vft), e.on(n, "seeking", e.vft), e.on(n, "seeked", e.vft), e.on(n, "timeupdate", e.vft), e.Zqt.addEventListener("dimensionchange", e.vft), e.Zqt.presentation.addEventListener("presentationmodechange", e.vft), n.on("ready", function () { e.on(n.controlBar.progressControl, "touchmove", MR(function (t) { return e.handleTouchMove(t) }, 25)), e.vft() })), e } rt(n, t); var i = n.prototype; return i.handleMouseMove = function (t) { var n = this.player(), i = DW(n) + this.calculateDistance(t) * xW(n), e = t.pageX - zH(this.el().parentNode).left; this.update(i, e + "px") }, i.handleTouchMove = function (t) { var n = this.player(), i = DW(n) + this.calculateDistance(t) * xW(n), e = t.touches[0].pageX - zH(this.el().parentNode).left; this.update(i, e + "px") }, i.createEl = function () { var n = t.prototype.createEl.call(this); return this.aXt = EG.createEl("span", { className: "theo-time-tooltip-text" }), n }, i.update = function (t, n) { var i = this.hXt(t); if (this.el().style.left = n, this.el().setAttribute("data-current-time", i), this.keepTooltipsInside && (XH(this.aXt, i), this.tooltip.offsetParent)) { var e = this.player().contentEl(), r = e.getClientRects(), s = r.length > 0 && r[0], u = y(getComputedStyle(e).fontSize); qH(this.tooltip, this.el(), s, u) } }, i.hXt = function (t) { var n = this.player(), i = t - NW(n); return OW(RW(n) ? _.min(i, 0) : i, xW(n)) }, n }(HW(EG.getComponent("MouseTimeDisplay"))); EG.registerComponent("MouseTimeDisplay", fX); var vX = function (t) { function n(n, i) { return t.call(this, n, i) || this } rt(n, t); var i = n.prototype; return i.updateDataAttr = function () { var t = CW(this.player()); this.el().setAttribute("data-current-time", this.hXt(t)) }, i.hXt = function (t) { var n = this.player(); return OW(t - NW(n), xW(n)) }, i.createEl = function () { var n = t.prototype.createEl.call(this); return n.className = this.buildCSSClass(), n }, i.buildCSSClass = function () { return "theo-primary-color vjs-play-progress vjs-slider-bar " + t.prototype.buildCSSClass.call(this) }, n }(EG.getComponent("PlayProgressBar")); EG.registerComponent("PlayProgressBar", vX); var lX = function (t) { function n(n, i) { var e; return (e = t.call(this, n, i) || this).on(n, "timeupdate", e.updateContent), e.on(n, "emptied", e.updateContent), e } return rt(n, t), n.prototype.updateContent = function () { var t = this.player(), n = xW(t); if (n) { var i = BW(t).end(0), e = this.localize("Remaining Time"), r = OW(_.max(0, i - t.currentTime()), n); r !== this.bVt && (this.bVt = r, this.contentEl().innerHTML = '<span class="vjs-control-text">' + e + "</span> -" + r) } }, n }(EG.getComponent("RemainingTimeDisplay")); EG.registerComponent("RemainingTimeDisplay", lX); var dX = function () { function t(t, n) { var i = this; this.cXt = n, this.fXt = [], this.aWt = void 0, this.RSt = function (t) { var n = t.track; n.kind === Xc.$x && (n.addEventListener("addcue", i.vXt), n.addEventListener("removecue", i.vXt), n.addEventListener("readystatechange", i.vXt)), i.vXt() }, this.pEt = function (t) { var n = t.track; n.kind === Xc.$x && (n.removeEventListener("addcue", i.vXt), n.removeEventListener("removecue", i.vXt), n.removeEventListener("readystatechange", i.vXt)), i.vXt() }, this.lXt = function (t) { var n = i.cXt, e = function (t, n) { var i, e, r = zH(t), s = t.offsetWidth, u = t.offsetHeight, o = r.top, a = r.left; !function (t) { return void 0 !== t.changedTouches }(n) ? (e = n.pageX, i = n.pageY) : (e = n.changedTouches[0].pageX, i = n.changedTouches[0].pageY); var h = _o((o - i + u) / u, 0, 1); return { x: _o((e - a) / s, 0, 1), y: h } }(i.dXt, t), r = DW(n) + e.x * xW(n); r === n.duration() && (r -= .1), i.gXt(r) }, this._Xt = function () { i.wXt.Z_() }, this.yXt = function () { i.wXt.B_() }, this.vXt = function () { var t = i.pXt(); t !== i.mXt && (i.bf(), t && i.kXt(t)) }, this.bXt = t, this.wXt = new _X, this.cXt.contentEl().appendChild(this.wXt.oE), this.cLt(), this.AXt() } var n = t.prototype; return n.kXt = function (t) { if (t.kind === Xc.$x) { this.mXt = t; var n = t.cues.sort(function (t, n) { return t.startTime - n.startTime }); this.wXt.Ph(n); for (var i = 0; i < n.length; i++) { var e = n[i], r = n[i + 1], s = !r || e.endTime !== r.startTime, u = new gX(e, this.Zqt, s); this.fXt.push(u), this.dXt.appendChild(u.oE) } } }, n.AXt = function () { this.Zqt.addEventListener("loadedmetadata", this.vXt), this.Zqt.addEventListener("loadeddata", this.vXt), this.Zqt.addEventListener("sourcechange", this.vXt), this.Zqt.textTracks.addEventListener("addtrack", this.RSt), this.Zqt.textTracks.addEventListener("removetrack", this.pEt), this.Zqt.textTracks.addEventListener("change", this.vXt) }, n.TXt = function () { this.Zqt.removeEventListener("loadedmetadata", this.vXt), this.Zqt.removeEventListener("loadeddata", this.vXt), this.Zqt.removeEventListener("sourcechange", this.vXt), this.Zqt.textTracks.removeEventListener("addtrack", this.RSt), this.Zqt.textTracks.removeEventListener("removetrack", this.pEt), this.Zqt.textTracks.removeEventListener("change", this.vXt) }, n.cLt = function () { this.dXt = s.createElement("div"), He(this.dXt, "theoplayer-chapterbar"), this.bXt.appendChild(this.dXt), this.bXt.addEventListener("mousemove", this.lXt), this.bXt.addEventListener("mouseenter", this.yXt), this.bXt.addEventListener("mouseleave", this._Xt) }, n.pXt = function () { if (this.Zqt.readyState >= eu.c_) for (var t = 0, n = this.Zqt.textTracks; t < n.length; t++) { var i = n[t]; if (i.kind === Xc.$x && i.mode === Vr.$f && i.cues.length > 0 && i.readyState !== E_.ERROR) return i } }, n.gXt = function (t) { this.wXt.Lh(t) }, n.SXt = function () { this.wXt.B_() }, n.EXt = function () { this.wXt.Z_() }, n.bf = function () { for (var t = 0, n = this.fXt; t < n.length; t++) { var i = n[t]; this.dXt.removeChild(i.oE), i.Af() } this.wXt.bf(), this.fXt = [], this.mXt = void 0 }, n.aEt = function () { this.TXt(), this.bf(), Le(this.wXt.oE), this.aWt = void 0 }, T(t, [{ key: "Zqt", get: function () { return this.aWt || (this.aWt = this.cXt.tech({ IWillNotUseThisInPlugins: !0 }).theoplayer()), this.aWt } }]), t }(), gX = function () { function t(t, n, i) { var e = this; this.IXt = t, this.C_ = n, this.RXt = i, this.CXt = function () { He(e.oE, "theoplayer-chapter-indicator-active") }, this.NXt = function () { ze(e.oE, "theoplayer-chapter-indicator-active") }, this.cLt(), this.DXt() } var n = t.prototype; return n.DXt = function () { wX(this.IXt, this.C_.currentTime) && this.CXt(), this.IXt.addEventListener("enter", this.CXt), this.IXt.addEventListener("exit", this.NXt) }, n.cLt = function () { var t = this.C_.seekable.start(0), n = this.C_.seekable.end(this.C_.seekable.length - 1) - t, i = this.IXt.startTime, e = this.IXt.endTime - i, r = s.createElement("div"); He(r, "theoplayer-chapter-indicator"); var u = s.createElement("div"); He(u, "theoplayer-chapter-indicator-highlight"), r.appendChild(u), this.RXt && He(r, "theoplayer-chapter-indicator-discontinuous"); var o = _.min(i / n * 100, 100), a = 100 - o, h = _.min(e / n * 100, a); return r.style.width = h + "%", r.style.left = o + "%", this.zV = r, this.zV }, n.Af = function () { this.IXt.removeEventListener("enter", this.CXt), this.IXt.removeEventListener("exit", this.NXt), this.zV = void 0 }, T(t, [{ key: "oE", get: function () { return this.zV } }]), t }(), _X = function () { function t() { this.xXt = [], this.BXt = 0, this.cLt() } var n = t.prototype; return n.cLt = function () { return this.oE = s.createElement("div"), He(this.oE, "theoplayer-chaptertitle"), this.oE.style.display = "none", this.OXt = s.createElement("p"), this.oE.appendChild(this.OXt), this.oE }, n.Z_ = function () { this.BXt--, 0 === this.BXt && ze(this.oE, "theoplayer-chapter-hovering") }, n.Ph = function (t) { this.xXt = t || [], this.xXt.length > 0 && (this.oE.style.display = "") }, n.Mzt = function (t) { XH(this.OXt, t.content) }, n.bf = function () { this.xXt = [], XH(this.OXt, ""), this.oE.style.display = "none" }, n.B_ = function () { this.BXt++, this.BXt > 0 && He(this.oE, "theoplayer-chapter-hovering") }, n.Lh = function (t) { for (var n = 0, i = this.xXt; n < i.length; n++) { var e = i[n]; if (wX(e, t)) { this.Mzt(e); break } } }, t }(); function wX(t, n) { return new hs([t.startTime, t.endTime]).fd(n) } var yX = function (t) { function n(n, i) { var e; return (e = t.call(this, n, i) || this).playingStates = [], e.on(n, "emptied", e.update), e.on(n, "seeking", e.update), e.dXt = new dX(e.el(), n), e } rt(n, t); var i = n.prototype; return i.updateAriaAttributes = function (t) { var n = this.player(), i = CW(n); t.setAttribute("aria-valuenow", (100 * this.PXt(i)).toFixed(2)), t.setAttribute("aria-valuetext", OW(i - NW(n), xW(n))) }, i.getPercent = function () { return this.PXt(this.player().currentTime()) }, i.handleMouseMove = function (t) { if (!(this.Zqt && this.Zqt.ads && this.Zqt.ads.playing)) { var n = this.player(), i = DW(n) + this.calculateDistance(t) * xW(n); i >= n.duration() && (i = n.duration() - .1), this.dXt.gXt(i), n.currentTime(i) } }, i.handleMouseDown = function (n) { this.playingStates.push(!this.player().paused()), this.dXt.SXt(), t.prototype.handleMouseDown.call(this, n) }, i.handleMouseUp = function (n) { this.videoWasPlaying = this.playingStates.pop(), this.dXt.EXt(), t.prototype.handleMouseUp.call(this, n) }, i.PXt = function (t) { var n = this.player(); return _o((t - DW(n)) / xW(n), 0, 1) }, i.dispose = function () { this.dXt.aEt(), An(this.playingStates) }, n }(HW(EG.getComponent("SeekBar"))); EG.registerComponent("SeekBar", yX); var pX = function (t) { function n(n, i) { var e; return (e = t.call(this, n, i) || this).seekBar = e.getChild("seekBar"), e.on(st(e), "touchmove", e.handleMouseMove), e.on("touchstart", e.handleMouseDown), e.seekBar.off(["touchmove", "touchstart"]), e } rt(n, t); var i = n.prototype; return i.createEl = function () { return t.prototype.createEl.call(this, "div", { className: "vjs-progress-control vjs-control" }) }, i.handleMouseMove = function (t) { this.seekBar.handleMouseMove(t) }, i.handleMouseDown = function (t) { this.seekBar.handleMouseDown(t) }, n }(EG.getComponent("ProgressControl")); PI.hn && EG.registerComponent("ProgressControl", pX); var mX = function (t) { function n(n, i) { return t.call(this, n, i) || this } rt(n, t); var i = n.prototype; return i.updateDataAttr = function () { var t = CW(this.player()), n = this.hXt(t); this.el().setAttribute("data-current-time", n), this.tooltip.innerHTML = n }, i.hXt = function (t) { var n = this.player(); return OW(t - NW(n), xW(n)) }, i.createEl = function () { var n = t.prototype.createEl.call(this); return n.className = this.buildCSSClass(), n }, i.buildCSSClass = function () { return "theo-primary-color vjs-tooltip-progress-bar vjs-slider-bar " + t.prototype.buildCSSClass.call(this) }, n }(EG.getComponent("TooltipProgressBar")); function kX(t) { for (var n = 0; n < t.length; n++) { var i = t[n]; if (i.enabled) return i } return null } function bX(t) { if (t) return t.label && "" !== t.label ? { name: t.label, hd: !1 } : { name: AX(t), description: TX(t), hd: t.height >= 720 } } function AX(t) { return t.height ? t.height + "p" : t.bandwidth ? TX(t) : null } function TX(t) { return t.bandwidth ? t.bandwidth > 1e7 ? (t.bandwidth / 1e6).toFixed(0) + "Mbps" : t.bandwidth > 1e6 ? (t.bandwidth / 1e6).toFixed(1) + "Mbps" : (t.bandwidth / 1e3).toFixed(0) + "kbps" : null } EG.registerComponent("TooltipProgressBar", mX); var SX = function () { function t(t) { this.MXt = [], this.LXt = t } var n = t.prototype; return n.jXt = function (t) { var n = this.LXt.menuItems; if (n) for (var i = 0; i < n.length; i++) { var e = n[i]; if (e.Yrt === t) return e } }, n.FXt = function (t) { var n = this, i = this.LXt.addMenuItem(); return i.Yrt = t, i.on("click", function () { return n.UXt(i) }), i.el().setAttribute("role", "menuitemradio"), i }, n.VXt = function (t) { t.Yrt = void 0, t.off() }, n.HXt = function (t) { return !0 }, n.zXt = function (t) { if (this.HXt(t)) { kn(this.MXt, t) || this.MXt.push(t); var n = this.jXt(t) || this.FXt(t); return this.qXt(n), n } this.GXt(t) }, n.GXt = function (t) { var n = this.jXt(t); n && (this.LXt.removeMenuItem(n), this.VXt(n)), pn(this.MXt, t) }, n.aEt = function () { for (var t = [], n = 0, i = this.MXt; n < i.length; n++) { var e = i[n]; t.push(e) } for (var r = 0; r < t.length; r++) { var s = t[r]; this.GXt(s) } An(t) }, T(t, [{ key: "WXt", get: function () { return this.MXt }, set: function (t) { for (var n = this.MXt, i = n.length - 1; i >= 0; i--) { var e = n[i]; kn(t, e) || this.GXt(e) } for (var r = 0; r < t.length; r++) { var s = t[r]; this.zXt(s) } this.LXt.xWt() } }]), t }(), EX = function (t) { function n(n, i, e) { var r; return (r = t.call(this, n.subMenu) || this).XXt = void 0, r.$Xt = void 0, r.QXt = function (t) { r.YXt(), t.track.addEventListener("update", r.SX) }, r.ZXt = function (t) { r.YXt(), t.track.removeEventListener("update", r.SX) }, r.YXt = function () { var t = kX(r.aWt.videoTracks); if (t !== r.XXt) { var n = []; if (r.XXt && (r.XXt.removeEventListener("activequalitychanged", r.yDt), r.XXt.removeEventListener("targetqualitychanged", r.mDt)), r.XXt = t, t) { t.addEventListener("activequalitychanged", r.yDt), t.addEventListener("targetqualitychanged", r.mDt); var i = RX(DX(t.qualities)); n = [void 0].concat(i) } r.WXt = n, r.mDt(), r.yDt() } }, r.SX = function (t) { var n = t.track; if (n.enabled) { var i = RX(DX(n.qualities)), e = n && xX(n.targetQuality); r.$Xt = r.KXt(e, i), r.WXt = [void 0].concat(i), r.JXt() } }, r.yDt = function () { r.zXt(void 0), r.JXt() }, r.mDt = function () { var t = kX(r.aWt.videoTracks), n = t && xX(t.targetQuality), i = r.KXt(n), e = r.$Xt; i !== e && (r.$Xt = i, i && e || r.zXt(void 0), e && kn(r.WXt, e) && r.zXt(e), n && r.zXt(i), r.JXt()) }, r.t$t = n, r.aWt = i, r.n$t = e, r.i$t = { name: r.n$t.localize("Automatic"), hd: !1 }, r.e$t(), XH(r.LXt.menuHeader.el(), r.n$t.localize("Quality")), r.WXt = [void 0], r.aWt.videoTracks.addEventListener("addtrack", r.QXt), r.aWt.videoTracks.addEventListener("removetrack", r.ZXt), r.aWt.videoTracks.addEventListener("change", r.YXt), r.aWt.videoTracks.addEventListener("update", r.SX), r.YXt(), r } rt(n, t); var i = n.prototype; return i.e$t = function () { var t = s.createElement("span"); t.className = "theo-settings-control-menu-item-title", XH(t, this.n$t.localize("Quality")); var n = s.createElement("span"); n.className = "theo-primary-color theo-settings-control-menu-item-value", this.r$t = s.createElement("span"), this.r$t.className = "theo-settings-control-menu-quality-automatic", XH(this.r$t, this.i$t.name), this.s$t = s.createElement("span"), XH(this.s$t, this.i$t.name), this.u$t = s.createElement("span"), this.u$t.className = "theo-primary-color theo-settings-control-menu-item-hd-label", XH(this.u$t, this.n$t.localize("HD")), n.appendChild(this.r$t), n.appendChild(s.createTextNode(" ")), n.appendChild(this.s$t), n.appendChild(s.createTextNode(" ")), n.appendChild(this.u$t), this.t$t.el().appendChild(t), this.t$t.el().appendChild(n), this.t$t.el().setAttribute("aria-label", this.n$t.localize("Open the video quality settings menu")) }, i.JXt = function () { var t = this.XXt, n = t && xX(t.targetQuality), i = t && t.activeQuality, e = bX(this.KXt(n || i)) || this.i$t; XH(this.s$t, e.name), qe(this.r$t, "vjs-hidden", !!n), qe(this.u$t, "vjs-hidden", !e.hd) }, i.qXt = function (t) { var n = bX(t.Yrt) || this.i$t, i = n.name; n.hd && (i += '<span class="theo-primary-color theo-settings-control-menu-item-hd-label">' + this.n$t.localize("HD") + "</span>"), n.description && (i += '<span class="theo-settings-control-submenu-item-alternate-value">' + n.description + "</span>"), t.el().innerHTML = i, t.el().setAttribute("aria-label", this.n$t.localize("Set video quality to ") + n.name), t.Yrt ? t.selected(t.Yrt === this.$Xt) : t.selected(!this.$Xt) }, i.UXt = function (t) { this.XXt.targetQuality = t.Yrt && t.Yrt.videoQualities }, i.KXt = function (t, n) { for (var i = n || this.WXt, e = 0; e < i.length; e++) { var r = i[e]; if (r && -1 !== r.videoQualities.indexOf(t)) return r } return null }, i.aEt = function () { this.aWt.videoTracks.removeEventListener("addtrack", this.QXt), this.aWt.videoTracks.removeEventListener("removetrack", this.ZXt), this.aWt.videoTracks.removeEventListener("change", this.YXt), this.aWt.videoTracks.removeEventListener("update", this.SX), this.XXt && (this.XXt.removeEventListener("activequalitychanged", this.yDt), this.XXt.removeEventListener("targetqualitychanged", this.mDt)), t.prototype.aEt.call(this) }, n }(SX), IX = function () { function t(t) { this.o$t = t } var n = t.prototype; return n.add = function (t) { this.o$t.push(t) }, n.addEventListener = function (t, n) { this.o$t[0].addEventListener(t, n) }, n.removeEventListener = function (t, n) { this.o$t[0].removeEventListener(t, n) }, T(t, [{ key: "height", get: function () { return this.o$t[0].height } }, { key: "width", get: function () { return this.o$t[0].width } }, { key: "firstFrame", get: function () { return this.o$t.length > 1 ? null : this.o$t[0].firstFrame } }, { key: "frameRate", get: function () { return this.o$t.length > 1 ? null : this.o$t[0].frameRate } }, { key: "bandwidth", get: function () { return this.o$t[0].bandwidth } }, { key: "codecs", get: function () { return this.o$t.length > 1 ? null : this.o$t[0].codecs } }, { key: "id", get: function () { return this.o$t.length > 1 ? null : this.o$t[0].id } }, { key: "name", get: function () { return this.o$t.length > 1 ? null : this.o$t[0].name } }, { key: "videoQualities", get: function () { return this.o$t } }, { key: "label", get: function () { return this.o$t[0].label }, set: function (t) { for (var n = 0, i = this.o$t; n < i.length; n++) { i[n].label = t } } }]), t }(); function RX(t) { for (var n, i, e = [], r = 0; r < t.length; r++) { for (var s = t[r], u = !1, o = 0; o < e.length; o++) { var a = e[o]; if (i = s, (n = a).label && i.label && n.label === i.label || Ir(bX(n), bX(i))) { a.add(s), u = !0; break } } u || e.push(new IX([s])) } return e } function CX(t, n) { return t && n ? Ao(t, n) : 0 } function NX(t, n) { return t === n ? 0 : CX(t.height, n.height) || CX(t.width, n.width) || CX(t.bandwidth, n.bandwidth) } function DX(t) { return ln([].concat(t), NX).reverse() } function xX(t) { return M(t) ? t.length > 0 ? t[0] : null : t } function BX(t) { return 1 === t ? "Normal" : "" + _.round(100 * t) / 100 } var OX = function (t) { function n(n, i, e, r) { var s; return (s = t.call(this, n.subMenu) || this).a$t = void 0, s.sNt = function () { s.a$t && s.zXt(s.a$t); var t = s.aWt.playbackRate; s.a$t = t, XH(s.h$t, s.n$t.localize(BX(t))), t && s.zXt(t) }, s.t$t = n, s.aWt = i, s.n$t = e, s.e$t(), XH(s.LXt.menuHeader.el(), s.n$t.localize("Speed")), s.WXt = r, s.aWt.addEventListener("ratechange", s.sNt), s.sNt(), s } rt(n, t); var i = n.prototype; return i.e$t = function () { var t = s.createElement("span"); t.className = "theo-settings-control-menu-item-title", XH(t, this.n$t.localize("Speed")); var n = s.createElement("span"); n.className = "theo-primary-color theo-settings-control-menu-item-value", this.h$t = n, this.t$t.el().appendChild(t), this.t$t.el().appendChild(n), this.t$t.el().setAttribute("aria-label", this.n$t.localize("Open the video speed settings menu")) }, i.FXt = function (n) { var i = t.prototype.FXt.call(this, n), e = this.n$t.localize(BX(n)); return XH(i.el(), e), i.el().setAttribute("aria-label", this.n$t.localize("Set video speed to " + e)), i }, i.qXt = function (t) { t.selected(t.Yrt === this.aWt.playbackRate) }, i.UXt = function (t) { this.aWt.playbackRate = t.Yrt }, i.aEt = function () { this.aWt.removeEventListener("ratechange", this.sNt), t.prototype.aEt.call(this) }, n }(SX), PX = function (t) { function n(n, i) { var e; (e = t.call(this, n, i) || this).XXt = void 0, e.eV = function () { var t = kX(e.Zqt.videoTracks); t !== e.XXt && (e.XXt && e.XXt.removeEventListener("activequalitychanged", e.yDt), e.XXt = t, t && t.addEventListener("activequalitychanged", e.yDt), e.yDt()) }, e.yDt = function () { var t = e.XXt && e.XXt.activeQuality, n = !!(t && t.height >= 720); e.player().toggleClass("theo-hd", n) }, He(e.menu.el(), "theo-settings-control-menu"), XH(e.menu.menuHeader.el(), n.localize("Settings")), e.controlText(n.localize("Settings")), e.c$t = e.menu.addSubMenuItem({ name: "QualityMenuItem" }), e.f$t = new EX(e.c$t, e.Zqt, n); var r = i.playerOptions.playbackRates || []; return e.v$t = e.menu.addSubMenuItem({ name: "PlaybackRateMenuItem" }), e.l$t = new OX(e.v$t, e.Zqt, n, r), e.Zqt.videoTracks.addEventListener(["addtrack", "removetrack", "change"], e.eV), e.eV(), e } rt(n, t); var i = n.prototype; return i.createEl = function () { var n = t.prototype.createEl.call(this), i = EG.createEl("span", { className: "theo-settings-control-label-hd theo-primary-background" }); return XH(i, this.localize("HD")), n.appendChild(i), n }, i.buildCSSClass = function () { return "vjs-icon-cog theo-settings-control-button " + t.prototype.buildCSSClass.call(this) }, i.dispose = function () { this.XXt && (this.XXt.removeEventListener("activequalitychanged", this.yDt), this.XXt = void 0), this.Zqt.videoTracks.removeEventListener(["addtrack", "removetrack", "change"], this.eV), this.f$t.aEt(), this.l$t.aEt(), t.prototype.dispose.call(this) }, n }(KW); EG.registerComponent("SettingsButton", PX); var MX = function (t) { function n(n, i) { var e; return (e = t.call(this, n) || this).d$t = function (t) { var n = t.track; e.zXt(n), n.addEventListener("update", e.g$t) }, e._$t = function (t) { var n = t.track; e.GXt(n), n.removeEventListener("update", e.g$t) }, e.w$t = function (t) { return e.y$t() }, e.g$t = function () { for (var t = 0, n = e.WXt; t < n.length; t++) { var i = n[t]; e.zXt(i) } }, e.p$t = i, e.p$t.addEventListener("addtrack", e.d$t), e.p$t.addEventListener("removetrack", e._$t), e.p$t.addEventListener("change", e.w$t), e.y$t(), e } rt(n, t); var i = n.prototype; return i.m$t = function (t) { var n = t.label; if (n) return n; var i = t.language; if (i) { var e = _C(i); if (e) return e.SM } return i || "" }, i.y$t = function () { this.WXt = this.p$t }, i.aEt = function () { this.p$t.removeEventListener("addtrack", this.d$t), this.p$t.removeEventListener("removetrack", this._$t), this.p$t.removeEventListener("change", this.w$t), t.prototype.aEt.call(this) }, n }(SX), LX = function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, i.audioTracks) || this).Zqt = i, r.n$t = e, XH(r.LXt.menuHeader.el(), r.n$t.localize("Language")), r } rt(n, t); var i = n.prototype; return i.qXt = function (t) { var n = t.Yrt, i = this.m$t(n); XH(t.el(), this.m$t(n)), t.el().setAttribute("aria-label", this.n$t.localize("Set the audio language to") + " " + i), t.selected(n.enabled) }, i.UXt = function (t) { for (var n = t.Yrt, i = 0, e = this.Zqt.audioTracks; i < e.length; i++) { var r = e[i]; r !== n && (r.enabled = !1) } n.enabled = !0 }, n }(MX), jX = function (t) { function n(n, i) { var e; return (e = t.call(this, n, i) || this).minimumMenuItems = 2, e.k$t = new LX(e.menu, e.Zqt, n), e.controlText(n.localize("Language")), e } rt(n, t); var i = n.prototype; return i.buildCSSClass = function () { return "vjs-icon-audio theo-audio-track-control-button " + t.prototype.buildCSSClass.call(this) }, i.dispose = function () { this.k$t.aEt(), t.prototype.dispose.call(this) }, n }(KW); EG.registerComponent("audioTrackButton", jX); var FX = function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, i.textTracks) || this).Zqt = i, r.n$t = e, XH(r.LXt.menuHeader.el(), e.localize("Subtitles")), r } rt(n, t); var i = n.prototype; return i.HXt = function (n) { return !!t.prototype.HXt.call(this, n) && Fg(n.kind) }, i.FXt = function (n) { var i = this, e = t.prototype.FXt.call(this, n); He(e.el(), "theo-text-track-menu-item"); var r = s.createElement("span"); e.Hf = r; var u = s.createElement("div"); u.className = "theo-text-track-menu-item-toggle", e.b$t = u; var o = function (t) { return i.A$t(t, e) }; e.T$t = o, u.addEventListener("click", o); var a = s.createElement("div"); return a.className = "theo-text-track-menu-item-toggle-slider", u.appendChild(a), e.el().appendChild(r), e.el().appendChild(u), e }, i.qXt = function (t) { var n = t, i = n.Yrt, e = this.m$t(i); XH(n.Hf, this.m$t(i)), n.el().setAttribute("aria-label", this.n$t.localize("Set the subtitle language to") + " " + e), n.el().setAttribute("role", "menuitemcheckbox"), n.selected(i.mode === Vr.$f) }, i.VXt = function (t) { var n = t; n.b$t.removeEventListener("click", n.T$t) }, i.UXt = function (t) { for (var n = t.Yrt, i = 0, e = this.Zqt.textTracks; i < e.length; i++) { var r = e[i]; r !== n && r.kind === n.kind && (r.mode = Vr.Wf) } n.mode !== Vr.$f ? n.mode = Vr.$f : n.mode = Vr.Wf }, i.A$t = function (t, n) { t.stopImmediatePropagation(), this.UXt(n) }, n }(MX), UX = function (t) { function n(n, i) { var e; return (e = t.call(this, n, i) || this).k$t = new FX(e.menu, e.Zqt, n), e.controlText(n.localize("Subtitles")), e } rt(n, t); var i = n.prototype; return i.buildCSSClass = function () { return "vjs-icon-subtitles theo-text-track-control-button " + t.prototype.buildCSSClass.call(this) }, i.dispose = function () { this.k$t.aEt(), t.prototype.dispose.call(this) }, n }(KW); EG.registerComponent("subtitlesButton", UX); var VX, HX = function () { function t(t, n) { var i = this; this.S$t = function () { ze(i.E$t, "vjs-hidden"); var t = i.I$t.player().contentEl().getClientRects(), n = t.length > 0 && t[0], e = y(getComputedStyle(i.E$t).fontSize); qH(i.E$t, i.I$t.el(), n, e) }, this.R$t = function () { He(i.E$t, "vjs-hidden") }, this.C$t = function () { return i.aEt() }, this.I$t = t, Qe(t.el()), t.el().addEventListener("mouseover", function (t) { Qe(t.target) }), this.E$t = s.createElement("span"), this.E$t.innerHTML = this.I$t.localize(n), this.E$t.className = "theo-button-tooltip vjs-hidden", this.E$t.setAttribute("aria-hidden", "true"), this.I$t.el().appendChild(this.E$t), this.I$t.on("mouseover", this.S$t), this.I$t.on("mouseout", this.R$t), this.I$t.on("dispose", this.C$t) } return t.prototype.aEt = function () { this.I$t.off("mouseover", this.S$t), this.I$t.off("mouseout", this.R$t), this.I$t.off("dispose", this.C$t), Le(this.E$t) }, T(t, [{ key: "N$t", set: function (t) { this.E$t.innerHTML = this.I$t.localize(t), this.R$t(), this.S$t(), Qe(this.I$t.el()) }, get: function () { return this.E$t.textContent || "" } }]), t }(), zX = EG.getComponent("playToggle"); !function (t) { t.yl = "Pause", t.bl = "Play", t.D$t = "Replay" }(VX || (VX = {})); var qX = function (t) { function n(n, i) { var e; return (e = t.call(this, n, i) || this).qIt = function () { e.controlText(e.localize(VX.D$t)), e.E$t.N$t = e.controlText() }, e.controlText(e.localize(VX.bl)), e.E$t = new HX(st(e), e.controlText()), e.Zqt.addEventListener("ended", e.qIt), PI.Gt && new zW(e.el()), e } rt(n, t); var i = n.prototype; return i.handlePlay = function (n) { t.prototype.handlePlay.call(this, n), this.controlText(this.localize(VX.yl)), this.E$t.N$t = this.controlText() }, i.handlePause = function (n) { this.Zqt.ended || (t.prototype.handlePause.call(this, n), this.controlText(this.localize(VX.bl)), this.E$t.N$t = this.controlText()) }, i.dispose = function () { this.E$t.aEt(), this.Zqt.removeEventListener("ended", this.qIt), t.prototype.dispose.call(this) }, n }(HW(zX)); EG.registerComponent("playToggle", qX); var GX, WX = EG.getComponent("fullscreenToggle"); !function (t) { t.dp = "Exit fullscreen", t.x$t = "Fullscreen" }(GX || (GX = {})); var XX = function (t) { function n(n, i) { var e; return (e = t.call(this, n, i) || this).controlText(e.localize(GX.x$t)), e.E$t = new HX(st(e), e.controlText()), PI.Gt && new zW(e.el()), e } rt(n, t); var i = n.prototype; return i.handleClick = function (n) { this.Zqt.prepareWithUserAction(), t.prototype.handleClick.call(this, n) }, i.handleFullscreenChange = function (n) { t.prototype.handleFullscreenChange.call(this, n); var i = this.localize(this.player().isFullscreen() ? GX.dp : GX.x$t); this.controlText(i), this.E$t.N$t = this.controlText() }, i.dispose = function () { this.E$t.aEt(), t.prototype.dispose.call(this) }, n }(HW(WX)); EG.registerComponent("fullscreenToggle", XX); var $X, QX = EG.getComponent("muteToggle"); !function (t) { t.B$t = "Unmute", t.O$t = "Mute" }($X || ($X = {})); var YX = function (t) { function n(n, i) { var e; return (e = t.call(this, n, i) || this).controlText(e.localize($X.O$t)), e.E$t = new HX(st(e), e.controlText()), PI.Gt && new zW(e.el()), RI && (e.removeClass("vjs-hidden"), e.on(n, "loadstart", function () { e.removeClass("vjs-hidden") })), e } rt(n, t); var i = n.prototype; return i.update = function (n) { t.prototype.update.call(this, n); var i = this.localize(this.player().muted() ? $X.B$t : $X.O$t); this.controlText(i), this.E$t.N$t = this.controlText() }, i.dispose = function () { this.E$t.aEt(), t.prototype.dispose.call(this) }, n }(QX); EG.registerComponent("muteToggle", YX); var ZX = EG.getComponent("BigPlayButton"), KX = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 150 150" fill="currentColor">\n  <circle cx="75" cy="75" r="73" fill="#000" fill-opacity="0.2"></circle>\n  <circle cx="75" cy="75" r="73" class="theo-play-svg-circle" stroke-width="4" stroke="currentColor" fill="none" transform="rotate(-90,75,75)"></circle>\n  <g transform="translate(85,75) scale(0.5625) translate(-75,-75)">\n    <path d="m 123.89639,85.432 c -12.865,9.167 -29.482997,19.402 -49.848997,30.7 -19.634,11.035 -36.851,19.7 -51.65,26 l -16.3990002,6.099 c -1.033,-4.433 -2,-11.002 -2.9,-19.7 -2.033,-17.333 -3.04999998,-36.466 -3.04999998,-57.399 0,-19.167 1.38199998,-37.081 4.14799998,-53.75 l 4.0019995,-19.1499994 17.3990007,5.849 c 15.068,5.9999994 31.401,14.5169994 49,25.5509994 18.631,11.666 34.616997,22.766 47.948997,33.3 6.663,5.3 11.463,9.383 14.396,12.25 l -13.046,10.25"></path>\n  </g>\n</svg>', JX = function (t) { function n() { return t.apply(this, arguments) || this } rt(n, t); var i = n.prototype; return i.createEl = function () { var n = t.prototype.createEl.call(this), i = EG.createEl("div", { className: "theo-big-play-button-svg-container" }); return i.innerHTML = KX, n.appendChild(i), n }, i.buildCSSClass = function () { return "theo-primary-color " + t.prototype.buildCSSClass.call(this) }, n }(ZX); EG.registerComponent("BigPlayButton", JX); var t$ = /^([^#]*)#xywh=(\d+),(\d+),(\d+),(\d+)\s*$/; var n$ = function (t) { function n(n, i) { var e; return (e = t.call(this, n, i) || this).P$t = function (t) { return e.M$t(t) }, e.player().textTracks().on("addtrack", e.P$t), e.player().textTracks().on("removetrack", e.P$t), e } rt(n, t); var i = n.prototype; return i.M$t = function (t) { var n = t.track; "removetrack" === t.type && n === this.L$t ? (this.L$t = void 0, this.j$t(), this.F$t = void 0) : "addtrack" === t.type && "metadata" === n.kind && "thumbnails" === n.label && (this.L$t = n) }, i.createEl = function () { var n = t.prototype.createEl.call(this); return this.U$t = EG.createEl("img", { className: "theo-time-tooltip-thumbnail" }), this.V$t = EG.createEl("canvas", { className: "theo-time-tooltip-thumbnail" }), n }, i.update = function (n, i) { if (t.prototype.update.call(this, n, i), this.keepTooltipsInside) { var e; if (this.L$t && this.L$t.cues) { var r = function (t, n) { for (var i = t[0], e = 0; e < t.length; e++) { var r = t[e]; if (r.startTime <= n) i = r; else if (n >= r.endTime) return i } return i }(this.L$t.cues, n); e = r && r.content } if (e !== this.F$t) if (this.F$t = e, EG.toggleClass(this.el(), "theo-time-tooltip-has-thumbnail", !!e), e) { var s = e.match(t$); if (s) { var u = s[1], o = s[2], a = s[3], h = s[4], c = s[5]; u = this.H$t(u); var f = { x_: +o, y_: +a, qw: +h, Ww: +c }; this.z$t(u, f) } else { var v = this.H$t(e); this.z$t(v) } } else this.j$t() } }, i.H$t = function (t) { return this.L$t && this.L$t.src ? (n = t, i = this.L$t.src, Rl(n, i).href) : t; var n, i }, i.z$t = function (t, n) { var i = this; this.U$t && (this.U$t.src !== t ? (this.U$t.onload = function () { i.q$t(n) }, this.U$t.src = "", this.U$t.src = t) : this.q$t(n)) }, i.q$t = function (t) { if (this.V$t && this.U$t) { var n = this.V$t.getContext("2d"); n && (t = t || { x_: 0, y_: 0, qw: this.U$t.naturalWidth, Ww: this.U$t.naturalHeight }, this.V$t.width = t.qw, this.V$t.height = t.Ww, n.drawImage(this.U$t, t.x_, t.y_, t.qw, t.Ww, 0, 0, t.qw, t.Ww), this.G$t(this.V$t)) } }, i.G$t = function (t) { this.W$t || (this.tooltip.firstChild ? this.tooltip.insertBefore(t, this.tooltip.firstChild) : this.tooltip.appendChild(t), this.W$t = t) }, i.j$t = function () { this.W$t && this.tooltip.removeChild(this.W$t), this.W$t = void 0 }, n }(fX); EG.registerComponent("MouseTimeDisplay", n$); var i$ = function (t) { function n() { return t.apply(this, arguments) || this } rt(n, t); var i = n.prototype; return i.createEl = function () { var n = t.prototype.createEl.call(this); return n.className = this.buildCSSClass(), n }, i.buildCSSClass = function () { return "theo-primary-color vjs-volume-level " + t.prototype.buildCSSClass.call(this) }, n }(EG.getComponent("VolumeLevel")); EG.registerComponent("VolumeLevel", i$); var e$ = EG.getComponent("ControlBar"), r$ = function (t) { function n(n, i) { var e; return e = t.call(this, n, i) || this, n.topControlBar = st(e), e } return rt(n, t), n.prototype.buildCSSClass = function () { return "theo-top-controlbar " + t.prototype.buildCSSClass.call(this) }, n }(e$); r$.prototype.aVt = Et(Et({}, e$.prototype.aVt), { children: [] }), EG.registerComponent("TopControlBar", r$); var s$ = function (t) { function n() { return t.apply(this, arguments) || this } rt(n, t); var i = n.prototype; return i.createEl = function () { var n = t.prototype.createEl.call(this); return n.className = this.buildCSSClass(), n }, i.buildCSSClass = function () { return "theo-menu-container " + t.prototype.buildCSSClass.call(this) }, n }(EG.getComponent("Component")); s$.prototype.aVt = Et(Et({}, s$.prototype.aVt), { children: [] }), EG.registerComponent("controlBarMenuContainer", s$); var u$ = EG.getComponent("Player"), o$ = function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, i, e) || this).handleKeyPress = function (t) { 9 === t.which && r.addClass("theo-probably-keyboard-focus") }, r.handleClick = function (t) { 0 === t.x && 0 === t.y || r.removeClass("theo-probably-keyboard-focus") }, s.body.addEventListener("keydown", r.handleKeyPress), s.body.addEventListener("click", r.handleClick), r } return rt(n, t), n.prototype.dispose = function () { var n = this.el(), i = this.contentEl(), e = n.parentNode, r = n.nextSibling; t.prototype.dispose.call(this), Le(i), this.VVt && e && (r ? e.insertBefore(n, r) : e.appendChild(n)), s.body.removeEventListener("keydown", this.handleKeyPress), s.body.removeEventListener("click", this.handleClick) }, n }(u$); o$.prototype.aVt = Et(Et({}, u$.prototype.aVt), { children: ["bigPlayButton", "AdControlPanel", "TopControlBar", "mediaLoader", "upNextContainer", "posterImage", "chromecastOverlay", "controlBarMenuContainer", "controlBar", "textTrackDisplay", "loadingSpinner", "errorDisplay", "textTrackSettings"] }), EG.registerComponent("Player", o$); var a$ = EG.getComponent("Player"), h$ = a$.prototype.pHt; a$.prototype.pHt = function (t) { if (!(this.gVt && this.gVt.oWt && this.gVt.oWt())) return h$.call(this, t) }; var c$ = a$.prototype.createEl; a$.prototype.createEl = function () { var t = c$.call(this), n = EG.createEl("div"); for (n.className = "theo-player-wrapper"; t.firstChild;)n.appendChild(t.firstChild); return t.appendChild(n), this.vVt = n, t }; var f$, v$ = "theo-ad-playing", l$ = "theo-dai-ad-playing"; function d$(t, n) { var i = function (n) { var i = n.ad && n.ad.integration === Uh.KN; !function (t, n, i) { var e = "adbreakbegin" === n; t.toggleClass(v$, e), i ? t.toggleClass(l$, e) : t.toggleClass(l$, !1) }(t, n.type, i) }; n && (n.ads && (n.ads.addEventListener("adbreakbegin", i), n.ads.addEventListener("adbreakend", i), n.addEventListener("sourcechange", i)), n.verizonMedia && n.verizonMedia.ads.adBreaks.addEventListener("addadbreak", function (t) { t.adBreak.addEventListener("adbreakbegin", i), t.adBreak.addEventListener("adbreakend", i) })) } function g$() { this.userActive(!1) } function _$(t, n, i, e) { var s = Et({ techOrder: [], theoplayer: {}, controls: !0, playbackRates: [.25, .5, 1, 1.25, 1.5, 2] }, i); s.controlBar = Et({ progressControl: { keepTooltipsInside: !0 } }, s.controlBar); var u, o = s.techOrder; (-1 === o.indexOf("THEOplayer") && o.unshift("THEOplayer"), s.theoplayer.player = t, j(i.language)) && (s.languages = Et(Et({}, s.languages), ((u = {})[gC] = i.language, u)), s.language = gC); n.setAttribute("data-vjs-player", ""); var a, h, c, f = n.getAttribute("style"), v = EG(t.element, s, e); return v.ready(function () { !function (t) { t.on("timeupdate", PW), t.on("durationchange", PW) }(v), d$(v, t), function (t) { t.on("mouseleave", g$) }(v) }), n.removeAttribute("data-vjs-player"), f ? n.setAttribute("style", f) : n.removeAttribute("style"), function (t) { var n = { SettingsButton: t.localize("Settings"), audioTrackButton: t.localize("Language"), subtitlesButton: t.localize("Subtitles") }; for (var i in n) new HX(t.controlBar.getChild(i), n[i]) }(v), PI.hn && (He(n, "theo-mobile"), a = n, h = r.outerHeight, c = r.outerWidth, h > c ? (ze(a, "theo-mobile-landscape"), He(a, "theo-mobile-portrait")) : (ze(a, "theo-mobile-portrait"), He(a, "theo-mobile-landscape"))), function (t) { t.on("seeking", function () { Ve(t.el(), "vjs-ended") && t.currentTime() !== t.duration() && t.play() }) }(v), v } function w$(t) { return function (t) { function n(n, i, e) { var r; return (r = t.call(this, i, e) || this).Mqt = n, r.X$t = t.prototype.lf.call(st(r)), g.defineProperty(r.X$t, "constructor", { value: bI }), r.Hqt = _$(r.X$t, r.Mqt, e.ui), r } rt(n, t); var i = n.prototype; return i.lf = function () { return t = this.X$t, n = this, Sr(g.create(t), { get controls() { return n.PVt }, set controls(t) { n.PVt = xr(t) }, get ui() { return n.Hqt } }); var t, n }, i.Af = function () { t.prototype.Af.call(this), this.Hqt.dispose() }, i.z_ = function (n) { this.Hqt.src(""), t.prototype.z_.call(this, n) }, T(n, [{ key: "PVt", get: function () { return this.Hqt.controls() }, set: function (t) { this.Hqt.controls(t) } }]), n }(t) } function y$() { return f$ || (f$ = function (t, n) { var i = t; if (zE[n]) for (var e = 0, r = zE[n]; e < r.length; e++)i = (0, r[e])(i); return i }(f$ = w$(kI()), jE.$Q)), f$ } var p$ = function (t) { function n(n, i, e) { var r; return (r = t.call(this, i) || this).$$t = function () { return r.SX() }, r.wGt = function () { return r.IX("inline") }, r.Q$t = function () { "fullscreen" !== r.EX() && r.Y$t.qqt(), r.m_.So("play", r.Q$t) }, r.m_ = n, r.Y$t = new NG(n, e.pip, r.wGt), r.Y$t.mo("presentationmodechange", r.$$t), r.m_.mo("play", r.Q$t), r.SX(), r } rt(n, t); var i = n.prototype; return i.EX = function () { var n = t.prototype.EX.call(this); return "inline" === n && this.Y$t && this.Y$t.GP ? "picture-in-picture" : n }, i.RX = function (n) { switch (n) { case "picture-in-picture": return !0; default: return t.prototype.RX.call(this, n) } }, i.bL = function (n, i) { "fullscreen" === n && this.Y$t.Gqt(), t.prototype.bL.call(this, n, i), "fullscreen" !== n && this.Y$t.qqt() }, i.NX = function (n, i) { n !== i && ("fullscreen" === n && this.Y$t.DM(!1), "inline" === n && "picture-in-picture" === i && this.Y$t.DM(!0), t.prototype.NX.call(this, n, i), "picture-in-picture" === n && ("inline" === i ? this.Y$t.CM(!0) : this.Y$t.CM(!1))) }, i.Af = function () { t.prototype.Af.call(this), this.Y$t.Af() }, n }(ZS), m$ = function (t) { function n(n, i) { var e; return (e = t.call(this) || this).Yqt = !1, e.HQ = !1, e.lX = !1, e.Z$t = function () { if (!e.lX) { var t = e.Yqt, n = e.KW; t !== n && (e.Yqt = n, e._o(new HS)) } }, e.K$t = function () { e.HQ = e.jQ.KW, e.Z$t() }, e.J$t = function () { e.lX || (e.Hqt.isFullWindow && e.Hqt.supportsFullScreen() || e.HQ && !e.Hqt.supportsFullScreen()) && (e.lX = !0, e.Hqt.exitFullscreen(), e.Hqt.requestFullscreen(), e.lX = !1, e.Z$t()) }, e.Hqt = n, e.jQ = i, e.Hqt.on("fullscreenchange", e.Z$t), e.jQ.mo("fullscreenchange", e.K$t), e.jQ.mo("fullscreensupportchange", e.J$t), e.jQ.mo("fullscreenerror", e.do), e.Z$t(), e } rt(n, t); var i = n.prototype; return i.CM = function () { this.Hqt.requestFullscreen() }, i.DM = function () { this.Hqt.exitFullscreen(), this.jQ.DM() }, i.Af = function () { this.To(), this.Hqt.off("fullscreenchange", this.Z$t), this.jQ.So("fullscreenchange", this.Z$t), this.jQ.So("fullscreenerror", this.do) }, T(n, [{ key: "eX", get: function () { return WS.rX(this.Hqt.el()) || this.Hqt.supportsFullScreen() } }, { key: "KW", get: function () { return this.Hqt.isFullscreen() || this.HQ } }]), n }(hr); GE(function (t) { return function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, i, e) || this).tQt = new m$(r.Hqt, r.jQ), r.nQt = new p$(st(r), r.tQt, e), r.nQt.mo("presentationmodechange", r.do), r } rt(n, t); var i = n.prototype; return i.KW = function () { return "fullscreen" === this.nQt.EX() }, i.lf = function () { var n = this.nQt; return Sr(t.prototype.lf.call(this), { get presentation() { return n.vf }, get presentationMode() { return n.vf.currentMode }, set presentationMode(t) { n.vf.requestMode(t) } }) }, i.Af = function () { this.nQt.Af(), this.tQt.Af(), t.prototype.Af.call(this) }, n }(t) }, jE.$Q); var k$ = function (t) { function n(n, i) { var e; return (e = t.call(this, n, i) || this).tVt = n.el(), e.controlText(e.localize("Start Casting")), e.E$t = new HX(st(e), e.controlText()), e.iQt.addEventListener("statechange", function (t) { var n = t; e.Lnt(n.state) }), PI.Gt && new zW(e.el()), e.Lnt(e.iQt.state), e } rt(n, t); var i = n.prototype; return i.buildCSSClass = function () { return "theo-cast-button theo-" + this.eQt + "-button theo-controlbar-button " + t.prototype.buildCSSClass.call(this) }, i.createEl = function (n, i, e) { var r = t.prototype.createEl.call(this), u = s.createElement("div"); u.className = "theo-button-icon-blur"; var o = s.createElement("div"); return o.className = "theo-cast-svg-container", o.innerHTML = this.rQt, r.appendChild(u), r.appendChild(o), r }, i.handleClick = function (n) { t.prototype.handleClick.call(this, n), "available" === this.sz ? this.iQt.start() : "connected" !== this.sz && "connecting" !== this.sz || this.iQt.stop() }, i.Lnt = function (t) { ze(this.tVt, "theo-" + this.eQt + "-" + this.sz), this.sz = t, He(this.tVt, "theo-" + this.eQt + "-" + this.sz), this.sQt(t), this.E$t.N$t = this.controlText() }, i.sQt = function (t) { "connected" === t ? this.controlText(this.localize("Stop Casting")) : "available" === t ? this.controlText(this.localize("Start Casting")) : "connecting" === t ? this.controlText(this.localize("Connecting")) : "unavailable" === t && this.controlText(this.localize("Unavailable")) }, T(n, [{ key: "iQt", get: function () { throw new v("uQt") } }, { key: "rQt", get: function () { return this.aVt.rQt } }, { key: "eQt", get: function () { return this.aVt.eQt } }]), n }(HW(EG.getComponent("Button"))), b$ = 0; var A$ = function (t) { function n(n, i) { return t.call(this, n, Et(Et({}, i), { eQt: "chromecast", rQt: (e = '\n    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" fill="currentColor">\n        <defs>\n            <clipPath id="theo-chromecast-rings-mask-' + b$ + '">\n                <path d="M0-36h44V0H0z"/>\n            </clipPath>\n        </defs>\n\t    <path class="theo-chromecast-outer" d="M2 10a4 4 0 0 1 4-4h36a4 4 0 0 1 4 4v28a4 4 0 0 1-4 4H28v-4h14V10H6v6H2z"/>\n\t    <path class="theo-chromecast-inner" d="M10 14h28v20H26.74A26 26 0 0 0 10 17.26z"/>\n        <g class="theo-chromecast-rings" fill="none" stroke="currentColor" stroke-width="4" transform="translate(2 42)" clip-path="url(#theo-chromecast-rings-mask-' + b$ + ')">\n            <circle stroke="none" cx="0" cy="0" r="30" />\n            <circle class="theo-chromecast-ring theo-chromecast-ring1" stroke-width="6" cx="0" cy="0" r="3" />\n            <circle class="theo-chromecast-ring theo-chromecast-ring2" cx="0" cy="0" r="12" />\n            <circle class="theo-chromecast-ring theo-chromecast-ring3" cx="0" cy="0" r="20"/>\n            <path class="theo-chromecast-ring theo-chromecast-ring4" stroke-linecap="round" d="M0-20A20 20 0 0 1 20 0" />\n        </g>\n    </svg>', b$++, e) })) || this; var e } return rt(n, t), T(n, [{ key: "iQt", get: function () { return this.Zqt.cast.chromecast } }]), n }(k$); EG.registerComponent("chromecastButton", A$); var T$ = EG.getComponent("Component"), S$ = function () { var t = function (t) { function n(n, i) { var e; return (e = t.call(this, n, i) || this).cf = e.Zqt.cast.chromecast, e.cf.addEventListener("statechange", function (t) { e.OXt && XH(e.OXt, e.cf.receiverName || ""), "connected" === t.state ? e.show() : e.hide() }), e } rt(n, t); var i = n.prototype; return i.buildCSSClass = function () { return "theo-chromecast-overlay " + t.prototype.buildCSSClass.call(this) }, i.createEl = function () { var i = t.prototype.createEl.call(this); He(i, "theo-chromecast-overlay"); var e = EG.createEl("div", { className: "theo-chromecast-status-icon", innerHTML: n.ICON_SVG }), r = EG.createEl("div", { className: "theo-chromecast-status-info" }); XH(r, "Playing on"); var s = EG.createEl("div", { className: "theo-chromecast-status-title" }), u = EG.createEl("div", { className: "theo-chromecast-status" }); return this.OXt = s, u.appendChild(e), u.appendChild(r), u.appendChild(s), i.appendChild(u), i }, n }(HW(T$)); return t.ICON_SVG = '\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36" fill="currentColor">\n    <path d="M7 24v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm18-7H11v1.63c3.96 1.28 7.09 4.41 8.37 8.37H25V13zM7 16v2a9 9 0 0 1 9 9h2c0-6.08-4.93-11-11-11zm20-7H9c-1.1 0-2 .9-2 2v3h2v-3h18v14h-7v2h7c1.1 0 2-.9 2-2V11c0-1.1-.9-2-2-2z"/>\n</svg>', t }(); EG.registerComponent("chromecastOverlay", S$); var E$ = '\n<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">\n    <path class="theo-cast-inner" d="M5 7h14v8H5z"/>\n    <path d="M6 22h12l-6-6zM21 3H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4v-2H3V5h18v12h-4v2h4c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/>\n</svg>', I$ = function (t) { function n(n, i) { return t.call(this, n, Et(Et({}, i), { eQt: "airplay", rQt: E$ })) || this } return rt(n, t), T(n, [{ key: "iQt", get: function () { return this.Zqt.cast.airplay } }]), n }(k$); EG.registerComponent("airplayButton", I$); var R$ = function (t) { function n() { return t.call(this, "relatedchange") || this } return rt(n, t), n }(Mn), C$ = function (t) { function n() { var n; return (n = t.apply(this, arguments) || this).oQt = [], n } return rt(n, t), n.prototype.Af = function () { this.To(), this.oQt = [] }, T(n, [{ key: "vf", get: function () { var t, n, i; return this.cf || (this.cf = (t = this, i = { get sources() { return t.aQt }, set sources(n) { t.aQt = n }, addEventListener: function (t, i) { n.mo(t, i) }, removeEventListener: function (t, i) { n.So(t, i) } }, (n = new vu(i, !0)).Pf(t), i)), this.cf } }, { key: "aQt", get: function () { return this.oQt }, set: function (t) { this.oQt = function (t) { return t.filter(function (t) { return t && (U(t.link) || Rr(t, ["source"])) }) }(t), t.length > this.oQt.length && console.warn("One or more of the configured related content sources are invalid. Check if they have a source or a link."), this._o(new R$) } }]), n }(ar); qE(function (t) { return function (t) { function n(n, i) { var e; return (e = t.call(this, n, i) || this).hQt = new C$, e } rt(n, t); var i = n.prototype; return i.lf = function () { var n = this.hQt; return Sr(t.prototype.lf.call(this), { get related() { return n.vf } }) }, i.Af = function () { this.hQt.Af(), t.prototype.Af.call(this) }, n }(t) }, LE.XQ); var N$, D$ = function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, e) || this).tVt = n.el(), r.cQt = i, r.player().topControlBar.addChild(st(r)), r.hide(), r.controlText(r.localize("Related content")), r.E$t = new HX(st(r), r.controlText()), r } rt(n, t); var i = n.prototype; return i.buildCSSClass = function () { return "vjs-icon-view-grid theo-related-button " + t.prototype.buildCSSClass.call(this) }, i.handleClick = function () { this.cQt.fQt ? this.cQt.Z_() : this.cQt.B_() }, i.dispose = function () { this.player().topControlBar.removeChild(this), t.prototype.dispose.call(this) }, n }(EG.getComponent("Button")), x$ = function (t) { function n(n, i) { var e; return (e = t.call(this, n) || this).vQt = i, e } rt(n, t); var i = n.prototype; return i.buildCSSClass = function () { return "theo-secondary-background theo-close-button" }, i.handleClick = function () { this.vQt.hide() }, n }(EG.getComponent("Button")), B$ = "theo-related-grid-tile-content", O$ = "theo-related-grid-tile-image", P$ = "theo-related-grid-tile-title", M$ = "theo-related-grid-tile-duration", L$ = ((N$ = s.createElement("div")).className = "theo-related-grid-tile", N$.innerHTML = '\n        <a class="theo-related-grid-tile-content">\n            <div class="theo-related-grid-tile-image"></div>\n            <span class="theo-related-grid-tile-title theo-primary-border theo-tertiary-background"></span>\n            <span class="theo-related-grid-tile-duration"></span>\n        </a>\n    ', N$); function j$(t, n, i) { var e = L$.cloneNode(!0), r = e.querySelector("." + B$); Rr(i, ["source"]) ? (r.style.cursor = "pointer", r.addEventListener("click", function () { t.source = i.source, n.Z_() })) : U(i.link) && r.setAttribute("href", i.link); var s = e.querySelector("." + O$); s.style.backgroundImage = 'url("' + on(i.image) + '")', s.removeAttribute("id"); var u = e.querySelector("." + P$); i.title ? (XH(u, i.title), u.removeAttribute("id")) : Le(u); var o = e.querySelector("." + M$); return i.duration ? (XH(o, i.duration), o.removeAttribute("id")) : Le(o), e } var F$ = [15, 12, 9, 8, 6, 4, 3, 2, 1]; var U$ = 12, V$ = 16, H$ = 9, z$ = function () { function t(t, n, i, e, r) { var u = this; this.lQt = t, this.dQt = n, this.gQt = i, this.oH = e, this._Qt = U$, this.wQt = function (t) { u.yQt.style.width = t.qw + "px" }, this.pQt = s.createElement("div"), this.pLt = new x$(this.dQt, { hide: function () { u.gQt.Z_() } }), this.yQt = this.mQt(), this.kQt = new q$(r), this.kQt.mo("TW", this.wQt), this.bQt = new HH(this.yQt, this.kQt), this.AQt(U$) } var n = t.prototype; return n.TQt = function () { this.pLt.focus() }, n.SQt = function (t) { this.EQt(), function (t) { if (t.length) for (var n = 0; n < F$.length; n++) { var i = F$[n]; if (t.length >= i) { t.length = i; break } } }(t), this.AQt(t.length); for (var n = 0; n < t.length; n++) { var i = t[n], e = j$(this.lQt.vf, this.gQt, i); this.yQt.appendChild(e) } }, n.EQt = function () { this.yQt.innerHTML = "" }, n.mQt = function () { var t = s.createElement("div"); t.className = "theo-overlay-panel"; var n = s.createElement("div"); return n.className = "theo-related-grid", this.pQt.className = "theo-related", this.pLt.controlText(this.dQt.localize("Close Related Content")), this.oH.appendChild(this.pQt), this.pQt.appendChild(t), t.appendChild(this.pLt.el()), t.appendChild(n), n }, n.AQt = function (t) { ze(this.yQt, this.IQt), this._Qt = t, He(this.yQt, this.IQt) }, n.Af = function () { Le(this.pQt), this.bQt.Af(), this.kQt.Af() }, T(t, [{ key: "IQt", get: function () { return "theo-" + this._Qt + "-item-grid" } }]), t }(), q$ = function (t) { function n(n) { var i; return (i = t.call(this) || this).RQt = n, i.CQt = function (t) { var n = t.qw; t.qw / V$ * H$ > t.Ww && (n = t.Ww / H$ * V$); i.NQt = n, i._o(new CS(i.xW, t.Ww)) }, i.RQt.mo("TW", i.CQt), i } return rt(n, t), n.prototype.Af = function () { this.To(), this.RQt.So("TW", this.CQt) }, T(n, [{ key: "xW", get: function () { return this.NQt || 0 } }, { key: "DW", get: function () { return this.RQt.DW } }]), n }(hr), G$ = function (t) { function n() { return t.call(this, "show") || this } return rt(n, t), n }(Mn), W$ = function (t) { function n() { return t.call(this, "hide") || this } return rt(n, t), n }(Mn), X$ = "theo-related-available", $$ = function (t) { function n(n, i, e, r) { var s; return (s = t.call(this) || this).Ont = !1, s.DQt = !1, s.xQt = function (t) { var n = s.aQt; s.BQt.SQt(n), n.length ? (s.OQt(X$), s.PQt.show()) : (s.MQt(X$), s.PQt.hide()), s._o(t) }, s.LQt = i, s.LQt.mo("relatedchange", s.xQt), s.dQt = e, s.BQt = new z$(n, s.dQt, st(s), e.contentEl(), r), s.PQt = new D$(e, st(s), {}), s } rt(n, t); var i = n.prototype; return i.B_ = function () { var t = this.Ont; this.Ont = !0, this.OQt("theo-related-showing"), this.BQt.TQt(), this.dQt.paused() ? this.DQt = !0 : this.dQt.pause(), t !== this.Ont && this._o(new G$) }, i.Z_ = function () { var t = this.Ont; this.Ont = !1, this.MQt("theo-related-showing"), this.PQt.focus(), this.DQt || this.dQt.play(), this.DQt = !1, t !== this.Ont && this._o(new W$) }, i.OQt = function (t) { this.dQt.el().classList.add(t) }, i.MQt = function (t) { this.dQt.el().classList.remove(t) }, i.Af = function () { this.To(), this.BQt.Af() }, T(n, [{ key: "vf", get: function () { var t, n, i; return this.cf || (this.cf = (t = this, i = { get sources() { return t.aQt }, set sources(n) { t.aQt = n }, get showing() { return t.fQt }, show: function () { t.B_() }, hide: function () { t.Z_() }, addEventListener: function (t, i) { n.mo(t, i) }, removeEventListener: function (t, i) { n.So(t, i) } }, (n = new vu(i, !0)).Pf(t), i)), this.cf } }, { key: "aQt", get: function () { return this.LQt.aQt }, set: function (t) { this.LQt.aQt = t } }, { key: "fQt", get: function () { return this.Ont } }]), n }(ar); GE(function (t) { return function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, i, e) || this).jQt = new $$(st(r), r.hQt, r.Hqt, r.x_), r } rt(n, t); var i = n.prototype; return i.lf = function () { var n = this.jQt; return Sr(t.prototype.lf.call(this), { get related() { return n.vf } }) }, i.Af = function () { this.jQt.Af(), t.prototype.Af.call(this) }, n }(t) }, jE.$Q); var Q$, Y$ = function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, e) || this).tVt = n.el(), r.FQt = i, r.player().topControlBar.addChild(st(r)), r.hide(), r.controlText(r.localize("Share Video")), r.E$t = new HX(st(r), r.controlText()), r } rt(n, t); var i = n.prototype; return i.buildCSSClass = function () { return "vjs-icon-share theo-social-button " + t.prototype.buildCSSClass.call(this) }, i.handleClick = function () { this.FQt.showing ? this.FQt.hide() : this.FQt.show() }, i.dispose = function () { this.player().topControlBar.removeChild(this), t.prototype.dispose.call(this) }, n }(EG.getComponent("Button")); function Z$(t, n, i) { switch (n) { case Q$.UQt: return function (t, n) { var i = s.createElement("a"); i.className = "theo-social-iconurl", i.title = t.label, i.target = "YMt", i.href = n; var e = s.createElement("img"); return e.src = t.icon, e.alt = t.label, e.width = 25, e.height = 25, i.appendChild(e), i }(t, i); case Q$.dT: return function (t) { var n = s.createElement("div"); if (n.className = "theo-social-text", t.label) { var i = s.createElement("h5"); i.className = "theo-primary-background theo-social-label", XH(i, t.label), n.appendChild(i) } var e = s.createElement("p"); return e.className = "theo-social-content-container theo-tertiary-background", e.tabIndex = 0, XH(e, t.text), n.appendChild(e), n }(t); case Q$.VQt: return function (t, n) { var i = s.createElement("div"); if (i.className = "theo-social-texturl", t.label) { var e = s.createElement("h5"); e.className = "theo-primary-background theo-social-label", XH(e, t.label), i.appendChild(e) } var r = s.createElement("div"); r.className = "theo-social-content-container theo-tertiary-background"; var u = s.createElement("a"); return u.target = "YMt", u.href = n, XH(u, n), r.appendChild(u), i.appendChild(r), i }(t, i) } } !function (t) { t.UQt = "iconurl", t.dT = "text", t.VQt = "texturl" }(Q$ || (Q$ = {})); var K$ = "<URL>"; var J$ = function () { function t(t, n, i, e) { this.m_ = t, this.gQt = n, this.oH = i, this.fMt = e, this.mQt(), this.yMt = new HH(this.pQt, this.fMt) } var n = t.prototype; return n.HQt = function (t) { this.EQt(); for (var n = 0; n < t.length; n++) { var i = t[n]; this.zQt(i) } }, n.TQt = function () { this.pLt.focus() }, n.zQt = function (t) { var n, i, e = (n = t, i = this.gQt.Mk, n.src ? Jt(n.src, K$) ? n.src.replace(K$, i) : n.src : i), r = function (t) { if (t) return t.icon ? Q$.UQt : t.text ? Q$.dT : Q$.VQt }(t), s = Z$(t, r, e); r === Q$.UQt ? this.qQt.appendChild(s) : this.GQt.appendChild(s) }, n.EQt = function () { this.qQt.innerHTML = "", this.GQt.innerHTML = "" }, n.mQt = function () { var t = s.createElement("div"); t.className = "theo-overlay-panel", this.pLt = new x$(this.m_, this.gQt.vf), this.pLt.controlText(this.m_.localize("Close Share")), this.BQt = s.createElement("div"), this.BQt.className = "theo-social-container", this.pQt = s.createElement("div"), this.pQt.className = "theo-social", this.qQt = s.createElement("div"), this.qQt.className = "theo-social-icon-container", this.GQt = s.createElement("div"), this.GQt.className = "theo-social-text-container", this.oH.appendChild(this.pQt), this.pQt.appendChild(t), this.BQt.appendChild(this.qQt), this.BQt.appendChild(this.GQt), t.appendChild(this.pLt.el()), t.appendChild(this.BQt) }, n.Af = function () { Le(this.pQt), this.yMt.Af() }, T(t, [{ key: "oE", get: function () { return this.pQt } }]), t }(), tQ = function () { function t(t, n) { var i; this.Ont = !1, this.Fo = [], this.DQt = !1, this.cf = (i = this, { get showing() { return i.fQt }, get items() { return i.kFt }, set items(t) { i.kFt = t }, get url() { return i.Mk }, set url(t) { i.Mk = t }, show: function () { i.B_() }, hide: function () { i.Z_() } }), this.WQt = t, this.BQt = new J$(this.WQt, this, t.contentEl(), n), this.PQt = new Y$(t, this.cf, {}) } var n = t.prototype; return n.B_ = function () { this.Ont = !0, this.OQt("theo-social-showing"), this.BQt.TQt(), this.WQt.paused() ? this.DQt = !0 : this.WQt.pause() }, n.Z_ = function () { this.Ont = !1, this.MQt("theo-social-showing"), this.PQt.focus(), this.DQt || this.WQt.play(), this.DQt = !1 }, n.OQt = function (t) { this.WQt.el().classList.add(t) }, n.MQt = function (t) { this.WQt.el().classList.remove(t) }, n.Af = function () { this.PQt.dispose(), this.BQt.Af() }, T(t, [{ key: "vf", get: function () { return this.cf } }, { key: "fQt", get: function () { return this.Ont } }, { key: "kFt", get: function () { return this.Fo }, set: function (t) { this.Fo = t, this.BQt.HQt(t), t.length ? (this.OQt("theo-social-available"), this.PQt.show()) : (this.MQt("theo-social-available"), this.PQt.hide()) } }, { key: "Mk", get: function () { return this.uO || function () { for (var t = Ot, n = t.location.href; t !== r.top;) { t = t.parent; try { n = t.location.href } catch (t) { } } return n }() }, set: function (t) { this.uO = t } }]), t }(); GE(function (t) { return function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, i, e) || this).FQt = new tQ(r.Hqt, r.x_), r } return rt(n, t), n.prototype.lf = function () { var n = this.FQt; return Sr(t.prototype.lf.call(this), { get social() { return n.vf } }) }, n }(t) }, jE.$Q); var nQ = function (t) { function n() { return t.apply(this, arguments) || this } rt(n, t); var i = n.prototype; return i.createEl = function () { var n = t.prototype.createEl.call(this); return n.className = this.buildCSSClass(), n }, i.buildCSSClass = function () { return "theo-upnext-container " + t.prototype.buildCSSClass.call(this) }, n }(EG.getComponent("Component")); nQ.prototype.aVt = Et(Et({}, nQ.prototype.aVt), { children: [] }), EG.registerComponent("upNextContainer", nQ); var iQ = function (t) { function n(n, i, e, r) { var s; return (s = t.call(this, n, e) || this).XQt = i, s.yMt = new HH(s.el(), r), s.Ont = !1, s.Wo = 10, s } rt(n, t); var i = n.prototype; return i.z_ = function (t) { this.EQt(), this.$Qt(t) }, i.$Qt = function (t) { var n = this; if (t && t.link && t.image) { var i = s.createElement("div"); He(i, "theo-upnext-bar-content"), i.onclick = function () { n.XQt.next() }, i.onkeypress = function (t) { 13 === t.which && n.XQt.next() }; var e = s.createElement("div"); if (e.style.backgroundImage = 'url("' + on(t.image) + '")', He(e, "theo-upnext-bar-image"), i.appendChild(e), t.duration) { var r = s.createElement("span"); He(r, "theo-upnext-bar-duration"), r.innerHTML = "" + t.duration, e.appendChild(r) } var u = s.createElement("div"); He(u, "theo-upnext-bar-text"); var o = s.createElement("div"); if (He(o, "theo-upnext-bar-upnext"), XH(o, this.player().localize("Up Next")), u.appendChild(o), t.title) { var a = s.createElement("div"); He(a, "theo-upnext-bar-title"), XH(a, t.title), u.appendChild(a) } i.appendChild(u), this.QQt = i, this.el().appendChild(this.QQt) } }, i.EQt = function () { this.el().innerHTML = "" }, i.createEl = function () { return t.prototype.createEl.call(this, "div", { className: this.buildCSSClass() }) }, i.buildCSSClass = function () { return "theo-upnext-bar " + t.prototype.buildCSSClass.call(this) }, i.dispose = function () { this.yMt.Af(), t.prototype.dispose.call(this) }, T(n, [{ key: "fQt", get: function () { return this.Ont }, set: function (t) { this.Ont = t, this.QQt && (this.QQt.tabIndex = t ? 0 : -1) } }, { key: "Yo", get: function () { return this.Wo }, set: function (t) { this.Wo = t } }]), n }(EG.getComponent("Component")), eQ = function (t) { function n(n, i, e, r) { var s; return (s = t.call(this, n, e) || this).YQt = 0, s.XQt = i, s.yMt = new HH(s.el(), r), s.Ont = !1, s.ZQt = 10, s.KQt = !0, s } rt(n, t); var i = n.prototype; return i.z_ = function (t) { this.EQt(), this.JQt(t) }, i.JQt = function (t) { var n = this; if (t && t.link && t.image) { var i = s.createElement("div"); i.className = "theo-upnext-panel-content"; var e = s.createElement("div"); e.style.backgroundImage = 'url("' + on(t.image) + '")', e.className = "theo-upnext-panel-image", i.appendChild(e); var r = s.createElement("div"); r.className = "theo-upnext-panel-text"; var u = s.createElement("div"); if (u.className = "theo-upnext-panel-upnext", XH(u, this.player().localize("Up Next")), r.appendChild(u), t.title) { var o = s.createElement("div"); o.className = "theo-upnext-panel-title", XH(o, t.title), r.appendChild(o) } i.appendChild(r), this.tYt = s.createElement("div"), this.tYt.className = "theo-upnext-panel-autoplay", this.tYt.innerHTML = KX; var a = this.tYt.querySelector("svg"); a.onclick = function () { n.XQt.next() }, a.tabIndex = 0, a.onkeypress = function (t) { 13 === t.which && n.XQt.next() }, this.nYt = this.tYt.querySelector(".theo-play-svg-circle"), i.appendChild(this.tYt), this.el().appendChild(i) } }, i.EQt = function () { this.el().innerHTML = "" }, i.createEl = function () { return t.prototype.createEl.call(this, "div", { className: this.buildCSSClass() }) }, i.buildCSSClass = function () { return "theo-upnext-panel " + t.prototype.buildCSSClass.call(this) }, i.dispose = function () { this.yMt.Af(), t.prototype.dispose.call(this) }, T(n, [{ key: "fQt", get: function () { return this.Ont }, set: function (t) { this.Ont = t } }, { key: "iYt", get: function () { return this.ZQt }, set: function (t) { this.ZQt = t } }, { key: "eYt", get: function () { return this.KQt }, set: function (t) { this.KQt = t } }, { key: "rYt", get: function () { return this.YQt }, set: function (t) { this.YQt = t, this.nYt.style.strokeDashoffset = "" + _.round(1e5 * t) / 1e5 } }]), n }(EG.getComponent("Component")), rQ = 2 * _.PI * 73, sQ = function () { function t(n, i, e) { var r, s = this; this.Bnt = void 0, this.sYt = 10, this.uYt = 1, this.HN = void 0, this.oYt = !0, this.aYt = function () { s.uYt !== s.sYt ? (s.BQt.rYt -= rQ / s.sYt, s.uYt += 1) : s.Bg() }, this.hYt = function () { s.BQt.fQt || s.cYt() }, this.QU = function () { var n = s.WQt.currentTime(), i = s.WQt.duration(), e = i ? t.fYt(s.vYt.Yo, i) : void 0; void 0 !== e && s.lYt(n, e), s.BQt.eYt && s.dYt(n, i) }, this.cf = (r = this, { get source() { return r.UD }, set source(t) { r.UD = t }, get bar() { return r.gYt }, get panel() { return r._Yt }, next: function () { r.Bg() } }), this.vYt = new iQ(n, this.cf, {}, i), this.BQt = new eQ(n, this.cf, {}, i), this.wYt = function (t, n) { return { get showing() { return n.fQt }, get offset() { return n.Yo }, set offset(t) { n.Yo = t }, show: function () { t.yYt() }, hide: function () { t.pYt() } } }(this, this.vYt), this.mYt = function (t, n) { return { get showing() { return n.fQt }, get countdownDuration() { return n.iYt }, set countdownDuration(t) { n.iYt = t }, get showUpNextPanel() { return n.eYt }, set showUpNextPanel(t) { n.eYt = t }, show: function () { t.cYt() }, hide: function () { t.kYt() } } }(this, this.BQt), this.WQt = n, this.sC = e, n.getChild("upNextContainer").addChild(this.vYt, {}), n.getChild("upNextContainer").addChild(this.BQt, {}) } var n = t.prototype; return n.cYt = function () { this.BQt.iYt ? this.sYt = Br(this.BQt.iYt) : 0 === this.BQt.iYt ? this.sYt = 0 : this.sYt = 10, 0 !== this.sYt ? (isFinite(this.sYt) && (this.oYt = !0), this.BQt.fQt = !0, this.OQt("theo-upnext-panel-showing"), this.oYt && (this.BQt.rYt = rQ - rQ / this.sYt, this.HN = c(this.aYt, 1e3))) : this.Bg() }, n.kYt = function () { this.BQt.fQt = !1, this.MQt("theo-upnext-panel-showing"), this.oYt && (f(this.HN), this.uYt = 1, this.BQt.rYt = rQ) }, n.yYt = function () { this.vYt.fQt = !0, this.OQt("theo-upnext-bar-showing") }, n.pYt = function () { this.vYt.fQt = !1, this.MQt("theo-upnext-bar-showing") }, n.Bg = function () { f(this.HN), this.UD && (r.location.href = this.UD.link) }, n.OQt = function (t) { this.WQt.el().classList.add(t) }, n.MQt = function (t) { this.WQt.el().classList.remove(t) }, n.lYt = function (t, n) { var i = t >= n && !(this.sC && this.sC.lPt); this.vYt.fQt && !i ? this.pYt() : !this.vYt.fQt && i && this.yYt() }, n.dYt = function (t, n) { this.BQt.fQt && t < n && !this.WQt.ended() && this.kYt() }, t.fYt = function (t, n) { var i = Br(t); if (!p(i)) return n - i; var e = ("" + t).match(/^([1-9]?\d|100)%$/); return e ? n * (1 - w(e[1], 10) / 100) : void 0 }, n.Af = function () { this.HN && f(this.HN), this.WQt.getChild("upNextContainer").removeChild(this.BQt), this.WQt.getChild("upNextContainer").removeChild(this.vYt), this.BQt.dispose(), this.vYt.dispose() }, T(t, [{ key: "vf", get: function () { return this.cf } }, { key: "gYt", get: function () { return this.wYt } }, { key: "_Yt", get: function () { return this.mYt } }, { key: "UD", get: function () { return this.Bnt }, set: function (t) { this.Bnt = t, this.BQt.z_(t), this.vYt.z_(t), this.WQt.off("timeupdate", this.QU), this.WQt.off("ended", this.hYt), t && (this.WQt.on("timeupdate", this.QU), this.WQt.on("ended", this.hYt)) } }]), t }(); GE(function (t) { return function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, i, e) || this).bYt = new sQ(r.Hqt, r.x_, r.cC), r } rt(n, t); var i = n.prototype; return i.lf = function () { var n = this.bYt; return Sr(t.prototype.lf.call(this), { get upnext() { return n.vf } }) }, i.Af = function () { this.bYt.Af(), t.prototype.Af.call(this) }, n }(t) }, jE.$Q); var uQ = function (t) { function n(n, i) { var e; return (e = t.call(this, n, i) || this).AYt = 0, e.on(e.player(), "contextmenu", e.TYt), e.el().addEventListener("mousedown", oQ, !0), e.on(s, "mousedown", e.SYt), e.on("mouseout", e.EYt), e.on("mouseover", e.IYt), e.SYt(), e } rt(n, t); var i = n.prototype; return i.createEl = function () { var n = t.prototype.createEl.call(this, "ul", { className: "theo-context-menu" }), i = s.createElement("li"), e = s.createElement("a"), r = s.createElement("div"); e.className = "theo-context-menu-a", i.appendChild(e), r.className = "theo-context-menu-logo", r.innerHTML = '<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t width="507.262px" height="399.16px" viewBox="0 0.1 507.262 399.16" enable-background="new 0 0.1 507.262 399.16"\n\t xml:space="preserve" class=\'theo-context-menu-logo-svg\'>\n\t<g transform="matrix(1.90897, 0, 0, 1.90897, 212.4, 144.6)">\n\t\t<path fill="#FFFFFF" d="M-38.416-53.802C-53.351-38.867-60.82-20.814-60.82,0.353c0,21.253,7.466,39.392,22.404,54.413\n\t\t\tc6.83,6.658,13.827,11.778,20.996,15.363c5.122,2.561,10.583,4.397,16.388,5.507v1.024h-78.481\n\t\t\tc-21.168,0-31.752-10.584-31.752-31.752v-88.724c0-21.252,10.584-31.879,31.752-31.879h79.377v0.896\n\t\t\tc-6.145,1.196-11.95,3.116-17.411,5.762C-24.632-65.538-31.586-60.46-38.416-53.802"/>\n\t</g>\n\t<g transform="matrix(0.535073, 0, 0, 0.535073, 242.35, 104.7)">\n\t\t<path fill="#FFFFFF" d="M188.354,104.104c-32.941,23.472-75.492,49.679-127.641,78.61c-50.275,28.254-94.358,50.44-132.254,66.572l-41.989,15.616\n\t\t\tc-2.645-11.348-5.122-28.17-7.426-50.44c-5.205-44.383-7.809-93.375-7.809-146.975c0-49.079,3.538-94.947,10.622-137.631\n\t\t\tl10.249-49.034l44.551,14.978C-24.762-88.838,17.06-67.03,62.124-38.777c47.705,29.871,88.638,58.294,122.773,85.266\n\t\t\tc17.061,13.571,29.351,24.028,36.862,31.367L188.354,104.104"/>\n\t</g>\n\t<g transform="matrix(1.91028, 0, 0, 1.91028, 327.15, 144.6)">\n\t\t<path fill="#FFFFFF" d="M94.286-43.816v88.723c0,21.168-10.583,31.751-31.751,31.751h-80.018v-1.025\n\t\t\tc14.683-2.816,27.527-9.77,38.537-20.867c14.936-15.024,22.405-33.16,22.405-54.413c0-21.168-7.467-39.22-22.405-54.156\n\t\t\tC9.871-64.985-3.188-71.939-18.123-74.671v-1.024h80.658C83.702-75.696,94.286-65.069,94.286-43.816"/>\n\t</g>\n</svg>\n', e.appendChild(r); var u = s.createElement("div"); return u.className = "theo-context-version", XH(u, "Powered by THEOplayer 2020.3.1"), e.appendChild(u), e.href = "https://www.theoplayer.com?utm_campaign=player_referral&utm_source=context_menu", e.target = "YMt", n.appendChild(i), n }, i.TYt = function (t) { t.preventDefault(), this.show(), this.el().style.left = "0", this.el().style.top = "0"; var n = this.player().contentEl(), i = n.getClientRects(), e = i.length > 0 && i[0], r = t.clientX - n.getBoundingClientRect().left, s = y(getComputedStyle(this.el()).fontSize); GH(this.el(), r, e, s); var u = t.clientY - n.getBoundingClientRect().top; !function (t, n, i, e) { void 0 === e && (e = 0), WH(t, n, "top", "bottom", i, e) }(this.el(), u, e, s), this.EYt() }, i.SYt = function () { this.hide(), this.clearTimeout(this.AYt) }, i.EYt = function () { this.AYt = this.setTimeout(this.SYt, 4e3) }, i.IYt = function () { this.clearTimeout(this.AYt) }, i.dispose = function () { this.SYt(), this.off(this.player(), "contextmenu", this.TYt), this.el().removeEventListener("mousedown", oQ, !0), this.off(s, "mousedown", this.SYt), this.off("mouseout", this.EYt), this.off("mouseover", this.IYt), t.prototype.dispose.call(this) }, n }(EG.getComponent("Component")); function oQ(t) { t.stopPropagation() } GE(function (t) { return function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, i, e) || this).RYt = new uQ(r.Hqt, {}), r.Hqt.addChild(r.RYt), r } return rt(n, t), n.prototype.Af = function () { this.Hqt.removeChild(this.RYt), this.RYt.dispose(), t.prototype.Af.call(this) }, n }(t) }, jE.$Q); var aQ = { Default: "", "Monospaced Serif": QC.b1, "Proportional Serif": QC.A1, "Monospaced Sans-Serif": QC.T1, "Proportional Sans-Serif": QC.S1 }, hQ = { White: "#ffffff", Yellow: "#ffff00", Green: "#00ff00", Cyan: "#00ffff", Blue: "#0000ff", Magenta: "#ff00ff", Red: "#ff0000", Black: "#000000" }; function cQ(t) { return { label: t + "%", value: t } } function fQ(t) { return g.keys(t).map(function (n) { return { label: n, value: t[n] } }) } var vQ = [50, 75, 100, 150, 200].map(function (t) { return { label: t + "%", value: t + "%" } }), lQ = [25, 50, 75, 100].map(cQ), dQ = [0, 25, 50, 75, 100].map(cQ), gQ = fQ(hQ), _Q = fQ(aQ), wQ = fQ({ None: "none", "Drop Shadow": "dropshadow", Raised: "raised", Depressed: "depressed", Uniform: "uniform" }), yQ = 100, pQ = "#000000", mQ = "#FFFFFF", kQ = "#000000", bQ = function (t) { function n(n, i, e, r) { var s; return (s = t.call(this, n.subMenu) || this).CYt = n, s.n$t = r, s.NYt = e.$$t, s.DYt(i), s.WXt = e.xYt, s } rt(n, t); var i = n.prototype; return i.DYt = function (t) { var n = this.n$t.localize(t); XH(this.CYt.subMenu.menuHeader.el(), n); var i = s.createElement("span"); i.className = "theo-settings-control-menu-item-title", XH(i, n); var e = s.createElement("span"); e.className = "theo-primary-color theo-settings-control-menu-item-value", this.BYt = e, He(this.CYt.el(), "theo-subtitle-options-menu-item"), this.CYt.el().appendChild(i), this.CYt.el().appendChild(e) }, i.qXt = function (t) { }, i.OYt = function (t) { this.PYt(this.jXt(t)) }, i.MYt = function () { return this.WXt }, i.UXt = function (t) { this.NYt(t.Yrt) }, i.PYt = function (t) { for (var n = 0, i = this.LXt.menuItems; n < i.length; n++) { i[n].selected(!1) } t ? (t.selected(!0), this.LYt(t.Yrt.label)) : this.LYt(this.n$t.localize("Custom")) }, i.LYt = function (t) { XH(this.BYt, t), this.CYt.parentMenu.xWt() }, i.FXt = function (n) { var i = t.prototype.FXt.call(this, n), e = this.n$t.localize(i.Yrt.label); XH(i.el(), e), He(i.el(), "theo-subtitle-options-menu-item"); var r = this.n$t.localize("Set " + this.LXt.menuHeader.el().textContent + " to " + i.Yrt.label); return i.el().setAttribute("aria-label", r), i }, n }(SX), AQ = function () { function t(n) { var i = this; this.jYt = n, this.FYt = function (t) { i.jYt.I1 = t.value }, this.Jzt = function (t) { i.jYt.R1 = t.value }, this.UYt = function (n) { i.VYt = n, i.jYt.E1 = t.HYt(i.zYt, i.VYt, mQ, yQ) }, this.qYt = function (n) { i.zYt = n, i.jYt.E1 = t.HYt(i.zYt, i.VYt, mQ, yQ) }, this.GYt = function (n) { i.WYt = n, i.jYt.N1 = t.HYt(i.WYt, i.XYt, pQ, yQ) }, this.$Yt = function (n) { i.XYt = n, i.jYt.N1 = t.HYt(i.WYt, i.XYt, pQ, yQ) }, this.QYt = function (n) { i.YYt = n, i.jYt.C1 = t.HYt(i.YYt, i.ZYt, kQ, yQ) }, this.KYt = function (n) { i.ZYt = n, i.jYt.C1 = t.HYt(i.YYt, i.ZYt, kQ, yQ) }, this.JYt = function (t) { i.jYt.D1 = t.value } } return t.HYt = function (t, n, i, e) { var r, s, u = t && t.value, o = n && n.value; if (void 0 !== u || void 0 !== o) return r = void 0 === o ? e : o, "rgba(" + (s = nN(iN(void 0 === u ? i : u), r / 100)).r_ + ", " + s.g_ + ", " + s.b_ + ", " + s.a_ + ")" }, t }(), TQ = function () { function t(t, n) { var i = this; this.jYt = t, this.tZt = n, this.nZt = function () { var t = i.jYt.I1; i.iZt(t, i.tZt["Font family"]); var n = i.jYt.E1; i.eZt(n, i.tZt["Font color"], i.tZt["Font opacity"]); var e = i.jYt.R1; i.iZt(e, i.tZt["Font size"]); var r = i.jYt.N1; i.eZt(r, i.tZt["Background color"], i.tZt["Background opacity"]); var s = i.jYt.C1; i.eZt(s, i.tZt["Window color"], i.tZt["Window opacity"]); var u = i.jYt.D1; i.iZt(u, i.tZt["Character edge style"]) }, this.jYt.mo("mf", this.nZt), this.nZt() } var n = t.prototype; return n.iZt = function (t, n) { n.OYt(this.rZt(t, n.MYt())) }, n.rZt = function (t, n) { var i = n.filter(function (n) { return n.value == t }); return i && i.length ? i[0] : void 0 }, n.eZt = function (t, n, i) { var e, r, s; if (void 0 === t) e = this.rZt(void 0, n.MYt()), r = this.rZt(void 0, i.MYt()); else if (t) { var u = function (t) { var n = rN(t); n || (n = rN(t.slice(0, t.length - 1).replace("rgb", "rgba") + "," + yQ / 100 + ")")); n || (n = nN(iN(t), yQ / 100)); if (!n) { var i = t.charAt(0).toUpperCase() + t.toLowerCase().slice(1); n = nN(iN(hQ[i]), yQ / 100) } return n }(t); if (u) { var o = "#" + eN((s = u).r_) + eN(s.g_) + eN(s.b_), a = "" + 100 * u.a_; e = this.rZt(o, n.MYt()), r = this.rZt(a, i.MYt()) } } n.OYt(e), i.OYt(r) }, t }(); var SQ = function (t) { function n(n, i, e, r) { var s; return (s = t.call(this, n.subMenu) || this).t$t = n, s.j_ = i, s.n$t = r, s.tZt = {}, s.sZt = function () { !!wn(s.j_.Tf.map(function (t) { return t.Vf }), Fg) ? s.t$t.show() : s.t$t.hide() }, s.uZt = new AQ(e), s.oZt = s.aZt(), s.WXt = g.keys(s.oZt), s.hZt(), s.cZt = new TQ(e, s.tZt), s } rt(n, t); var i = n.prototype; return i.aZt = function () { return { "Font family": { xYt: EQ(_Q), $$t: this.uZt.FYt }, "Font color": { xYt: EQ(gQ), $$t: this.uZt.qYt }, "Font opacity": { xYt: EQ(lQ), $$t: this.uZt.UYt }, "Font size": { xYt: EQ(vQ), $$t: this.uZt.Jzt }, "Background color": { xYt: EQ(gQ), $$t: this.uZt.GYt }, "Background opacity": { xYt: EQ(dQ), $$t: this.uZt.$Yt }, "Window color": { xYt: EQ(gQ), $$t: this.uZt.QYt }, "Window opacity": { xYt: EQ(dQ), $$t: this.uZt.KYt }, "Character edge style": { xYt: EQ(wQ), $$t: this.uZt.JYt } } }, i.hZt = function () { XH(this.LXt.menuHeader.el(), this.n$t.localize("Subtitle Options")); var t = s.createElement("span"); t.className = "theo-settings-control-menu-item-title", XH(t, this.n$t.localize("Subtitle")); var n = s.createElement("span"); n.className = "theo-primary-color theo-settings-control-menu-item-value", XH(n, this.n$t.localize("Options")), this.t$t.el().appendChild(t), this.t$t.el().appendChild(n), this.t$t.el().setAttribute("aria-label", this.n$t.localize("Open the subtitle options menu")), this.j_.mo(["_f", "gf"], this.sZt), this.sZt() }, i.FXt = function (t) { var n = this.LXt.addSubMenuItem(); return this.tZt[t] = new bQ(n, t, this.oZt[t], this.n$t), null }, i.qXt = function (t) { }, i.UXt = function (t) { }, n }(SX); function EQ(t) { for (var n = [{ label: "Default", value: void 0 }], i = 0; i < t.length; i++) { var e = t[i]; "Default" != e.label && n.push(e) } return n } GE(function (t) { return function (t) { function n(n, i, e) { var r; return (r = t.call(this, n, i, e) || this).fZt = r.Hqt.controlBar.getChild("SettingsButton").menu, r.vZt = r.fZt.addSubMenuItem({ name: "TextTrackOptionsMenuItem" }), new SQ(r.vZt, r.Ag, r.Sqt, r.Hqt), r } return rt(n, t), n.prototype.Af = function () { this.fZt.removeMenuItem(this.vZt), t.prototype.Af.call(this) }, n }(t) }, jE.$Q), n.ChromelessPlayer = bI, n.Player = function t(n, i) { var e = function (t) { var n = t = ql(t); return n.ui = n.ui || {}, void 0 !== t.width && void 0 === n.ui.width && (n.ui.width = t.width), void 0 !== t.height && void 0 === n.ui.height && (n.ui.height = t.height), void 0 !== t.fluid && void 0 === n.ui.fluid && (n.ui.fluid = t.fluid), n.pip = jl(n.pip), n }(i), r = s.createElement("div"); r.style.position = "absolute", n.appendChild(r); var u = new (y$())(n, r, e), o = u.vf; return u.VQ(), u.TY(fI), g.defineProperty(o, "constructor", { value: t }), o = Tr(o), QE(u), function (t) { for (var n = 0; n < $E.length; n++)(0, $E[n])(t) }(u), o }, n.cache = kG, n.cast = NH, n.features = ["dash", "hls", "chromecast", "ads", "airplay", "cache", "visibility", "texttrackrendering", "ui", "relatedcontent", "social", "upnext", "contextmenu", "texttrackstyle-ui"], n.playerSuiteVersion = "2020.3.1", n.players = AI, n.version = "2.74.0", n.videojs = EG, g.defineProperty(n, "__esModule", { value: !0 })})}("undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : this)
